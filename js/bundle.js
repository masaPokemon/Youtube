!function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="./",i(i.s=454)}([function(t,e){function i(t,e,i){var n=i?t[e]:Object.getOwnPropertyDescriptor(t,e);return!i&&n.value&&"object"==typeof n.value&&(n=n.value),!(!n||!
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
function(t){return!!t.get&&"function"==typeof t.get||!!t.set&&"function"==typeof t.set}(n))&&(void 0===n.enumerable&&(n.enumerable=!0),void 0===n.configurable&&(n.configurable=!0),n)}function n(t,e){var i=Object.getOwnPropertyDescriptor(t,e);return!!i&&(i.value&&"object"==typeof i.value&&(i=i.value),!1===i.configurable)}function r(t,e,r,s){for(var a in e)if(e.hasOwnProperty(a)){var h=i(e,a,r);if(!1!==h){if(n((s||t).prototype,a)){if(o.ignoreFinals)continue;throw new Error("cannot override final property '"+a+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(t.prototype,a,h)}else t.prototype[a]=e[a]}}function s(t,e){if(e){Array.isArray(e)||(e=[e]);for(var i=0;i<e.length;i++)r(t,e[i].prototype||e[i])}}function o(t){var e,i;if(t||(t={}),t.initialize){if("function"!=typeof t.initialize)throw new Error("initialize must be a function");e=t.initialize,delete t.initialize}else if(t.Extends){var n=t.Extends;e=function(){n.apply(this,arguments)}}else e=function(){};t.Extends?(e.prototype=Object.create(t.Extends.prototype),e.prototype.constructor=e,i=t.Extends,delete t.Extends):e.prototype.constructor=e;var o=null;return t.Mixins&&(o=t.Mixins,delete t.Mixins),s(e,o),r(e,t,!0,i),e}o.extend=r,o.mixin=s,o.ignoreFinals=!1,t.exports=o},function(t,e){t.exports=function(t,e,i){var n=typeof t;return t&&"number"!==n&&"string"!==n&&t.hasOwnProperty(e)&&void 0!==t[e]?t[e]:i}},function(t,e){t.exports=function(){}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=new(i(0))({initialize:function(t,e){this.x=0,this.y=0,"object"==typeof t?(this.x=t.x||0,this.y=t.y||0):(void 0===e&&(e=t),this.x=t||0,this.y=e||0)},clone:function(){return new n(this.x,this.y)},copy:function(t){return this.x=t.x||0,this.y=t.y||0,this},setFromObject:function(t){return this.x=t.x||0,this.y=t.y||0,this},set:function(t,e){return void 0===e&&(e=t),this.x=t,this.y=e,this},setTo:function(t,e){return this.set(t,e)},setToPolar:function(t,e){return null==e&&(e=1),this.x=Math.cos(t)*e,this.y=Math.sin(t)*e,this},equals:function(t){return this.x===t.x&&this.y===t.y},angle:function(){var t=Math.atan2(this.y,this.x);return t<0&&(t+=2*Math.PI),t},add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.x-=t.x,this.y-=t.y,this},multiply:function(t){return this.x*=t.x,this.y*=t.y,this},scale:function(t){return isFinite(t)?(this.x*=t,this.y*=t):(this.x=0,this.y=0),this},divide:function(t){return this.x/=t.x,this.y/=t.y,this},negate:function(){return this.x=-this.x,this.y=-this.y,this},distance:function(t){var e=t.x-this.x,i=t.y-this.y;return Math.sqrt(e*e+i*i)},distanceSq:function(t){var e=t.x-this.x,i=t.y-this.y;return e*e+i*i},length:function(){var t=this.x,e=this.y;return Math.sqrt(t*t+e*e)},lengthSq:function(){var t=this.x,e=this.y;return t*t+e*e},normalize:function(){var t=this.x,e=this.y,i=t*t+e*e;return i>0&&(i=1/Math.sqrt(i),this.x=t*i,this.y=e*i),this},normalizeRightHand:function(){var t=this.x;return this.x=-1*this.y,this.y=t,this},dot:function(t){return this.x*t.x+this.y*t.y},cross:function(t){return this.x*t.y-this.y*t.x},lerp:function(t,e){void 0===e&&(e=0);var i=this.x,n=this.y;return this.x=i+e*(t.x-i),this.y=n+e*(t.y-n),this},transformMat3:function(t){var e=this.x,i=this.y,n=t.val;return this.x=n[0]*e+n[3]*i+n[6],this.y=n[1]*e+n[4]*i+n[7],this},transformMat4:function(t){var e=this.x,i=this.y,n=t.val;return this.x=n[0]*e+n[4]*i+n[12],this.y=n[1]*e+n[5]*i+n[13],this},reset:function(){return this.x=0,this.y=0,this}});n.ZERO=new n,t.exports=n},function(t,e){t.exports=function(t,e,i){if(t&&"number"!=typeof t){if(t.hasOwnProperty(e))return t[e];if(e.indexOf(".")){for(var n=e.split("."),r=t,s=i,o=0;o<n.length;o++){if(!r.hasOwnProperty(n[o])){s=i;break}s=r[n[o]],r=r[n[o]]}return s}return i}return i}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=new(i(0))({initialize:function(t,e){void 0===t&&(t=0),void 0===e&&(e=t),this.x=t,this.y=e},setTo:function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x=t,this.y=e,this}});t.exports=n},function(t,e){t.exports=function(t){if("object"!=typeof t||t.nodeType||t===t.window)return!1;try{if(t.constructor&&!{}.hasOwnProperty.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}return!0}},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i={},n={install:function(t){for(var e in i)t[e]=i[e]},register:function(t,e){i[t]=e},destroy:function(){i={}}};t.exports=n},function(t,e,i){"use strict";var n=Object.prototype.hasOwnProperty,r="~";function s(){}function o(t,e,i){this.fn=t,this.context=e,this.once=i||!1}function a(t,e,i,n,s){if("function"!=typeof i)throw new TypeError("The listener must be a function");var a=new o(i,n||t,s),h=r?r+e:e;return t._events[h]?t._events[h].fn?t._events[h]=[t._events[h],a]:t._events[h].push(a):(t._events[h]=a,t._eventsCount++),t}function h(t,e){0==--t._eventsCount?t._events=new s:delete t._events[e]}function u(){this._events=new s,this._eventsCount=0}Object.create&&(s.prototype=Object.create(null),(new s).__proto__||(r=!1)),u.prototype.eventNames=function(){var t,e,i=[];if(0===this._eventsCount)return i;for(e in t=this._events)n.call(t,e)&&i.push(r?e.slice(1):e);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i},u.prototype.listeners=function(t){var e=r?r+t:t,i=this._events[e];if(!i)return[];if(i.fn)return[i.fn];for(var n=0,s=i.length,o=new Array(s);n<s;n++)o[n]=i[n].fn;return o},u.prototype.listenerCount=function(t){var e=r?r+t:t,i=this._events[e];return i?i.fn?1:i.length:0},u.prototype.emit=function(t,e,i,n,s,o){var a=r?r+t:t;if(!this._events[a])return!1;var h,u,c=this._events[a],l=arguments.length;if(c.fn){switch(c.once&&this.removeListener(t,c.fn,void 0,!0),l){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,e),!0;case 3:return c.fn.call(c.context,e,i),!0;case 4:return c.fn.call(c.context,e,i,n),!0;case 5:return c.fn.call(c.context,e,i,n,s),!0;case 6:return c.fn.call(c.context,e,i,n,s,o),!0}for(u=1,h=new Array(l-1);u<l;u++)h[u-1]=arguments[u];c.fn.apply(c.context,h)}else{var f,d=c.length;for(u=0;u<d;u++)switch(c[u].once&&this.removeListener(t,c[u].fn,void 0,!0),l){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,e);break;case 3:c[u].fn.call(c[u].context,e,i);break;case 4:c[u].fn.call(c[u].context,e,i,n);break;default:if(!h)for(f=1,h=new Array(l-1);f<l;f++)h[f-1]=arguments[f];c[u].fn.apply(c[u].context,h)}}return!0},u.prototype.on=function(t,e,i){return a(this,t,e,i,!1)},u.prototype.once=function(t,e,i){return a(this,t,e,i,!0)},u.prototype.removeListener=function(t,e,i,n){var s=r?r+t:t;if(!this._events[s])return this;if(!e)return h(this,s),this;var o=this._events[s];if(o.fn)o.fn!==e||n&&!o.once||i&&o.context!==i||h(this,s);else{for(var a=0,u=[],c=o.length;a<c;a++)(o[a].fn!==e||n&&!o[a].once||i&&o[a].context!==i)&&u.push(o[a]);u.length?this._events[s]=1===u.length?u[0]:u:h(this,s)}return this},u.prototype.removeAllListeners=function(t){var e;return t?(e=r?r+t:t,this._events[e]&&h(this,e)):(this._events=new s,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,t.exports=u},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(44),s=i(140),o=i(238),a=i(71),h=i(143),u=new n({initialize:function(t,e,i,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=0),this.x=t,this.y=e,this.width=i,this.height=n},contains:function(t,e){return r(this,t,e)},getPoint:function(t,e){return s(this,t,e)},getPoints:function(t,e,i){return o(this,t,e,i)},getRandomPoint:function(t){return h(this,t)},setTo:function(t,e,i,n){return this.x=t,this.y=e,this.width=i,this.height=n,this},setEmpty:function(){return this.setTo(0,0,0,0)},setPosition:function(t,e){return void 0===e&&(e=t),this.x=t,this.y=e,this},setSize:function(t,e){return void 0===e&&(e=t),this.width=t,this.height=e,this},isEmpty:function(){return this.width<=0||this.height<=0},getLineA:function(t){return void 0===t&&(t=new a),t.setTo(this.x,this.y,this.right,this.y),t},getLineB:function(t){return void 0===t&&(t=new a),t.setTo(this.right,this.y,this.right,this.bottom),t},getLineC:function(t){return void 0===t&&(t=new a),t.setTo(this.right,this.bottom,this.x,this.bottom),t},getLineD:function(t){return void 0===t&&(t=new a),t.setTo(this.x,this.bottom,this.x,this.y),t},left:{get:function(){return this.x},set:function(t){t>=this.right?this.width=0:this.width=this.right-t,this.x=t}},right:{get:function(){return this.x+this.width},set:function(t){t<=this.x?this.width=0:this.width=t-this.x}},top:{get:function(){return this.y},set:function(t){t>=this.bottom?this.height=0:this.height=this.bottom-t,this.y=t}},bottom:{get:function(){return this.y+this.height},set:function(t){t<=this.y?this.height=0:this.height=t-this.y}},centerX:{get:function(){return this.x+this.width/2},set:function(t){this.x=t-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(t){this.y=t-this.height/2}}});t.exports=u},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(13),s=new n({initialize:function(t){this.scene=t,this.systems=t.sys,this.displayList,this.updateList,t.sys.events.once("boot",this.boot,this),t.sys.events.on("start",this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.systems.events.once("destroy",this.destroy,this)},start:function(){this.systems.events.once("shutdown",this.shutdown,this)},existing:function(t){return(t.renderCanvas||t.renderWebGL)&&this.displayList.add(t),t.preUpdate&&this.updateList.add(t),t},shutdown:function(){this.systems.events.off("shutdown",this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off("start",this.start,this),this.scene=null,this.systems=null,this.displayList=null,this.updateList=null}});s.register=function(t,e){s.prototype.hasOwnProperty(t)||(s.prototype[t]=e)},r.register("GameObjectFactory",s,"add"),t.exports=s},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(18),r=i(4);t.exports=function(t,e,i){var s=r(t,e,null);if(null===s)return i;if(Array.isArray(s))return n.RND.pick(s);if("object"==typeof s){if(s.hasOwnProperty("randInt"))return n.RND.integerInRange(s.randInt[0],s.randInt[1]);if(s.hasOwnProperty("randFloat"))return n.RND.realInRange(s.randFloat[0],s.randFloat[1])}else if("function"==typeof s)return s(e);return s}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(245),s=i(86),o=i(8),a=new n({Extends:o,initialize:function(t,e){o.call(this),this.scene=t,this.type=e,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,t.sys.queueDepthSort(),t.sys.events.once("shutdown",this.destroy,this)},setActive:function(t){return this.active=t,this},setName:function(t){return this.name=t,this},setDataEnabled:function(){return this.data||(this.data=new s(this)),this},setData:function(t,e){return this.data||(this.data=new s(this)),this.data.set(t,e),this},getData:function(t){return this.data||(this.data=new s(this)),this.data.get(t)},setInteractive:function(t,e,i){return this.scene.sys.input.enable(this,t,e,i),this},disableInteractive:function(){return this.input&&(this.input.enabled=!1),this},removeInteractive:function(){return this.scene.sys.input.clear(this),this.input=void 0,this},update:function(){},toJSON:function(){return r(this)},willRender:function(t){return!(a.RENDER_MASK!==this.renderFlags||this.cameraFilter>0&&this.cameraFilter&t.id)},getIndexList:function(){for(var t=this,e=this.parentContainer,i=[];e&&(i.unshift(e.getIndex(t)),t=e,e.parentContainer);)e=e.parentContainer;return i.unshift(this.scene.sys.displayList.getIndex(t)),i},destroy:function(){if(this.scene&&!this.ignoreDestroy){this.preDestroy&&this.preDestroy.call(this),this.emit("destroy",this);var t=this.scene.sys;t.displayList.remove(this),t.updateList.remove(this),this.input&&(t.input.clear(this),this.input=void 0),this.data&&(this.data.destroy(),this.data=void 0),this.body&&(this.body.destroy(),this.body=void 0),t.queueDepthSort(),this.active=!1,this.visible=!1,this.scene=void 0,this.parentContainer=void 0,this.removeAllListeners()}}});a.RENDER_MASK=15,t.exports=a},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i={},n={},r={register:function(t,e,n,r){void 0===r&&(r=!1),i[t]={plugin:e,mapping:n,custom:r}},registerCustom:function(t,e,i,r){n[t]={plugin:e,mapping:i,data:r}},hasCore:function(t){return i.hasOwnProperty(t)},hasCustom:function(t){return n.hasOwnProperty(t)},getCore:function(t){return i[t]},getCustom:function(t){return n[t]},getCustomClass:function(t){return n.hasOwnProperty(t)?n[t].plugin:null},remove:function(t){i.hasOwnProperty(t)&&delete i[t]},removeCustom:function(t){n.hasOwnProperty(t)&&delete n[t]},destroyCorePlugins:function(){for(var t in i)i.hasOwnProperty(t)&&delete i[t]},destroyCustomPlugins:function(){for(var t in n)n.hasOwnProperty(t)&&delete n[t]}};t.exports=r},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(13),s=new n({initialize:function(t){this.scene=t,this.systems=t.sys,this.displayList,this.updateList,t.sys.events.once("boot",this.boot,this),t.sys.events.on("start",this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.systems.events.once("destroy",this.destroy,this)},start:function(){this.systems.events.once("shutdown",this.shutdown,this)},shutdown:function(){this.systems.events.off("shutdown",this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off("start",this.start,this),this.scene=null,this.systems=null,this.displayList=null,this.updateList=null}});s.register=function(t,e){s.prototype.hasOwnProperty(t)||(s.prototype[t]=e)},r.register("GameObjectCreator",s,"make"),t.exports=s},function(t,e,i){(function(e){var i={};t.exports=i,function(){i._nextId=0,i._seed=0,i._nowStartTime=+new Date,i.extend=function(t,e){var n,r;"boolean"==typeof e?(n=2,r=e):(n=1,r=!0);for(var s=n;s<arguments.length;s++){var o=arguments[s];if(o)for(var a in o)r&&o[a]&&o[a].constructor===Object?t[a]&&t[a].constructor!==Object?t[a]=o[a]:(t[a]=t[a]||{},i.extend(t[a],r,o[a])):t[a]=o[a]}return t},i.clone=function(t,e){return i.extend({},e,t)},i.keys=function(t){if(Object.keys)return Object.keys(t);var e=[];for(var i in t)e.push(i);return e},i.values=function(t){var e=[];if(Object.keys){for(var i=Object.keys(t),n=0;n<i.length;n++)e.push(t[i[n]]);return e}for(var r in t)e.push(t[r]);return e},i.get=function(t,e,i,n){e=e.split(".").slice(i,n);for(var r=0;r<e.length;r+=1)t=t[e[r]];return t},i.set=function(t,e,n,r,s){var o=e.split(".").slice(r,s);return i.get(t,e,0,-1)[o[o.length-1]]=n,n},i.shuffle=function(t){for(var e=t.length-1;e>0;e--){var n=Math.floor(i.random()*(e+1)),r=t[e];t[e]=t[n],t[n]=r}return t},i.choose=function(t){return t[Math.floor(i.random()*t.length)]},i.isElement=function(t){return"undefined"!=typeof HTMLElement?t instanceof HTMLElement:!!(t&&t.nodeType&&t.nodeName)},i.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)},i.isFunction=function(t){return"function"==typeof t},i.isPlainObject=function(t){return"object"==typeof t&&t.constructor===Object},i.isString=function(t){return"[object String]"===toString.call(t)},i.clamp=function(t,e,i){return t<e?e:t>i?i:t},i.sign=function(t){return t<0?-1:1},i.now=function(){if(window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return new Date-i._nowStartTime},i.random=function(e,i){return i=void 0!==i?i:1,(e=void 0!==e?e:0)+t()*(i-e)};var t=function(){return i._seed=(9301*i._seed+49297)%233280,i._seed/233280};i.colorToNumber=function(t){return 3==(t=t.replace("#","")).length&&(t=t.charAt(0)+t.charAt(0)+t.charAt(1)+t.charAt(1)+t.charAt(2)+t.charAt(2)),parseInt(t,16)},i.logLevel=1,i.log=function(){console&&i.logLevel>0&&i.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},i.info=function(){console&&i.logLevel>0&&i.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},i.warn=function(){console&&i.logLevel>0&&i.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},i.nextId=function(){return i._nextId++},i.indexOf=function(t,e){if(t.indexOf)return t.indexOf(e);for(var i=0;i<t.length;i++)if(t[i]===e)return i;return-1},i.map=function(t,e){if(t.map)return t.map(e);for(var i=[],n=0;n<t.length;n+=1)i.push(e(t[n]));return i},i.topologicalSort=function(t){var e=[],n=[],r=[];for(var s in t)n[s]||r[s]||i._topologicalSort(s,n,r,t,e);return e},i._topologicalSort=function(t,e,n,r,s){var o=r[t]||[];n[t]=!0;for(var a=0;a<o.length;a+=1){var h=o[a];n[h]||(e[h]||i._topologicalSort(h,e,n,r,s))}n[t]=!1,e[t]=!0,s.push(t)},i.chain=function(){for(var t=[],e=0;e<arguments.length;e+=1){var i=arguments[e];i._chained?t.push.apply(t,i._chained):t.push(i)}var n=function(){for(var e,i=new Array(arguments.length),n=0,r=arguments.length;n<r;n++)i[n]=arguments[n];for(n=0;n<t.length;n+=1){var s=t[n].apply(e,i);void 0!==s&&(e=s)}return e};return n._chained=t,n},i.chainPathBefore=function(t,e,n){return i.set(t,e,i.chain(n,i.get(t,e)))},i.chainPathAfter=function(t,e,n){return i.set(t,e,i.chain(i.get(t,e),n))},i._requireGlobal=function(t,i){return"undefined"!=typeof window?window[t]:void 0!==e?e[t]:null}}()}).call(this,i(66))},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={Alpha:i(234),Animation:i(235),BlendMode:i(236),ComputedSize:i(469),Crop:i(470),Depth:i(237),Flip:i(471),GetBounds:i(472),Mask:i(241),Origin:i(473),Pipeline:i(102),ScaleMode:i(474),ScrollFactor:i(244),Size:i(475),Texture:i(476),TextureCrop:i(477),Tint:i(478),ToJSON:i(245),Transform:i(246),TransformMatrix:i(48),Visible:i(247)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(6),r=function(){var t,e,i,s,o,a,h=arguments[0]||{},u=1,c=arguments.length,l=!1;for("boolean"==typeof h&&(l=h,h=arguments[1]||{},u=2),c===u&&(h=this,--u);u<c;u++)if(null!=(t=arguments[u]))for(e in t)i=h[e],h!==(s=t[e])&&(l&&s&&(n(s)||(o=Array.isArray(s)))?(o?(o=!1,a=i&&Array.isArray(i)?i:[]):a=i&&n(i)?i:{},h[e]=r(l,a,s)):void 0!==s&&(h[e]=s));return h};t.exports=r},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(231),r={PI2:2*Math.PI,TAU:.5*Math.PI,EPSILON:1e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,RND:new n};t.exports=r},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={getTintFromFloats:function(t,e,i,n){return((255&(255*n|0))<<24|(255&(255*t|0))<<16|(255&(255*e|0))<<8|255&(255*i|0))>>>0},getTintAppendFloatAlpha:function(t,e){return((255&(255*e|0))<<24|t)>>>0},getTintAppendFloatAlphaAndSwap:function(t,e){return((255&(255*e|0))<<24|(255&(0|t))<<16|(255&(t>>8|0))<<8|255&(t>>16|0))>>>0},getFloatsFromUintRGB:function(t){return[(255&(t>>16|0))/255,(255&(t>>8|0))/255,(255&(0|t))/255]},getComponentCount:function(t,e){for(var i=0,n=0;n<t.length;++n){var r=t[n];r.type===e.FLOAT?i+=r.size:i+=1}return i}}},function(t,e){t.exports={LOADER_IDLE:0,LOADER_LOADING:1,LOADER_PROCESSING:2,LOADER_COMPLETE:3,LOADER_SHUTDOWN:4,LOADER_DESTROYED:5,FILE_PENDING:10,FILE_LOADING:11,FILE_LOADED:12,FILE_FAILED:13,FILE_PROCESSING:14,FILE_ERRORED:16,FILE_COMPLETE:17,FILE_DESTROYED:18,FILE_POPULATED:19}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(1);t.exports=function(t,e,i,r,s,o){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=o.width),void 0===r&&(r=o.height);var a=n(s,"isNotEmpty",!1),h=n(s,"isColliding",!1),u=n(s,"hasInterestingFace",!1);t<0&&(i+=t,t=0),e<0&&(r+=e,e=0),t+i>o.width&&(i=Math.max(o.width-t,0)),e+r>o.height&&(r=Math.max(o.height-e,0));for(var c=[],l=e;l<e+r;l++)for(var f=t;f<t+i;f++){var d=o.data[l][f];if(null!==d){if(a&&-1===d.index)continue;if(h&&!d.collides)continue;if(u&&!d.hasInterestingFace)continue;c.push(d)}}return c}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(20),s=i(1),o=i(193),a=i(194),h=i(379),u=i(123),c=new n({initialize:function(t,e){this.loader=t,this.cache=s(e,"cache",!1),this.type=s(e,"type",!1),this.key=s(e,"key",!1);var i=this.key;if(t.prefix&&""!==t.prefix&&(this.key=t.prefix+i),!this.type||!this.key)throw new Error("Error calling 'Loader."+this.type+"' invalid key provided.");this.url=s(e,"url"),void 0===this.url?this.url=t.path+i+"."+s(e,"extension",""):"function"!=typeof this.url&&(this.url=t.path+this.url),this.src="",this.xhrSettings=u(s(e,"responseType",void 0)),s(e,"xhrSettings",!1)&&(this.xhrSettings=a(this.xhrSettings,s(e,"xhrSettings",{}))),this.xhrLoader=null,this.state="function"==typeof this.url?r.FILE_POPULATED:r.FILE_PENDING,this.bytesTotal=0,this.bytesLoaded=-1,this.percentComplete=-1,this.crossOrigin=void 0,this.data=void 0,this.config=s(e,"config",{}),this.multiFile,this.linkFile},setLink:function(t){this.linkFile=t,t.linkFile=this},resetXHR:function(){this.xhrLoader&&(this.xhrLoader.onload=void 0,this.xhrLoader.onerror=void 0,this.xhrLoader.onprogress=void 0)},load:function(){this.state===r.FILE_POPULATED?this.loader.nextFile(this,!0):(this.src=o(this,this.loader.baseURL),0===this.src.indexOf("data:")?console.warn("Local data URIs are not supported: "+this.key):this.xhrLoader=h(this,this.loader.xhr))},onLoad:function(t,e){var i=!(e.target&&200!==e.target.status);4===t.readyState&&t.status>=400&&t.status<=599&&(i=!1),this.resetXHR(),this.loader.nextFile(this,i)},onError:function(){this.resetXHR(),this.loader.nextFile(this,!1)},onProgress:function(t){t.lengthComputable&&(this.bytesLoaded=t.loaded,this.bytesTotal=t.total,this.percentComplete=Math.min(this.bytesLoaded/this.bytesTotal,1),this.loader.emit("fileprogress",this,this.percentComplete))},onProcess:function(){this.state=r.FILE_PROCESSING,this.onProcessComplete()},onProcessComplete:function(){this.state=r.FILE_COMPLETE,this.multiFile&&this.multiFile.onFileComplete(this),this.loader.fileProcessComplete(this)},onProcessError:function(){this.state=r.FILE_ERRORED,this.multiFile&&this.multiFile.onFileFailed(this),this.loader.fileProcessComplete(this)},hasCacheConflict:function(){return this.cache&&this.cache.exists(this.key)},addToCache:function(){this.cache&&this.cache.add(this.key,this.data),this.pendingDestroy()},pendingDestroy:function(t){void 0===t&&(t=this.data);var e=this.key,i=this.type;this.loader.emit("filecomplete",e,i,t),this.loader.emit("filecomplete-"+i+"-"+e,e,i,t),this.loader.flagForRemoval(this)},destroy:function(){this.loader=null,this.cache=null,this.xhrSettings=null,this.multiFile=null,this.linkFile=null,this.data=null}});c.createObjectURL=function(t,e,i){if("function"==typeof URL)t.src=URL.createObjectURL(e);else{var n=new FileReader;n.onload=function(){t.removeAttribute("crossOrigin"),t.src="data:"+(e.type||i)+";base64,"+n.result.split(",")[1]},n.onerror=t.onerror,n.readAsDataURL(e)}},c.revokeObjectURL=function(t){"function"==typeof URL&&URL.revokeObjectURL(t.src)},t.exports=c},function(t,e){t.exports=function(t,e,i){return Math.max(e,Math.min(i,t))}},function(t,e,i){"use strict";function n(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var r=n(i(216));
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
r.default.registerVersion("firebase","7.24.0","app"),t.exports=r.default},function(t,e,i){var n={};t.exports=n;var r=i(34),s=i(31),o=i(96),a=i(15),h=i(32),u=i(198);!function(){n._inertiaScale=4,n._nextCollidingGroupId=1,n._nextNonCollidingGroupId=-1,n._nextCategory=1,n.create=function(e){var i={id:a.nextId(),type:"body",label:"Body",gameObject:null,parts:[],plugin:{},angle:0,vertices:r.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"),position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},previousPositionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,ignoreGravity:!1,ignorePointer:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,render:{visible:!0,opacity:1,sprite:{xScale:1,yScale:1,xOffset:0,yOffset:0},lineWidth:0},events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inertia:0,_original:null},n=a.extend(i,e);return t(n,e),n},n.nextGroup=function(t){return t?n._nextNonCollidingGroupId--:n._nextCollidingGroupId++},n.nextCategory=function(){return n._nextCategory=n._nextCategory<<1,n._nextCategory};var t=function(t,e){e=e||{},n.set(t,{bounds:t.bounds||h.create(t.vertices),positionPrev:t.positionPrev||s.clone(t.position),anglePrev:t.anglePrev||t.angle,vertices:t.vertices,parts:t.parts||[t],isStatic:t.isStatic,isSleeping:t.isSleeping,parent:t.parent||t}),r.rotate(t.vertices,t.angle,t.position),u.rotate(t.axes,t.angle),h.update(t.bounds,t.vertices,t.velocity),n.set(t,{axes:e.axes||t.axes,area:e.area||t.area,mass:e.mass||t.mass,inertia:e.inertia||t.inertia});var i=t.isStatic?"#2e2b44":a.choose(["#006BA6","#0496FF","#FFBC42","#D81159","#8F2D56"]);t.render.fillStyle=t.render.fillStyle||i,t.render.strokeStyle=t.render.strokeStyle||"#000",t.render.sprite.xOffset+=-(t.bounds.min.x-t.position.x)/(t.bounds.max.x-t.bounds.min.x),t.render.sprite.yOffset+=-(t.bounds.min.y-t.position.y)/(t.bounds.max.y-t.bounds.min.y)};n.set=function(t,e,i){var r;for(r in"string"==typeof e&&(r=e,(e={})[r]=i),e)if(e.hasOwnProperty(r))switch(i=e[r],r){case"isStatic":n.setStatic(t,i);break;case"isSleeping":o.set(t,i);break;case"mass":n.setMass(t,i);break;case"density":n.setDensity(t,i);break;case"inertia":n.setInertia(t,i);break;case"vertices":n.setVertices(t,i);break;case"position":n.setPosition(t,i);break;case"angle":n.setAngle(t,i);break;case"velocity":n.setVelocity(t,i);break;case"angularVelocity":n.setAngularVelocity(t,i);break;case"parts":n.setParts(t,i);break;default:t[r]=i}},n.setStatic=function(t,e){for(var i=0;i<t.parts.length;i++){var n=t.parts[i];n.isStatic=e,e?(n._original={restitution:n.restitution,friction:n.friction,mass:n.mass,inertia:n.inertia,density:n.density,inverseMass:n.inverseMass,inverseInertia:n.inverseInertia},n.restitution=0,n.friction=1,n.mass=n.inertia=n.density=1/0,n.inverseMass=n.inverseInertia=0,n.positionPrev.x=n.position.x,n.positionPrev.y=n.position.y,n.anglePrev=n.angle,n.angularVelocity=0,n.speed=0,n.angularSpeed=0,n.motion=0):n._original&&(n.restitution=n._original.restitution,n.friction=n._original.friction,n.mass=n._original.mass,n.inertia=n._original.inertia,n.density=n._original.density,n.inverseMass=n._original.inverseMass,n.inverseInertia=n._original.inverseInertia,n._original=null)}},n.setMass=function(t,e){var i=t.inertia/(t.mass/6);t.inertia=i*(e/6),t.inverseInertia=1/t.inertia,t.mass=e,t.inverseMass=1/t.mass,t.density=t.mass/t.area},n.setDensity=function(t,e){n.setMass(t,e*t.area),t.density=e},n.setInertia=function(t,e){t.inertia=e,t.inverseInertia=1/t.inertia},n.setVertices=function(t,e){e[0].body===t?t.vertices=e:t.vertices=r.create(e,t),t.axes=u.fromVertices(t.vertices),t.area=r.area(t.vertices),n.setMass(t,t.density*t.area);var i=r.centre(t.vertices);r.translate(t.vertices,i,-1),n.setInertia(t,n._inertiaScale*r.inertia(t.vertices,t.mass)),r.translate(t.vertices,t.position),h.update(t.bounds,t.vertices,t.velocity)},n.setParts=function(t,e,i){var s;for(e=e.slice(0),t.parts.length=0,t.parts.push(t),t.parent=t,s=0;s<e.length;s++){var o=e[s];o!==t&&(o.parent=t,t.parts.push(o))}if(1!==t.parts.length){if(i=void 0===i||i){var a=[];for(s=0;s<e.length;s++)a=a.concat(e[s].vertices);r.clockwiseSort(a);var h=r.hull(a),u=r.centre(h);n.setVertices(t,h),r.translate(t.vertices,u)}var c=n._totalProperties(t);t.area=c.area,t.parent=t,t.position.x=c.centre.x,t.position.y=c.centre.y,t.positionPrev.x=c.centre.x,t.positionPrev.y=c.centre.y,n.setMass(t,c.mass),n.setInertia(t,c.inertia),n.setPosition(t,c.centre)}},n.setPosition=function(t,e){var i=s.sub(e,t.position);t.positionPrev.x+=i.x,t.positionPrev.y+=i.y;for(var n=0;n<t.parts.length;n++){var o=t.parts[n];o.position.x+=i.x,o.position.y+=i.y,r.translate(o.vertices,i),h.update(o.bounds,o.vertices,t.velocity)}},n.setAngle=function(t,e){var i=e-t.angle;t.anglePrev+=i;for(var n=0;n<t.parts.length;n++){var o=t.parts[n];o.angle+=i,r.rotate(o.vertices,i,t.position),u.rotate(o.axes,i),h.update(o.bounds,o.vertices,t.velocity),n>0&&s.rotateAbout(o.position,i,t.position,o.position)}},n.setVelocity=function(t,e){t.positionPrev.x=t.position.x-e.x,t.positionPrev.y=t.position.y-e.y,t.velocity.x=e.x,t.velocity.y=e.y,t.speed=s.magnitude(t.velocity)},n.setAngularVelocity=function(t,e){t.anglePrev=t.angle-e,t.angularVelocity=e,t.angularSpeed=Math.abs(t.angularVelocity)},n.translate=function(t,e){n.setPosition(t,s.add(t.position,e))},n.rotate=function(t,e,i){if(i){var r=Math.cos(e),s=Math.sin(e),o=t.position.x-i.x,a=t.position.y-i.y;n.setPosition(t,{x:i.x+(o*r-a*s),y:i.y+(o*s+a*r)}),n.setAngle(t,t.angle+e)}else n.setAngle(t,t.angle+e)},n.scale=function(t,e,i,s){var o=0,a=0;s=s||t.position;for(var c=0;c<t.parts.length;c++){var l=t.parts[c];r.scale(l.vertices,e,i,s),l.axes=u.fromVertices(l.vertices),l.area=r.area(l.vertices),n.setMass(l,t.density*l.area),r.translate(l.vertices,{x:-l.position.x,y:-l.position.y}),n.setInertia(l,n._inertiaScale*r.inertia(l.vertices,l.mass)),r.translate(l.vertices,{x:l.position.x,y:l.position.y}),c>0&&(o+=l.area,a+=l.inertia),l.position.x=s.x+(l.position.x-s.x)*e,l.position.y=s.y+(l.position.y-s.y)*i,h.update(l.bounds,l.vertices,t.velocity)}t.parts.length>1&&(t.area=o,t.isStatic||(n.setMass(t,t.density*o),n.setInertia(t,a))),t.circleRadius&&(e===i?t.circleRadius*=e:t.circleRadius=null)},n.update=function(t,e,i,n){var o=Math.pow(e*i*t.timeScale,2),a=1-t.frictionAir*i*t.timeScale,c=t.position.x-t.positionPrev.x,l=t.position.y-t.positionPrev.y;t.velocity.x=c*a*n+t.force.x/t.mass*o,t.velocity.y=l*a*n+t.force.y/t.mass*o,t.positionPrev.x=t.position.x,t.positionPrev.y=t.position.y,t.position.x+=t.velocity.x,t.position.y+=t.velocity.y,t.angularVelocity=(t.angle-t.anglePrev)*a*n+t.torque/t.inertia*o,t.anglePrev=t.angle,t.angle+=t.angularVelocity,t.speed=s.magnitude(t.velocity),t.angularSpeed=Math.abs(t.angularVelocity);for(var f=0;f<t.parts.length;f++){var d=t.parts[f];r.translate(d.vertices,t.velocity),f>0&&(d.position.x+=t.velocity.x,d.position.y+=t.velocity.y),0!==t.angularVelocity&&(r.rotate(d.vertices,t.angularVelocity,t.position),u.rotate(d.axes,t.angularVelocity),f>0&&s.rotateAbout(d.position,t.angularVelocity,t.position,d.position)),h.update(d.bounds,d.vertices,t.velocity)}},n.applyForce=function(t,e,i){t.force.x+=i.x,t.force.y+=i.y;var n=e.x-t.position.x,r=e.y-t.position.y;t.torque+=n*i.y-r*i.x},n._totalProperties=function(t){for(var e={mass:0,area:0,inertia:0,centre:{x:0,y:0}},i=1===t.parts.length?0:1;i<t.parts.length;i++){var n=t.parts[i],r=n.mass!==1/0?n.mass:1;e.mass+=r,e.area+=n.area,e.inertia+=n.inertia,e.centre=s.add(e.centre,s.mult(n.position,r))}return e.centre=s.div(e.centre,e.mass),e}}()},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n={VERSION:"3.12.0",BlendModes:i(56),ScaleModes:i(83),AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,FOREVER:-1,NONE:4,UP:5,DOWN:6,LEFT:7,RIGHT:8};t.exports=n},function(t,e){t.exports=function(t,e,i,n,r,s){var o;void 0===n&&(n=0),void 0===r&&(r=0),void 0===s&&(s=1);var a=0,h=t.length;if(1===s)for(o=r;o<h;o++)t[o][e]=i+a*n,a++;else for(o=r;o>=0;o--)t[o][e]=i+a*n,a++;return t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n,r,s,o=i(26),a=i(155),h=[],u=!1;t.exports=(s=function(){var t=0;return h.forEach(function(e){e.parent&&t++}),t},{create2D:function(t,e,i){return n(t,e,i,o.CANVAS)},create:n=function(t,e,i,n,s){var c;void 0===e&&(e=1),void 0===i&&(i=1),void 0===n&&(n=o.CANVAS),void 0===s&&(s=!1);var l=r(n);return null===l?(l={parent:t,canvas:document.createElement("canvas"),type:n},n===o.CANVAS&&h.push(l),c=l.canvas):(l.parent=t,c=l.canvas),s&&(l.parent=c),c.width=e,c.height=i,u&&n===o.CANVAS&&a.disable(c.getContext("2d")),c},createWebGL:function(t,e,i){return n(t,e,i,o.WEBGL)},disableSmoothing:function(){u=!0},enableSmoothing:function(){u=!1},first:r=function(t){if(void 0===t&&(t=o.CANVAS),t===o.WEBGL)return null;for(var e=0;e<h.length;e++){var i=h[e];if(!i.parent&&i.type===t)return i}return null},free:function(){return h.length-s()},pool:h,remove:function(t){var e=t instanceof HTMLCanvasElement;h.forEach(function(i){(e&&i.canvas===t||!e&&i.parent===t)&&(i.parent=null,i.canvas.width=1,i.canvas.height=1)})},total:s})},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(56),r=i(11),s=i(83);t.exports=function(t,e,i){e.x=r(i,"x",0),e.y=r(i,"y",0),e.depth=r(i,"depth",0),e.flipX=r(i,"flipX",!1),e.flipY=r(i,"flipY",!1);var o=r(i,"scale",null);"number"==typeof o?e.setScale(o):null!==o&&(e.scaleX=r(o,"x",1),e.scaleY=r(o,"y",1));var a=r(i,"scrollFactor",null);"number"==typeof a?e.setScrollFactor(a):null!==a&&(e.scrollFactorX=r(a,"x",1),e.scrollFactorY=r(a,"y",1)),e.rotation=r(i,"rotation",0);var h=r(i,"angle",null);null!==h&&(e.angle=h),e.alpha=r(i,"alpha",1);var u=r(i,"origin",null);if("number"==typeof u)e.setOrigin(u);else if(null!==u){var c=r(u,"x",.5),l=r(u,"y",.5);e.setOrigin(c,l)}return e.scaleMode=r(i,"scaleMode",s.DEFAULT),e.blendMode=r(i,"blendMode",n.NORMAL),e.visible=r(i,"visible",!0),r(i,"add",!0)&&t.sys.displayList.add(e),e.preUpdate&&t.sys.updateList.add(e),e}},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={CSV:0,TILED_JSON:1,ARRAY_2D:2,WELTMEISTER:3}},function(t,e){var i={};t.exports=i,i.create=function(t,e){return{x:t||0,y:e||0}},i.clone=function(t){return{x:t.x,y:t.y}},i.magnitude=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},i.magnitudeSquared=function(t){return t.x*t.x+t.y*t.y},i.rotate=function(t,e,i){var n=Math.cos(e),r=Math.sin(e);i||(i={});var s=t.x*n-t.y*r;return i.y=t.x*r+t.y*n,i.x=s,i},i.rotateAbout=function(t,e,i,n){var r=Math.cos(e),s=Math.sin(e);n||(n={});var o=i.x+((t.x-i.x)*r-(t.y-i.y)*s);return n.y=i.y+((t.x-i.x)*s+(t.y-i.y)*r),n.x=o,n},i.normalise=function(t){var e=i.magnitude(t);return 0===e?{x:0,y:0}:{x:t.x/e,y:t.y/e}},i.dot=function(t,e){return t.x*e.x+t.y*e.y},i.cross=function(t,e){return t.x*e.y-t.y*e.x},i.cross3=function(t,e,i){return(e.x-t.x)*(i.y-t.y)-(e.y-t.y)*(i.x-t.x)},i.add=function(t,e,i){return i||(i={}),i.x=t.x+e.x,i.y=t.y+e.y,i},i.sub=function(t,e,i){return i||(i={}),i.x=t.x-e.x,i.y=t.y-e.y,i},i.mult=function(t,e){return{x:t.x*e,y:t.y*e}},i.div=function(t,e){return{x:t.x/e,y:t.y/e}},i.perp=function(t,e){return{x:(e=!0===e?-1:1)*-t.y,y:e*t.x}},i.neg=function(t){return{x:-t.x,y:-t.y}},i.angle=function(t,e){return Math.atan2(e.y-t.y,e.x-t.x)},i._temp=[i.create(),i.create(),i.create(),i.create(),i.create(),i.create()]},function(t,e){var i={};t.exports=i,i.create=function(t){var e={min:{x:0,y:0},max:{x:0,y:0}};return t&&i.update(e,t),e},i.update=function(t,e,i){t.min.x=1/0,t.max.x=-1/0,t.min.y=1/0,t.max.y=-1/0;for(var n=0;n<e.length;n++){var r=e[n];r.x>t.max.x&&(t.max.x=r.x),r.x<t.min.x&&(t.min.x=r.x),r.y>t.max.y&&(t.max.y=r.y),r.y<t.min.y&&(t.min.y=r.y)}i&&(i.x>0?t.max.x+=i.x:t.min.x+=i.x,i.y>0?t.max.y+=i.y:t.min.y+=i.y)},i.contains=function(t,e){return e.x>=t.min.x&&e.x<=t.max.x&&e.y>=t.min.y&&e.y<=t.max.y},i.overlaps=function(t,e){return t.min.x<=e.max.x&&t.max.x>=e.min.x&&t.max.y>=e.min.y&&t.min.y<=e.max.y},i.translate=function(t,e){t.min.x+=e.x,t.max.x+=e.x,t.min.y+=e.y,t.max.y+=e.y},i.shift=function(t,e){var i=t.max.x-t.min.x,n=t.max.y-t.min.y;t.min.x=e.x,t.max.x=e.x+i,t.min.y=e.y,t.max.y=e.y+n}},function(t,e){t.exports=function(t,e,i,n,r,s){var o;void 0===n&&(n=0),void 0===r&&(r=0),void 0===s&&(s=1);var a=0,h=t.length;if(1===s)for(o=r;o<h;o++)t[o][e]+=i+a*n,a++;else for(o=r;o>=0;o--)t[o][e]+=i+a*n,a++;return t}},function(t,e,i){var n={};t.exports=n;var r=i(31),s=i(15);n.create=function(t,e){for(var i=[],n=0;n<t.length;n++){var r=t[n],s={x:r.x,y:r.y,index:n,body:e,isInternal:!1,contact:null};s.contact={vertex:s,normalImpulse:0,tangentImpulse:0},i.push(s)}return i},n.fromPath=function(t,e){var i=[];return t.replace(/L?\s*([\-\d\.e]+)[\s,]*([\-\d\.e]+)*/gi,function(t,e,n){i.push({x:parseFloat(e),y:parseFloat(n)})}),n.create(i,e)},n.centre=function(t){for(var e,i,s,o=n.area(t,!0),a={x:0,y:0},h=0;h<t.length;h++)s=(h+1)%t.length,e=r.cross(t[h],t[s]),i=r.mult(r.add(t[h],t[s]),e),a=r.add(a,i);return r.div(a,6*o)},n.mean=function(t){for(var e={x:0,y:0},i=0;i<t.length;i++)e.x+=t[i].x,e.y+=t[i].y;return r.div(e,t.length)},n.area=function(t,e){for(var i=0,n=t.length-1,r=0;r<t.length;r++)i+=(t[n].x-t[r].x)*(t[n].y+t[r].y),n=r;return e?i/2:Math.abs(i)/2},n.inertia=function(t,e){for(var i,n,s=0,o=0,a=t,h=0;h<a.length;h++)n=(h+1)%a.length,s+=(i=Math.abs(r.cross(a[n],a[h])))*(r.dot(a[n],a[n])+r.dot(a[n],a[h])+r.dot(a[h],a[h])),o+=i;return e/6*(s/o)},n.translate=function(t,e,i){var n;if(i)for(n=0;n<t.length;n++)t[n].x+=e.x*i,t[n].y+=e.y*i;else for(n=0;n<t.length;n++)t[n].x+=e.x,t[n].y+=e.y;return t},n.rotate=function(t,e,i){if(0!==e){for(var n=Math.cos(e),r=Math.sin(e),s=0;s<t.length;s++){var o=t[s],a=o.x-i.x,h=o.y-i.y;o.x=i.x+(a*n-h*r),o.y=i.y+(a*r+h*n)}return t}},n.contains=function(t,e){for(var i=0;i<t.length;i++){var n=t[i],r=t[(i+1)%t.length];if((e.x-n.x)*(r.y-n.y)+(e.y-n.y)*(n.x-r.x)>0)return!1}return!0},n.scale=function(t,e,i,s){if(1===e&&1===i)return t;var o,a;s=s||n.centre(t);for(var h=0;h<t.length;h++)o=t[h],a=r.sub(o,s),t[h].x=s.x+a.x*e,t[h].y=s.y+a.y*i;return t},n.chamfer=function(t,e,i,n,o){e="number"==typeof e?[e]:e||[8],i=void 0!==i?i:-1,n=n||2,o=o||14;for(var a=[],h=0;h<t.length;h++){var u=t[h-1>=0?h-1:t.length-1],c=t[h],l=t[(h+1)%t.length],f=e[h<e.length?h:e.length-1];if(0!==f){var d=r.normalise({x:c.y-u.y,y:u.x-c.x}),p=r.normalise({x:l.y-c.y,y:c.x-l.x}),g=Math.sqrt(2*Math.pow(f,2)),v=r.mult(s.clone(d),f),y=r.normalise(r.mult(r.add(d,p),.5)),m=r.sub(c,r.mult(y,g)),x=i;-1===i&&(x=1.75*Math.pow(f,.32)),(x=s.clamp(x,n,o))%2==1&&(x+=1);for(var b=Math.acos(r.dot(d,p))/x,w=0;w<x;w++)a.push(r.add(r.rotate(v,b*w),m))}else a.push(c)}return a},n.clockwiseSort=function(t){var e=n.mean(t);return t.sort(function(t,i){return r.angle(e,t)-r.angle(e,i)}),t},n.isConvex=function(t){var e,i,n,r,s=0,o=t.length;if(o<3)return null;for(e=0;e<o;e++)if(n=(e+2)%o,r=(t[i=(e+1)%o].x-t[e].x)*(t[n].y-t[i].y),(r-=(t[i].y-t[e].y)*(t[n].x-t[i].x))<0?s|=1:r>0&&(s|=2),3===s)return!1;return 0!==s||null},n.hull=function(t){var e,i,n=[],s=[];for((t=t.slice(0)).sort(function(t,e){var i=t.x-e.x;return 0!==i?i:t.y-e.y}),i=0;i<t.length;i+=1){for(e=t[i];s.length>=2&&r.cross3(s[s.length-2],s[s.length-1],e)<=0;)s.pop();s.push(e)}for(i=t.length-1;i>=0;i-=1){for(e=t[i];n.length>=2&&r.cross3(n[n.length-2],n[n.length-1],e)<=0;)n.pop();n.push(e)}return n.pop(),s.pop(),n.concat(s)}},function(t,e){t.exports=function(t){return t.y+t.height-t.height*t.originY}},function(t,e){t.exports=function(t,e){return t.y=e-t.height+t.height*t.originY,t}},function(t,e){t.exports=function(t){return t.x-t.width*t.originX}},function(t,e){t.exports=function(t,e){return t.x=e+t.width*t.originX,t}},function(t,e){t.exports=function(t){return t.x+t.width-t.width*t.originX}},function(t,e){t.exports=function(t,e){return t.x=e-t.width+t.width*t.originX,t}},function(t,e){t.exports=function(t){return t.y-t.height*t.originY}},function(t,e){t.exports=function(t,e){return t.y=e+t.height*t.originY,t}},function(t,e){t.exports=function(t,e,i){return t.radius>0&&e>=t.left&&e<=t.right&&i>=t.top&&i<=t.bottom&&(t.x-e)*(t.x-e)+(t.y-i)*(t.y-i)<=t.radius*t.radius}},function(t,e){t.exports=function(t,e,i){return!(t.width<=0||t.height<=0)&&t.x<=e&&t.x+t.width>=e&&t.y<=i&&t.y+t.height>=i}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(16),s=i(12),o=i(692),a=new n({Extends:s,Mixins:[r.Alpha,r.BlendMode,r.Depth,r.Flip,r.GetBounds,r.Mask,r.Origin,r.Pipeline,r.ScaleMode,r.ScrollFactor,r.Size,r.TextureCrop,r.Tint,r.Transform,r.Visible,o],initialize:function(t,e,i,n,o){s.call(this,t,"Sprite"),this._crop=this.resetCropObject(),this.anims=new r.Animation(this),this.setTexture(n,o),this.setPosition(e,i),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline("TextureTintPipeline")},preUpdate:function(t,e){this.anims.update(t,e)},play:function(t,e,i){return this.anims.play(t,e,i),this},toJSON:function(){return r.ToJSON(this)}});t.exports=a},function(t,e){t.exports={DYNAMIC_BODY:0,STATIC_BODY:1,GROUP:2,TILEMAPLAYER:3,FACING_NONE:10,FACING_UP:11,FACING_DOWN:12,FACING_LEFT:13,FACING_RIGHT:14}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(128),r=i(21);t.exports=function(t,e,i,s,o){for(var a=null,h=null,u=null,c=null,l=r(t,e,i,s,null,o),f=0;f<l.length;f++){var d=l[f];d&&(d.collides?(a=n(d.x,d.y-1,!0,o),h=n(d.x,d.y+1,!0,o),u=n(d.x-1,d.y,!0,o),c=n(d.x+1,d.y,!0,o),d.faceTop=!a||!a.collides,d.faceBottom=!h||!h.collides,d.faceLeft=!u||!u.collides,d.faceRight=!c||!c.collides):d.resetFaces())}}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(3),s=new n({initialize:function(t,e,i,n,r,s){void 0===t&&(t=1),void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=1),void 0===r&&(r=0),void 0===s&&(s=0),this.matrix=new Float32Array([t,e,i,n,r,s,0,0,1]),this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0}},a:{get:function(){return this.matrix[0]},set:function(t){this.matrix[0]=t}},b:{get:function(){return this.matrix[1]},set:function(t){this.matrix[1]=t}},c:{get:function(){return this.matrix[2]},set:function(t){this.matrix[2]=t}},d:{get:function(){return this.matrix[3]},set:function(t){this.matrix[3]=t}},e:{get:function(){return this.matrix[4]},set:function(t){this.matrix[4]=t}},f:{get:function(){return this.matrix[5]},set:function(t){this.matrix[5]=t}},tx:{get:function(){return this.matrix[4]},set:function(t){this.matrix[4]=t}},ty:{get:function(){return this.matrix[5]},set:function(t){this.matrix[5]=t}},rotation:{get:function(){return Math.acos(this.a/this.scaleX)*(Math.atan(-this.c/this.a)<0?-1:1)}},scaleX:{get:function(){return Math.sqrt(this.a*this.a+this.c*this.c)}},scaleY:{get:function(){return Math.sqrt(this.b*this.b+this.d*this.d)}},loadIdentity:function(){var t=this.matrix;return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,this},translate:function(t,e){var i=this.matrix;return i[4]=i[0]*t+i[2]*e+i[4],i[5]=i[1]*t+i[3]*e+i[5],this},scale:function(t,e){var i=this.matrix;return i[0]*=t,i[1]*=t,i[2]*=e,i[3]*=e,this},rotate:function(t){var e=Math.sin(t),i=Math.cos(t),n=this.matrix,r=n[0],s=n[1],o=n[2],a=n[3];return n[0]=r*i+o*e,n[1]=s*i+a*e,n[2]=r*-e+o*i,n[3]=s*-e+a*i,this},multiply:function(t,e){var i=this.matrix,n=t.matrix,r=i[0],s=i[1],o=i[2],a=i[3],h=i[4],u=i[5],c=n[0],l=n[1],f=n[2],d=n[3],p=n[4],g=n[5],v=void 0===e?this:e;return v.a=c*r+l*o,v.b=c*s+l*a,v.c=f*r+d*o,v.d=f*s+d*a,v.e=p*r+g*o+h,v.f=p*s+g*a+u,v},multiplyWithOffset:function(t,e,i){var n=this.matrix,r=t.matrix,s=n[0],o=n[1],a=n[2],h=n[3],u=e*s+i*a+n[4],c=e*o+i*h+n[5],l=r[0],f=r[1],d=r[2],p=r[3],g=r[4],v=r[5];return n[0]=l*s+f*a,n[1]=l*o+f*h,n[2]=d*s+p*a,n[3]=d*o+p*h,n[4]=g*s+v*a+u,n[5]=g*o+v*h+c,this},transform:function(t,e,i,n,r,s){var o=this.matrix,a=o[0],h=o[1],u=o[2],c=o[3],l=o[4],f=o[5];return o[0]=t*a+e*u,o[1]=t*h+e*c,o[2]=i*a+n*u,o[3]=i*h+n*c,o[4]=r*a+s*u+l,o[5]=r*h+s*c+f,this},transformPoint:function(t,e,i){void 0===i&&(i={x:0,y:0});var n=this.matrix,r=n[0],s=n[1],o=n[2],a=n[3],h=n[4],u=n[5];return i.x=t*r+e*o+h,i.y=t*s+e*a+u,i},invert:function(){var t=this.matrix,e=t[0],i=t[1],n=t[2],r=t[3],s=t[4],o=t[5],a=e*r-i*n;return t[0]=r/a,t[1]=-i/a,t[2]=-n/a,t[3]=e/a,t[4]=(n*o-r*s)/a,t[5]=-(e*o-i*s)/a,this},copyFrom:function(t){var e=this.matrix;return e[0]=t.a,e[1]=t.b,e[2]=t.c,e[3]=t.d,e[4]=t.e,e[5]=t.f,this},copyFromArray:function(t){var e=this.matrix;return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],this},copyToContext:function(t){var e=this.matrix;return t.transform(e[0],e[1],e[2],e[3],e[4],e[5]),t},setToContext:function(t){var e=this.matrix;return t.setTransform(e[0],e[1],e[2],e[3],e[4],e[5]),t},copyToArray:function(t){var e=this.matrix;return void 0===t?t=[e[0],e[1],e[2],e[3],e[4],e[5]]:(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5]),t},setTransform:function(t,e,i,n,r,s){var o=this.matrix;return o[0]=t,o[1]=e,o[2]=i,o[3]=n,o[4]=r,o[5]=s,this},decomposeMatrix:function(){var t=this.decomposedMatrix,e=this.matrix,i=e[0],n=e[1],r=e[2],s=e[3],o=i*i,a=n*n,h=r*r,u=s*s,c=Math.sqrt(o+h),l=Math.sqrt(a+u);return t.translateX=e[4],t.translateY=e[5],t.scaleX=c,t.scaleY=l,t.rotation=Math.acos(i/c)*(Math.atan(-r/i)<0?-1:1),t},applyITRS:function(t,e,i,n,r){var s=this.matrix,o=Math.sin(i),a=Math.cos(i);return s[4]=t,s[5]=e,s[0]=a*n,s[1]=o*n,s[2]=-o*r,s[3]=a*r,this},applyInverse:function(t,e,i){void 0===i&&(i=new r);var n=this.matrix,s=n[0],o=n[1],a=n[2],h=n[3],u=n[4],c=n[5],l=1/(s*h+a*-o);return i.x=h*l*t+-a*l*e+(c*a-u*h)*l,i.y=s*l*e+-o*l*t+(-c*s+u*o)*l,i},getX:function(t,e){return t*this.a+e*this.c+this.e},getY:function(t,e){return t*this.b+e*this.d+this.f},getCSSMatrix:function(){var t=this.matrix;return"matrix("+t[0]+","+t[1]+","+t[2]+","+t[3]+","+t[4]+","+t[5]+")"},destroy:function(){this.matrix=null,this.decomposedMatrix=null}});t.exports=s},function(t,e){t.exports=function(t,e,i){var n=i-e;return e+((t-e)%n+n)%n}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(18);t.exports=function(t){return t*n.DEG_TO_RAD}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(154),s=i(260),o=new n({initialize:function(t,e,i,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=255),this.r=0,this.g=0,this.b=0,this.a=255,this.gl=[0,0,0,1],this._color=0,this._color32=0,this._rgba="",this.setTo(t,e,i,n)},transparent:function(){return this.red=0,this.green=0,this.blue=0,this.alpha=0,this.update()},setTo:function(t,e,i,n){return void 0===n&&(n=255),this.red=t,this.green=e,this.blue=i,this.alpha=n,this.update()},setGLTo:function(t,e,i,n){return void 0===n&&(n=1),this.redGL=t,this.greenGL=e,this.blueGL=i,this.alphaGL=n,this.update()},setFromRGB:function(t){return this.red=t.r,this.green=t.g,this.blue=t.b,t.hasOwnProperty("a")&&(this.alpha=t.a),this.update()},update:function(){return this._color=r(this.r,this.g,this.b),this._color32=s(this.r,this.g,this.b,this.a),this._rgba="rgba("+this.r+","+this.g+","+this.b+","+this.a/255+")",this},clone:function(){return new o(this.r,this.g,this.b,this.a)},color:{get:function(){return this._color}},color32:{get:function(){return this._color32}},rgba:{get:function(){return this._rgba}},redGL:{get:function(){return this.gl[0]},set:function(t){this.gl[0]=Math.min(Math.abs(t),1),this.r=Math.floor(255*this.gl[0]),this.update()}},greenGL:{get:function(){return this.gl[1]},set:function(t){this.gl[1]=Math.min(Math.abs(t),1),this.g=Math.floor(255*this.gl[1]),this.update()}},blueGL:{get:function(){return this.gl[2]},set:function(t){this.gl[2]=Math.min(Math.abs(t),1),this.b=Math.floor(255*this.gl[2]),this.update()}},alphaGL:{get:function(){return this.gl[3]},set:function(t){this.gl[3]=Math.min(Math.abs(t),1),this.a=Math.floor(255*this.gl[3]),this.update()}},red:{get:function(){return this.r},set:function(t){t=Math.floor(Math.abs(t)),this.r=Math.min(t,255),this.gl[0]=t/255,this.update()}},green:{get:function(){return this.g},set:function(t){t=Math.floor(Math.abs(t)),this.g=Math.min(t,255),this.gl[1]=t/255,this.update()}},blue:{get:function(){return this.b},set:function(t){t=Math.floor(Math.abs(t)),this.b=Math.min(t,255),this.gl[2]=t/255,this.update()}},alpha:{get:function(){return this.a},set:function(t){t=Math.floor(Math.abs(t)),this.a=Math.min(t,255),this.gl[3]=t/255,this.update()}}});t.exports=o},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(20),s=i(22),o=i(7),a=i(1),h=i(4),u=i(6),c=new n({Extends:s,initialize:function(t,e,i,n,o){var c="json";if(u(e)){var l=e;e=a(l,"key"),i=a(l,"url"),n=a(l,"xhrSettings"),c=a(l,"extension",c),o=a(l,"dataKey",o)}var f={type:"json",cache:t.cacheManager.json,extension:c,responseType:"text",key:e,url:i,xhrSettings:n,config:o};s.call(this,t,f),u(i)&&(this.data=o?h(i,o):i,this.state=r.FILE_POPULATED)},onProcess:function(){if(this.state!==r.FILE_POPULATED){this.state=r.FILE_PROCESSING;var t=JSON.parse(this.xhrLoader.responseText),e=this.config;this.data="string"==typeof e?h(t,e,t):t}this.onProcessComplete()}});o.register("json",function(t,e,i,n){if(Array.isArray(t))for(var r=0;r<t.length;r++)this.addFile(new c(this,t[r]));else this.addFile(new c(this,t,e,n,i));return this}),t.exports=c},function(t,e,i){var n={};t.exports=n;var r=i(34),s=i(15),o=i(25),a=i(32),h=i(31),u=i(419);n.rectangle=function(t,e,i,n,a){a=a||{};var h={label:"Rectangle Body",position:{x:t,y:e},vertices:r.fromPath("L 0 0 L "+i+" 0 L "+i+" "+n+" L 0 "+n)};if(a.chamfer){var u=a.chamfer;h.vertices=r.chamfer(h.vertices,u.radius,u.quality,u.qualityMin,u.qualityMax),delete a.chamfer}return o.create(s.extend({},h,a))},n.trapezoid=function(t,e,i,n,a,h){h=h||{};var u,c=i*(a*=.5),l=c+(1-2*a)*i,f=l+c;u=a<.5?"L 0 0 L "+c+" "+-n+" L "+l+" "+-n+" L "+f+" 0":"L 0 0 L "+l+" "+-n+" L "+f+" 0";var d={label:"Trapezoid Body",position:{x:t,y:e},vertices:r.fromPath(u)};if(h.chamfer){var p=h.chamfer;d.vertices=r.chamfer(d.vertices,p.radius,p.quality,p.qualityMin,p.qualityMax),delete h.chamfer}return o.create(s.extend({},d,h))},n.circle=function(t,e,i,r,o){r=r||{};var a={label:"Circle Body",circleRadius:i};o=o||25;var h=Math.ceil(Math.max(10,Math.min(o,i)));return h%2==1&&(h+=1),n.polygon(t,e,h,i,s.extend({},a,r))},n.polygon=function(t,e,i,a,h){if(h=h||{},i<3)return n.circle(t,e,a,h);for(var u=2*Math.PI/i,c="",l=.5*u,f=0;f<i;f+=1){var d=l+f*u,p=Math.cos(d)*a,g=Math.sin(d)*a;c+="L "+p.toFixed(3)+" "+g.toFixed(3)+" "}var v={label:"Polygon Body",position:{x:t,y:e},vertices:r.fromPath(c)};if(h.chamfer){var y=h.chamfer;v.vertices=r.chamfer(v.vertices,y.radius,y.quality,y.qualityMin,y.qualityMax),delete h.chamfer}return o.create(s.extend({},v,h))},n.fromVertices=function(t,e,i,n,c,l,f){var d,p,g,v,y,m,x,b,w;for(n=n||{},p=[],c=void 0!==c&&c,l=void 0!==l?l:.01,f=void 0!==f?f:10,u||s.warn("Bodies.fromVertices: poly-decomp.js required. Could not decompose vertices. Fallback to convex hull."),s.isArray(i[0])||(i=[i]),b=0;b<i.length;b+=1)if(v=i[b],(g=r.isConvex(v))||!u)v=g?r.clockwiseSort(v):r.hull(v),p.push({position:{x:t,y:e},vertices:v});else{var T=v.map(function(t){return[t.x,t.y]});u.makeCCW(T),!1!==l&&u.removeCollinearPoints(T,l);var S=u.quickDecomp(T);for(y=0;y<S.length;y++){var _=S[y].map(function(t){return{x:t[0],y:t[1]}});f>0&&r.area(_)<f||p.push({position:r.centre(_),vertices:_})}}for(y=0;y<p.length;y++)p[y]=o.create(s.extend(p[y],n));if(c)for(y=0;y<p.length;y++){var A=p[y];for(m=y+1;m<p.length;m++){var E=p[m];if(a.overlaps(A.bounds,E.bounds)){var I=A.vertices,C=E.vertices;for(x=0;x<A.vertices.length;x++)for(w=0;w<E.vertices.length;w++){var M=h.magnitudeSquared(h.sub(I[(x+1)%I.length],C[w])),P=h.magnitudeSquared(h.sub(I[x],C[(w+1)%C.length]));M<5&&P<5&&(I[x].isInternal=!0,C[w].isInternal=!0)}}}}return p.length>1?(d=o.create(s.extend({parts:p.slice(0)},n)),o.setPosition(d,{x:t,y:e}),d):p[0]}},function(t,e){t.exports=function(t,e,i,n){void 0===e&&(e=!0);var r=n.baseTileWidth,s=n.tilemapLayer;return s&&(void 0===i&&(i=s.scene.cameras.main),t-=s.x+i.scrollX*(1-s.scrollFactorX),r*=s.scaleX),e?Math.floor(t/r):t/r}},function(t,e){t.exports=function(t,e,i,n){void 0===e&&(e=!0);var r=n.baseTileHeight,s=n.tilemapLayer;return s&&(void 0===i&&(i=s.scene.cameras.main),t-=s.y+i.scrollY*(1-s.scrollFactorY),r*=s.scaleY),e?Math.floor(t/r):t/r}},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={SKIP_CHECK:-1,NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16}},function(t,e){t.exports=function(t){return Math.sqrt((t.x2-t.x1)*(t.x2-t.x1)+(t.y2-t.y1)*(t.y2-t.y1))}},function(t,e){t.exports=function(t,e,i,n){var r=t-i,s=e-n;return Math.sqrt(r*r+s*s)}},function(t,e){t.exports=function(t){var e={};for(var i in t)Array.isArray(t[i])?e[i]=t[i].slice(0):e[i]=t[i];return e}},function(t,e){t.exports=function(t,e,i,n){var r=t.length;if(e<0||e>r||e>=i||i>r||e+i>r){if(n)throw new Error("Range Error: Values outside acceptable range");return!1}return!0}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(20),s=i(22),o=i(7),a=i(1),h=i(6),u=new n({Extends:s,initialize:function t(e,i,n,r,o){var u,c="png";if(h(i)){var l=i;i=a(l,"key"),n=a(l,"url"),u=a(l,"normalMap"),r=a(l,"xhrSettings"),c=a(l,"extension",c),o=a(l,"frameConfig")}Array.isArray(n)&&(u=n[1],n=n[0]);var f={type:"image",cache:e.textureManager,extension:c,responseType:"blob",key:i,url:n,xhrSettings:r,config:o};if(s.call(this,e,f),u){var d=new t(e,this.key,u,r,o);d.type="normalMap",this.setLink(d),e.addFile(d)}},onProcess:function(){this.state=r.FILE_PROCESSING,this.data=new Image,this.data.crossOrigin=this.crossOrigin;var t=this;this.data.onload=function(){s.revokeObjectURL(t.data),t.onProcessComplete()},this.data.onerror=function(){s.revokeObjectURL(t.data),t.onProcessError()},s.createObjectURL(this.data,this.xhrLoader.response,"image/png")},addToCache:function(){var t,e=this.linkFile;e&&e.state===r.FILE_COMPLETE?(t="image"===this.type?this.cache.addImage(this.key,this.data,e.data):this.cache.addImage(e.key,e.data,this.data),this.pendingDestroy(t),e.pendingDestroy(t)):e||(t=this.cache.addImage(this.key,this.data),this.pendingDestroy(t))}});o.register("image",function(t,e,i){if(Array.isArray(t))for(var n=0;n<t.length;n++)this.addFile(new u(this,t[n]));else this.addFile(new u(this,t,e,i));return this}),t.exports=u},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=new(i(0))({initialize:function(t,e,i,n){this.loader=t,this.type=e,this.key=i,this.files=n,this.complete=!1,this.pending=n.length,this.failed=0,this.config={};for(var r=0;r<n.length;r++)n[r].multiFile=this},isReadyToProcess:function(){return 0===this.pending&&0===this.failed&&!this.complete},addToMultiFile:function(t){return this.files.push(t),t.multiFile=this,this.pending++,this.complete=!1,this},onFileComplete:function(t){-1!==this.files.indexOf(t)&&this.pending--},onFileFailed:function(t){-1!==this.files.indexOf(t)&&this.failed++}});t.exports=n},function(t,e,i){var n={};t.exports=n;var r=i(81),s=i(15),o=i(32),a=i(25);n.create=function(t){return s.extend({id:s.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{}},t)},n.setModified=function(t,e,i,r){if(t.isModified=e,i&&t.parent&&n.setModified(t.parent,e,i,r),r)for(var s=0;s<t.composites.length;s++){var o=t.composites[s];n.setModified(o,e,i,r)}},n.add=function(t,e){var i=[].concat(e);r.trigger(t,"beforeAdd",{object:e});for(var o=0;o<i.length;o++){var a=i[o];switch(a.type){case"body":if(a.parent!==a){s.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}n.addBody(t,a);break;case"constraint":n.addConstraint(t,a);break;case"composite":n.addComposite(t,a);break;case"mouseConstraint":n.addConstraint(t,a.constraint)}}return r.trigger(t,"afterAdd",{object:e}),t},n.remove=function(t,e,i){var s=[].concat(e);r.trigger(t,"beforeRemove",{object:e});for(var o=0;o<s.length;o++){var a=s[o];switch(a.type){case"body":n.removeBody(t,a,i);break;case"constraint":n.removeConstraint(t,a,i);break;case"composite":n.removeComposite(t,a,i);break;case"mouseConstraint":n.removeConstraint(t,a.constraint)}}return r.trigger(t,"afterRemove",{object:e}),t},n.addComposite=function(t,e){return t.composites.push(e),e.parent=t,n.setModified(t,!0,!0,!1),t},n.removeComposite=function(t,e,i){var r=t.composites.indexOf(e);if(-1!==r&&(n.removeCompositeAt(t,r),n.setModified(t,!0,!0,!1)),i)for(var s=0;s<t.composites.length;s++)n.removeComposite(t.composites[s],e,!0);return t},n.removeCompositeAt=function(t,e){return t.composites.splice(e,1),n.setModified(t,!0,!0,!1),t},n.addBody=function(t,e){return t.bodies.push(e),n.setModified(t,!0,!0,!1),t},n.removeBody=function(t,e,i){var r=t.bodies.indexOf(e);if(-1!==r&&(n.removeBodyAt(t,r),n.setModified(t,!0,!0,!1)),i)for(var s=0;s<t.composites.length;s++)n.removeBody(t.composites[s],e,!0);return t},n.removeBodyAt=function(t,e){return t.bodies.splice(e,1),n.setModified(t,!0,!0,!1),t},n.addConstraint=function(t,e){return t.constraints.push(e),n.setModified(t,!0,!0,!1),t},n.removeConstraint=function(t,e,i){var r=t.constraints.indexOf(e);if(-1!==r&&n.removeConstraintAt(t,r),i)for(var s=0;s<t.composites.length;s++)n.removeConstraint(t.composites[s],e,!0);return t},n.removeConstraintAt=function(t,e){return t.constraints.splice(e,1),n.setModified(t,!0,!0,!1),t},n.clear=function(t,e,i){if(i)for(var r=0;r<t.composites.length;r++)n.clear(t.composites[r],e,!0);return e?t.bodies=t.bodies.filter(function(t){return t.isStatic}):t.bodies.length=0,t.constraints.length=0,t.composites.length=0,n.setModified(t,!0,!0,!1),t},n.allBodies=function(t){for(var e=[].concat(t.bodies),i=0;i<t.composites.length;i++)e=e.concat(n.allBodies(t.composites[i]));return e},n.allConstraints=function(t){for(var e=[].concat(t.constraints),i=0;i<t.composites.length;i++)e=e.concat(n.allConstraints(t.composites[i]));return e},n.allComposites=function(t){for(var e=[].concat(t.composites),i=0;i<t.composites.length;i++)e=e.concat(n.allComposites(t.composites[i]));return e},n.get=function(t,e,i){var r,s;switch(i){case"body":r=n.allBodies(t);break;case"constraint":r=n.allConstraints(t);break;case"composite":r=n.allComposites(t).concat(t)}return r?0===(s=r.filter(function(t){return t.id.toString()===e.toString()})).length?null:s[0]:null},n.move=function(t,e,i){return n.remove(t,e),n.add(i,e),t},n.rebase=function(t){for(var e=n.allBodies(t).concat(n.allConstraints(t)).concat(n.allComposites(t)),i=0;i<e.length;i++)e[i].id=s.nextId();return n.setModified(t,!0,!0,!1),t},n.translate=function(t,e,i){for(var r=i?n.allBodies(t):t.bodies,s=0;s<r.length;s++)a.translate(r[s],e);return n.setModified(t,!0,!0,!1),t},n.rotate=function(t,e,i,r){for(var s=Math.cos(e),o=Math.sin(e),h=r?n.allBodies(t):t.bodies,u=0;u<h.length;u++){var c=h[u],l=c.position.x-i.x,f=c.position.y-i.y;a.setPosition(c,{x:i.x+(l*s-f*o),y:i.y+(l*o+f*s)}),a.rotate(c,e)}return n.setModified(t,!0,!0,!1),t},n.scale=function(t,e,i,r,s){for(var o=s?n.allBodies(t):t.bodies,h=0;h<o.length;h++){var u=o[h],c=u.position.x-r.x,l=u.position.y-r.y;a.setPosition(u,{x:r.x+c*e,y:r.y+l*i}),a.scale(u,e,i)}return n.setModified(t,!0,!0,!1),t},n.bounds=function(t){for(var e=n.allBodies(t),i=[],r=0;r<e.length;r+=1){var s=e[r];i.push(s.bounds.min,s.bounds.max)}return o.create(i)}},function(t,e){t.exports=function(t,e){e?t.setCollision(!0,!0,!0,!0,!1):t.resetCollision(!1)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(16),s=i(366),o=new n({Mixins:[r.Alpha,r.Flip,r.Visible],initialize:function(t,e,i,n,r,s,o,a){this.layer=t,this.index=e,this.x=i,this.y=n,this.width=r,this.height=s,this.baseWidth=void 0!==o?o:r,this.baseHeight=void 0!==a?a:s,this.pixelX=0,this.pixelY=0,this.updatePixelXY(),this.properties={},this.rotation=0,this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceLeft=!1,this.faceRight=!1,this.faceTop=!1,this.faceBottom=!1,this.collisionCallback=null,this.collisionCallbackContext=this,this.tint=16777215,this.physics={}},containsPoint:function(t,e){return!(t<this.pixelX||e<this.pixelY||t>this.right||e>this.bottom)},copy:function(t){return this.index=t.index,this.alpha=t.alpha,this.properties=t.properties,this.visible=t.visible,this.setFlip(t.flipX,t.flipY),this.tint=t.tint,this.rotation=t.rotation,this.collideUp=t.collideUp,this.collideDown=t.collideDown,this.collideLeft=t.collideLeft,this.collideRight=t.collideRight,this.collisionCallback=t.collisionCallback,this.collisionCallbackContext=t.collisionCallbackContext,this},getCollisionGroup:function(){return this.tileset?this.tileset.getTileCollisionGroup(this.index):null},getTileData:function(){return this.tileset?this.tileset.getTileData(this.index):null},getLeft:function(t){var e=this.tilemapLayer;return e?e.tileToWorldX(this.x,t):this.x*this.baseWidth},getRight:function(t){var e=this.tilemapLayer;return e?this.getLeft(t)+this.width*e.scaleX:this.getLeft(t)+this.width},getTop:function(t){var e=this.tilemapLayer;return e?e.tileToWorldY(this.y,t)-(this.height-this.baseHeight)*e.scaleY:this.y*this.baseHeight-(this.height-this.baseHeight)},getBottom:function(t){var e=this.tilemapLayer;return e?this.getTop(t)+this.height*e.scaleY:this.getTop(t)+this.height},getBounds:function(t,e){return void 0===e&&(e=new s),e.x=this.getLeft(),e.y=this.getTop(),e.width=this.getRight()-e.x,e.height=this.getBottom()-e.y,e},getCenterX:function(t){return this.getLeft(t)+this.width/2},getCenterY:function(t){return this.getTop(t)+this.height/2},destroy:function(){this.collisionCallback=void 0,this.collisionCallbackContext=void 0,this.properties=void 0},intersects:function(t,e,i,n){return!(i<=this.pixelX||n<=this.pixelY||t>=this.right||e>=this.bottom)},isInteresting:function(t,e){return t&&e?this.canCollide||this.hasInterestingFace:t?this.collides:!!e&&this.hasInterestingFace},resetCollision:function(t){(void 0===t&&(t=!0),this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,t)&&(this.tilemapLayer&&this.tilemapLayer.calculateFacesAt(this.x,this.y));return this},resetFaces:function(){return this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,this},setCollision:function(t,e,i,n,r){(void 0===e&&(e=t),void 0===i&&(i=t),void 0===n&&(n=t),void 0===r&&(r=!0),this.collideLeft=t,this.collideRight=e,this.collideUp=i,this.collideDown=n,this.faceLeft=t,this.faceRight=e,this.faceTop=i,this.faceBottom=n,r)&&(this.tilemapLayer&&this.tilemapLayer.calculateFacesAt(this.x,this.y));return this},setCollisionCallback:function(t,e){return null===t?(this.collisionCallback=void 0,this.collisionCallbackContext=void 0):(this.collisionCallback=t,this.collisionCallbackContext=e),this},setSize:function(t,e,i,n){return void 0!==t&&(this.width=t),void 0!==e&&(this.height=e),void 0!==i&&(this.baseWidth=i),void 0!==n&&(this.baseHeight=n),this.updatePixelXY(),this},updatePixelXY:function(){return this.pixelX=this.x*this.baseWidth,this.pixelY=this.y*this.baseHeight-(this.height-this.baseHeight),this},canCollide:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown||this.collisionCallback}},collides:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown}},hasInterestingFace:{get:function(){return this.faceTop||this.faceBottom||this.faceLeft||this.faceRight}},tileset:{get:function(){var t=this.tilemapLayer;return t?t.tileset:null}},tilemapLayer:{get:function(){return this.layer.tilemapLayer}},tilemap:{get:function(){var t=this.tilemapLayer;return t?t.tilemap:null}}});t.exports=o},function(t,e){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,e){t.exports=function(t){return t.x-t.width*t.originX+.5*t.width}},function(t,e){t.exports=function(t,e){var i=t.width*t.originX;return t.x=e+i-.5*t.width,t}},function(t,e){t.exports=function(t,e){var i=t.height*t.originY;return t.y=e+i-.5*t.height,t}},function(t,e){t.exports=function(t){return t.y-t.height*t.originY+.5*t.height}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(239),s=i(141),o=i(142),a=i(3),h=new n({initialize:function(t,e,i,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=0),this.x1=t,this.y1=e,this.x2=i,this.y2=n},getPoint:function(t,e){return r(this,t,e)},getPoints:function(t,e,i){return s(this,t,e,i)},getRandomPoint:function(t){return o(this,t)},setTo:function(t,e,i,n){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=0),this.x1=t,this.y1=e,this.x2=i,this.y2=n,this},getPointA:function(t){return void 0===t&&(t=new a),t.set(this.x1,this.y1),t},getPointB:function(t){return void 0===t&&(t=new a),t.set(this.x2,this.y2),t},left:{get:function(){return Math.min(this.x1,this.x2)},set:function(t){this.x1<=this.x2?this.x1=t:this.x2=t}},right:{get:function(){return Math.max(this.x1,this.x2)},set:function(t){this.x1>this.x2?this.x1=t:this.x2=t}},top:{get:function(){return Math.min(this.y1,this.y2)},set:function(t){this.y1<=this.y2?this.y1=t:this.y2=t}},bottom:{get:function(){return Math.max(this.y1,this.y2)},set:function(t){this.y1>this.y2?this.y1=t:this.y2=t}}});t.exports=h},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(158),s=i(9),o=i(3),a=new n({initialize:function(t){this.type=t,this.defaultDivisions=5,this.arcLengthDivisions=100,this.cacheArcLengths=[],this.needsUpdate=!0,this.active=!0,this._tmpVec2A=new o,this._tmpVec2B=new o},draw:function(t,e){return void 0===e&&(e=32),t.strokePoints(this.getPoints(e))},getBounds:function(t,e){t||(t=new s),void 0===e&&(e=16);var i=this.getLength();e>i&&(e=i/2);var n=Math.max(1,Math.round(i/e));return r(this.getSpacedPoints(n),t)},getDistancePoints:function(t){var e=this.getLength(),i=Math.max(1,e/t);return this.getSpacedPoints(i)},getEndPoint:function(t){return void 0===t&&(t=new o),this.getPointAt(1,t)},getLength:function(){var t=this.getLengths();return t[t.length-1]},getLengths:function(t){if(void 0===t&&(t=this.arcLengthDivisions),this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var e,i=[],n=this.getPoint(0,this._tmpVec2A),r=0;i.push(0);for(var s=1;s<=t;s++)r+=(e=this.getPoint(s/t,this._tmpVec2B)).distance(n),i.push(r),n.copy(e);return this.cacheArcLengths=i,i},getPointAt:function(t,e){var i=this.getUtoTmapping(t);return this.getPoint(i,e)},getPoints:function(t){void 0===t&&(t=this.defaultDivisions);for(var e=[],i=0;i<=t;i++)e.push(this.getPoint(i/t));return e},getRandomPoint:function(t){return void 0===t&&(t=new o),this.getPoint(Math.random(),t)},getSpacedPoints:function(t){void 0===t&&(t=this.defaultDivisions);for(var e=[],i=0;i<=t;i++){var n=this.getUtoTmapping(i/t,null,t);e.push(this.getPoint(n))}return e},getStartPoint:function(t){return void 0===t&&(t=new o),this.getPointAt(0,t)},getTangent:function(t,e){void 0===e&&(e=new o);var i=t-1e-4,n=t+1e-4;return i<0&&(i=0),n>1&&(n=1),this.getPoint(i,this._tmpVec2A),this.getPoint(n,e),e.subtract(this._tmpVec2A).normalize()},getTangentAt:function(t,e){var i=this.getUtoTmapping(t);return this.getTangent(i,e)},getTFromDistance:function(t,e){return t<=0?0:this.getUtoTmapping(0,t,e)},getUtoTmapping:function(t,e,i){var n,r=this.getLengths(i),s=0,o=r.length;n=e?Math.min(e,r[o-1]):t*r[o-1];for(var a,h=0,u=o-1;h<=u;)if((a=r[s=Math.floor(h+(u-h)/2)]-n)<0)h=s+1;else{if(!(a>0)){u=s;break}u=s-1}if(r[s=u]===n)return s/(o-1);var c=r[s];return(s+(n-c)/(r[s+1]-c))/(o-1)},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()}});t.exports=a},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(59);t.exports=function(t,e){var i=n(t);for(var r in e)i.hasOwnProperty(r)||(i[r]=e[r]);return i}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=new(i(0))({initialize:function(t){if(this.entries=[],Array.isArray(t))for(var e=0;e<t.length;e++)this.set(t[e])},set:function(t){return-1===this.entries.indexOf(t)&&this.entries.push(t),this},get:function(t,e){for(var i=0;i<this.entries.length;i++){var n=this.entries[i];if(n[t]===e)return n}},getArray:function(){return this.entries.slice(0)},delete:function(t){var e=this.entries.indexOf(t);return e>-1&&this.entries.splice(e,1),this},dump:function(){console.group("Set");for(var t=0;t<this.entries.length;t++){var e=this.entries[t];console.log(e)}console.groupEnd()},each:function(t,e){var i,n=this.entries.slice(),r=n.length;if(e)for(i=0;i<r&&!1!==t.call(e,n[i],i);i++);else for(i=0;i<r&&!1!==t(n[i],i);i++);return this},iterate:function(t,e){var i,n=this.entries.length;if(e)for(i=0;i<n&&!1!==t.call(e,this.entries[i],i);i++);else for(i=0;i<n&&!1!==t(this.entries[i],i);i++);return this},iterateLocal:function(t){var e,i=[];for(e=1;e<arguments.length;e++)i.push(arguments[e]);var n=this.entries.length;for(e=0;e<n;e++){var r=this.entries[e];r[t].apply(r,i)}return this},clear:function(){return this.entries.length=0,this},contains:function(t){return this.entries.indexOf(t)>-1},union:function(t){var e=new n;return t.entries.forEach(function(t){e.set(t)}),this.entries.forEach(function(t){e.set(t)}),e},intersect:function(t){var e=new n;return this.entries.forEach(function(i){t.contains(i)&&e.set(i)}),e},difference:function(t){var e=new n;return this.entries.forEach(function(i){t.contains(i)||e.set(i)}),e},size:{get:function(){return this.entries.length},set:function(t){return this.entries.length=t}}});t.exports=n},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(16),s=i(12),o=i(695),a=new n({Extends:s,Mixins:[r.Alpha,r.BlendMode,r.Depth,r.Flip,r.GetBounds,r.Mask,r.Origin,r.Pipeline,r.ScaleMode,r.ScrollFactor,r.Size,r.TextureCrop,r.Tint,r.Transform,r.Visible,o],initialize:function(t,e,i,n,r){s.call(this,t,"Image"),this._crop=this.resetCropObject(),this.setTexture(n,r),this.setPosition(e,i),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline("TextureTintPipeline")}});t.exports=a},function(t,e){t.exports=function(t,e){return t.hasOwnProperty(e)}},function(t,e){t.exports=function(t,e,i){var n=t.x3-t.x1,r=t.y3-t.y1,s=t.x2-t.x1,o=t.y2-t.y1,a=e-t.x1,h=i-t.y1,u=n*n+r*r,c=n*s+r*o,l=n*a+r*h,f=s*s+o*o,d=s*a+o*h,p=u*f-c*c,g=0===p?0:1/p,v=(f*l-c*d)*g,y=(u*d-c*l)*g;return v>=0&&y>=0&&v+y<1}},function(t,e){t.exports=function(t){return Math.atan2(t.y2-t.y1,t.x2-t.x1)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(77),s=i(368),o=i(369),a=i(71),h=i(147),u=new n({initialize:function(t,e,i,n,r,s){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=0),void 0===r&&(r=0),void 0===s&&(s=0),this.x1=t,this.y1=e,this.x2=i,this.y2=n,this.x3=r,this.y3=s},contains:function(t,e){return r(this,t,e)},getPoint:function(t,e){return s(this,t,e)},getPoints:function(t,e,i){return o(this,t,e,i)},getRandomPoint:function(t){return h(this,t)},setTo:function(t,e,i,n,r,s){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=0),void 0===r&&(r=0),void 0===s&&(s=0),this.x1=t,this.y1=e,this.x2=i,this.y2=n,this.x3=r,this.y3=s,this},getLineA:function(t){return void 0===t&&(t=new a),t.setTo(this.x1,this.y1,this.x2,this.y2),t},getLineB:function(t){return void 0===t&&(t=new a),t.setTo(this.x2,this.y2,this.x3,this.y3),t},getLineC:function(t){return void 0===t&&(t=new a),t.setTo(this.x3,this.y3,this.x1,this.y1),t},left:{get:function(){return Math.min(this.x1,this.x2,this.x3)},set:function(t){var e=0;e=this.x1<=this.x2&&this.x1<=this.x3?this.x1-t:this.x2<=this.x1&&this.x2<=this.x3?this.x2-t:this.x3-t,this.x1-=e,this.x2-=e,this.x3-=e}},right:{get:function(){return Math.max(this.x1,this.x2,this.x3)},set:function(t){var e=0;e=this.x1>=this.x2&&this.x1>=this.x3?this.x1-t:this.x2>=this.x1&&this.x2>=this.x3?this.x2-t:this.x3-t,this.x1-=e,this.x2-=e,this.x3-=e}},top:{get:function(){return Math.min(this.y1,this.y2,this.y3)},set:function(t){var e=0;e=this.y1<=this.y2&&this.y1<=this.y3?this.y1-t:this.y2<=this.y1&&this.y2<=this.y3?this.y2-t:this.y3-t,this.y1-=e,this.y2-=e,this.y3-=e}},bottom:{get:function(){return Math.max(this.y1,this.y2,this.y3)},set:function(t){var e=0;e=this.y1>=this.y2&&this.y1>=this.y3?this.y1-t:this.y2>=this.y1&&this.y2>=this.y3?this.y2-t:this.y3-t,this.y1-=e,this.y2-=e,this.y3-=e}}});t.exports=u},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=new(i(0))({initialize:function(t,e,i){this.x=0,this.y=0,this.z=0,"object"==typeof t?(this.x=t.x||0,this.y=t.y||0,this.z=t.z||0):(this.x=t||0,this.y=e||0,this.z=i||0)},up:function(){return this.x=0,this.y=1,this.z=0,this},clone:function(){return new n(this.x,this.y,this.z)},crossVectors:function(t,e){var i=t.x,n=t.y,r=t.z,s=e.x,o=e.y,a=e.z;return this.x=n*a-r*o,this.y=r*s-i*a,this.z=i*o-n*s,this},equals:function(t){return this.x===t.x&&this.y===t.y&&this.z===t.z},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z||0,this},set:function(t,e,i){return"object"==typeof t?(this.x=t.x||0,this.y=t.y||0,this.z=t.z||0):(this.x=t||0,this.y=e||0,this.z=i||0),this},add:function(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z||0,this},subtract:function(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z||0,this},multiply:function(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z||1,this},scale:function(t){return isFinite(t)?(this.x*=t,this.y*=t,this.z*=t):(this.x=0,this.y=0,this.z=0),this},divide:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z||1,this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},distance:function(t){var e=t.x-this.x,i=t.y-this.y,n=t.z-this.z||0;return Math.sqrt(e*e+i*i+n*n)},distanceSq:function(t){var e=t.x-this.x,i=t.y-this.y,n=t.z-this.z||0;return e*e+i*i+n*n},length:function(){var t=this.x,e=this.y,i=this.z;return Math.sqrt(t*t+e*e+i*i)},lengthSq:function(){var t=this.x,e=this.y,i=this.z;return t*t+e*e+i*i},normalize:function(){var t=this.x,e=this.y,i=this.z,n=t*t+e*e+i*i;return n>0&&(n=1/Math.sqrt(n),this.x=t*n,this.y=e*n,this.z=i*n),this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},cross:function(t){var e=this.x,i=this.y,n=this.z,r=t.x,s=t.y,o=t.z;return this.x=i*o-n*s,this.y=n*r-e*o,this.z=e*s-i*r,this},lerp:function(t,e){void 0===e&&(e=0);var i=this.x,n=this.y,r=this.z;return this.x=i+e*(t.x-i),this.y=n+e*(t.y-n),this.z=r+e*(t.z-r),this},transformMat3:function(t){var e=this.x,i=this.y,n=this.z,r=t.val;return this.x=e*r[0]+i*r[3]+n*r[6],this.y=e*r[1]+i*r[4]+n*r[7],this.z=e*r[2]+i*r[5]+n*r[8],this},transformMat4:function(t){var e=this.x,i=this.y,n=this.z,r=t.val;return this.x=r[0]*e+r[4]*i+r[8]*n+r[12],this.y=r[1]*e+r[5]*i+r[9]*n+r[13],this.z=r[2]*e+r[6]*i+r[10]*n+r[14],this},transformCoordinates:function(t){var e=this.x,i=this.y,n=this.z,r=t.val,s=e*r[0]+i*r[4]+n*r[8]+r[12],o=e*r[1]+i*r[5]+n*r[9]+r[13],a=e*r[2]+i*r[6]+n*r[10]+r[14],h=e*r[3]+i*r[7]+n*r[11]+r[15];return this.x=s/h,this.y=o/h,this.z=a/h,this},transformQuat:function(t){var e=this.x,i=this.y,n=this.z,r=t.x,s=t.y,o=t.z,a=t.w,h=a*e+s*n-o*i,u=a*i+o*e-r*n,c=a*n+r*i-s*e,l=-r*e-s*i-o*n;return this.x=h*a+l*-r+u*-o-c*-s,this.y=u*a+l*-s+c*-r-h*-o,this.z=c*a+l*-o+h*-s-u*-r,this},project:function(t){var e=this.x,i=this.y,n=this.z,r=t.val,s=r[0],o=r[1],a=r[2],h=r[3],u=r[4],c=r[5],l=r[6],f=r[7],d=r[8],p=r[9],g=r[10],v=r[11],y=r[12],m=r[13],x=r[14],b=1/(e*h+i*f+n*v+r[15]);return this.x=(e*s+i*u+n*d+y)*b,this.y=(e*o+i*c+n*p+m)*b,this.z=(e*a+i*l+n*g+x)*b,this},unproject:function(t,e){var i=t.x,n=t.y,r=t.z,s=t.w,o=this.x-i,a=s-this.y-1-n,h=this.z;return this.x=2*o/r-1,this.y=2*a/s-1,this.z=2*h-1,this.project(e)},reset:function(){return this.x=0,this.y=0,this.z=0,this}});t.exports=n},function(t,e,i){var n={};t.exports=n;var r=i(15);n.on=function(t,e,i){for(var n,r=e.split(" "),s=0;s<r.length;s++)n=r[s],t.events=t.events||{},t.events[n]=t.events[n]||[],t.events[n].push(i);return i},n.off=function(t,e,i){if(e){"function"==typeof e&&(i=e,e=r.keys(t.events).join(" "));for(var n=e.split(" "),s=0;s<n.length;s++){var o=t.events[n[s]],a=[];if(i&&o)for(var h=0;h<o.length;h++)o[h]!==i&&a.push(o[h]);t.events[n[s]]=a}}else t.events={}},n.trigger=function(t,e,i){var n,s,o,a,h=t.events;if(h&&r.keys(h).length>0){i||(i={}),n=e.split(" ");for(var u=0;u<n.length;u++)if(o=h[s=n[u]]){(a=r.clone(i,!1)).name=s,a.source=t;for(var c=0;c<o.length;c++)o[c].apply(t,[a])}}}},function(t,e,i){var n={};t.exports=n;var r=i(34),s=i(31),o=i(96),a=i(32),h=i(198),u=i(15);n._warming=.4,n._torqueDampen=1,n._minLength=1e-6,n.create=function(t){var e=t;e.bodyA&&!e.pointA&&(e.pointA={x:0,y:0}),e.bodyB&&!e.pointB&&(e.pointB={x:0,y:0});var i=e.bodyA?s.add(e.bodyA.position,e.pointA):e.pointA,n=e.bodyB?s.add(e.bodyB.position,e.pointB):e.pointB,r=s.magnitude(s.sub(i,n));e.length=void 0!==e.length?e.length:r,e.id=e.id||u.nextId(),e.label=e.label||"Constraint",e.type="constraint",e.stiffness=e.stiffness||(e.length>0?1:.7),e.damping=e.damping||0,e.angularStiffness=e.angularStiffness||0,e.angleA=e.bodyA?e.bodyA.angle:e.angleA,e.angleB=e.bodyB?e.bodyB.angle:e.angleB,e.plugin={};var o={visible:!0,lineWidth:2,strokeStyle:"#ffffff",type:"line",anchors:!0};return 0===e.length&&e.stiffness>.1?(o.type="pin",o.anchors=!1):e.stiffness<.9&&(o.type="spring"),e.render=u.extend(o,e.render),e},n.preSolveAll=function(t){for(var e=0;e<t.length;e+=1){var i=t[e],n=i.constraintImpulse;i.isStatic||0===n.x&&0===n.y&&0===n.angle||(i.position.x+=n.x,i.position.y+=n.y,i.angle+=n.angle)}},n.solveAll=function(t,e){for(var i=0;i<t.length;i+=1){var r=t[i],s=!r.bodyA||r.bodyA&&r.bodyA.isStatic,o=!r.bodyB||r.bodyB&&r.bodyB.isStatic;(s||o)&&n.solve(t[i],e)}for(i=0;i<t.length;i+=1)s=!(r=t[i]).bodyA||r.bodyA&&r.bodyA.isStatic,o=!r.bodyB||r.bodyB&&r.bodyB.isStatic,s||o||n.solve(t[i],e)},n.solve=function(t,e){var i=t.bodyA,r=t.bodyB,o=t.pointA,a=t.pointB;if(i||r){i&&!i.isStatic&&(s.rotate(o,i.angle-t.angleA,o),t.angleA=i.angle),r&&!r.isStatic&&(s.rotate(a,r.angle-t.angleB,a),t.angleB=r.angle);var h=o,u=a;if(i&&(h=s.add(i.position,o)),r&&(u=s.add(r.position,a)),h&&u){var c=s.sub(h,u),l=s.magnitude(c);l<n._minLength&&(l=n._minLength);var f,d,p,g,v,y=(l-t.length)/l,m=t.stiffness<1?t.stiffness*e:t.stiffness,x=s.mult(c,y*m),b=(i?i.inverseMass:0)+(r?r.inverseMass:0),w=b+((i?i.inverseInertia:0)+(r?r.inverseInertia:0));if(t.damping){var T=s.create();p=s.div(c,l),v=s.sub(r&&s.sub(r.position,r.positionPrev)||T,i&&s.sub(i.position,i.positionPrev)||T),g=s.dot(p,v)}i&&!i.isStatic&&(d=i.inverseMass/b,i.constraintImpulse.x-=x.x*d,i.constraintImpulse.y-=x.y*d,i.position.x-=x.x*d,i.position.y-=x.y*d,t.damping&&(i.positionPrev.x-=t.damping*p.x*g*d,i.positionPrev.y-=t.damping*p.y*g*d),f=s.cross(o,x)/w*n._torqueDampen*i.inverseInertia*(1-t.angularStiffness),i.constraintImpulse.angle-=f,i.angle-=f),r&&!r.isStatic&&(d=r.inverseMass/b,r.constraintImpulse.x+=x.x*d,r.constraintImpulse.y+=x.y*d,r.position.x+=x.x*d,r.position.y+=x.y*d,t.damping&&(r.positionPrev.x+=t.damping*p.x*g*d,r.positionPrev.y+=t.damping*p.y*g*d),f=s.cross(a,x)/w*n._torqueDampen*r.inverseInertia*(1-t.angularStiffness),r.constraintImpulse.angle+=f,r.angle+=f)}}},n.postSolveAll=function(t){for(var e=0;e<t.length;e++){var i=t[e],u=i.constraintImpulse;if(!(i.isStatic||0===u.x&&0===u.y&&0===u.angle)){o.set(i,!1);for(var c=0;c<i.parts.length;c++){var l=i.parts[c];r.translate(l.vertices,u),c>0&&(l.position.x+=u.x,l.position.y+=u.y),0!==u.angle&&(r.rotate(l.vertices,u.angle,i.position),h.rotate(l.axes,u.angle),c>0&&s.rotateAbout(l.position,u.angle,i.position,l.position)),a.update(l.bounds,l.vertices,i.velocity)}u.angle*=n._warming,u.x*=n._warming,u.y*=n._warming}}}},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={DEFAULT:0,LINEAR:0,NEAREST:1}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(43),s=i(230),o=i(232),a=i(139),h=new n({initialize:function(t,e,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),this.x=t,this.y=e,this._radius=i,this._diameter=2*i},contains:function(t,e){return r(this,t,e)},getPoint:function(t,e){return s(this,t,e)},getPoints:function(t,e,i){return o(this,t,e,i)},getRandomPoint:function(t){return a(this,t)},setTo:function(t,e,i){return this.x=t,this.y=e,this._radius=i,this._diameter=2*i,this},setEmpty:function(){return this._radius=0,this._diameter=0,this},setPosition:function(t,e){return void 0===e&&(e=t),this.x=t,this.y=e,this},isEmpty:function(){return this._radius<=0},radius:{get:function(){return this._radius},set:function(t){this._radius=t,this._diameter=2*t}},diameter:{get:function(){return this._diameter},set:function(t){this._diameter=t,this._radius=.5*t}},left:{get:function(){return this.x-this._radius},set:function(t){this.x=t+this._radius}},right:{get:function(){return this.x+this._radius},set:function(t){this.x=t-this._radius}},top:{get:function(){return this.y-this._radius},set:function(t){this.y=t+this._radius}},bottom:{get:function(){return this.y+this._radius},set:function(t){this.y=t-this._radius}}});t.exports=h},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(23);t.exports=function(t,e,i){return(i-e)*(t=n(t,0,1))}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=new(i(0))({initialize:function(t,e){this.parent=t,this.events=e,e||(this.events=t.events?t.events:t),this.list={},this.values={},this._frozen=!1,!t.hasOwnProperty("sys")&&this.events&&this.events.once("destroy",this.destroy,this)},get:function(t){var e=this.list;if(Array.isArray(t)){for(var i=[],n=0;n<t.length;n++)i.push(e[t[n]]);return i}return e[t]},getAll:function(){var t={};for(var e in this.list)this.list.hasOwnProperty(e)&&(t[e]=this.list[e]);return t},query:function(t){var e={};for(var i in this.list)this.list.hasOwnProperty(i)&&i.match(t)&&(e[i]=this.list[i]);return e},set:function(t,e){if(this._frozen)return this;if("string"==typeof t)return this.setValue(t,e);for(var i in t)this.setValue(i,t[i]);return this},setValue:function(t,e){if(this._frozen)return this;if(this.has(t))this.values[t]=e;else{var i=this,n=this.list,r=this.events,s=this.parent;Object.defineProperty(this.values,t,{enumerable:!0,configurable:!0,get:function(){return n[t]},set:function(e){if(!i._frozen){var o=n[t];n[t]=e,r.emit("changedata",s,t,e,o),r.emit("changedata_"+t,s,e,o)}}}),n[t]=e,r.emit("setdata",s,t,e)}return this},each:function(t,e){for(var i=[this.parent,null,void 0],n=1;n<arguments.length;n++)i.push(arguments[n]);for(var r in this.list)i[1]=r,i[2]=this.list[r],t.apply(e,i);return this},merge:function(t,e){for(var i in void 0===e&&(e=!0),t)t.hasOwnProperty(i)&&(e||!e&&!this.has(i))&&this.setValue(i,t[i]);return this},remove:function(t){if(this._frozen)return this;if(!Array.isArray(t))return this.removeValue(t);for(var e=0;e<t.length;e++)this.removeValue(t[e]);return this},removeValue:function(t){if(this.has(t)){var e=this.list[t];delete this.list[t],delete this.values[t],this.events.emit("removedata",this.parent,t,e)}return this},pop:function(t){var e=void 0;return!this._frozen&&this.has(t)&&(e=this.list[t],delete this.list[t],delete this.values[t],this.events.emit("removedata",this,t,e)),e},has:function(t){return this.list.hasOwnProperty(t)},setFreeze:function(t){return this._frozen=t,this},reset:function(){for(var t in this.list)delete this.list[t],delete this.values[t];return this._frozen=!1,this},destroy:function(){this.reset(),this.events.off("changedata"),this.events.off("setdata"),this.events.off("removedata"),this.parent=null},freeze:{get:function(){return this._frozen},set:function(t){this._frozen=!!t}},count:{get:function(){var t=0;for(var e in this.list)void 0!==this.list[e]&&t++;return t}}});t.exports=n},function(t,e,i){(function(e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i={android:!1,chromeOS:!1,cocoonJS:!1,cocoonJSApp:!1,cordova:!1,crosswalk:!1,desktop:!1,ejecta:!1,electron:!1,iOS:!1,iOSVersion:0,iPad:!1,iPhone:!1,kindle:!1,linux:!1,macOS:!1,node:!1,nodeWebkit:!1,pixelRatio:1,webApp:!1,windows:!1,windowsPhone:!1};t.exports=function(){var t=navigator.userAgent;/Windows/.test(t)?i.windows=!0:/Mac OS/.test(t)?i.macOS=!0:/Android/.test(t)?i.android=!0:/Linux/.test(t)?i.linux=!0:/iP[ao]d|iPhone/i.test(t)?(i.iOS=!0,navigator.appVersion.match(/OS (\d+)/),i.iOSVersion=parseInt(RegExp.$1,10)):/Kindle/.test(t)||/\bKF[A-Z][A-Z]+/.test(t)||/Silk.*Mobile Safari/.test(t)?i.kindle=!0:/CrOS/.test(t)&&(i.chromeOS=!0),(/Windows Phone/i.test(t)||/IEMobile/i.test(t))&&(i.android=!1,i.iOS=!1,i.macOS=!1,i.windows=!0,i.windowsPhone=!0);var n=/Silk/.test(t);if((i.windows||i.macOS||i.linux&&!n||i.chromeOS)&&(i.desktop=!0),(i.windowsPhone||/Windows NT/i.test(t)&&/Touch/i.test(t))&&(i.desktop=!1),navigator.standalone&&(i.webApp=!0),void 0!==window.cordova&&(i.cordova=!0),e&&e.versions&&e.versions.node&&(i.node=!0),i.node&&"object"==typeof e.versions&&(i.nodeWebkit=!!e.versions["node-webkit"],i.electron=!!e.versions.electron),navigator.isCocoonJS){i.cocoonJS=!0;try{i.cocoonJSApp="undefined"!=typeof CocoonJS}catch(t){i.cocoonJSApp=!1}}return void 0!==window.ejecta&&(i.ejecta=!0),/Crosswalk/.test(t)&&(i.crosswalk=!0),i.iPhone=-1!==t.toLowerCase().indexOf("iphone"),i.iPad=-1!==t.toLowerCase().indexOf("ipad"),i.pixelRatio=window.devicePixelRatio||1,i}()}).call(this,i(293))},function(t,e){t.exports=function(t,e){if(!(e>=t.length)){for(var i=t.length-1,n=t[e],r=e;r<i;r++)t[r]=t[r+1];return t.length=i,n}}},function(t,e){t.exports=function(t,e,i){if(t.width<=0||t.height<=0)return!1;var n=(e-t.x)/t.width,r=(i-t.y)/t.height;return(n*=n)+(r*=r)<.25}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(218),r=i(0),s=i(1),o=i(4),a=i(6),h=i(332),u=i(74),c=i(45),l=new r({initialize:function(t,e,i){i?e&&!Array.isArray(e)&&(e=[e]):Array.isArray(e)?a(e[0])&&(i=e,e=null):a(e)&&(i=e,e=null),this.scene=t,this.children=new u(e),this.isParent=!0,this.classType=s(i,"classType",c),this.active=s(i,"active",!0),this.maxSize=s(i,"maxSize",-1),this.defaultKey=s(i,"defaultKey",null),this.defaultFrame=s(i,"defaultFrame",null),this.runChildUpdate=s(i,"runChildUpdate",!1),this.createCallback=s(i,"createCallback",null),this.removeCallback=s(i,"removeCallback",null),this.createMultipleCallback=s(i,"createMultipleCallback",null),i&&this.createMultiple(i)},create:function(t,e,i,n,r,s){if(void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=this.defaultKey),void 0===n&&(n=this.defaultFrame),void 0===r&&(r=!0),void 0===s&&(s=!0),this.isFull())return null;var o=new this.classType(this.scene,t,e,i,n);return this.scene.sys.displayList.add(o),o.preUpdate&&this.scene.sys.updateList.add(o),o.visible=r,o.setActive(s),this.add(o),o},createMultiple:function(t){if(this.isFull())return[];Array.isArray(t)||(t=[t]);var e=[];if(t[0].key)for(var i=0;i<t.length;i++){var n=this.createFromConfig(t[i]);e=e.concat(n)}return e},createFromConfig:function(t){if(this.isFull())return[];this.classType=s(t,"classType",this.classType);var e=s(t,"key",void 0),i=s(t,"frame",null),r=s(t,"visible",!0),a=s(t,"active",!0),u=[];if(void 0===e)return u;Array.isArray(e)||(e=[e]),Array.isArray(i)||(i=[i]);for(var c=s(t,"repeat",0),l=s(t,"randomKey",!1),f=s(t,"randomFrame",!1),d=s(t,"yoyo",!1),p=s(t,"frameQuantity",1),g=s(t,"max",0),v=h(e,i,{max:g,qty:p,random:l,randomB:f,repeat:c,yoyo:d}),y=0;y<v.length;y++){var m=this.create(0,0,v[y].a,v[y].b,r,a);if(!m)break;u.push(m)}var x=o(t,"setXY.x",0),b=o(t,"setXY.y",0),w=o(t,"setXY.stepX",0),T=o(t,"setXY.stepY",0);n.SetXY(u,x,b,w,T);var S=o(t,"setRotation.value",0),_=o(t,"setRotation.step",0);n.SetRotation(u,S,_);var A=o(t,"setScale.x",1),E=o(t,"setScale.y",A),I=o(t,"setScale.stepX",0),C=o(t,"setScale.stepY",0);n.SetScale(u,A,E,I,C);var M=o(t,"setAlpha.value",1),P=o(t,"setAlpha.step",0);n.SetAlpha(u,M,P);var k=s(t,"hitArea",null),O=s(t,"hitAreaCallback",null);k&&n.SetHitArea(u,k,O);var N=s(t,"gridAlign",!1);return N&&n.GridAlign(u,N),this.createMultipleCallback&&this.createMultipleCallback.call(this,u),u},preUpdate:function(t,e){if(this.runChildUpdate&&0!==this.children.size)for(var i=this.children.entries.slice(),n=0;n<i.length;n++){var r=i[n];r.active&&r.update(t,e)}},add:function(t,e){return void 0===e&&(e=!1),this.isFull()?this:(this.children.set(t),this.createCallback&&this.createCallback.call(this,t),e&&(this.scene.sys.displayList.add(t),t.preUpdate&&this.scene.sys.updateList.add(t)),t.on("destroy",this.remove,this),this)},addMultiple:function(t,e){if(void 0===e&&(e=!1),Array.isArray(t))for(var i=0;i<t.length;i++)this.add(t[i],e);return this},remove:function(t,e,i){return void 0===e&&(e=!1),void 0===i&&(i=!1),this.children.contains(t)?(this.children.delete(t),this.removeCallback&&this.removeCallback.call(this,t),t.off("destroy",this.remove,this),i?t.destroy():e&&(t.scene.sys.displayList.remove(t),t.preUpdate&&t.scene.sys.updateList.remove(t)),this):this},clear:function(t,e){void 0===t&&(t=!1),void 0===e&&(e=!1);for(var i=this.children,n=0;n<i.size;n++){var r=i.entries[n];r.off("destroy",this.remove,this),e?r.destroy():t&&(r.scene.sys.displayList.remove(r),r.preUpdate&&r.scene.sys.updateList.remove(r))}return this.children.clear(),this},contains:function(t){return this.children.contains(t)},getChildren:function(){return this.children.entries},getLength:function(){return this.children.size},getFirst:function(t,e,i,n,r,s,o){return this.getHandler(!0,1,t,e,i,n,r,s,o)},getFirstNth:function(t,e,i,n,r,s,o,a){return this.getHandler(!0,t,e,i,n,r,s,o,a)},getLast:function(t,e,i,n,r,s,o){return this.getHandler(!1,1,t,e,i,n,r,s,o)},getLastNth:function(t,e,i,n,r,s,o,a){return this.getHandler(!1,t,e,i,n,r,s,o,a)},getHandler:function(t,e,i,n,r,s,o,a,h){var u,c;void 0===i&&(i=!1),void 0===n&&(n=!1);var l=0,f=this.children.entries;if(t)for(c=0;c<f.length;c++)if((u=f[c]).active===i){if(++l===e)break}else u=null;else for(c=f.length-1;c>=0;c--)if((u=f[c]).active===i){if(++l===e)break}else u=null;return u?("number"==typeof r&&(u.x=r),"number"==typeof s&&(u.y=s),u):n?this.create(r,s,o,a,h):null},get:function(t,e,i,n,r){return this.getFirst(!1,!0,t,e,i,n,r)},getFirstAlive:function(t,e,i,n,r,s){return this.getFirst(!0,t,e,i,n,r,s)},getFirstDead:function(t,e,i,n,r,s){return this.getFirst(!1,t,e,i,n,r,s)},playAnimation:function(t,e){return n.PlayAnimation(this.children.entries,t,e),this},isFull:function(){return-1!==this.maxSize&&this.children.size>=this.maxSize},countActive:function(t){void 0===t&&(t=!0);for(var e=0,i=0;i<this.children.size;i++)this.children.entries[i].active===t&&e++;return e},getTotalUsed:function(){return this.countActive()},getTotalFree:function(){var t=this.getTotalUsed();return(-1===this.maxSize?999999999999:this.maxSize)-t},setDepth:function(t,e){return n.SetDepth(this.children.entries,t,e),this},kill:function(t){this.children.contains(t)&&t.setActive(!1)},killAndHide:function(t){this.children.contains(t)&&(t.setActive(!1),t.setVisible(!1))},toggleVisible:function(){return n.ToggleVisible(this.children.entries),this},destroy:function(t){if(void 0===t&&(t=!1),this.scene&&!this.ignoreDestroy){if(t)for(var e=this.children,i=0;i<e.size;i++){var n=e.entries[i];n.off("destroy",this.remove,this),n.destroy()}this.children.clear(),this.scene=void 0,this.children=void 0}}});t.exports=l},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(157);t.exports=function(t,e){if("string"==typeof t&&n.hasOwnProperty(t)){if(e){var i=e.slice(0);return i.unshift(0),function(e){return i[0]=e,n[t].apply(this,i)}}return n[t]}return"function"==typeof t?t:(Array.isArray(t)&&t.length,n.Power0)}},function(t,e){t.exports=function(t,e,i){return t&&t.hasOwnProperty(e)?t[e]:i}},function(t,e){t.exports={CREATED:0,INIT:1,DELAY:2,OFFSET_DELAY:3,PENDING_RENDER:4,PLAYING_FORWARD:5,PLAYING_BACKWARD:6,HOLD_DELAY:7,REPEAT_DELAY:8,COMPLETE:9,PENDING_ADD:20,PAUSED:21,LOOP_DELAY:22,ACTIVE:23,COMPLETE_DELAY:24,PENDING_REMOVE:25,REMOVED:26}},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={NEVER:0,LITE:1,PASSIVE:2,ACTIVE:4,FIXED:8}},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={NONE:0,A:1,B:2,BOTH:3}},function(t,e,i){var n={};t.exports=n;var r=i(81);n._motionWakeThreshold=.18,n._motionSleepThreshold=.08,n._minBias=.9,n.update=function(t,e){for(var i=e*e*e,r=0;r<t.length;r++){var s=t[r],o=s.speed*s.speed+s.angularSpeed*s.angularSpeed;if(0===s.force.x&&0===s.force.y){var a=Math.min(s.motion,o),h=Math.max(s.motion,o);s.motion=n._minBias*a+(1-n._minBias)*h,s.sleepThreshold>0&&s.motion<n._motionSleepThreshold*i?(s.sleepCounter+=1,s.sleepCounter>=s.sleepThreshold&&n.set(s,!0)):s.sleepCounter>0&&(s.sleepCounter-=1)}else n.set(s,!1)}},n.afterCollisions=function(t,e){for(var i=e*e*e,r=0;r<t.length;r++){var s=t[r];if(s.isActive){var o=s.collision,a=o.bodyA.parent,h=o.bodyB.parent;if(!(a.isSleeping&&h.isSleeping||a.isStatic||h.isStatic)&&(a.isSleeping||h.isSleeping)){var u=a.isSleeping&&!a.isStatic?a:h,c=u===a?h:a;!u.isStatic&&c.motion>n._motionWakeThreshold*i&&n.set(u,!1)}}}},n.set=function(t,e){var i=t.isSleeping;e?(t.isSleeping=!0,t.sleepCounter=t.sleepThreshold,t.positionImpulse.x=0,t.positionImpulse.y=0,t.positionPrev.x=t.position.x,t.positionPrev.y=t.position.y,t.anglePrev=t.angle,t.speed=0,t.angularSpeed=0,t.motion=0,i||r.trigger(t,"sleepStart")):(t.isSleeping=!1,t.sleepCounter=0,i&&r.trigger(t,"sleepEnd"))}},function(t,e){t.exports=function(t,e,i){return t>=0&&t<i.width&&e>=0&&e<i.height}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(1),s=new n({initialize:function(t){void 0===t&&(t={}),this.name=r(t,"name","layer"),this.x=r(t,"x",0),this.y=r(t,"y",0),this.width=r(t,"width",0),this.height=r(t,"height",0),this.tileWidth=r(t,"tileWidth",0),this.tileHeight=r(t,"tileHeight",0),this.baseTileWidth=r(t,"baseTileWidth",this.tileWidth),this.baseTileHeight=r(t,"baseTileHeight",this.tileHeight),this.widthInPixels=r(t,"widthInPixels",this.width*this.baseTileWidth),this.heightInPixels=r(t,"heightInPixels",this.height*this.baseTileHeight),this.alpha=r(t,"alpha",1),this.visible=r(t,"visible",!0),this.properties=r(t,"properties",{}),this.indexes=r(t,"indexes",[]),this.collideIndexes=r(t,"collideIndexes",[]),this.callbacks=r(t,"callbacks",[]),this.bodies=r(t,"bodies",[]),this.data=r(t,"data",[]),this.tilemapLayer=r(t,"tilemapLayer",null)}});t.exports=s},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(1),s=new n({initialize:function(t){void 0===t&&(t={}),this.name=r(t,"name","map"),this.width=r(t,"width",0),this.height=r(t,"height",0),this.tileWidth=r(t,"tileWidth",0),this.tileHeight=r(t,"tileHeight",0),this.widthInPixels=r(t,"widthInPixels",this.width*this.tileWidth),this.heightInPixels=r(t,"heightInPixels",this.height*this.tileHeight),this.format=r(t,"format",null),this.orientation=r(t,"orientation","orthogonal"),this.renderOrder=r(t,"renderOrder","right-down"),this.version=r(t,"version","1"),this.properties=r(t,"properties",{}),this.layers=r(t,"layers",[]),this.images=r(t,"images",[]),this.objects=r(t,"objects",{}),this.collision=r(t,"collision",{}),this.tilesets=r(t,"tilesets",[]),this.imageCollections=r(t,"imageCollections",[]),this.tiles=r(t,"tiles",[])}});t.exports=s},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(56),r=i(84),s=i(43),o=i(0),a=i(16),h=i(12),u=i(9),c=i(44),l=new o({Extends:h,Mixins:[a.Depth,a.GetBounds,a.Origin,a.ScaleMode,a.Transform,a.ScrollFactor,a.Visible],initialize:function(t,e,i,r,s){void 0===r&&(r=1),void 0===s&&(s=r),h.call(this,t,"Zone"),this.setPosition(e,i),this.width=r,this.height=s,this.blendMode=n.NORMAL,this.updateDisplayOrigin()},displayWidth:{get:function(){return this.scaleX*this.width},set:function(t){this.scaleX=t/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(t){this.scaleY=t/this.height}},setSize:function(t,e,i){return void 0===i&&(i=!0),this.width=t,this.height=e,i&&this.input&&this.input.hitArea instanceof u&&(this.input.hitArea.width=t,this.input.hitArea.height=e),this},setDisplaySize:function(t,e){return this.displayWidth=t,this.displayHeight=e,this},setCircleDropZone:function(t){return this.setDropZone(new r(0,0,t),s)},setRectangleDropZone:function(t,e){var i=-t/2,n=-e/2;return this.setDropZone(new u(i,n,t,e),c)},setDropZone:function(t,e){return void 0===t?this.setRectangleDropZone(this.width,this.height):this.input||this.setInteractive(t,e,!0),this},setAlpha:function(){},renderCanvas:function(){},renderWebGL:function(){}});t.exports=l},function(t,e){t.exports=function(t){return 2*(t.width+t.height)}},function(t,e){t.exports={defaultPipeline:null,pipeline:null,initPipeline:function(t){var e=this.scene.sys.game.renderer;return!!(e&&e.gl&&e.hasPipeline(t))&&(this.defaultPipeline=e.getPipeline(t),this.pipeline=this.defaultPipeline,!0)},setPipeline:function(t){var e=this.scene.sys.game.renderer;return e&&e.gl&&e.hasPipeline(t)&&(this.pipeline=e.getPipeline(t)),this},resetPipeline:function(){return this.pipeline=this.defaultPipeline,null!==this.pipeline},getPipelineName:function(){return this.pipeline.name}}},function(t,e){t.exports=function(t){for(var e=t.length-1;e>0;e--){var i=Math.floor(Math.random()*(e+1)),n=t[e];t[e]=t[i],t[i]=n}return t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(16),s=i(50),o=i(8),a=i(9),h=i(48),u=i(153),c=i(3),l=new n({Extends:o,Mixins:[r.Alpha,r.Visible],initialize:function(t,e,i,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=0),o.call(this),this.scene,this.sceneManager,this.config,this.id=0,this.name="",this.resolution=1,this.roundPixels=!1,this.useBounds=!1,this.worldView=new a,this.dirty=!0,this._x=t,this._y=e,this._cx=0,this._cy=0,this._cw=0,this._ch=0,this._width=i,this._height=n,this._bounds=new a,this._scrollX=0,this._scrollY=0,this._zoom=1,this._rotation=0,this.matrix=new h,this.transparent=!0,this.backgroundColor=u("rgba(0,0,0,0)"),this.disableCull=!1,this.culledObjects=[],this.midPoint=new c(i/2,n/2),this.originX=.5,this.originY=.5,this._customViewport=!1},setOrigin:function(t,e){return void 0===t&&(t=.5),void 0===e&&(e=t),this.originX=t,this.originY=e,this},getScroll:function(t,e,i){void 0===i&&(i=new c);var n=.5*this.width,r=.5*this.height;return i.x=t-n,i.y=e-r,this.useBounds&&(i.x=this.clampX(i.x),i.y=this.clampY(i.y)),i},centerOn:function(t,e){var i=.5*this.width,n=.5*this.height;return this.midPoint.set(t,e),this.scrollX=t-i,this.scrollY=e-n,this.useBounds&&(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},centerToBounds:function(){if(this.useBounds){var t=this._bounds,e=.5*this.width,i=.5*this.height;this.midPoint.set(t.centerX,t.centerY),this.scrollX=t.centerX-e,this.scrollY=t.centerY-i}return this},centerToSize:function(){return this.scrollX=.5*this.width,this.scrollY=.5*this.height,this},cull:function(t){if(this.disableCull)return t;var e=this.matrix.matrix,i=e[0],n=e[1],r=e[2],s=e[3],o=i*s-n*r;if(!o)return t;var a=e[4],h=e[5],u=this.scrollX,c=this.scrollY,l=this.width,f=this.height,d=this.culledObjects,p=t.length;o=1/o,d.length=0;for(var g=0;g<p;++g){var v=t[g];if(v.hasOwnProperty("width")&&!v.parentContainer){var y=v.width,m=v.height,x=v.x-u*v.scrollFactorX-y*v.originX,b=v.y-c*v.scrollFactorY-m*v.originY,w=x*i+b*r+a,T=x*n+b*s+h,S=(x+y)*i+(b+m)*r+a,_=(x+y)*n+(b+m)*s+h,A=l+y,E=f+m;w>-y&&T>-m&&w<A&&T<E&&S>-y&&_>-m&&S<A&&_<E&&d.push(v)}else d.push(v)}return d},getWorldPoint:function(t,e,i){void 0===i&&(i=new c);var n=this.matrix.matrix,r=n[0],s=n[1],o=n[2],a=n[3],h=n[4],u=n[5],l=r*a-s*o;if(!l)return i.x=t,i.y=e,i;var f=a*(l=1/l),d=-s*l,p=-o*l,g=r*l,v=(o*u-a*h)*l,y=(s*h-r*u)*l,m=Math.cos(this.rotation),x=Math.sin(this.rotation),b=this.zoom,w=this.resolution,T=this.scrollX,S=this.scrollY,_=t+(T*m-S*x)*b,A=e+(T*x+S*m)*b;return i.x=(_*f+A*p+v)*w,i.y=(_*d+A*g+y)*w,i},ignore:function(t){var e=this.id;Array.isArray(t)||(t=[t]);for(var i=0;i<t.length;i++){var n=t[i];Array.isArray(n)?this.ignore(n):n.isParent?this.ignore(n.getChildren()):n.cameraFilter|=e}return this},preRender:function(t,e){var i=this.width,n=this.height,r=.5*i,s=.5*n,o=this.zoom*t,a=this.matrix,h=i*this.originX,u=n*this.originY,c=this.scrollX,l=this.scrollY;this.useBounds&&(c=this.clampX(c),l=this.clampY(l)),this.roundPixels&&(h=Math.round(h),u=Math.round(u)),this.scrollX=c,this.scrollY=l;var f=c+r,d=l+s;this.midPoint.set(f,d);var p=i/o,g=n/o;this.worldView.setTo(f-p/2,d-g/2,p,g),a.loadIdentity(),a.scale(e,e),a.translate(this.x+h,this.y+u),a.rotate(this.rotation),a.scale(o,o),a.translate(-h,-u)},clampX:function(t){var e=this._bounds,i=this.displayWidth,n=e.x+(i-this.width)/2,r=Math.max(n,n+e.width-i);return t<n?t=n:t>r&&(t=r),t},clampY:function(t){var e=this._bounds,i=this.displayHeight,n=e.y+(i-this.height)/2,r=Math.max(n,n+e.height-i);return t<n?t=n:t>r&&(t=r),t},removeBounds:function(){return this.useBounds=!1,this.dirty=!0,this._bounds.setEmpty(),this},setAngle:function(t){return void 0===t&&(t=0),this.rotation=s(t),this},setBackgroundColor:function(t){return void 0===t&&(t="rgba(0,0,0,0)"),this.backgroundColor=u(t),this.transparent=0===this.backgroundColor.alpha,this},setBounds:function(t,e,i,n,r){return this._bounds.setTo(t,e,i,n),this.dirty=!0,this.useBounds=!0,r?this.centerToBounds():(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},setName:function(t){return void 0===t&&(t=""),this.name=t,this},setPosition:function(t,e){return void 0===e&&(e=t),this.x=t,this.y=e,this},setRotation:function(t){return void 0===t&&(t=0),this.rotation=t,this},setRoundPixels:function(t){return this.roundPixels=t,this},setScene:function(t){this.scene=t,this.config=t.sys.game.config,this.sceneManager=t.sys.game.scene;var e=this.config.resolution;return this.resolution=e,this._cx=this._x*e,this._cy=this._y*e,this._cw=this._width*e,this._ch=this._height*e,this},setScroll:function(t,e){return void 0===e&&(e=t),this.scrollX=t,this.scrollY=e,this},setSize:function(t,e){return void 0===e&&(e=t),this.width=t,this.height=e,this},setViewport:function(t,e,i,n){return this.x=t,this.y=e,this.width=i,this.height=n,this},setZoom:function(t){return void 0===t&&(t=1),0===t&&(t=.001),this.zoom=t,this},toJSON:function(){var t={name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,zoom:this.zoom,rotation:this.rotation,roundPixels:this.roundPixels,scrollX:this.scrollX,scrollY:this.scrollY,backgroundColor:this.backgroundColor.rgba};return this.useBounds&&(t.bounds={x:this._bounds.x,y:this._bounds.y,width:this._bounds.width,height:this._bounds.height}),t},update:function(){},updateSystem:function(){if(this.config){var t=!1;if(0!==this._x||0!==this._y)t=!0;else{var e=this.config.width,i=this.config.height;e===this._width&&i===this._height||(t=!0)}var n=this.sceneManager;t&&!this._customViewport?n.customViewports++:!t&&this._customViewport&&n.customViewports--,this.dirty=!0,this._customViewport=t}},destroy:function(){this.emit("cameradestroy",this),this.removeAllListeners(),this.matrix.destroy(),this.culledObjects=[],this._customViewport&&this.sceneManager.customViewports--,this._bounds=null,this.scene=null,this.config=null,this.sceneManager=null},x:{get:function(){return this._x},set:function(t){this._x=t,this._cx=t*this.resolution,this.updateSystem()}},y:{get:function(){return this._y},set:function(t){this._y=t,this._cy=t*this.resolution,this.updateSystem()}},width:{get:function(){return this._width},set:function(t){this._width=t,this._cw=t*this.resolution,this.updateSystem()}},height:{get:function(){return this._height},set:function(t){this._height=t,this._ch=t*this.resolution,this.updateSystem()}},scrollX:{get:function(){return this._scrollX},set:function(t){this._scrollX=t,this.dirty=!0}},scrollY:{get:function(){return this._scrollY},set:function(t){this._scrollY=t,this.dirty=!0}},zoom:{get:function(){return this._zoom},set:function(t){this._zoom=t,this.dirty=!0}},rotation:{get:function(){return this._rotation},set:function(t){this._rotation=t,this.dirty=!0}},centerX:{get:function(){return this.x+.5*this.width}},centerY:{get:function(){return this.y+.5*this.height}},displayWidth:{get:function(){return this.width/this.zoom}},displayHeight:{get:function(){return this.height/this.zoom}}});t.exports=l},function(t,e){t.exports=function(t,e,i){return(e-t)*i+t}},function(t,e){t.exports=function(t,e,i){var n;if(void 0===i&&(i=!0),e)"string"==typeof e?n=document.getElementById(e):"object"==typeof e&&1===e.nodeType&&(n=e);else if(t.parentElement)return t;return n||(n=document.body),i&&n.style&&(n.style.overflow="hidden"),n.appendChild(t),t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n,r=i(87),s={chrome:!1,chromeVersion:0,edge:!1,firefox:!1,firefoxVersion:0,ie:!1,ieVersion:0,mobileSafari:!1,opera:!1,safari:!1,safariVersion:0,silk:!1,trident:!1,tridentVersion:0};t.exports=(n=navigator.userAgent,/Edge\/\d+/.test(n)?s.edge=!0:/Chrome\/(\d+)/.test(n)&&!r.windowsPhone?(s.chrome=!0,s.chromeVersion=parseInt(RegExp.$1,10)):/Firefox\D+(\d+)/.test(n)?(s.firefox=!0,s.firefoxVersion=parseInt(RegExp.$1,10)):/AppleWebKit/.test(n)&&r.iOS?s.mobileSafari=!0:/MSIE (\d+\.\d+);/.test(n)?(s.ie=!0,s.ieVersion=parseInt(RegExp.$1,10)):/Opera/.test(n)?s.opera=!0:/Safari/.test(n)&&!r.windowsPhone?s.safari=!0:/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(n)&&(s.ie=!0,s.trident=!0,s.tridentVersion=parseInt(RegExp.$1,10),s.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(n)&&(s.silk=!0),s)},function(t,e){t.exports=function(t,e){return t>0&&0==(t&t-1)&&e>0&&0==(e&e-1)}},function(t,e){t.exports={PENDING:0,INIT:1,START:2,LOADING:3,CREATING:4,RUNNING:5,PAUSED:6,SLEEPING:7,SHUTDOWN:8,DESTROYED:9}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(59),s=i(8),o=i(2),a=new n({Extends:s,initialize:function(t){s.call(this),this.game=t,this.jsonCache=t.cache.json,this.sounds=[],this.mute=!1,this.volume=1,this.pauseOnBlur=!0,this._rate=1,this._detune=0,this.locked=this.locked||!1,this.unlocked=!1,t.events.on("blur",function(){this.pauseOnBlur&&this.onBlur()},this),t.events.on("focus",function(){this.pauseOnBlur&&this.onFocus()},this),t.events.on("prestep",this.update,this),t.events.once("destroy",this.destroy,this)},add:o,addAudioSprite:function(t,e){void 0===e&&(e={});var i=this.add(t,e);for(var n in i.spritemap=this.jsonCache.get(t).spritemap,i.spritemap)if(i.spritemap.hasOwnProperty(n)){var s=r(e),o=i.spritemap[n];s.loop=!!o.hasOwnProperty("loop")&&o.loop,i.addMarker({name:n,start:o.start,duration:o.end-o.start,config:s})}return i},play:function(t,e){var i=this.add(t);return i.once("ended",i.destroy,i),e?e.name?(i.addMarker(e),i.play(e.name)):i.play(e):i.play()},playAudioSprite:function(t,e,i){var n=this.addAudioSprite(t);return n.once("ended",n.destroy,n),n.play(e,i)},remove:function(t){var e=this.sounds.indexOf(t);return-1!==e&&(t.destroy(),this.sounds.splice(e,1),!0)},removeByKey:function(t){for(var e=0,i=this.sounds.length-1;i>=0;i--){var n=this.sounds[i];n.key===t&&(n.destroy(),this.sounds.splice(i,1),e++)}return e},pauseAll:function(){this.forEachActiveSound(function(t){t.pause()}),this.emit("pauseall",this)},resumeAll:function(){this.forEachActiveSound(function(t){t.resume()}),this.emit("resumeall",this)},stopAll:function(){this.forEachActiveSound(function(t){t.stop()}),this.emit("stopall",this)},unlock:o,onBlur:o,onFocus:o,update:function(t,e){this.unlocked&&(this.unlocked=!1,this.locked=!1,this.emit("unlocked",this));for(var i=this.sounds.length-1;i>=0;i--)this.sounds[i].pendingRemove&&this.sounds.splice(i,1);this.sounds.forEach(function(i){i.update(t,e)})},destroy:function(){this.removeAllListeners(),this.forEachActiveSound(function(t){t.destroy()}),this.sounds.length=0,this.sounds=null,this.game=null},forEachActiveSound:function(t,e){var i=this;this.sounds.forEach(function(n,r){n.pendingRemove||t.call(e||i,n,r,i.sounds)})},setRate:function(t){return this.rate=t,this},rate:{get:function(){return this._rate},set:function(t){this._rate=t,this.forEachActiveSound(function(t){t.calculateRate()}),this.emit("rate",this,t)}},setDetune:function(t){return this.detune=t,this},detune:{get:function(){return this._detune},set:function(t){this._detune=t,this.forEachActiveSound(function(t){t.calculateRate()}),this.emit("detune",this,t)}}});t.exports=a},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(8),s=i(17),o=i(2),a=new n({Extends:r,initialize:function(t,e,i){r.call(this),this.manager=t,this.key=e,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=this.duration||0,this.totalDuration=this.totalDuration||0,this.config={mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0},this.currentConfig=this.config,this.config=s(this.config,i),this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:function(t){return!(!t||!t.name||"string"!=typeof t.name)&&(this.markers[t.name]?(console.error("addMarker "+t.name+" already exists in Sound"),!1):(t=s(!0,{name:"",start:0,duration:this.totalDuration-(t.start||0),config:{mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0}},t),this.markers[t.name]=t,!0))},updateMarker:function(t){return!(!t||!t.name||"string"!=typeof t.name)&&(this.markers[t.name]?(this.markers[t.name]=s(!0,this.markers[t.name],t),!0):(console.warn("Audio Marker: "+t.name+" missing in Sound: "+this.key),!1))},removeMarker:function(t){var e=this.markers[t];return e?(this.markers[t]=null,e):null},play:function(t,e){if(void 0===t&&(t=""),"object"==typeof t&&(e=t,t=""),"string"!=typeof t)return!1;if(t){if(!this.markers[t])return console.warn("Marker: "+t+" missing in Sound: "+this.key),!1;this.currentMarker=this.markers[t],this.currentConfig=this.currentMarker.config,this.duration=this.currentMarker.duration}else this.currentMarker=null,this.currentConfig=this.config,this.duration=this.totalDuration;return this.resetConfig(),this.currentConfig=s(this.currentConfig,e),this.isPlaying=!0,this.isPaused=!1,!0},pause:function(){return!(this.isPaused||!this.isPlaying)&&(this.isPlaying=!1,this.isPaused=!0,!0)},resume:function(){return!(!this.isPaused||this.isPlaying)&&(this.isPlaying=!0,this.isPaused=!1,!0)},stop:function(){return!(!this.isPaused&&!this.isPlaying)&&(this.isPlaying=!1,this.isPaused=!1,this.resetConfig(),!0)},applyConfig:function(){this.mute=this.currentConfig.mute,this.volume=this.currentConfig.volume,this.rate=this.currentConfig.rate,this.detune=this.currentConfig.detune,this.loop=this.currentConfig.loop},resetConfig:function(){this.currentConfig.seek=0,this.currentConfig.delay=0},update:o,calculateRate:function(){var t=this.currentConfig.detune+this.manager.detune,e=Math.pow(1.0005777895065548,t);this.totalRate=this.currentConfig.rate*this.manager.rate*e},destroy:function(){this.pendingRemove||(this.emit("destroy",this),this.pendingRemove=!0,this.manager=null,this.key="",this.removeAllListeners(),this.isPlaying=!1,this.isPaused=!1,this.config=null,this.currentConfig=null,this.markers=null,this.currentMarker=null)}});t.exports=a},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(23),s=i(17),o=new n({initialize:function(t,e,i,n,r,s,o){this.texture=t,this.name=e,this.source=t.source[i],this.sourceIndex=i,this.glTexture=this.source.glTexture,this.cutX,this.cutY,this.cutWidth,this.cutHeight,this.x=0,this.y=0,this.width,this.height,this.halfWidth,this.halfHeight,this.centerX,this.centerY,this.pivotX=0,this.pivotY=0,this.customPivot=!1,this.rotated=!1,this.autoRound=-1,this.customData={},this.u0=0,this.v0=0,this.u1=0,this.v1=0,this.data={cut:{x:0,y:0,w:0,h:0,r:0,b:0},trim:!1,sourceSize:{w:0,h:0},spriteSourceSize:{x:0,y:0,w:0,h:0,r:0,b:0},radius:0,drawImage:{x:0,y:0,width:0,height:0}},this.setSize(s,o,n,r)},setSize:function(t,e,i,n){void 0===i&&(i=0),void 0===n&&(n=0),this.cutX=i,this.cutY=n,this.cutWidth=t,this.cutHeight=e,this.width=t,this.height=e,this.halfWidth=Math.floor(.5*t),this.halfHeight=Math.floor(.5*e),this.centerX=Math.floor(t/2),this.centerY=Math.floor(e/2);var r=this.data,s=r.cut;s.x=i,s.y=n,s.w=t,s.h=e,s.r=i+t,s.b=n+e,r.sourceSize.w=t,r.sourceSize.h=e,r.spriteSourceSize.w=t,r.spriteSourceSize.h=e,r.radius=.5*Math.sqrt(t*t+e*e);var o=r.drawImage;return o.x=i,o.y=n,o.width=t,o.height=e,this.updateUVs()},setTrim:function(t,e,i,n,r,s){var o=this.data,a=o.spriteSourceSize;return o.trim=!0,o.sourceSize.w=t,o.sourceSize.h=e,a.x=i,a.y=n,a.w=r,a.h=s,a.r=i+r,a.b=n+s,this.x=i,this.y=n,this.width=r,this.height=s,this.halfWidth=.5*r,this.halfHeight=.5*s,this.centerX=Math.floor(r/2),this.centerY=Math.floor(s/2),this.updateUVs()},setCropUVs:function(t,e,i,n,s,o,a){var h=this.cutX,u=this.cutY,c=this.cutWidth,l=this.cutHeight,f=this.realWidth,d=this.realHeight,p=h+(e=r(e,0,f)),g=u+(i=r(i,0,d)),v=n=r(n,0,f-e),y=s=r(s,0,d-i),m=this.data;if(m.trim){var x=m.spriteSourceSize,b=e+n,w=i+s;if(!(x.r<e||x.b<i||x.x>b||x.y>w)){var T=Math.max(x.x,e),S=Math.max(x.y,i),_=Math.min(x.r,b)-T,A=Math.min(x.b,w)-S;v=_,y=A,p=o?h+(c-(T-x.x)-_):h+(T-x.x),g=a?u+(l-(S-x.y)-A):u+(S-x.y),e=T,i=S,n=_,s=A}else p=0,g=0,v=0,y=0}else o&&(p=h+(c-e-n)),a&&(g=u+(l-i-s));var E=this.source.width,I=this.source.height;return t.u0=Math.max(0,p/E),t.v0=Math.max(0,g/I),t.u1=Math.min(1,(p+v)/E),t.v1=Math.min(1,(g+y)/I),t.x=e,t.y=i,t.cx=p,t.cy=g,t.cw=v,t.ch=y,t.width=n,t.height=s,t.flipX=o,t.flipY=a,t},updateCropUVs:function(t,e,i){return this.setCropUVs(t,t.x,t.y,t.width,t.height,e,i)},updateUVs:function(){var t=this.cutX,e=this.cutY,i=this.cutWidth,n=this.cutHeight,r=this.data.drawImage;r.width=i,r.height=n;var s=this.source.width,o=this.source.height;return this.u0=t/s,this.v0=e/o,this.u1=(t+i)/s,this.v1=(e+n)/o,this},updateUVsInverted:function(){var t=this.source.width,e=this.source.height;return this.u0=(this.cutX+this.cutHeight)/t,this.v0=this.cutY/e,this.u1=this.cutX/t,this.v1=(this.cutY+this.cutWidth)/e,this},clone:function(){var t=new o(this.texture,this.name,this.sourceIndex);return t.cutX=this.cutX,t.cutY=this.cutY,t.cutWidth=this.cutWidth,t.cutHeight=this.cutHeight,t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t.halfWidth=this.halfWidth,t.halfHeight=this.halfHeight,t.centerX=this.centerX,t.centerY=this.centerY,t.rotated=this.rotated,t.data=s(!0,t.data,this.data),t.updateUVs(),t},destroy:function(){this.texture=null,this.source=null},realWidth:{get:function(){return this.data.sourceSize.w}},realHeight:{get:function(){return this.data.sourceSize.h}},radius:{get:function(){return this.data.radius}},trimmed:{get:function(){return this.data.trim}},canvasData:{get:function(){return this.data.drawImage}}});t.exports=o},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(170),r=i(0),s=i(2),o=i(115),a=new r({initialize:function(t){this.parent=t,this.list=[],this.position=0,this.addCallback=s,this.removeCallback=s,this._sortKey=""},add:function(t,e){return e?n.Add(this.list,t):n.Add(this.list,t,0,this.addCallback,this)},addAt:function(t,e,i){return i?n.AddAt(this.list,t,e):n.AddAt(this.list,t,e,0,this.addCallback,this)},getAt:function(t){return this.list[t]},getIndex:function(t){return this.list.indexOf(t)},sort:function(t){return t&&(this._sortKey=t,o.inplace(this.list,this.sortHandler)),this},sortHandler:function(t,e){return t[this._sortKey]-e[this._sortKey]},getByName:function(t){return n.GetFirst(this.list,"name",t)},getRandom:function(t,e){return n.GetRandom(this.list,t,e)},getFirst:function(t,e,i,r){return n.GetFirstElement(this.list,t,e,i,r)},getAll:function(t,e,i,r){return n.GetAll(this.list,t,e,i,r)},count:function(t,e){return n.CountAllMatching(this.list,t,e)},swap:function(t,e){n.Swap(this.list,t,e)},moveTo:function(t,e){return n.MoveTo(this.list,t,e)},remove:function(t,e){return e?n.Remove(this.list,t):n.Remove(this.list,t,this.removeCallback,this)},removeAt:function(t,e){return e?n.RemoveAt(this.list,t):n.RemoveAt(this.list,t,this.removeCallback,this)},removeBetween:function(t,e,i){return i?n.RemoveBetween(this.list,t,e):n.RemoveBetween(this.list,t,e,this.removeCallback,this)},removeAll:function(t){for(var e=this.list.length;e--;)this.remove(this.list[e],t);return this},bringToTop:function(t){return n.BringToTop(this.list,t)},sendToBack:function(t){return n.SendToBack(this.list,t)},moveUp:function(t){return n.MoveUp(this.list,t),t},moveDown:function(t){return n.MoveDown(this.list,t),t},reverse:function(){return this.list.reverse(),this},shuffle:function(){return n.Shuffle(this.list),this},replace:function(t,e){return n.Replace(this.list,t,e)},exists:function(t){return this.list.indexOf(t)>-1},setAll:function(t,e,i,r){return n.SetAll(this.list,t,e,i,r),this},each:function(t,e){for(var i=[null],n=2;n<arguments.length;n++)i.push(arguments[n]);for(n=0;n<this.list.length;n++)i[0]=this.list[n],t.apply(e,i)},shutdown:function(){this.removeAll(),this.list=[]},destroy:function(){this.removeAll(),this.parent=null,this.addCallback=null,this.removeCallback=null},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}}});t.exports=a},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(171),r=i(329);t.exports=function(t,e){if(void 0===e&&(e=90),!n(t))return null;if("string"!=typeof e&&(e=(e%360+360)%360),90===e||-270===e||"rotateLeft"===e)(t=r(t)).reverse();else if(-90===e||270===e||"rotateRight"===e)t.reverse(),t=r(t);else if(180===Math.abs(e)||"rotate180"===e){for(var i=0;i<t.length;i++)t[i].reverse();t.reverse()}return t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
//! stable.js 0.1.6, https://github.com/Two-Screen/stable
//! © 2017 Angry Bytes and contributors. MIT licensed.
!function(){var e=function(t,e){return i(t.slice(),e)};function i(t,e){"function"!=typeof e&&(e=function(t,e){return String(t).localeCompare(e)});var i=t.length;if(i<=1)return t;for(var r=new Array(i),s=1;s<i;s*=2){n(t,e,s,r);var o=t;t=r,r=o}return t}e.inplace=function(t,e){var r=i(t,e);return r!==t&&n(r,null,t.length,t),t};var n=function(t,e,i,n){var r,s,o,a,h,u=t.length,c=0,l=2*i;for(r=0;r<u;r+=l)for(o=(s=r+i)+i,s>u&&(s=u),o>u&&(o=u),a=r,h=s;;)if(a<s&&h<o)e(t[a],t[h])<=0?n[c++]=t[a++]:n[c++]=t[h++];else if(a<s)n[c++]=t[a++];else{if(!(h<o))break;n[c++]=t[h++]}};t.exports=e}()},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(16),s=i(12),o=i(675),a=i(676),h=i(677),u=new n({Extends:s,Mixins:[r.Alpha,r.BlendMode,r.Depth,r.Mask,r.Origin,r.Pipeline,r.ScaleMode,r.ScrollFactor,r.Texture,r.Tint,r.Transform,r.Visible,h],initialize:function(t,e,i,n,r,a,h){void 0===r&&(r=""),void 0===h&&(h=0),s.call(this,t,"BitmapText"),this.font=n;var u=this.scene.sys.cache.bitmapFont.get(n);this.fontData=u.data,this._text="",this._fontSize=a||this.fontData.size,this._letterSpacing=0,this._align=h,this._bounds=o(this,!1,this._bounds),this._dirty=!1,this.setTexture(u.texture,u.frame),this.setPosition(e,i),this.setOrigin(0,0),this.initPipeline("TextureTintPipeline"),this.setText(r)},setLeftAlign:function(){return this._align=u.ALIGN_LEFT,this._dirty=!0,this},setCenterAlign:function(){return this._align=u.ALIGN_CENTER,this._dirty=!0,this},setRightAlign:function(){return this._align=u.ALIGN_RIGHT,this._dirty=!0,this},setFontSize:function(t){return this._fontSize=t,this._dirty=!0,this},setLetterSpacing:function(t){return void 0===t&&(t=0),this._letterSpacing=t,this._dirty=!0,this},setText:function(t){return t||0===t||(t=""),Array.isArray(t)&&(t=t.join("\n")),t!==this.text&&(this._text=t.toString(),this._dirty=!0,this.updateDisplayOrigin()),this},getTextBounds:function(t){return this._dirty&&o(this,t,this._bounds),this._bounds},setFont:function(t,e,i){if(void 0===e&&(e=this._fontSize),void 0===i&&(i=this._align),t!==this.font){var n=this.scene.sys.cache.bitmapFont.get(t);n&&(this.font=t,this.fontData=n.data,this._fontSize=e,this._align=i,this.setTexture(n.texture,n.frame),o(this,!1,this._bounds))}return this},align:{set:function(t){this._align=t,this._dirty=!0},get:function(){return this._align}},text:{set:function(t){this.setText(t)},get:function(){return this._text}},fontSize:{set:function(t){this._fontSize=t,this._dirty=!0},get:function(){return this._fontSize}},letterSpacing:{set:function(t){this._letterSpacing=t,this._dirty=!0},get:function(){return this._letterSpacing}},width:{get:function(){return this.getTextBounds(!1),this._bounds.global.width}},height:{get:function(){return this.getTextBounds(!1),this._bounds.global.height}},toJSON:function(){var t=r.ToJSON(this),e={font:this.font,text:this.text,fontSize:this.fontSize,letterSpacing:this.letterSpacing,align:this.align};return t.data=e,t}});u.ALIGN_LEFT=0,u.ALIGN_CENTER=1,u.ALIGN_RIGHT=2,u.ParseFromAtlas=a,t.exports=u},function(t,e){t.exports=function(t,e,i,n,r){var s=n.alpha*i.alpha;if(s<=0)return!1;var o=t._tempMatrix1.copyFromArray(n.matrix.matrix),a=t._tempMatrix2.applyITRS(i.x,i.y,i.rotation,i.scaleX,i.scaleY),h=t._tempMatrix3;return r?(o.multiplyWithOffset(r,-n.scrollX*i.scrollFactorX,-n.scrollY*i.scrollFactorY),a.e=i.x,a.f=i.y,o.multiply(a,h)):(a.e-=n.scrollX*i.scrollFactorX,a.f-=n.scrollY*i.scrollFactorY,o.multiply(a,h)),e.globalCompositeOperation=t.blendModes[i.blendMode],e.globalAlpha=s,e.save(),h.setToContext(e),!0}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(89),s=i(335),o=i(336),a=i(146),h=new n({initialize:function(t,e,i,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=0),this.x=t,this.y=e,this.width=i,this.height=n},contains:function(t,e){return r(this,t,e)},getPoint:function(t,e){return s(this,t,e)},getPoints:function(t,e,i){return o(this,t,e,i)},getRandomPoint:function(t){return a(this,t)},setTo:function(t,e,i,n){return this.x=t,this.y=e,this.width=i,this.height=n,this},setEmpty:function(){return this.width=0,this.height=0,this},setPosition:function(t,e){return void 0===e&&(e=t),this.x=t,this.y=e,this},setSize:function(t,e){return void 0===e&&(e=t),this.width=t,this.height=e,this},isEmpty:function(){return this.width<=0||this.height<=0},getMinorRadius:function(){return Math.min(this.width,this.height)/2},getMajorRadius:function(){return Math.max(this.width,this.height)/2},left:{get:function(){return this.x-this.width/2},set:function(t){this.x=t+this.width/2}},right:{get:function(){return this.x+this.width/2},set:function(t){this.x=t-this.width/2}},top:{get:function(){return this.y-this.height/2},set:function(t){this.y=t+this.height/2}},bottom:{get:function(){return this.y+this.height/2},set:function(t){this.y=t-this.height/2}}});t.exports=h},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=new(i(0))({initialize:function(t,e,i,n){this.x=0,this.y=0,this.z=0,this.w=0,"object"==typeof t?(this.x=t.x||0,this.y=t.y||0,this.z=t.z||0,this.w=t.w||0):(this.x=t||0,this.y=e||0,this.z=i||0,this.w=n||0)},clone:function(){return new n(this.x,this.y,this.z,this.w)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z||0,this.w=t.w||0,this},equals:function(t){return this.x===t.x&&this.y===t.y&&this.z===t.z&&this.w===t.w},set:function(t,e,i,n){return"object"==typeof t?(this.x=t.x||0,this.y=t.y||0,this.z=t.z||0,this.w=t.w||0):(this.x=t||0,this.y=e||0,this.z=i||0,this.w=n||0),this},add:function(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z||0,this.w+=t.w||0,this},subtract:function(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z||0,this.w-=t.w||0,this},scale:function(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this},length:function(){var t=this.x,e=this.y,i=this.z,n=this.w;return Math.sqrt(t*t+e*e+i*i+n*n)},lengthSq:function(){var t=this.x,e=this.y,i=this.z,n=this.w;return t*t+e*e+i*i+n*n},normalize:function(){var t=this.x,e=this.y,i=this.z,n=this.w,r=t*t+e*e+i*i+n*n;return r>0&&(r=1/Math.sqrt(r),this.x=t*r,this.y=e*r,this.z=i*r,this.w=n*r),this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w},lerp:function(t,e){void 0===e&&(e=0);var i=this.x,n=this.y,r=this.z,s=this.w;return this.x=i+e*(t.x-i),this.y=n+e*(t.y-n),this.z=r+e*(t.z-r),this.w=s+e*(t.w-s),this},multiply:function(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z||1,this.w*=t.w||1,this},divide:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z||1,this.w/=t.w||1,this},distance:function(t){var e=t.x-this.x,i=t.y-this.y,n=t.z-this.z||0,r=t.w-this.w||0;return Math.sqrt(e*e+i*i+n*n+r*r)},distanceSq:function(t){var e=t.x-this.x,i=t.y-this.y,n=t.z-this.z||0,r=t.w-this.w||0;return e*e+i*i+n*n+r*r},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},transformMat4:function(t){var e=this.x,i=this.y,n=this.z,r=this.w,s=t.val;return this.x=s[0]*e+s[4]*i+s[8]*n+s[12]*r,this.y=s[1]*e+s[5]*i+s[9]*n+s[13]*r,this.z=s[2]*e+s[6]*i+s[10]*n+s[14]*r,this.w=s[3]*e+s[7]*i+s[11]*n+s[15]*r,this},transformQuat:function(t){var e=this.x,i=this.y,n=this.z,r=t.x,s=t.y,o=t.z,a=t.w,h=a*e+s*n-o*i,u=a*i+o*e-r*n,c=a*n+r*i-s*e,l=-r*e-s*i-o*n;return this.x=h*a+l*-r+u*-o-c*-s,this.y=u*a+l*-s+c*-r-h*-o,this.z=c*a+l*-o+h*-s-u*-r,this},reset:function(){return this.x=0,this.y=0,this.z=0,this.w=0,this}});n.prototype.sub=n.prototype.subtract,n.prototype.mul=n.prototype.multiply,n.prototype.div=n.prototype.divide,n.prototype.dist=n.prototype.distance,n.prototype.distSq=n.prototype.distanceSq,n.prototype.len=n.prototype.length,n.prototype.lenSq=n.prototype.lengthSq,t.exports=n},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(16),s=i(12),o=i(749),a=new n({Extends:s,Mixins:[r.Alpha,r.BlendMode,r.Depth,r.Flip,r.GetBounds,r.Mask,r.Origin,r.Pipeline,r.ScaleMode,r.Size,r.Texture,r.Transform,r.Visible,r.ScrollFactor,o],initialize:function(t,e,i,n,r,o,a,h,u){if(s.call(this,t,"Mesh"),n.length!==r.length)throw new Error("Mesh Vertex count must match UV count");var c,l=n.length/2|0;if(o.length>0&&o.length<l)throw new Error("Mesh Color count must match Vertex count");if(a.length>0&&a.length<l)throw new Error("Mesh Alpha count must match Vertex count");if(0===o.length)for(c=0;c<l;++c)o[c]=16777215;if(0===a.length)for(c=0;c<l;++c)a[c]=1;this.vertices=new Float32Array(n),this.uv=new Float32Array(r),this.colors=new Uint32Array(o),this.alphas=new Float32Array(a),this.tintFill=!1,this.setTexture(h,u),this.setPosition(e,i),this.setSizeToFrame(),this.setOrigin(),this.initPipeline("TextureTintPipeline")}});t.exports=a},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(5);t.exports=function(t,e,i){void 0===i&&(i=new n);var r=t.x1,s=t.y1,o=t.x2,a=t.y2,h=e.x1,u=e.y1,c=e.x2,l=e.y2,f=(l-u)*(o-r)-(c-h)*(a-s);if(0===f)return!1;var d=((c-h)*(s-u)-(l-u)*(r-h))/f,p=((o-r)*(s-u)-(a-s)*(r-h))/f;return d>=0&&d<=1&&p>=0&&p<=1&&(i.x=r+d*(o-r),i.y=s+d*(a-s),!0)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(4),r={},s={register:function(t,e,i,n,s){r[t]={plugin:e,mapping:i,settingsKey:n,configKey:s}},getPlugin:function(t){return r[t]},install:function(t){var e=t.scene.sys,i=e.settings.input,s=e.game.config;for(var o in r){var a=r[o].plugin,h=r[o].mapping,u=r[o].settingsKey,c=r[o].configKey;n(i,u,s[c])&&(t[h]=new a(t))}},remove:function(t){r.hasOwnProperty(t)&&delete r[t]}};t.exports=s},function(t,e){t.exports=function(t,e,i,n,r){return void 0===t&&(t=""),void 0===e&&(e=!0),void 0===i&&(i=""),void 0===n&&(n=""),void 0===r&&(r=0),{responseType:t,async:e,user:i,password:n,timeout:r,header:void 0,headerValue:void 0,requestedWith:!1,overrideMimeType:void 0}}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(399),s=i(45),o=new n({Extends:s,Mixins:[r.Acceleration,r.Angular,r.Bounce,r.Debug,r.Drag,r.Enable,r.Friction,r.Gravity,r.Immovable,r.Mass,r.Size,r.Velocity],initialize:function(t,e,i,n,r){s.call(this,t,e,i,n,r),this.body=null}});t.exports=o},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={Bounce:i(992),Collision:i(993),Force:i(994),Friction:i(995),Gravity:i(996),Mass:i(997),Static:i(998),Sensor:i(999),SetBody:i(1e3),Sleep:i(1002),Transform:i(1003),Velocity:i(1004)}},function(t,e){var i={};t.exports=i,i.create=function(t,e){var n=t.bodyA,r=t.bodyB,s={id:i.id(n,r),bodyA:n,bodyB:r,activeContacts:[],separation:0,isActive:!0,confirmedActive:!0,isSensor:n.isSensor||r.isSensor,timeCreated:e,timeUpdated:e,collision:null,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return i.update(s,t,e),s},i.update=function(t,e,n){if(t.collision=e,e.collided){var r=e.supports,s=t.activeContacts,o=e.parentA,a=e.parentB;t.inverseMass=o.inverseMass+a.inverseMass,t.friction=Math.min(o.friction,a.friction),t.frictionStatic=Math.max(o.frictionStatic,a.frictionStatic),t.restitution=Math.max(o.restitution,a.restitution),t.slop=Math.max(o.slop,a.slop);for(var h=0;h<r.length;h++)s[h]=r[h].contact;var u=r.length;u<s.length&&(s.length=u),t.separation=e.depth,i.setActive(t,!0,n)}else!0===t.isActive&&i.setActive(t,!1,n)},i.setActive=function(t,e,i){e?(t.isActive=!0,t.timeUpdated=i):(t.isActive=!1,t.activeContacts.length=0)},i.id=function(t,e){return t.id<e.id?"A"+t.id+"B"+e.id:"A"+e.id+"B"+t.id}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={CalculateFacesAt:i(205),CalculateFacesWithin:i(47),Copy:i(1026),CreateFromTiles:i(1027),CullTiles:i(1028),Fill:i(1029),FilterTiles:i(1030),FindByIndex:i(1031),FindTile:i(1032),ForEachTile:i(1033),GetTileAt:i(128),GetTileAtWorldXY:i(1034),GetTilesWithin:i(21),GetTilesWithinShape:i(1035),GetTilesWithinWorldXY:i(1036),HasTileAt:i(431),HasTileAtWorldXY:i(1037),IsInLayerBounds:i(97),PutTileAt:i(206),PutTileAtWorldXY:i(1038),PutTilesAt:i(1039),Randomize:i(1040),RemoveTileAt:i(432),RemoveTileAtWorldXY:i(1041),RenderDebug:i(1042),ReplaceByIndex:i(430),SetCollision:i(1043),SetCollisionBetween:i(1044),SetCollisionByExclusion:i(1045),SetCollisionByProperty:i(1046),SetCollisionFromCollisionGroup:i(1047),SetTileIndexCallback:i(1048),SetTileLocationCallback:i(1049),Shuffle:i(1050),SwapByIndex:i(1051),TileToWorldX:i(129),TileToWorldXY:i(1052),TileToWorldY:i(130),WeightedRandomize:i(1053),WorldToTileX:i(54),WorldToTileXY:i(1054),WorldToTileY:i(55)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(97);t.exports=function(t,e,i,r){if(void 0===i&&(i=!1),n(t,e,r)){var s=r.data[e][t];return null===s?null:-1===s.index?i?s:null:s}return null}},function(t,e){t.exports=function(t,e,i){var n=i.baseTileWidth,r=i.tilemapLayer,s=0;return r&&(void 0===e&&(e=r.scene.cameras.main),s=r.x+e.scrollX*(1-r.scrollFactorX),n*=r.scaleX),s+t*n}},function(t,e){t.exports=function(t,e,i){var n=i.baseTileHeight,r=i.tilemapLayer,s=0;return r&&(void 0===e&&(e=r.scene.cameras.main),s=r.y+e.scrollY*(1-r.scrollFactorY),n*=r.scaleY),s+t*n}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=new(i(0))({initialize:function(t,e,i,n,r,s,o,a){(void 0===i||i<=0)&&(i=32),(void 0===n||n<=0)&&(n=32),void 0===r&&(r=0),void 0===s&&(s=0),void 0===o&&(o={}),void 0===a&&(a={}),this.name=t,this.firstgid=e,this.tileWidth=i,this.tileHeight=n,this.tileMargin=r,this.tileSpacing=s,this.tileProperties=o,this.tileData=a,this.image=null,this.glTexture=null,this.rows=0,this.columns=0,this.total=0,this.texCoordinates=[]},getTileProperties:function(t){return this.containsTileIndex(t)?this.tileProperties[t-this.firstgid]:null},getTileData:function(t){return this.containsTileIndex(t)?this.tileData[t-this.firstgid]:null},getTileCollisionGroup:function(t){var e=this.getTileData(t);return e&&e.objectgroup?e.objectgroup:null},containsTileIndex:function(t){return t>=this.firstgid&&t<this.firstgid+this.total},getTileTextureCoordinates:function(t){return this.containsTileIndex(t)?this.texCoordinates[t-this.firstgid]:null},setImage:function(t){return this.image=t,this.glTexture=t.get().source.glTexture,this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setTileSize:function(t,e){return void 0!==t&&(this.tileWidth=t),void 0!==e&&(this.tileHeight=e),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setSpacing:function(t,e){return void 0!==t&&(this.tileMargin=t),void 0!==e&&(this.tileSpacing=e),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},updateTileData:function(t,e){var i=(e-2*this.tileMargin+this.tileSpacing)/(this.tileHeight+this.tileSpacing),n=(t-2*this.tileMargin+this.tileSpacing)/(this.tileWidth+this.tileSpacing);i%1==0&&n%1==0||console.warn("Tileset "+this.name+" image tile area is not an even multiple of tile size"),i=Math.floor(i),n=Math.floor(n),this.rows=i,this.columns=n,this.total=i*n,this.texCoordinates.length=0;for(var r=this.tileMargin,s=this.tileMargin,o=0;o<this.rows;o++){for(var a=0;a<this.columns;a++)this.texCoordinates.push({x:r,y:s}),r+=this.tileWidth+this.tileSpacing;r=this.tileMargin,s+=this.tileHeight+this.tileSpacing}return this}});t.exports=n},function(t,e){t.exports=function(t,e,i){var n;n=t.hasOwnProperty(e)?"function"==typeof t[e]?function(i,n,r){return t[e](i,n,r)}:function(){return t[e]}:"function"==typeof i?i:function(){return i};return n}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(212),r=i(11),s=i(92),o=i(91),a=i(132),h=i(445),u=i(210),c=i(4),l=i(211),f=i(213),d=i(214);t.exports=function(t,e,i){void 0===i&&(i=n);for(var p=i.targets?i.targets:u(e),g=h(e),v=a(e,"delay",i.delay),y=a(e,"duration",i.duration),m=c(e,"easeParams",i.easeParams),x=o(c(e,"ease",i.ease),m),b=a(e,"hold",i.hold),w=a(e,"repeat",i.repeat),T=a(e,"repeatDelay",i.repeatDelay),S=s(e,"yoyo",i.yoyo),_=s(e,"flipX",i.flipX),A=s(e,"flipY",i.flipY),E=[],I=0;I<g.length;I++)for(var C=g[I].key,M=g[I].value,P=0;P<p.length;P++){var k=l(C,M),O=d(p[P],C,k.getEnd,k.getStart,o(c(M,"ease",x),m),a(M,"delay",v),a(M,"duration",y),s(M,"yoyo",S),a(M,"hold",b),a(M,"repeat",w),a(M,"repeatDelay",T),s(M,"flipX",_),s(M,"flipY",A));E.push(O)}var N=new f(t,E,p);N.offset=r(e,"offset",null),N.completeDelay=r(e,"completeDelay",0),N.loop=Math.round(r(e,"loop",0)),N.loopDelay=Math.round(r(e,"loopDelay",0)),N.paused=s(e,"paused",!1),N.useFrames=s(e,"useFrames",!1);for(var F=c(e,"callbackScope",N),R=[N,null],L=f.TYPES,D=0;D<L.length;D++){var B=L[D],U=c(e,B,!1);if(U){var X=c(e,B+"Scope",F),V=c(e,B+"Params",[]);N.setCallback(B,U,R.concat(V),X)}}return N}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(12),s=i(45),o=i(3),a=i(119),h=new n({Extends:r,initialize:function(t,e,i,n,h,u){r.call(this,t,"Sprite3D"),this.gameObject=new s(t,0,0,h,u),this.position=new a(e,i,n),this.size=new o(this.gameObject.width,this.gameObject.height),this.scale=new o(1,1),this.adjustScaleX=!0,this.adjustScaleY=!0,this._visible=!0},project:function(t){var e=this.position,i=this.gameObject;t.project(e,i),t.getPointSize(e,this.size,this.scale),this.scale.x<=0||this.scale.y<=0?i.setVisible(!1):(i.visible||i.setVisible(!0),this.adjustScaleX&&(i.scaleX=this.scale.x),this.adjustScaleY&&(i.scaleY=this.scale.y),i.setDepth(-1*i.z))},setVisible:function(t){return this.visible=t,this},visible:{get:function(){return this._visible},set:function(t){this._visible=t,this.gameObject.visible=t}},x:{get:function(){return this.position.x},set:function(t){this.position.x=t}},y:{get:function(){return this.position.y},set:function(t){this.position.y=t}},z:{get:function(){return this.position.z},set:function(t){this.position.z=t}}});t.exports=h},function(t,e,i){"use strict";i.r(e),i.d(e,"__extends",function(){return r}),i.d(e,"__assign",function(){return s}),i.d(e,"__rest",function(){return o}),i.d(e,"__decorate",function(){return a}),i.d(e,"__param",function(){return h}),i.d(e,"__metadata",function(){return u}),i.d(e,"__awaiter",function(){return c}),i.d(e,"__generator",function(){return l}),i.d(e,"__createBinding",function(){return f}),i.d(e,"__exportStar",function(){return d}),i.d(e,"__values",function(){return p}),i.d(e,"__read",function(){return g}),i.d(e,"__spread",function(){return v}),i.d(e,"__spreadArrays",function(){return y}),i.d(e,"__await",function(){return m}),i.d(e,"__asyncGenerator",function(){return x}),i.d(e,"__asyncDelegator",function(){return b}),i.d(e,"__asyncValues",function(){return w}),i.d(e,"__makeTemplateObject",function(){return T}),i.d(e,"__importStar",function(){return S}),i.d(e,"__importDefault",function(){return _}),i.d(e,"__classPrivateFieldGet",function(){return A}),i.d(e,"__classPrivateFieldSet",function(){return E});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function r(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var s=function(){return(s=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function o(t,e){var i={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(i[n[r]]=t[n[r]])}return i}function a(t,e,i,n){var r,s=arguments.length,o=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(o=(s<3?r(o):s>3?r(e,i,o):r(e,i))||o);return s>3&&o&&Object.defineProperty(e,i,o),o}function h(t,e){return function(i,n){e(i,n,t)}}function u(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function c(t,e,i,n){return new(i||(i=Promise))(function(r,s){function o(t){try{h(n.next(t))}catch(t){s(t)}}function a(t){try{h(n.throw(t))}catch(t){s(t)}}function h(t){var e;t.done?r(t.value):(e=t.value,e instanceof i?e:new i(function(t){t(e)})).then(o,a)}h((n=n.apply(t,e||[])).next())})}function l(t,e){var i,n,r,s,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(i)throw new TypeError("Generator is already executing.");for(;o;)try{if(i=1,n&&(r=2&s[0]?n.return:s[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,s[1])).done)return r;switch(n=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,n=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(t){s=[6,t],n=0}finally{i=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function f(t,e,i,n){void 0===n&&(n=i),t[n]=e[i]}function d(t,e){for(var i in t)"default"===i||e.hasOwnProperty(i)||(e[i]=t[i])}function p(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],n=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var n,r,s=i.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(n=s.next()).done;)o.push(n.value)}catch(t){r={error:t}}finally{try{n&&!n.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return o}function v(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(g(arguments[e]));return t}function y(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var n=Array(t),r=0;for(e=0;e<i;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,r++)n[r]=s[o];return n}function m(t){return this instanceof m?(this.v=t,this):new m(t)}function x(t,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,r=i.apply(t,e||[]),s=[];return n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n;function o(t){r[t]&&(n[t]=function(e){return new Promise(function(i,n){s.push([t,e,i,n])>1||a(t,e)})})}function a(t,e){try{(i=r[t](e)).value instanceof m?Promise.resolve(i.value.v).then(h,u):c(s[0][2],i)}catch(t){c(s[0][3],t)}var i}function h(t){a("next",t)}function u(t){a("throw",t)}function c(t,e){t(e),s.shift(),s.length&&a(s[0][0],s[0][1])}}function b(t){var e,i;return e={},n("next"),n("throw",function(t){throw t}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(n,r){e[n]=t[n]?function(e){return(i=!i)?{value:m(t[n](e)),done:"return"===n}:r?r(e):e}:r}}function w(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,i=t[Symbol.asyncIterator];return i?i.call(t):(t=p(t),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(i){e[i]=t[i]&&function(e){return new Promise(function(n,r){(function(t,e,i,n){Promise.resolve(n).then(function(e){t({value:e,done:i})},e)})(n,r,(e=t[i](e)).done,e.value)})}}}function T(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function S(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function _(t){return t&&t.__esModule?t:{default:t}}function A(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function E(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i}},function(t,e,i){(function(e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
i(455);var n=i(26),r=i(17),s={Actions:i(218),Animation:i(521),Cache:i(522),Cameras:i(523),Class:i(0),Create:i(566),Curves:i(572),Data:i(575),Display:i(577),DOM:i(607),Events:i(608),Game:i(610),GameObjects:i(645),Geom:i(354),Input:i(863),Loader:i(886),Math:i(909),Physics:i(947),Plugins:i(1012),Renderer:i(1014),Scene:i(315),Scenes:i(1019),Sound:i(1021),Structs:i(1022),Textures:i(1023),Tilemaps:i(1025),Time:i(1074),Tweens:i(1076),Utils:i(1080)};s.Cameras.Sprite3D=i(1088),s.GameObjects.Sprite3D=i(134),s.GameObjects.Factories.Sprite3D=i(1090),s.GameObjects.Creators.Sprite3D=i(1091),s.FBInstant=i(328),s=r(!1,s,n),t.exports=s,e.Phaser=s}).call(this,i(66))},function(t,e){t.exports={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(5);t.exports=function(t,e,i){return void 0===i&&(i=new n),i.x=t.x+t.radius*Math.cos(e),i.y=t.y+t.radius*Math.sin(e),i}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(5);t.exports=function(t,e){void 0===e&&(e=new n);var i=2*Math.PI*Math.random(),r=Math.random()+Math.random(),s=r>1?2-r:r,o=s*Math.cos(i),a=s*Math.sin(i);return e.x=t.x+o*t.radius,e.y=t.y+a*t.radius,e}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(101),r=i(5);t.exports=function(t,e,i){if(void 0===i&&(i=new r),e<=0||e>=1)return i.x=t.x,i.y=t.y,i;var s=n(t)*e;return e>.5?(s-=t.width+t.height)<=t.width?(i.x=t.right-s,i.y=t.bottom):(i.x=t.x,i.y=t.bottom-(s-t.width)):s<=t.width?(i.x=t.x+s,i.y=t.y):(i.x=t.right,i.y=t.y+(s-t.width)),i}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(57),r=i(5);t.exports=function(t,e,i,s){void 0===s&&(s=[]),e||(e=n(t)/i);for(var o=t.x1,a=t.y1,h=t.x2,u=t.y2,c=0;c<e;c++){var l=c/e,f=o+(h-o)*l,d=a+(u-a)*l;s.push(new r(f,d))}return s}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(5);t.exports=function(t,e){void 0===e&&(e=new n);var i=Math.random();return e.x=t.x1+i*(t.x2-t.x1),e.y=t.y1+i*(t.y2-t.y1),e}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(5);t.exports=function(t,e){return void 0===e&&(e=new n),e.x=t.x+Math.random()*t.width,e.y=t.y+Math.random()*t.height,e}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(49);t.exports=function(t){return n(t,-Math.PI,Math.PI)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(49);t.exports=function(t){return n(t,-180,180)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(5);t.exports=function(t,e){void 0===e&&(e=new n);var i=Math.random()*Math.PI*2,r=Math.sqrt(Math.random());return e.x=t.x+r*Math.cos(i)*t.width/2,e.y=t.y+r*Math.sin(i)*t.height/2,e}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(5);t.exports=function(t,e){void 0===e&&(e=new n);var i=t.x2-t.x1,r=t.y2-t.y1,s=t.x3-t.x1,o=t.y3-t.y1,a=Math.random(),h=Math.random();return a+h>=1&&(a=1-a,h=1-h),e.x=t.x1+(i*a+s*h),e.y=t.y1+(r*a+o*h),e}},function(t,e){t.exports=function(t,e,i,n,r){var s=n+Math.atan2(t.y-i,t.x-e);return t.x=e+r*Math.cos(s),t.y=i+r*Math.sin(s),t}},function(t,e){t.exports=function(t,e,i){return(t=Math.max(0,Math.min(1,(t-e)/(i-e))))*t*t*(t*(6*t-15)+10)}},function(t,e){t.exports=function(t,e,i){return t<=e?0:t>=i?1:(t=(t-e)/(i-e))*t*(3-2*t)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=new(i(0))({initialize:function(t){if(this.entries={},this.size=0,Array.isArray(t))for(var e=0;e<t.length;e++)this.set(t[e][0],t[e][1])},set:function(t,e){return this.has(t)||(this.entries[t]=e,this.size++),this},get:function(t){if(this.has(t))return this.entries[t]},getArray:function(){var t=[],e=this.entries;for(var i in e)t.push(e[i]);return t},has:function(t){return this.entries.hasOwnProperty(t)},delete:function(t){return this.has(t)&&(delete this.entries[t],this.size--),this},clear:function(){return Object.keys(this.entries).forEach(function(t){delete this.entries[t]},this),this.size=0,this},keys:function(){return Object.keys(this.entries)},values:function(){var t=[],e=this.entries;for(var i in e)t.push(e[i]);return t},dump:function(){var t=this.entries;for(var e in console.group("Map"),t)console.log(e,t[e]);console.groupEnd()},each:function(t){var e=this.entries;for(var i in e)if(!1===t(i,e[i]))break;return this},contains:function(t){var e=this.entries;for(var i in e)if(e[i]===t)return!0;return!1},merge:function(t,e){void 0===e&&(e=!1);var i=this.entries,n=t.entries;for(var r in n)i.hasOwnProperty(r)&&e?i[r]=n[r]:this.set(r,n[r]);return this}});t.exports=n},function(t,e){t.exports=function(t,e,i,n){void 0===e&&(e=0),void 0===i&&(i=" "),void 0===n&&(n=3);var r=0;if(e+1>=(t=t.toString()).length)switch(n){case 1:t=new Array(e+1-t.length).join(i)+t;break;case 3:var s=Math.ceil((r=e-t.length)/2);t=new Array(r-s+1).join(i)+t+new Array(s+1).join(i);break;default:t+=new Array(e+1-t.length).join(i)}return t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(259),r=i(261),s=i(263),o=i(264);t.exports=function(t){switch(typeof t){case"string":return"rgb"===t.substr(0,3).toLowerCase()?o(t):n(t);case"number":return r(t);case"object":return s(t)}}},function(t,e){t.exports=function(t,e,i){return t<<16|e<<8|i}},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i,n="";t.exports={disable:function(t){return""===n&&(n=i(t)),n&&(t[n]=!1),t},enable:function(t){return""===n&&(n=i(t)),n&&(t[n]=!0),t},getPrefix:i=function(t){for(var e=["i","webkitI","msI","mozI","oI"],i=0;i<e.length;i++){var n=e[i]+"mageSmoothingEnabled";if(n in t)return n}return null},isEnabled:function(t){return null!==n?t[n]:null}}},function(t,e){t.exports=function(t,e,i){return t.x=e-t.width/2,t.y=i-t.height/2,t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(266),r=i(267),s=i(268),o=i(269),a=i(270),h=i(271),u=i(272),c=i(273),l=i(274),f=i(275),d=i(276),p=i(277);t.exports={Power0:u,Power1:c.Out,Power2:o.Out,Power3:l.Out,Power4:f.Out,Linear:u,Quad:c.Out,Cubic:o.Out,Quart:l.Out,Quint:f.Out,Sine:d.Out,Expo:h.Out,Circ:s.Out,Elastic:a.Out,Back:n.Out,Bounce:r.Out,Stepped:p,"Quad.easeIn":c.In,"Cubic.easeIn":o.In,"Quart.easeIn":l.In,"Quint.easeIn":f.In,"Sine.easeIn":d.In,"Expo.easeIn":h.In,"Circ.easeIn":s.In,"Elastic.easeIn":a.In,"Back.easeIn":n.In,"Bounce.easeIn":r.In,"Quad.easeOut":c.Out,"Cubic.easeOut":o.Out,"Quart.easeOut":l.Out,"Quint.easeOut":f.Out,"Sine.easeOut":d.Out,"Expo.easeOut":h.Out,"Circ.easeOut":s.Out,"Elastic.easeOut":a.Out,"Back.easeOut":n.Out,"Bounce.easeOut":r.Out,"Quad.easeInOut":c.InOut,"Cubic.easeInOut":o.InOut,"Quart.easeInOut":l.InOut,"Quint.easeInOut":f.InOut,"Sine.easeInOut":d.InOut,"Expo.easeInOut":h.InOut,"Circ.easeInOut":s.InOut,"Elastic.easeInOut":a.InOut,"Back.easeInOut":n.InOut,"Bounce.easeInOut":r.InOut}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(9);t.exports=function(t,e){if(void 0===e&&(e=new n),0===t.length)return e;for(var i,r,s,o=Number.MAX_VALUE,a=Number.MAX_VALUE,h=Number.MIN_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER,c=0;c<t.length;c++)i=t[c],Array.isArray(i)?(r=i[0],s=i[1]):(r=i.x,s=i.y),o=Math.min(o,r),a=Math.min(a,s),h=Math.max(h,r),u=Math.max(u,s);return e.x=o,e.y=a,e.width=h-o,e.height=u-a,e}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(18);t.exports=function(t){return t*n.RAD_TO_DEG}},function(t,e){t.exports=function(t,e,i,n,r){var s=.5*(n-e),o=.5*(r-i),a=t*t;return(2*i-2*n+s+o)*(t*a)+(-3*i+3*n-2*s-o)*a+s*t+i}},function(t,e){t.exports=function(t,e){return Math.floor(Math.random()*(e-t+1)+t)}},function(t,e){t.exports=function(t){t.parentNode&&t.parentNode.removeChild(t)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(87),r=i(107),s=i(28),o={canvas:!1,canvasBitBltShift:null,file:!1,fileSystem:!1,getUserMedia:!0,littleEndian:!1,localStorage:!1,pointerLock:!1,support32bit:!1,vibration:!1,webGL:!1,worker:!1};t.exports=function(){o.canvas=!!window.CanvasRenderingContext2D||n.cocoonJS;try{o.localStorage=!!localStorage.getItem}catch(t){o.localStorage=!1}o.file=!!(window.File&&window.FileReader&&window.FileList&&window.Blob),o.fileSystem=!!window.requestFileSystem;var t,e,i,a=!1;return o.webGL=function(){if(window.WebGLRenderingContext)try{var t=s.createWebGL(this);n.cocoonJS&&(t.screencanvas=!1);var e=t.getContext("webgl")||t.getContext("experimental-webgl"),i=s.create2D(this),r=i.getContext("2d").createImageData(1,1);return a=r.data instanceof Uint8ClampedArray,s.remove(t),s.remove(i),!!e}catch(t){return!1}return!1}(),o.worker=!!window.Worker,o.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,o.getUserMedia=o.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,r.firefox&&r.firefoxVersion<21&&(o.getUserMedia=!1),!n.iOS&&(r.ie||r.firefox||r.chrome)&&(o.canvasBitBltShift=!0),(r.safari||r.mobileSafari)&&(o.canvasBitBltShift=!1),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(o.vibration=!0),"undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint32Array&&(o.littleEndian=(t=new ArrayBuffer(4),e=new Uint8Array(t),i=new Uint32Array(t),e[0]=161,e[1]=178,e[2]=195,e[3]=212,3569595041===i[0]||2712847316!==i[0]&&null)),o.support32bit="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof Int32Array&&null!==o.littleEndian&&a,o}()},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i={Global:["game","anims","cache","plugins","registry","sound","textures"],CoreScene:["EventEmitter","CameraManager","GameObjectCreator","GameObjectFactory","ScenePlugin","DisplayList","UpdateList"],DefaultScene:["Clock","DataManagerPlugin","InputPlugin","Loader","TweenManager","LightsPlugin"]};i.DefaultScene.push("CameraManager3D"),i.Global.push("facebook"),t.exports=i},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(19),s=new n({initialize:function(t){this.name="WebGLPipeline",this.game=t.game,this.view=t.game.canvas,this.resolution=t.game.config.resolution,this.width=t.game.config.width*this.resolution,this.height=t.game.config.height*this.resolution,this.gl=t.gl,this.vertexCount=0,this.vertexCapacity=t.vertexCapacity,this.renderer=t.renderer,this.vertexData=t.vertices?t.vertices:new ArrayBuffer(t.vertexCapacity*t.vertexSize),this.vertexBuffer=this.renderer.createVertexBuffer(t.vertices?t.vertices:this.vertexData.byteLength,this.gl.STREAM_DRAW),this.program=this.renderer.createProgram(t.vertShader,t.fragShader),this.attributes=t.attributes,this.vertexSize=t.vertexSize,this.topology=t.topology,this.bytes=new Uint8Array(this.vertexData),this.vertexComponentCount=r.getComponentCount(t.attributes,this.gl),this.flushLocked=!1,this.active=!1},boot:function(){},addAttribute:function(t,e,i,n,r){return this.attributes.push({name:t,size:e,type:this.renderer.glFormats[i],normalized:n,offset:r}),this},shouldFlush:function(){return this.vertexCount>=this.vertexCapacity},resize:function(t,e,i){return this.width=t*i,this.height=e*i,this},bind:function(){var t=this.gl,e=this.vertexBuffer,i=this.attributes,n=this.program,r=this.renderer,s=this.vertexSize;r.setProgram(n),r.setVertexBuffer(e);for(var o=0;o<i.length;++o){var a=i[o],h=t.getAttribLocation(n,a.name);h>=0?(t.enableVertexAttribArray(h),t.vertexAttribPointer(h,a.size,a.type,a.normalized,s,a.offset)):t.disableVertexAttribArray(h)}return this},onBind:function(){return this},onPreRender:function(){return this},onRender:function(){return this},onPostRender:function(){return this},flush:function(){if(this.flushLocked)return this;this.flushLocked=!0;var t=this.gl,e=this.vertexCount,i=this.topology,n=this.vertexSize;if(0!==e)return t.bufferSubData(t.ARRAY_BUFFER,0,this.bytes.subarray(0,e*n)),t.drawArrays(i,0,e),this.vertexCount=0,this.flushLocked=!1,this;this.flushLocked=!1},destroy:function(){var t=this.gl;return t.deleteProgram(this.program),t.deleteBuffer(this.vertexBuffer),delete this.program,delete this.vertexBuffer,delete this.gl,this},setFloat1:function(t,e){return this.renderer.setFloat1(this.program,t,e),this},setFloat2:function(t,e,i){return this.renderer.setFloat2(this.program,t,e,i),this},setFloat3:function(t,e,i,n){return this.renderer.setFloat3(this.program,t,e,i,n),this},setFloat4:function(t,e,i,n,r){return this.renderer.setFloat4(this.program,t,e,i,n,r),this},setInt1:function(t,e){return this.renderer.setInt1(this.program,t,e),this},setInt2:function(t,e,i){return this.renderer.setInt2(this.program,t,e,i),this},setInt3:function(t,e,i,n){return this.renderer.setInt3(this.program,t,e,i,n),this},setInt4:function(t,e,i,n,r){return this.renderer.setInt4(this.program,t,e,i,n,r),this},setMatrix2:function(t,e,i){return this.renderer.setMatrix2(this.program,t,e,i),this},setMatrix3:function(t,e,i){return this.renderer.setMatrix3(this.program,t,e,i),this},setMatrix4:function(t,e,i){return this.renderer.setMatrix4(this.program,t,e,i),this}});t.exports=s},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(619),s=i(167),o=new n({Extends:s,initialize:function(t){t.fragShader=r.replace("%LIGHT_COUNT%",10..toString()),s.call(this,t),this.defaultNormalMap},boot:function(){this.defaultNormalMap=this.game.textures.getFrame("__DEFAULT")},onBind:function(t){s.prototype.onBind.call(this);var e=this.renderer,i=this.program;return this.mvpUpdate(),e.setInt1(i,"uNormSampler",1),e.setFloat2(i,"uResolution",this.width,this.height),t&&this.setNormalMap(t),this},onRender:function(t,e){this.active=!1;var i=t.sys.lights;if(!i||i.lights.length<=0||!i.active)return this;var n=i.cull(e),r=Math.min(n.length,10);if(0===r)return this;this.active=!0;var s,o=this.renderer,a=this.program,h=e.matrix,u={x:0,y:0},c=o.height;for(s=0;s<10;++s)o.setFloat1(a,"uLights["+s+"].radius",0);for(o.setFloat4(a,"uCamera",e.x,e.y,e.rotation,e.zoom),o.setFloat3(a,"uAmbientLightColor",i.ambientColor.r,i.ambientColor.g,i.ambientColor.b),s=0;s<r;++s){var l=n[s],f="uLights["+s+"].";h.transformPoint(l.x,l.y,u),o.setFloat2(a,f+"position",u.x-e.scrollX*l.scrollFactorX*e.zoom,c-(u.y-e.scrollY*l.scrollFactorY*e.zoom)),o.setFloat3(a,f+"color",l.r,l.g,l.b),o.setFloat1(a,f+"intensity",l.intensity),o.setFloat1(a,f+"radius",l.radius)}return this},batchTexture:function(t,e,i,n,r,s,o,a,h,u,c,l,f,d,p,g,v,y,m,x,b,w,T,S,_,A,E,I,C,M){var P;if(this.active)if(this.renderer.setPipeline(this),t.displayTexture?P=t.displayTexture.dataSource[t.displayFrame.sourceIndex]:t.texture?P=t.texture.dataSource[t.frame.sourceIndex]:t.tileset&&(P=t.tileset.image.dataSource[0]),P){this.setTexture2D(P.glTexture,1);var k=this._tempMatrix1,O=this._tempMatrix2,N=this._tempMatrix3,F=y/i+E,R=m/n+I,L=(y+x)/i+E,D=(m+b)/n+I,B=o,U=a,X=-g,V=-v;if(t.isCropped){var z=t._crop;B=z.width,U=z.height,o=z.width,a=z.height;var Y=y=z.x,j=m=z.y;l&&(Y=x-z.x-z.width),f&&!e.isRenderTexture&&(j=b-z.y-z.height),F=Y/i+E,R=j/n+I,L=(Y+z.width)/i+E,D=(j+z.height)/n+I,X=-g+y,V=-v+m}l&&(B*=-1,X+=o),(f^=e.isRenderTexture?1:0)&&(U*=-1,V+=a);var G=X+B,W=V+U;O.applyITRS(r,s,c,h,u),k.copyFrom(C.matrix),M?(k.multiplyWithOffset(M,-C.scrollX*d,-C.scrollY*p),O.e=r,O.f=s,k.multiply(O,N)):(O.e-=C.scrollX*d,O.f-=C.scrollY*p,k.multiply(O,N));var H=N.getX(X,V),q=N.getY(X,V),K=N.getX(X,W),J=N.getY(X,W),Q=N.getX(G,W),Z=N.getY(G,W),$=N.getX(G,V),tt=N.getY(G,V);C.roundPixels&&(H|=0,q|=0,K|=0,J|=0,Q|=0,Z|=0,$|=0,tt|=0),this.setTexture2D(e,0),this.batchQuad(H,q,K,J,Q,Z,$,tt,F,R,L,D,w,T,S,_,A)}else console.warn("Normal map missing or invalid")},setNormalMap:function(t){var e;this.active&&t&&(t.texture&&(e=t.texture.dataSource[t.frame.sourceIndex]),e||(e=this.defaultNormalMap),this.setTexture2D(e.glTexture,1),this.renderer.setPipeline(t.defaultPipeline))},batchSprite:function(t,e,i){if(this.active){var n=t.texture.dataSource[t.frame.sourceIndex];n&&(this.renderer.setPipeline(this),this.setTexture2D(n.glTexture,1),s.prototype.batchSprite.call(this,t,e,i))}}});o.LIGHT_COUNT=10,t.exports=o},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(304),s=i(1),o=i(620),a=i(621),h=i(622),u=i(48),c=i(19),l=i(165),f=new n({Extends:l,Mixins:[o],initialize:function(t){var e=t.renderer.config;l.call(this,{game:t.game,renderer:t.renderer,gl:t.renderer.gl,topology:s(t,"topology",t.renderer.gl.TRIANGLES),vertShader:s(t,"vertShader",h),fragShader:s(t,"fragShader",a),vertexCapacity:s(t,"vertexCapacity",6*e.batchSize),vertexSize:s(t,"vertexSize",5*Float32Array.BYTES_PER_ELEMENT+4*Uint8Array.BYTES_PER_ELEMENT),attributes:[{name:"inPosition",size:2,type:t.renderer.gl.FLOAT,normalized:!1,offset:0},{name:"inTexCoord",size:2,type:t.renderer.gl.FLOAT,normalized:!1,offset:2*Float32Array.BYTES_PER_ELEMENT},{name:"inTintEffect",size:1,type:t.renderer.gl.FLOAT,normalized:!1,offset:4*Float32Array.BYTES_PER_ELEMENT},{name:"inTint",size:4,type:t.renderer.gl.UNSIGNED_BYTE,normalized:!0,offset:5*Float32Array.BYTES_PER_ELEMENT}]}),this.vertexViewF32=new Float32Array(this.vertexData),this.vertexViewU32=new Uint32Array(this.vertexData),this.maxQuads=e.batchSize,this._tempMatrix1=new u,this._tempMatrix2=new u,this._tempMatrix3=new u,this._tempMatrix4=new u,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.tintEffect=2,this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0],this.prevQuad=[0,0,0,0],this.polygonCache=[],this.mvpInit()},onBind:function(){return l.prototype.onBind.call(this),this.mvpUpdate(),this},resize:function(t,e,i){return l.prototype.resize.call(this,t,e,i),this.projOrtho(0,this.width,this.height,0,-1e3,1e3),this},setTexture2D:function(t,e){return this.renderer.setTexture2D(t,e),this},flush:function(){if(this.flushLocked)return this;this.flushLocked=!0;var t=this.gl,e=this.vertexCount,i=this.topology,n=this.vertexSize,r=this.renderer;if(0!==e)return r.setBlankTexture(),t.bufferSubData(t.ARRAY_BUFFER,0,this.bytes.subarray(0,e*n)),t.drawArrays(i,0,e),this.vertexCount=0,this.flushLocked=!1,this;this.flushLocked=!1},batchSprite:function(t,e,i){this.renderer.setPipeline(this);var n=this._tempMatrix1,r=this._tempMatrix2,s=this._tempMatrix3,o=t.frame,a=o.glTexture,h=o.u0,u=o.v0,l=o.u1,f=o.v1,d=o.x,p=o.y,g=o.width,v=o.height,y=-t.displayOriginX+d,m=-t.displayOriginY+p;if(t.isCropped){var x=t._crop;x.flipX===t.flipX&&x.flipY===t.flipY||o.updateCropUVs(x,t.flipX,t.flipY),h=x.u0,u=x.v0,l=x.u1,f=x.v1,g=x.width,v=x.height,d=x.x,p=x.y,y=-t.displayOriginX+d,m=-t.displayOriginY+p}t.flipX&&(y+=g,g*=-1),t.flipY&&(m+=v,v*=-1);var b=y+g,w=m+v;r.applyITRS(t.x,t.y,t.rotation,t.scaleX,t.scaleY),n.copyFrom(e.matrix),i?(n.multiplyWithOffset(i,-e.scrollX*t.scrollFactorX,-e.scrollY*t.scrollFactorY),r.e=t.x,r.f=t.y,n.multiply(r,s)):(r.e-=e.scrollX*t.scrollFactorX,r.f-=e.scrollY*t.scrollFactorY,n.multiply(r,s));var T=s.getX(y,m),S=s.getY(y,m),_=s.getX(y,w),A=s.getY(y,w),E=s.getX(b,w),I=s.getY(b,w),C=s.getX(b,m),M=s.getY(b,m),P=c.getTintAppendFloatAlpha(t._tintTL,e.alpha*t._alphaTL),k=c.getTintAppendFloatAlpha(t._tintTR,e.alpha*t._alphaTR),O=c.getTintAppendFloatAlpha(t._tintBL,e.alpha*t._alphaBL),N=c.getTintAppendFloatAlpha(t._tintBR,e.alpha*t._alphaBR);e.roundPixels&&(T|=0,S|=0,_|=0,A|=0,E|=0,I|=0,C|=0,M|=0),this.setTexture2D(a,0);var F=t._isTinted&&t.tintFill;this.batchQuad(T,S,_,A,E,I,C,M,h,u,l,f,P,k,O,N,F)},batchQuad:function(t,e,i,n,r,s,o,a,h,u,c,l,f,d,p,g,v){var y=!1;this.vertexCount+6>this.vertexCapacity&&(this.flush(),y=!0);var m=this.vertexViewF32,x=this.vertexViewU32,b=this.vertexCount*this.vertexComponentCount-1;return m[++b]=t,m[++b]=e,m[++b]=h,m[++b]=u,m[++b]=v,x[++b]=f,m[++b]=i,m[++b]=n,m[++b]=h,m[++b]=l,m[++b]=v,x[++b]=p,m[++b]=r,m[++b]=s,m[++b]=c,m[++b]=l,m[++b]=v,x[++b]=g,m[++b]=t,m[++b]=e,m[++b]=h,m[++b]=u,m[++b]=v,x[++b]=f,m[++b]=r,m[++b]=s,m[++b]=c,m[++b]=l,m[++b]=v,x[++b]=g,m[++b]=o,m[++b]=a,m[++b]=c,m[++b]=u,m[++b]=v,x[++b]=d,this.vertexCount+=6,y},batchTri:function(t,e,i,n,r,s,o,a,h,u,c,l,f,d){var p=!1;this.vertexCount+3>this.vertexCapacity&&(this.flush(),p=!0);var g=this.vertexViewF32,v=this.vertexViewU32,y=this.vertexCount*this.vertexComponentCount-1;return g[++y]=t,g[++y]=e,g[++y]=o,g[++y]=a,g[++y]=d,v[++y]=c,g[++y]=i,g[++y]=n,g[++y]=o,g[++y]=u,g[++y]=d,v[++y]=l,g[++y]=r,g[++y]=s,g[++y]=h,g[++y]=u,g[++y]=d,v[++y]=f,this.vertexCount+=3,p},batchTexture:function(t,e,i,n,r,s,o,a,h,u,c,l,f,d,p,g,v,y,m,x,b,w,T,S,_,A,E,I,C,M){this.renderer.setPipeline(this,t);var P=this._tempMatrix1,k=this._tempMatrix2,O=this._tempMatrix3,N=y/i+E,F=m/n+I,R=(y+x)/i+E,L=(m+b)/n+I,D=o,B=a,U=-g,X=-v;if(t.isCropped){var V=t._crop;D=V.width,B=V.height,o=V.width,a=V.height;var z=y=V.x,Y=m=V.y;l&&(z=x-V.x-V.width),f&&!e.isRenderTexture&&(Y=b-V.y-V.height),N=z/i+E,F=Y/n+I,R=(z+V.width)/i+E,L=(Y+V.height)/n+I,U=-g+y,X=-v+m}l&&(D*=-1,U+=o),(f^=e.isRenderTexture?1:0)&&(B*=-1,X+=a);var j=U+D,G=X+B;k.applyITRS(r,s,c,h,u),P.copyFrom(C.matrix),M?(P.multiplyWithOffset(M,-C.scrollX*d,-C.scrollY*p),k.e=r,k.f=s,P.multiply(k,O)):(k.e-=C.scrollX*d,k.f-=C.scrollY*p,P.multiply(k,O));var W=O.getX(U,X),H=O.getY(U,X),q=O.getX(U,G),K=O.getY(U,G),J=O.getX(j,G),Q=O.getY(j,G),Z=O.getX(j,X),$=O.getY(j,X);C.roundPixels&&(W|=0,H|=0,q|=0,K|=0,J|=0,Q|=0,Z|=0,$|=0),this.setTexture2D(e,0),this.batchQuad(W,H,q,K,J,Q,Z,$,N,F,R,L,w,T,S,_,A)},batchTextureFrame:function(t,e,i,n,r,s,o){this.renderer.setPipeline(this);var a=this._tempMatrix1.copyFrom(s),h=this._tempMatrix2,u=e+t.width,l=i+t.height;o?a.multiply(o,h):h=a;var f=h.getX(e,i),d=h.getY(e,i),p=h.getX(e,l),g=h.getY(e,l),v=h.getX(u,l),y=h.getY(u,l),m=h.getX(u,i),x=h.getY(u,i);this.setTexture2D(t.glTexture,0),n=c.getTintAppendFloatAlpha(n,r),this.batchQuad(f,d,p,g,v,y,m,x,t.u0,t.v0,t.u1,t.v1,n,n,n,n,0)},drawFillRect:function(t,e,i,n,r,s){var o=t+i,a=e+n,h=c.getTintAppendFloatAlphaAndSwap(r,s);this.batchQuad(t,e,t,a,o,a,o,e,0,0,1,1,h,h,h,h,2)},batchFillRect:function(t,e,i,n,r,s){this.renderer.setPipeline(this);var o=this._tempMatrix3;s.multiply(r,o);var a=t+i,h=e+n,u=o.getX(t,e),c=o.getY(t,e),l=o.getX(t,h),f=o.getY(t,h),d=o.getX(a,h),p=o.getY(a,h),g=o.getX(a,e),v=o.getY(a,e),y=this.currentFrame,m=y.u0,x=y.v0,b=y.u1,w=y.v1;this.batchQuad(u,c,l,f,d,p,g,v,m,x,b,w,this.fillTint.TL,this.fillTint.TR,this.fillTint.BL,this.fillTint.BR,this.tintEffect)},batchFillTriangle:function(t,e,i,n,r,s,o,a){this.renderer.setPipeline(this);var h=this._tempMatrix3;a.multiply(o,h);var u=h.getX(t,e),c=h.getY(t,e),l=h.getX(i,n),f=h.getY(i,n),d=h.getX(r,s),p=h.getY(r,s),g=this.currentFrame,v=g.u0,y=g.v0,m=g.u1,x=g.v1;this.batchTri(u,c,l,f,d,p,v,y,m,x,this.fillTint.TL,this.fillTint.TR,this.fillTint.BL,this.tintEffect)},batchStrokeTriangle:function(t,e,i,n,r,s,o,a,h){var u=this.tempTriangle;u[0].x=t,u[0].y=e,u[0].width=o,u[1].x=i,u[1].y=n,u[1].width=o,u[2].x=r,u[2].y=s,u[2].width=o,u[3].x=t,u[3].y=e,u[3].width=o,this.batchStrokePath(u,o,!1,a,h)},batchFillPath:function(t,e,i){this.renderer.setPipeline(this);var n=this._tempMatrix3;i.multiply(e,n);for(var s,o,a=t.length,h=this.polygonCache,u=this.fillTint.TL,c=this.fillTint.TR,l=this.fillTint.BL,f=this.tintEffect,d=0;d<a;++d)o=t[d],h.push(o.x,o.y);a=(s=r(h)).length;for(var p=this.currentFrame,g=0;g<a;g+=3){var v=2*s[g+0],y=2*s[g+1],m=2*s[g+2],x=h[v+0],b=h[v+1],w=h[y+0],T=h[y+1],S=h[m+0],_=h[m+1],A=n.getX(x,b),E=n.getY(x,b),I=n.getX(w,T),C=n.getY(w,T),M=n.getX(S,_),P=n.getY(S,_),k=p.u0,O=p.v0,N=p.u1,F=p.v1;this.batchTri(A,E,I,C,M,P,k,O,N,F,u,c,l,f)}h.length=0},batchStrokePath:function(t,e,i,n,r){this.renderer.setPipeline(this);for(var s=t.length-1,o=0;o<s;o++){var a=t[o],h=t[o+1];this.batchLine(a.x,a.y,h.x,h.y,a.width/2,h.width/2,e,o,!i&&o===s-1,n,r)}},batchLine:function(t,e,i,n,r,s,o,a,h,u,c){this.renderer.setPipeline(this);var l=this._tempMatrix3;c.multiply(u,l),this.vertexCount+6>this.vertexCapacity&&this.flush();var f=i-t,d=n-e,p=Math.sqrt(f*f+d*d),g=r*(n-e)/p,v=r*(t-i)/p,y=s*(n-e)/p,m=s*(t-i)/p,x=i-y,b=n-m,w=t-g,T=e-v,S=i+y,_=n+m,A=t+g,E=e+v,I=l.getX(x,b),C=l.getY(x,b),M=l.getX(w,T),P=l.getY(w,T),k=l.getX(S,_),O=l.getY(S,_),N=l.getX(A,E),F=l.getY(A,E),R=this.strokeTint,L=this.tintEffect,D=R.TL,B=R.TR,U=R.BL,X=R.BR,V=this.currentFrame,z=V.u0,Y=V.v0,j=V.u1,G=V.v1;if(this.batchQuad(N,F,M,P,I,C,k,O,z,Y,j,G,D,B,U,X,L),!(o<=1)){var W=this.prevQuad,H=this.firstQuad;a>0?this.batchQuad(N,F,M,P,W[0],W[1],W[2],W[3],z,Y,j,G,D,B,U,X,L):(H[0]=M,H[1]=P,H[2]=N,H[3]=F),h?this.batchQuad(H[0],H[1],H[2],H[3],I,C,k,O,z,Y,j,G,D,B,U,X,L):(W[0]=I,W[1]=C,W[2]=k,W[3]=O)}}});t.exports=f},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(109),s=i(164),o=i(624),a=i(625),h=i(2),u=i(317),c=new n({initialize:function(t,e){this.scene=t,this.game,this.facebook,this.config=e,this.settings=u.create(e),this.canvas,this.context,this.anims,this.cache,this.plugins,this.registry,this.sound,this.textures,this.add,this.cameras,this.displayList,this.events,this.make,this.scenePlugin,this.updateList,this.sceneUpdate=h},init:function(t){this.settings.status=r.INIT,this.sceneUpdate=h,this.game=t,this.canvas=t.canvas,this.context=t.context;var e=t.plugins;this.plugins=e,e.addToScene(this,s.Global,[s.CoreScene,a(this),o(this)]),this.events.emit("boot",this),this.settings.isBooted=!0},install:function(t){Array.isArray(t)||(t=[t]),this.plugins.installLocal(this,t)},step:function(t,e){this.events.emit("preupdate",t,e),this.events.emit("update",t,e),this.sceneUpdate.call(this.scene,t,e),this.events.emit("postupdate",t,e)},render:function(t){var e=this.displayList;e.depthSort(),this.cameras.render(t,e),this.events.emit("render",t)},queueDepthSort:function(){this.displayList.queueDepthSort()},depthSort:function(){this.displayList.depthSort()},pause:function(t){return this.settings.active&&(this.settings.status=r.PAUSED,this.settings.active=!1,this.events.emit("pause",this,t)),this},resume:function(t){return this.settings.active||(this.settings.status=r.RUNNING,this.settings.active=!0,this.events.emit("resume",this,t)),this},sleep:function(t){return this.settings.status=r.SLEEPING,this.settings.active=!1,this.settings.visible=!1,this.events.emit("sleep",this,t),this},wake:function(t){var e=this.settings;return e.status=r.RUNNING,e.active=!0,e.visible=!0,this.events.emit("wake",this,t),e.isTransition&&this.events.emit("transitionwake",e.transitionFrom,e.transitionDuration),this},isSleeping:function(){return this.settings.status===r.SLEEPING},isActive:function(){return this.settings.status===r.RUNNING},isTransitioning:function(){return this.settings.isTransition||null!==this.scenePlugin._target},isTransitionOut:function(){return null!==this.scenePlugin._target&&this.scenePlugin._duration>0},isTransitionIn:function(){return this.settings.isTransition},isVisible:function(){return this.settings.visible},setVisible:function(t){return this.settings.visible=t,this},setActive:function(t,e){return t?this.resume(e):this.pause(e)},start:function(t){t&&(this.settings.data=t),this.settings.status=r.START,this.settings.active=!0,this.settings.visible=!0,this.events.emit("start",this),this.events.emit("ready",this,t)},resize:function(t,e){this.events.emit("resize",t,e)},shutdown:function(t){this.events.off("transitioninit"),this.events.off("transitionstart"),this.events.off("transitioncomplete"),this.events.off("transitionout"),this.settings.status=r.SHUTDOWN,this.settings.active=!1,this.settings.visible=!1,this.events.emit("shutdown",this,t)},destroy:function(){this.settings.status=r.DESTROYED,this.settings.active=!1,this.settings.visible=!1,this.events.emit("destroy",this),this.events.removeAllListeners();for(var t=["scene","game","anims","cache","plugins","registry","sound","textures","add","camera","displayList","events","make","scenePlugin","updateList"],e=0;e<t.length;e++)this[t[e]]=null}});t.exports=c},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(112),s=i(326),o=new n({initialize:function(t,e,i,n,r){Array.isArray(i)||(i=[i]),this.manager=t,this.key=e,this.source=[],this.dataSource=[],this.frames={},this.customData={},this.firstFrame="__BASE",this.frameTotal=0;for(var o=0;o<i.length;o++)this.source.push(new s(this,i[o],n,r))},add:function(t,e,i,n,s,o){var a=new r(this,t,e,i,n,s,o);return this.frames[t]=a,1===this.frameTotal&&(this.firstFrame=t),this.frameTotal++,a},has:function(t){return this.frames[t]},get:function(t){t||(t=this.firstFrame);var e=this.frames[t];return e||(console.warn("Texture.frame missing: "+t),e=this.frames[this.firstFrame]),e},getTextureSourceIndex:function(t){for(var e=0;e<this.source.length;e++)if(this.source[e]===t)return e;return-1},getFramesFromTextureSource:function(t){var e=[];for(var i in this.frames)if("__BASE"!==i){var n=this.frames[i];n.sourceIndex===t&&e.push(n.name)}return e},getFrameNames:function(t){void 0===t&&(t=!1);var e=Object.keys(this.frames);if(!t){var i=e.indexOf("__BASE");-1!==i&&e.splice(i,1)}return e},getSourceImage:function(t){null!=t&&1!==this.frameTotal||(t="__BASE");var e=this.frames[t];return e?e.source.image:(console.warn("Texture.frame missing: "+t),this.frames.__BASE.source.image)},getDataSourceImage:function(t){null!=t&&1!==this.frameTotal||(t="__BASE");var e,i=this.frames[t];return i?e=i.sourceIndex:(console.warn("Texture.frame missing: "+t),e=this.frames.__BASE.sourceIndex),this.dataSource[e].image},setDataSource:function(t){Array.isArray(t)||(t=[t]);for(var e=0;e<t.length;e++){var i=this.source[e];this.dataSource.push(new s(this,t[e],i.width,i.height))}},setFilter:function(t){var e;for(e=0;e<this.source.length;e++)this.source[e].setFilter(t);for(e=0;e<this.dataSource.length;e++)this.dataSource[e].setFilter(t)},destroy:function(){var t;for(t=0;t<this.source.length;t++)this.source[t].destroy();for(t=0;t<this.dataSource.length;t++)this.dataSource[t].destroy();for(var e in this.frames){this.frames[e].destroy()}this.source=[],this.dataSource=[],this.frames={},this.manager=null}});t.exports=o},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={Matrix:i(647),Add:i(654),AddAt:i(655),BringToTop:i(656),CountAllMatching:i(657),Each:i(658),EachInRange:i(659),FindClosestInSorted:i(253),GetAll:i(660),GetFirst:i(661),GetRandom:i(172),MoveDown:i(662),MoveTo:i(663),MoveUp:i(664),NumberArray:i(665),NumberArrayStep:i(666),QuickSelect:i(331),Range:i(332),Remove:i(313),RemoveAt:i(667),RemoveBetween:i(668),RemoveRandomElement:i(669),Replace:i(670),RotateLeft:i(249),RotateRight:i(250),SafeRange:i(60),SendToBack:i(671),SetAll:i(672),Shuffle:i(103),SpliceOne:i(88),StableSort:i(115),Swap:i(673)}},function(t,e){t.exports=function(t){if(!Array.isArray(t)||t.length<2||!Array.isArray(t[0]))return!1;for(var e=t[0].length,i=1;i<t.length;i++)if(t[i].length!==e)return!1;return!0}},function(t,e){t.exports=function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=t.length);var n=e+Math.floor(Math.random()*i);return void 0===t[n]?null:t[n]}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(11);t.exports=function(t,e){var i=n(e,"anims",null);if(null===i)return t;if("string"==typeof i)t.anims.play(i);else if("object"==typeof i){var r=t.anims,s=n(i,"key",void 0),o=n(i,"startFrame",void 0),a=n(i,"delay",0),h=n(i,"repeat",0),u=n(i,"repeatDelay",0),c=n(i,"yoyo",!1),l=n(i,"play",!1),f=n(i,"delayedPlay",0);r.setDelay(a),r.setRepeat(h),r.setRepeatDelay(u),r.setYoyo(c),l?r.play(s,o):f>0?r.delayedPlay(f,s,o):r.load(s)}return t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(680),r=i(683),s=i(0),o=i(16),a=i(112),h=i(12),u=i(113),c=new s({Extends:h,Mixins:[o.Alpha,o.BlendMode,o.Depth,o.Mask,o.Pipeline,o.ScaleMode,o.ScrollFactor,o.Size,o.Texture,o.Transform,o.Visible,n],initialize:function(t,e,i,n,r){h.call(this,t,"Blitter"),this.setTexture(n,r),this.setPosition(e,i),this.initPipeline("TextureTintPipeline"),this.children=new u,this.renderList=[],this.dirty=!1},create:function(t,e,i,n,s){void 0===n&&(n=!0),void 0===s&&(s=this.children.length),void 0===i?i=this.frame:i instanceof a||(i=this.texture.get(i));var o=new r(this,t,e,i,n);return this.children.addAt(o,s,!1),this.dirty=!0,o},createFromCallback:function(t,e,i,n){for(var r=this.createMultiple(e,i,n),s=0;s<r.length;s++){var o=r[s];t.call(this,o,s)}return r},createMultiple:function(t,e,i){void 0===e&&(e=this.frame.name),void 0===i&&(i=!0),Array.isArray(e)||(e=[e]);var n=[],r=this;return e.forEach(function(e){for(var s=0;s<t;s++)n.push(r.create(0,0,e,i))}),n},childCanRender:function(t){return t.visible&&t.alpha>0},getRenderList:function(){return this.dirty&&(this.renderList=this.children.list.filter(this.childCanRender,this),this.dirty=!1),this.renderList},clear:function(){this.children.removeAll(),this.dirty=!0},preDestroy:function(){this.children.destroy(),this.renderList=[]}});t.exports=c},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(170),r=i(56),s=i(0),o=i(16),a=i(12),h=i(9),u=i(684),c=i(334),l=i(3),f=new s({Extends:a,Mixins:[o.Alpha,o.BlendMode,o.ComputedSize,o.Depth,o.Mask,o.ScrollFactor,o.Transform,o.Visible,u],initialize:function(t,e,i,n){a.call(this,t,"Container"),this.list=[],this.exclusive=!0,this.maxSize=-1,this.position=0,this.localTransform=new o.TransformMatrix,this.tempTransformMatrix=new o.TransformMatrix,this._displayList=t.sys.displayList,this._sortKey="",this._sysEvents=t.sys.events,this.setPosition(e,i),this.clearAlpha(),this.setBlendMode(r.SKIP_CHECK),n&&this.add(n)},originX:{get:function(){return.5}},originY:{get:function(){return.5}},displayOriginX:{get:function(){return.5*this.width}},displayOriginY:{get:function(){return.5*this.height}},setExclusive:function(t){return void 0===t&&(t=!0),this.exclusive=t,this},getBounds:function(t){if(void 0===t&&(t=new h),t.setTo(this.x,this.y,0,0),this.list.length>0)for(var e=this.list,i=new h,n=0;n<e.length;n++){var r=e[n];r.getBounds&&(r.getBounds(i),c(i,t,t))}return t},addHandler:function(t){t.once("destroy",this.remove,this),this.exclusive&&(this._displayList.remove(t),t.parentContainer&&t.parentContainer.remove(t),t.parentContainer=this),this._sysEvents.off("shutdown",t.destroy,t)},removeHandler:function(t){t.off("destroy",this.remove),this.exclusive&&(t.parentContainer=null,this._sysEvents.once("shutdown",t.destroy,t))},pointToContainer:function(t,e){if(void 0===e&&(e=new l),this.parentContainer)return this.parentContainer.pointToContainer(t,e);var i=this.tempTransformMatrix;return i.applyITRS(this.x,this.y,this.rotation,this.scaleX,this.scaleY),i.invert(),i.transformPoint(t.x,t.y,e),e},getBoundsTransformMatrix:function(){return this.getWorldTransformMatrix(this.tempTransformMatrix,this.localTransform)},add:function(t){return n.Add(this.list,t,this.maxSize,this.addHandler,this),this},addAt:function(t,e){return n.AddAt(this.list,t,e,this.maxSize,this.addHandler,this),this},getAt:function(t){return this.list[t]},getIndex:function(t){return this.list.indexOf(t)},sort:function(t){return t&&(this._sortKey=t,n.StableSort.inplace(this.list,this.sortHandler)),this},sortHandler:function(t,e){return t[this._sortKey]-e[this._sortKey]},getByName:function(t){return n.GetFirst(this.list,"name",t)},getRandom:function(t,e){return n.GetRandom(this.list,t,e)},getFirst:function(t,e,i,r){return n.GetFirstElement(this.list,t,e,i,r)},getAll:function(t,e,i,r){return n.GetAll(this.list,t,e,i,r)},count:function(t,e,i,r){return n.CountAllMatching(this.list,t,e,i,r)},swap:function(t,e){return n.Swap(this.list,t,e),this},moveTo:function(t,e){return n.MoveTo(this.list,t,e),this},remove:function(t,e){var i=n.Remove(this.list,t,this.removeHandler,this);if(e&&i){Array.isArray(i)||(i=[i]);for(var r=0;r<i.length;r++)i[r].destroy()}return this},removeAt:function(t,e){var i=n.RemoveAt(this.list,t,this.removeHandler,this);return e&&i&&i.destroy(),this},removeBetween:function(t,e,i){var r=n.RemoveBetween(this.list,t,e,this.removeHandler,this);if(i)for(var s=0;s<r.length;s++)r[s].destroy();return this},removeAll:function(t){var e=n.RemoveBetween(this.list,0,this.list.length,this.removeHandler,this);if(t)for(var i=0;i<e.length;i++)e[i].destroy();return this},bringToTop:function(t){return n.BringToTop(this.list,t),this},sendToBack:function(t){return n.SendToBack(this.list,t),this},moveUp:function(t){return n.MoveUp(this.list,t),this},moveDown:function(t){return n.MoveDown(this.list,t),this},reverse:function(){return this.list.reverse(),this},shuffle:function(){return n.Shuffle(this.list),this},replace:function(t,e,i){return n.Replace(this.list,t,e)&&(this.addHandler(e),this.removeHandler(t),i&&t.destroy()),this},exists:function(t){return this.list.indexOf(t)>-1},setAll:function(t,e,i,r){return n.SetAll(this.list,t,e,i,r),this},each:function(t,e){var i,n=[null],r=this.list.slice(),s=r.length;for(i=2;i<arguments.length;i++)n.push(arguments[i]);for(i=0;i<s;i++)n[0]=r[i],t.apply(e,n);return this},iterate:function(t,e){var i,n=[null];for(i=2;i<arguments.length;i++)n.push(arguments[i]);for(i=0;i<this.list.length;i++)n[0]=this.list[i],t.apply(e,n);return this},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}},preDestroy:function(){this.removeAll(!!this.exclusive),this.localTransform.destroy(),this.tempTransformMatrix.destroy(),this.list=[],this._displayList=null}});t.exports=f},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(116),r=i(0),s=i(687),o=new r({Extends:n,Mixins:[s],initialize:function(t,e,i,r,s,o,a){n.call(this,t,e,i,r,s,o,a),this.type="DynamicBitmapText",this.scrollX=0,this.scrollY=0,this.cropWidth=0,this.cropHeight=0,this.displayCallback,this.callbackData={color:0,tint:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},index:0,charCode:0,x:0,y:0,scale:0,rotation:0,data:0}},setSize:function(t,e){return this.cropWidth=t,this.cropHeight=e,this},setDisplayCallback:function(t){return this.displayCallback=t,this},setScrollX:function(t){return this.scrollX=t,this},setScrollY:function(t){return this.scrollY=t,this}});t.exports=o},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(104),r=i(0),s=i(178),o=i(234),a=i(236),h=i(237),u=i(241),c=i(102),l=i(246),f=i(247),d=i(244),p=i(118),g=i(12),v=i(1),y=i(4),m=i(18),x=i(690),b=new r({Extends:g,Mixins:[o,a,h,u,c,l,f,d,x],initialize:function(t,e){var i=y(e,"x",0),n=y(e,"y",0);g.call(this,t,"Graphics"),this.setPosition(i,n),this.initPipeline("TextureTintPipeline"),this.displayOriginX=0,this.displayOriginY=0,this.commandBuffer=[],this.defaultFillColor=-1,this.defaultFillAlpha=1,this.defaultStrokeWidth=1,this.defaultStrokeColor=-1,this.defaultStrokeAlpha=1,this._lineWidth=1,this.setDefaultStyles(e)},setDefaultStyles:function(t){return y(t,"lineStyle",null)&&(this.defaultStrokeWidth=y(t,"lineStyle.width",1),this.defaultStrokeColor=y(t,"lineStyle.color",16777215),this.defaultStrokeAlpha=y(t,"lineStyle.alpha",1),this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha)),y(t,"fillStyle",null)&&(this.defaultFillColor=y(t,"fillStyle.color",16777215),this.defaultFillAlpha=y(t,"fillStyle.alpha",1),this.fillStyle(this.defaultFillColor,this.defaultFillAlpha)),this},lineStyle:function(t,e,i){return void 0===i&&(i=1),this.commandBuffer.push(s.LINE_STYLE,t,e,i),this._lineWidth=t,this},fillStyle:function(t,e){return void 0===e&&(e=1),this.commandBuffer.push(s.FILL_STYLE,t,e),this},fillGradientStyle:function(t,e,i,n,r){return void 0===r&&(r=1),this.commandBuffer.push(s.GRADIENT_FILL_STYLE,r,t,e,i,n),this},lineGradientStyle:function(t,e,i,n,r,o){return void 0===o&&(o=1),this.commandBuffer.push(s.GRADIENT_LINE_STYLE,t,o,e,i,n,r),this},setTexture:function(t,e,i){if(void 0===i&&(i=0),void 0===t)this.commandBuffer.push(s.CLEAR_TEXTURE);else{var n=this.scene.sys.textures.getFrame(t,e);n&&(2===i&&(i=3),this.commandBuffer.push(s.SET_TEXTURE,n,i))}return this},beginPath:function(){return this.commandBuffer.push(s.BEGIN_PATH),this},closePath:function(){return this.commandBuffer.push(s.CLOSE_PATH),this},fillPath:function(){return this.commandBuffer.push(s.FILL_PATH),this},strokePath:function(){return this.commandBuffer.push(s.STROKE_PATH),this},fillCircleShape:function(t){return this.fillCircle(t.x,t.y,t.radius)},strokeCircleShape:function(t){return this.strokeCircle(t.x,t.y,t.radius)},fillCircle:function(t,e,i){return this.beginPath(),this.arc(t,e,i,0,m.PI2),this.fillPath(),this},strokeCircle:function(t,e,i){return this.beginPath(),this.arc(t,e,i,0,m.PI2),this.strokePath(),this},fillRectShape:function(t){return this.fillRect(t.x,t.y,t.width,t.height)},strokeRectShape:function(t){return this.strokeRect(t.x,t.y,t.width,t.height)},fillRect:function(t,e,i,n){return this.commandBuffer.push(s.FILL_RECT,t,e,i,n),this},strokeRect:function(t,e,i,n){var r=this._lineWidth/2,s=t-r,o=t+r;return this.beginPath(),this.moveTo(t,e),this.lineTo(t,e+n),this.strokePath(),this.beginPath(),this.moveTo(t+i,e),this.lineTo(t+i,e+n),this.strokePath(),this.beginPath(),this.moveTo(s,e),this.lineTo(o+i,e),this.strokePath(),this.beginPath(),this.moveTo(s,e+n),this.lineTo(o+i,e+n),this.strokePath(),this},fillRoundedRect:function(t,e,i,n,r){void 0===r&&(r=20);var s=r,o=r,a=r,h=r;return"number"!=typeof r&&(s=v(r,"tl",20),o=v(r,"tr",20),a=v(r,"bl",20),h=v(r,"br",20)),this.beginPath(),this.moveTo(t+s,e),this.lineTo(t+i-o,e),this.arc(t+i-o,e+o,o,-m.TAU,0),this.lineTo(t+i,e+n-h),this.arc(t+i-h,e+n-h,h,0,m.TAU),this.lineTo(t+a,e+n),this.arc(t+a,e+n-a,a,m.TAU,Math.PI),this.lineTo(t,e+s),this.arc(t+s,e+s,s,-Math.PI,-m.TAU),this.fillPath(),this},strokeRoundedRect:function(t,e,i,n,r){void 0===r&&(r=20);var s=r,o=r,a=r,h=r;return"number"!=typeof r&&(s=v(r,"tl",20),o=v(r,"tr",20),a=v(r,"bl",20),h=v(r,"br",20)),this.beginPath(),this.moveTo(t+s,e),this.lineTo(t+i-o,e),this.arc(t+i-o,e+o,o,-m.TAU,0),this.lineTo(t+i,e+n-h),this.arc(t+i-h,e+n-h,h,0,m.TAU),this.lineTo(t+a,e+n),this.arc(t+a,e+n-a,a,m.TAU,Math.PI),this.lineTo(t,e+s),this.arc(t+s,e+s,s,-Math.PI,-m.TAU),this.strokePath(),this},fillPointShape:function(t,e){return this.fillPoint(t.x,t.y,e)},fillPoint:function(t,e,i){return!i||i<1?i=1:(t-=i/2,e-=i/2),this.commandBuffer.push(s.FILL_RECT,t,e,i,i),this},fillTriangleShape:function(t){return this.fillTriangle(t.x1,t.y1,t.x2,t.y2,t.x3,t.y3)},strokeTriangleShape:function(t){return this.strokeTriangle(t.x1,t.y1,t.x2,t.y2,t.x3,t.y3)},fillTriangle:function(t,e,i,n,r,o){return this.commandBuffer.push(s.FILL_TRIANGLE,t,e,i,n,r,o),this},strokeTriangle:function(t,e,i,n,r,o){return this.commandBuffer.push(s.STROKE_TRIANGLE,t,e,i,n,r,o),this},strokeLineShape:function(t){return this.lineBetween(t.x1,t.y1,t.x2,t.y2)},lineBetween:function(t,e,i,n){return this.beginPath(),this.moveTo(t,e),this.lineTo(i,n),this.strokePath(),this},lineTo:function(t,e){return this.commandBuffer.push(s.LINE_TO,t,e),this},moveTo:function(t,e){return this.commandBuffer.push(s.MOVE_TO,t,e),this},lineFxTo:function(t,e,i,n){return this.commandBuffer.push(s.LINE_FX_TO,t,e,i,n,1),this},moveFxTo:function(t,e,i,n){return this.commandBuffer.push(s.MOVE_FX_TO,t,e,i,n,1),this},strokePoints:function(t,e,i){void 0===e&&(e=!1),void 0===i&&(i=t.length),this.beginPath(),this.moveTo(t[0].x,t[0].y);for(var n=1;n<i;n++)this.lineTo(t[n].x,t[n].y);return e&&this.lineTo(t[0].x,t[0].y),this.strokePath(),this},fillPoints:function(t,e,i){void 0===e&&(e=!1),void 0===i&&(i=t.length),this.beginPath(),this.moveTo(t[0].x,t[0].y);for(var n=1;n<i;n++)this.lineTo(t[n].x,t[n].y);return e&&this.lineTo(t[0].x,t[0].y),this.fillPath(),this},strokeEllipseShape:function(t,e){void 0===e&&(e=32);var i=t.getPoints(e);return this.strokePoints(i,!0)},strokeEllipse:function(t,e,i,n,r){void 0===r&&(r=32);var s=new p(t,e,i,n).getPoints(r);return this.strokePoints(s,!0)},fillEllipseShape:function(t,e){void 0===e&&(e=32);var i=t.getPoints(e);return this.fillPoints(i,!0)},fillEllipse:function(t,e,i,n,r){void 0===r&&(r=32);var s=new p(t,e,i,n).getPoints(r);return this.fillPoints(s,!0)},arc:function(t,e,i,n,r,o,a){return void 0===o&&(o=!1),void 0===a&&(a=0),this.commandBuffer.push(s.ARC,t,e,i,n,r,o,a),this},slice:function(t,e,i,n,r,o,a){return void 0===o&&(o=!1),void 0===a&&(a=0),this.commandBuffer.push(s.BEGIN_PATH),this.commandBuffer.push(s.MOVE_TO,t,e),this.commandBuffer.push(s.ARC,t,e,i,n,r,o,a),this.commandBuffer.push(s.CLOSE_PATH),this},save:function(){return this.commandBuffer.push(s.SAVE),this},restore:function(){return this.commandBuffer.push(s.RESTORE),this},translate:function(t,e){return this.commandBuffer.push(s.TRANSLATE,t,e),this},scale:function(t,e){return this.commandBuffer.push(s.SCALE,t,e),this},rotate:function(t){return this.commandBuffer.push(s.ROTATE,t),this},clear:function(){return this.commandBuffer.length=0,this.defaultFillColor>-1&&this.fillStyle(this.defaultFillColor,this.defaultFillAlpha),this.defaultStrokeColor>-1&&this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha),this},generateTexture:function(t,e,i){var n,r,s=this.scene.sys,o=s.game.renderer;if(void 0===e&&(e=s.game.config.width),void 0===i&&(i=s.game.config.height),b.TargetCamera.setScene(this.scene),b.TargetCamera.setViewport(0,0,e,i),b.TargetCamera.scrollX=this.x,b.TargetCamera.scrollY=this.y,"string"==typeof t)if(s.textures.exists(t)){var a=(n=s.textures.get(t)).getSourceImage();a instanceof HTMLCanvasElement&&(r=a.getContext("2d"))}else r=(n=s.textures.createCanvas(t,e,i)).getSourceImage().getContext("2d");else t instanceof HTMLCanvasElement&&(r=t.getContext("2d"));return r&&(this.renderCanvas(o,this,0,b.TargetCamera,null,r,!1),o.gl&&n&&(n.source[0].glTexture=o.canvasToTexture(r.canvas,n.source[0].glTexture))),this},preDestroy:function(){this.commandBuffer=[]}});b.TargetCamera=new n,t.exports=b},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={ARC:0,BEGIN_PATH:1,CLOSE_PATH:2,FILL_RECT:3,LINE_TO:4,MOVE_TO:5,LINE_STYLE:6,FILL_STYLE:7,FILL_PATH:8,STROKE_PATH:9,FILL_TRIANGLE:10,STROKE_TRIANGLE:11,LINE_FX_TO:12,MOVE_FX_TO:13,SAVE:14,RESTORE:15,TRANSLATE:16,SCALE:17,ROTATE:18,SET_TEXTURE:19,CLEAR_TEXTURE:20,GRADIENT_FILL_STYLE:21,GRADIENT_LINE_STYLE:22}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(5);t.exports=function(t,e,i){void 0===i&&(i=new n);var r=t.width/2,s=t.height/2;return i.x=t.x+r*Math.cos(e),i.y=t.y+s*Math.sin(e),i}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(16),s=i(12),o=i(339),a=i(113),h=i(341),u=i(700),c=new n({Extends:s,Mixins:[r.Depth,r.Pipeline,r.Transform,r.Visible,u],initialize:function(t,e,i,n){if(s.call(this,t,"ParticleEmitterManager"),this.blendMode=-1,this.timeScale=1,this.texture=null,this.frame=null,this.frameNames=[],null===i||"object"!=typeof i&&!Array.isArray(i)||(n=i,i=null),this.setTexture(e,i),this.initPipeline("TextureTintPipeline"),this.emitters=new a(this),this.wells=new a(this),n){Array.isArray(n)||(n=[n]);for(var r=0;r<n.length;r++)this.createEmitter(n[r])}},setTexture:function(t,e){return this.texture=this.scene.sys.textures.get(t),this.setFrame(e)},setFrame:function(t){return this.frame=this.texture.get(t),this.frameNames=this.texture.getFramesFromTextureSource(this.frame.sourceIndex),this.defaultFrame=this.frame,this},setEmitterFrames:function(t,e){Array.isArray(t)||(t=[t]);var i=e.frames;i.length=0;for(var n=0;n<t.length;n++){var r=t[n];-1!==this.frameNames.indexOf(r)&&i.push(this.texture.get(r))}return i.length>0?e.defaultFrame=i[0]:e.defaultFrame=this.defaultFrame,this},addEmitter:function(t){return this.emitters.add(t)},createEmitter:function(t){return this.addEmitter(new h(this,t))},addGravityWell:function(t){return this.wells.add(t)},createGravityWell:function(t){return this.addGravityWell(new o(t))},emitParticle:function(t,e,i){for(var n=this.emitters.list,r=0;r<n.length;r++){var s=n[r];s.active&&s.emitParticle(t,e,i)}return this},emitParticleAt:function(t,e,i){return this.emitParticle(i,t,e)},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},getProcessors:function(){return this.wells.getAll("active",!0)},preUpdate:function(t,e){e*=this.timeScale;for(var i=this.emitters.list,n=0;n<i.length;n++){var r=i[n];r.active&&r.preUpdate(t,e)}},setAlpha:function(){},setScrollFactor:function(){}});t.exports=c},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(104),r=i(28),s=i(0),o=i(16),a=i(26),h=i(112),u=i(12),c=i(704),l=i(348),f=new s({Extends:u,Mixins:[o.Alpha,o.BlendMode,o.ComputedSize,o.Crop,o.Depth,o.Flip,o.GetBounds,o.Mask,o.Origin,o.Pipeline,o.ScaleMode,o.ScrollFactor,o.Tint,o.Transform,o.Visible,c],initialize:function(t,e,i,s,o){void 0===e&&(e=0),void 0===i&&(i=0),void 0===s&&(s=32),void 0===o&&(o=32),u.call(this,t,"RenderTexture"),this.renderer=t.sys.game.renderer,this.textureManager=t.sys.textures,this.globalTint=16777215,this.globalAlpha=1,this.canvas=r.create2D(this,s,o),this.context=this.canvas.getContext("2d"),this.framebuffer=null,this._crop=this.resetCropObject(),this.texture=t.sys.textures.addCanvas(l(),this.canvas),this.frame=this.texture.get(),this._saved=!1,this.camera=new n(0,0,s,o),this.dirty=!1,this.gl=null;var h=this.renderer;if(h.type===a.WEBGL){var c=h.gl;this.gl=c,this.drawGameObject=this.batchGameObjectWebGL,this.framebuffer=h.createFramebuffer(s,o,this.frame.source.glTexture,!1)}else h.type===a.CANVAS&&(this.drawGameObject=this.batchGameObjectCanvas);this.camera.setScene(t),this.setPosition(e,i),this.setSize(s,o),this.setOrigin(0,0),this.initPipeline("TextureTintPipeline")},setSize:function(t,e){return this.resize(t,e)},resize:function(t,e){if(void 0===e&&(e=t),t!==this.width||e!==this.height){if(this.canvas)this.canvas.width=t,this.canvas.height=e;else{var i=this.gl;this.renderer.deleteTexture(this.frame.source.glTexture),this.renderer.deleteFramebuffer(this.framebuffer),this.frame.source.glTexture=this.renderer.createTexture2D(0,i.NEAREST,i.NEAREST,i.CLAMP_TO_EDGE,i.CLAMP_TO_EDGE,i.RGBA,null,t,e,!1),this.framebuffer=this.renderer.createFramebuffer(t,e,this.texture,!1),this.frame.glTexture=this.frame.source.glTexture}this.camera.setSize(t,e),this.frame.setSize(t,e),this.width=t,this.height=e}return this},setGlobalTint:function(t){return this.globalTint=t,this},setGlobalAlpha:function(t){return this.globalAlpha=t,this},saveTexture:function(t){return this.textureManager.renameTexture(this.texture.key,t),this._saved=!0,this.texture},fill:function(t,e){void 0===e&&(e=1);var i=255&(t>>16|0),n=255&(t>>8|0),r=255&(0|t);if(this.gl){this.renderer.setFramebuffer(this.framebuffer);var s=this.gl;s.clearColor(i/255,n/255,r/255,e),s.clear(s.COLOR_BUFFER_BIT),this.renderer.setFramebuffer(null)}else this.context.fillStyle="rgb("+i+","+n+","+r+")",this.context.fillRect(0,0,this.canvas.width,this.canvas.height);return this},clear:function(){if(this.dirty){if(this.gl){this.renderer.setFramebuffer(this.framebuffer);var t=this.gl;t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT),this.renderer.setFramebuffer(null)}else{var e=this.context;e.save(),e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,this.canvas.width,this.canvas.height),e.restore()}this.dirty=!1}return this},draw:function(t,e,i,n,r){void 0===n&&(n=this.globalAlpha),r=void 0===r?(this.globalTint>>16)+(65280&this.globalTint)+((255&this.globalTint)<<16):(r>>16)+(65280&r)+((255&r)<<16),Array.isArray(t)||(t=[t]);var s=this.gl;if(this.camera.preRender(1,1,1),s){this.renderer.setFramebuffer(this.framebuffer);var o=this.pipeline;o.projOrtho(0,this.width,0,this.height,-1e3,1e3),this.batchList(t,e,i,n,r),o.flush(),this.renderer.setFramebuffer(null),o.projOrtho(0,o.width,o.height,0,-1e3,1e3)}else this.renderer.setContext(this.context),this.batchList(t,e,i,n,r),this.renderer.setContext();return this.dirty=!0,this},drawFrame:function(t,e,i,n,r,s){void 0===i&&(i=0),void 0===n&&(n=0),void 0===r&&(r=this.globalAlpha),s=void 0===s?(this.globalTint>>16)+(65280&this.globalTint)+((255&this.globalTint)<<16):(s>>16)+(65280&s)+((255&s)<<16);var o=this.gl,a=this.textureManager.getFrame(t,e);if(a){if(this.camera.preRender(1,1,1),o){this.renderer.setFramebuffer(this.framebuffer);var h=this.pipeline;h.projOrtho(0,this.width,0,this.height,-1e3,1e3),h.batchTextureFrame(a,i,n,s,r,this.camera.matrix,null),h.flush(),this.renderer.setFramebuffer(null),h.projOrtho(0,h.width,h.height,0,-1e3,1e3)}else this.batchTextureFrame(a,i,n,r,s);this.dirty=!0}return this},batchList:function(t,e,i,n,r){for(var s=0;s<t.length;s++){var o=t[s];o&&o!==this&&(o.renderWebGL||o.renderCanvas?this.drawGameObject(o,e,i):o.isParent||o.list?this.batchGroup(o.getChildren(),e,i):"string"==typeof o?this.batchTextureFrameKey(o,null,e,i,n,r):o instanceof h?this.batchTextureFrame(o,e,i,n,r):Array.isArray(o)&&this.batchList(o,e,i,n,r))}},batchGroup:function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=0);for(var n=0;n<t.length;n++){var r=t[n];if(r.willRender()){var s=r.x+e,o=r.y+i;this.drawGameObject(r,s,o)}}},batchGameObjectWebGL:function(t,e,i){void 0===e&&(e=t.x),void 0===i&&(i=t.y);var n=t.x,r=t.y;this.renderer.setBlendMode(t.blendMode),t.setPosition(e,i),t.renderWebGL(this.renderer,t,0,this.camera,null),t.setPosition(n,r)},batchGameObjectCanvas:function(t,e,i){void 0===e&&(e=t.x),void 0===i&&(i=t.y);var n=t.x,r=t.y;t.setPosition(e,i),t.renderCanvas(this.renderer,t,0,this.camera,null),t.setPosition(n,r)},batchTextureFrameKey:function(t,e,i,n,r,s){var o=this.textureManager.getFrame(t,e);o&&this.batchTextureFrame(o,i,n,r,s)},batchTextureFrame:function(t,e,i,n,r){if(void 0===e&&(e=0),void 0===i&&(i=0),this.gl)this.pipeline.batchTextureFrame(t,e,i,r,n,this.camera.matrix,null);else{var s=this.context,o=t.canvasData,a=t.source.image,h=this.camera.matrix;s.globalAlpha=this.globalAlpha,s.setTransform(h[0],h[1],h[2],h[3],h[4],h[5]),s.drawImage(a,o.x,o.y,o.width,o.height,e,i,o.width,o.height)}},preDestroy:function(){this.canvas&&!this._saved&&r.remove(this.canvas),this.gl&&this.renderer.deleteFramebuffer(this.framebuffer),this._saved||this.texture.destroy()}});t.exports=f},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(106),r=i(28),s=i(0),o=i(16),a=i(26),h=i(12),u=i(710),c=i(4),l=i(162),f=i(711),d=i(714),p=new s({Extends:h,Mixins:[o.Alpha,o.BlendMode,o.ComputedSize,o.Crop,o.Depth,o.Flip,o.GetBounds,o.Mask,o.Origin,o.Pipeline,o.ScaleMode,o.ScrollFactor,o.Tint,o.Transform,o.Visible,f],initialize:function(t,e,i,n,s){void 0===e&&(e=0),void 0===i&&(i=0),h.call(this,t,"Text"),this.renderer=t.sys.game.renderer,this.setPosition(e,i),this.setOrigin(0,0),this.initPipeline("TextureTintPipeline"),this.canvas=r.create(this),this.context=this.canvas.getContext("2d"),this.style=new d(this,s),this.autoRound=!0,this.splitRegExp=/(?:\r\n|\r|\n)/,this._text="",this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.dirty=!1,0===this.style.resolution&&(this.style.resolution=t.sys.game.config.resolution),this._crop=this.resetCropObject(),this.texture=t.sys.textures.addCanvas(null,this.canvas,!0),this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.initRTL(),s&&s.padding&&this.setPadding(s.padding),s&&s.lineSpacing&&(this._lineSpacing=s.lineSpacing),this.setText(n),t.sys.game.config.renderType===a.WEBGL&&t.sys.game.renderer.onContextRestored(function(){this.dirty=!0},this)},initRTL:function(){this.style.rtl&&(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",n(this.canvas,this.scene.sys.canvas),this.originX=1)},runWordWrap:function(t){var e=this.style;if(e.wordWrapCallback){var i=e.wordWrapCallback.call(e.wordWrapCallbackScope,t,this);return Array.isArray(i)&&(i=i.join("\n")),i}return e.wordWrapWidth?e.wordWrapUseAdvanced?this.advancedWordWrap(t,this.context,this.style.wordWrapWidth):this.basicWordWrap(t,this.context,this.style.wordWrapWidth):t},advancedWordWrap:function(t,e,i){for(var n="",r=t.replace(/ +/gi," ").split(this.splitRegExp),s=r.length,o=0;o<s;o++){var a=r[o],h="";if(a=a.replace(/^ *|\s*$/gi,""),e.measureText(a).width<i)n+=a+"\n";else{for(var u=i,c=a.split(" "),l=0;l<c.length;l++){var f=c[l],d=f+" ",p=e.measureText(d).width;if(p>u){if(0===l){for(var g=d;g.length&&(g=g.slice(0,-1),!((p=e.measureText(g).width)<=u)););if(!g.length)throw new Error("This text's wordWrapWidth setting is less than a single character!");var v=f.substr(g.length);c[l]=v,h+=g}var y=c[l].length?l:l+1,m=c.slice(y).join(" ").replace(/[ \n]*$/gi,"");r[o+1]=m+" "+(r[o+1]||""),s=r.length;break}h+=d,u-=p}n+=h.replace(/[ \n]*$/gi,"")+"\n"}}return n=n.replace(/[\s|\n]*$/gi,"")},basicWordWrap:function(t,e,i){for(var n="",r=t.split(this.splitRegExp),s=0;s<r.length;s++){for(var o=i,a=r[s].split(" "),h=0;h<a.length;h++){var u=e.measureText(a[h]).width,c=u+e.measureText(" ").width;c>o?(h>0&&(n+="\n"),n+=a[h]+" ",o=i-u):(o-=c,n+=a[h],h<a.length-1&&(n+=" "))}s<r.length-1&&(n+="\n")}return n},getWrappedText:function(t){return void 0===t&&(t=this._text),this.style.syncFont(this.canvas,this.context),this.runWordWrap(t).split(this.splitRegExp)},setText:function(t){return t||0===t||(t=""),Array.isArray(t)&&(t=t.join("\n")),t!==this._text&&(this._text=t.toString(),this.updateText()),this},setStyle:function(t){return this.style.setStyle(t)},setFont:function(t){return this.style.setFont(t)},setFontFamily:function(t){return this.style.setFontFamily(t)},setFontSize:function(t){return this.style.setFontSize(t)},setFontStyle:function(t){return this.style.setFontStyle(t)},setFixedSize:function(t,e){return this.style.setFixedSize(t,e)},setBackgroundColor:function(t){return this.style.setBackgroundColor(t)},setFill:function(t){return this.style.setFill(t)},setColor:function(t){return this.style.setColor(t)},setStroke:function(t,e){return this.style.setStroke(t,e)},setShadow:function(t,e,i,n,r,s){return this.style.setShadow(t,e,i,n,r,s)},setShadowOffset:function(t,e){return this.style.setShadowOffset(t,e)},setShadowColor:function(t){return this.style.setShadowColor(t)},setShadowBlur:function(t){return this.style.setShadowBlur(t)},setShadowStroke:function(t){return this.style.setShadowStroke(t)},setShadowFill:function(t){return this.style.setShadowFill(t)},setWordWrapWidth:function(t,e){return this.style.setWordWrapWidth(t,e)},setWordWrapCallback:function(t,e){return this.style.setWordWrapCallback(t,e)},setAlign:function(t){return this.style.setAlign(t)},setResolution:function(t){return this.style.setResolution(t)},setPadding:function(t,e,i,n){if("object"==typeof t){var r=t,s=c(r,"x",null);null!==s?(t=s,i=s):(t=c(r,"left",0),i=c(r,"right",t));var o=c(r,"y",null);null!==o?(e=o,n=o):(e=c(r,"top",0),n=c(r,"bottom",e))}else void 0===t&&(t=0),void 0===e&&(e=t),void 0===i&&(i=t),void 0===n&&(n=e);return this.padding.left=t,this.padding.top=e,this.padding.right=i,this.padding.bottom=n,this.updateText()},setMaxLines:function(t){return this.style.setMaxLines(t)},updateText:function(){var t=this.canvas,e=this.context,i=this.style,n=i.resolution,r=i.metrics;i.syncFont(t,e);var s=this._text;(i.wordWrapWidth||i.wordWrapCallback)&&(s=this.runWordWrap(this._text));var o,a,h=s.split(this.splitRegExp),c=u(this,r,h),l=this.padding,f=c.width+l.left+l.right,d=c.height+l.top+l.bottom;0===i.fixedWidth&&(this.width=f),0===i.fixedHeight&&(this.height=d),this.updateDisplayOrigin(),f*=n,d*=n,f=Math.max(f,1),d=Math.max(d,1),t.width!==f||t.height!==d?(t.width=f,t.height=d,this.frame.setSize(f,d),i.syncFont(t,e)):e.clearRect(0,0,f,d),e.save(),e.scale(n,n),i.backgroundColor&&(e.fillStyle=i.backgroundColor,e.fillRect(0,0,f,d)),i.syncStyle(t,e),e.textBaseline="alphabetic",e.translate(l.left,l.top);for(var p=0;p<c.lines;p++)o=i.strokeThickness/2,a=i.strokeThickness/2+p*c.lineHeight+r.ascent,p>0&&(a+=c.lineSpacing*p),i.rtl?o=f-o:"right"===i.align?o+=c.width-c.lineWidths[p]:"center"===i.align&&(o+=(c.width-c.lineWidths[p])/2),this.autoRound&&(o=Math.round(o),a=Math.round(a)),i.strokeThickness&&(this.style.syncShadow(e,i.shadowStroke),e.strokeText(h[p],o,a)),i.color&&(this.style.syncShadow(e,i.shadowFill),e.fillText(h[p],o,a));return e.restore(),this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(t,this.frame.source.glTexture),this.frame.glTexture=this.frame.source.glTexture),this.dirty=!0,this},getTextMetrics:function(){return this.style.getTextMetrics()},text:{get:function(){return this._text},set:function(t){this.setText(t)}},toJSON:function(){var t=o.ToJSON(this),e={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return t.data=e,t},preDestroy:function(){this.style.rtl&&l(this.canvas),r.remove(this.canvas),this.texture.destroy()}});t.exports=p},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(28),r=i(0),s=i(16),o=i(26),a=i(12),h=i(349),u=i(716),c=i(3),l=new r({Extends:a,Mixins:[s.Alpha,s.BlendMode,s.ComputedSize,s.Crop,s.Depth,s.Flip,s.GetBounds,s.Mask,s.Origin,s.Pipeline,s.ScaleMode,s.ScrollFactor,s.Tint,s.Transform,s.Visible,u],initialize:function(t,e,i,r,s,u,l){r=Math.floor(r),s=Math.floor(s);var f=t.sys.game.renderer;a.call(this,t,"TileSprite"),this._tilePosition=new c,this._tileScale=new c(1,1),this.dirty=!1,this.renderer=f,this.canvas=n.create(this,r,s),this.context=this.canvas.getContext("2d"),this.displayTexture=null,this.displayFrame=null,this._crop=this.resetCropObject(),this.texture=t.sys.textures.addCanvas(null,this.canvas,!0),this.frame=this.texture.get(),this.setTexture(u,l),this.setPosition(e,i),this.setSize(r,s),this.setOriginFromFrame(),this.initPipeline("TextureTintPipeline"),this.potWidth=h(this.displayFrame.width),this.potHeight=h(this.displayFrame.height),this.fillCanvas=n.create2D(this,this.potWidth,this.potHeight),this.fillContext=this.fillCanvas.getContext("2d"),this.fillPattern=null,this.dirty=!0,this.updateTileTexture(),t.sys.game.config.renderType===o.WEBGL&&t.sys.game.renderer.onContextRestored(function(t){var e=t.gl;this.dirty=!0,this.fillPattern=null,this.fillPattern=t.createTexture2D(0,e.LINEAR,e.LINEAR,e.REPEAT,e.REPEAT,e.RGBA,this.fillCanvas,this.potWidth,this.potHeight)},this)},setTexture:function(t,e){return this.displayTexture=this.scene.sys.textures.get(t),this.setFrame(e)},setFrame:function(t,e,i){return void 0===e&&(e=!0),void 0===i&&(i=!0),this.displayFrame=this.displayTexture.get(t),this.displayFrame.cutWidth&&this.displayFrame.cutHeight?this.renderFlags|=8:this.renderFlags&=-9,this._sizeComponent&&e&&this.setSizeToFrame(),this._originComponent&&i&&(this.displayFrame.customPivot?this.setOrigin(this.displayFrame.pivotX,this.displayFrame.pivotY):this.updateDisplayOrigin()),this.updateTileTexture(),this},setTilePosition:function(t,e){return void 0!==t&&(this.tilePositionX=t),void 0!==e&&(this.tilePositionY=e),this},setTileScale:function(t,e){return void 0!==t&&(this.tilePositionX=t),void 0!==e&&(this.tilePositionY=e),this},updateTileTexture:function(){if(this.dirty){var t=this.displayFrame,e=this.fillContext,i=this.fillCanvas,n=this.potWidth,r=this.potHeight;this.renderer.gl||(n=t.cutWidth,r=t.cutHeight),e.clearRect(0,0,n,r),i.width=n,i.height=r,e.drawImage(t.source.image,t.cutX,t.cutY,t.cutWidth,t.cutHeight,0,0,n,r),this.renderer.gl?this.fillPattern=this.renderer.canvasToTexture(i,this.fillPattern):this.fillPattern=e.createPattern(i,"repeat"),this.updateCanvas(),this.dirty=!1}},updateCanvas:function(){var t=this.canvas;if(t.width===this.width&&t.height===this.height||(t.width=this.width,t.height=this.height,this.frame.setSize(this.width,this.height)),!this.dirty||this.renderer&&this.renderer.gl)this.dirty=!1;else{var e=this.context,i=this._tileScale.x,n=this._tileScale.y,r=this._tilePosition.x,s=this._tilePosition.y;e.clearRect(0,0,this.width,this.height),e.save(),e.scale(i,n),e.translate(-r,-s),e.fillStyle=this.fillPattern,e.fillRect(r,s,this.width/i,this.height/n),e.restore(),this.dirty=!1}},preDestroy:function(){this.renderer&&this.renderer.gl&&this.renderer.deleteTexture(this.fillPattern),n.remove(this.canvas),n.remove(this.fillCanvas),this.fillPattern=null,this.fillContext=null,this.fillCanvas=null,this.displayTexture=null,this.displayFrame=null,this.texture.destroy(),this.renderer=null},tilePositionX:{get:function(){return this._tilePosition.x},set:function(t){this._tilePosition.x=t,this.dirty=!0}},tilePositionY:{get:function(){return this._tilePosition.y},set:function(t){this._tilePosition.y=t,this.dirty=!0}},tileScaleX:{get:function(){return this._tileScale.x},set:function(t){this._tileScale.x=t,this.dirty=!0}},tileScaleY:{get:function(){return this._tileScale.y},set:function(t){this._tileScale.y=t,this.dirty=!0}}});t.exports=l},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(120),s=new n({Extends:r,initialize:function(t,e,i,n,s){r.call(this,t,e,i,[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,1,1,1,0,0,1,1,1,0],[16777215,16777215,16777215,16777215,16777215,16777215],[1,1,1,1,1,1],n,s),this.resetPosition()},setFrame:function(t){return this.frame=this.texture.get(t),this.frame.cutWidth&&this.frame.cutHeight?this.renderFlags|=8:this.renderFlags&=-9,t=this.frame,this.uv[0]=t.u0,this.uv[1]=t.v0,this.uv[2]=t.u0,this.uv[3]=t.v1,this.uv[4]=t.u1,this.uv[5]=t.v1,this.uv[6]=t.u0,this.uv[7]=t.v0,this.uv[8]=t.u1,this.uv[9]=t.v1,this.uv[10]=t.u1,this.uv[11]=t.v0,this},topLeftX:{get:function(){return this.x+this.vertices[0]},set:function(t){this.vertices[0]=t-this.x,this.vertices[6]=t-this.x}},topLeftY:{get:function(){return this.y+this.vertices[1]},set:function(t){this.vertices[1]=t-this.y,this.vertices[7]=t-this.y}},topRightX:{get:function(){return this.x+this.vertices[10]},set:function(t){this.vertices[10]=t-this.x}},topRightY:{get:function(){return this.y+this.vertices[11]},set:function(t){this.vertices[11]=t-this.y}},bottomLeftX:{get:function(){return this.x+this.vertices[2]},set:function(t){this.vertices[2]=t-this.x}},bottomLeftY:{get:function(){return this.y+this.vertices[3]},set:function(t){this.vertices[3]=t-this.y}},bottomRightX:{get:function(){return this.x+this.vertices[4]},set:function(t){this.vertices[4]=t-this.x,this.vertices[8]=t-this.x}},bottomRightY:{get:function(){return this.y+this.vertices[5]},set:function(t){this.vertices[5]=t-this.y,this.vertices[9]=t-this.y}},topLeftAlpha:{get:function(){return this.alphas[0]},set:function(t){this.alphas[0]=t,this.alphas[3]=t}},topRightAlpha:{get:function(){return this.alphas[5]},set:function(t){this.alphas[5]=t}},bottomLeftAlpha:{get:function(){return this.alphas[1]},set:function(t){this.alphas[1]=t}},bottomRightAlpha:{get:function(){return this.alphas[2]},set:function(t){this.alphas[2]=t,this.alphas[4]=t}},topLeftColor:{get:function(){return this.colors[0]},set:function(t){this.colors[0]=t,this.colors[3]=t}},topRightColor:{get:function(){return this.colors[5]},set:function(t){this.colors[5]=t}},bottomLeftColor:{get:function(){return this.colors[1]},set:function(t){this.colors[1]=t}},bottomRightColor:{get:function(){return this.colors[2]},set:function(t){this.colors[2]=t,this.colors[4]=t}},setTopLeft:function(t,e){return this.topLeftX=t,this.topLeftY=e,this},setTopRight:function(t,e){return this.topRightX=t,this.topRightY=e,this},setBottomLeft:function(t,e){return this.bottomLeftX=t,this.bottomLeftY=e,this},setBottomRight:function(t,e){return this.bottomRightX=t,this.bottomRightY=e,this},resetPosition:function(){var t=this.x,e=this.y,i=Math.floor(this.width/2),n=Math.floor(this.height/2);return this.setTopLeft(t-i,e-n),this.setTopRight(t+i,e-n),this.setBottomLeft(t-i,e+n),this.setBottomRight(t+i,e+n),this},resetAlpha:function(){var t=this.alphas;return t[0]=1,t[1]=1,t[2]=1,t[3]=1,t[4]=1,t[5]=1,this},resetColors:function(){var t=this.colors;return t[0]=16777215,t[1]=16777215,t[2]=16777215,t[3]=16777215,t[4]=16777215,t[5]=16777215,this},reset:function(){return this.resetPosition(),this.resetAlpha(),this.resetColors()}});t.exports=s},function(t,e){t.exports=function(t,e){return!(t.width<=0||t.height<=0||e.width<=0||e.height<=0||t.right<e.x||t.bottom<e.y||t.x>e.right||t.y>e.bottom)}},function(t,e){t.exports=function(t,e,i,n){void 0===i&&(i=!1),void 0===n&&(n=[]);for(var r,s,o,a,h,u,c=t.x3-t.x1,l=t.y3-t.y1,f=t.x2-t.x1,d=t.y2-t.y1,p=c*c+l*l,g=c*f+l*d,v=f*f+d*d,y=p*v-g*g,m=0===y?0:1/y,x=t.x1,b=t.y1,w=0;w<e.length&&(s=(p*(u=f*(o=e[w].x-x)+d*(a=e[w].y-b))-g*(h=c*o+l*a))*m,!((r=(v*h-g*u)*m)>=0&&s>=0&&r+s<1&&(n.push({x:e[w].x,y:e[w].y}),i)));w++);return n}},function(t,e){t.exports=function(t,e,i,n){var r=Math.cos(n),s=Math.sin(n),o=t.x1-e,a=t.y1-i;return t.x1=o*r-a*s+e,t.y1=o*s+a*r+i,o=t.x2-e,a=t.y2-i,t.x2=o*r-a*s+e,t.y2=o*s+a*r+i,t}},function(t,e){t.exports=function(t,e,i){for(var n=!1,r=-1,s=t.points.length-1;++r<t.points.length;s=r){var o=t.points[r].x,a=t.points[r].y,h=t.points[s].x,u=t.points[s].y;(a<=i&&i<u||u<=i&&i<a)&&e<(h-o)*(i-a)/(u-a)+o&&(n=!n)}return n}},function(t,e){t.exports=function(t){return 0===t.height?NaN:t.width/t.height}},function(t,e){t.exports=function(t,e,i,n){var r=Math.cos(n),s=Math.sin(n),o=t.x1-e,a=t.y1-i;return t.x1=o*r-a*s+e,t.y1=o*s+a*r+i,o=t.x2-e,a=t.y2-i,t.x2=o*r-a*s+e,t.y2=o*s+a*r+i,o=t.x3-e,a=t.y3-i,t.x3=o*r-a*s+e,t.y3=o*s+a*r+i,t}},function(t,e){t.exports={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:42,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,PLUS:187,COMMA:188,MINUS:189,PERIOD:190,FORWARD_SLASH:191,BACK_SLASH:220,QUOTES:222,BACKTICK:192,OPEN_BRACKET:219,CLOSED_BRACKET:221}},function(t,e){t.exports=function(t,e,i,n){return void 0===i&&(i=0),0===e?t:(t-=i,t=e*Math.floor(t/e),n?(i+t)/e:i+t)}},function(t,e){t.exports=function(t,e){return!!t.url&&(t.url.match(/^(?:blob:|data:|http:\/\/|https:\/\/|\/\/)/)?t.url:e+t.url)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(17),r=i(123);t.exports=function(t,e){var i=void 0===t?r():n({},t);if(e)for(var s in e)void 0!==e[s]&&(i[s]=e[s]);return i}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(20),s=i(22),o=i(7),a=i(1),h=i(6),u=i(294),c=new n({Extends:s,initialize:function(t,e,i,n){var r="xml";if(h(e)){var o=e;e=a(o,"key"),i=a(o,"url"),n=a(o,"xhrSettings"),r=a(o,"extension",r)}var u={type:"xml",cache:t.cacheManager.xml,extension:r,responseType:"text",key:e,url:i,xhrSettings:n};s.call(this,t,u)},onProcess:function(){this.state=r.FILE_PROCESSING,this.data=u(this.xhrLoader.responseText),this.data?this.onProcessComplete():(console.warn("Invalid XMLFile: "+this.key),this.onProcessError())}});o.register("xml",function(t,e,i){if(Array.isArray(t))for(var n=0;n<t.length;n++)this.addFile(new c(this,t[n]));else this.addFile(new c(this,t,e,i));return this}),t.exports=c},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=new n({initialize:function(t){this.val=new Float32Array(16),t?this.copy(t):this.identity()},clone:function(){return new r(this)},set:function(t){return this.copy(t)},copy:function(t){var e=this.val,i=t.val;return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],e[9]=i[9],e[10]=i[10],e[11]=i[11],e[12]=i[12],e[13]=i[13],e[14]=i[14],e[15]=i[15],this},fromArray:function(t){var e=this.val;return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],this},zero:function(){var t=this.val;return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=0,this},xyz:function(t,e,i){this.identity();var n=this.val;return n[12]=t,n[13]=e,n[14]=i,this},scaling:function(t,e,i){this.zero();var n=this.val;return n[0]=t,n[5]=e,n[10]=i,n[15]=1,this},identity:function(){var t=this.val;return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},transpose:function(){var t=this.val,e=t[1],i=t[2],n=t[3],r=t[6],s=t[7],o=t[11];return t[1]=t[4],t[2]=t[8],t[3]=t[12],t[4]=e,t[6]=t[9],t[7]=t[13],t[8]=i,t[9]=r,t[11]=t[14],t[12]=n,t[13]=s,t[14]=o,this},invert:function(){var t=this.val,e=t[0],i=t[1],n=t[2],r=t[3],s=t[4],o=t[5],a=t[6],h=t[7],u=t[8],c=t[9],l=t[10],f=t[11],d=t[12],p=t[13],g=t[14],v=t[15],y=e*o-i*s,m=e*a-n*s,x=e*h-r*s,b=i*a-n*o,w=i*h-r*o,T=n*h-r*a,S=u*p-c*d,_=u*g-l*d,A=u*v-f*d,E=c*g-l*p,I=c*v-f*p,C=l*v-f*g,M=y*C-m*I+x*E+b*A-w*_+T*S;return M?(M=1/M,t[0]=(o*C-a*I+h*E)*M,t[1]=(n*I-i*C-r*E)*M,t[2]=(p*T-g*w+v*b)*M,t[3]=(l*w-c*T-f*b)*M,t[4]=(a*A-s*C-h*_)*M,t[5]=(e*C-n*A+r*_)*M,t[6]=(g*x-d*T-v*m)*M,t[7]=(u*T-l*x+f*m)*M,t[8]=(s*I-o*A+h*S)*M,t[9]=(i*A-e*I-r*S)*M,t[10]=(d*w-p*x+v*y)*M,t[11]=(c*x-u*w-f*y)*M,t[12]=(o*_-s*E-a*S)*M,t[13]=(e*E-i*_+n*S)*M,t[14]=(p*m-d*b-g*y)*M,t[15]=(u*b-c*m+l*y)*M,this):null},adjoint:function(){var t=this.val,e=t[0],i=t[1],n=t[2],r=t[3],s=t[4],o=t[5],a=t[6],h=t[7],u=t[8],c=t[9],l=t[10],f=t[11],d=t[12],p=t[13],g=t[14],v=t[15];return t[0]=o*(l*v-f*g)-c*(a*v-h*g)+p*(a*f-h*l),t[1]=-(i*(l*v-f*g)-c*(n*v-r*g)+p*(n*f-r*l)),t[2]=i*(a*v-h*g)-o*(n*v-r*g)+p*(n*h-r*a),t[3]=-(i*(a*f-h*l)-o*(n*f-r*l)+c*(n*h-r*a)),t[4]=-(s*(l*v-f*g)-u*(a*v-h*g)+d*(a*f-h*l)),t[5]=e*(l*v-f*g)-u*(n*v-r*g)+d*(n*f-r*l),t[6]=-(e*(a*v-h*g)-s*(n*v-r*g)+d*(n*h-r*a)),t[7]=e*(a*f-h*l)-s*(n*f-r*l)+u*(n*h-r*a),t[8]=s*(c*v-f*p)-u*(o*v-h*p)+d*(o*f-h*c),t[9]=-(e*(c*v-f*p)-u*(i*v-r*p)+d*(i*f-r*c)),t[10]=e*(o*v-h*p)-s*(i*v-r*p)+d*(i*h-r*o),t[11]=-(e*(o*f-h*c)-s*(i*f-r*c)+u*(i*h-r*o)),t[12]=-(s*(c*g-l*p)-u*(o*g-a*p)+d*(o*l-a*c)),t[13]=e*(c*g-l*p)-u*(i*g-n*p)+d*(i*l-n*c),t[14]=-(e*(o*g-a*p)-s*(i*g-n*p)+d*(i*a-n*o)),t[15]=e*(o*l-a*c)-s*(i*l-n*c)+u*(i*a-n*o),this},determinant:function(){var t=this.val,e=t[0],i=t[1],n=t[2],r=t[3],s=t[4],o=t[5],a=t[6],h=t[7],u=t[8],c=t[9],l=t[10],f=t[11],d=t[12],p=t[13],g=t[14],v=t[15];return(e*o-i*s)*(l*v-f*g)-(e*a-n*s)*(c*v-f*p)+(e*h-r*s)*(c*g-l*p)+(i*a-n*o)*(u*v-f*d)-(i*h-r*o)*(u*g-l*d)+(n*h-r*a)*(u*p-c*d)},multiply:function(t){var e=this.val,i=e[0],n=e[1],r=e[2],s=e[3],o=e[4],a=e[5],h=e[6],u=e[7],c=e[8],l=e[9],f=e[10],d=e[11],p=e[12],g=e[13],v=e[14],y=e[15],m=t.val,x=m[0],b=m[1],w=m[2],T=m[3];return e[0]=x*i+b*o+w*c+T*p,e[1]=x*n+b*a+w*l+T*g,e[2]=x*r+b*h+w*f+T*v,e[3]=x*s+b*u+w*d+T*y,x=m[4],b=m[5],w=m[6],T=m[7],e[4]=x*i+b*o+w*c+T*p,e[5]=x*n+b*a+w*l+T*g,e[6]=x*r+b*h+w*f+T*v,e[7]=x*s+b*u+w*d+T*y,x=m[8],b=m[9],w=m[10],T=m[11],e[8]=x*i+b*o+w*c+T*p,e[9]=x*n+b*a+w*l+T*g,e[10]=x*r+b*h+w*f+T*v,e[11]=x*s+b*u+w*d+T*y,x=m[12],b=m[13],w=m[14],T=m[15],e[12]=x*i+b*o+w*c+T*p,e[13]=x*n+b*a+w*l+T*g,e[14]=x*r+b*h+w*f+T*v,e[15]=x*s+b*u+w*d+T*y,this},multiplyLocal:function(t){var e=[],i=this.val,n=t.val;return e[0]=i[0]*n[0]+i[1]*n[4]+i[2]*n[8]+i[3]*n[12],e[1]=i[0]*n[1]+i[1]*n[5]+i[2]*n[9]+i[3]*n[13],e[2]=i[0]*n[2]+i[1]*n[6]+i[2]*n[10]+i[3]*n[14],e[3]=i[0]*n[3]+i[1]*n[7]+i[2]*n[11]+i[3]*n[15],e[4]=i[4]*n[0]+i[5]*n[4]+i[6]*n[8]+i[7]*n[12],e[5]=i[4]*n[1]+i[5]*n[5]+i[6]*n[9]+i[7]*n[13],e[6]=i[4]*n[2]+i[5]*n[6]+i[6]*n[10]+i[7]*n[14],e[7]=i[4]*n[3]+i[5]*n[7]+i[6]*n[11]+i[7]*n[15],e[8]=i[8]*n[0]+i[9]*n[4]+i[10]*n[8]+i[11]*n[12],e[9]=i[8]*n[1]+i[9]*n[5]+i[10]*n[9]+i[11]*n[13],e[10]=i[8]*n[2]+i[9]*n[6]+i[10]*n[10]+i[11]*n[14],e[11]=i[8]*n[3]+i[9]*n[7]+i[10]*n[11]+i[11]*n[15],e[12]=i[12]*n[0]+i[13]*n[4]+i[14]*n[8]+i[15]*n[12],e[13]=i[12]*n[1]+i[13]*n[5]+i[14]*n[9]+i[15]*n[13],e[14]=i[12]*n[2]+i[13]*n[6]+i[14]*n[10]+i[15]*n[14],e[15]=i[12]*n[3]+i[13]*n[7]+i[14]*n[11]+i[15]*n[15],this.fromArray(e)},translate:function(t){var e=t.x,i=t.y,n=t.z,r=this.val;return r[12]=r[0]*e+r[4]*i+r[8]*n+r[12],r[13]=r[1]*e+r[5]*i+r[9]*n+r[13],r[14]=r[2]*e+r[6]*i+r[10]*n+r[14],r[15]=r[3]*e+r[7]*i+r[11]*n+r[15],this},scale:function(t){var e=t.x,i=t.y,n=t.z,r=this.val;return r[0]=r[0]*e,r[1]=r[1]*e,r[2]=r[2]*e,r[3]=r[3]*e,r[4]=r[4]*i,r[5]=r[5]*i,r[6]=r[6]*i,r[7]=r[7]*i,r[8]=r[8]*n,r[9]=r[9]*n,r[10]=r[10]*n,r[11]=r[11]*n,this},makeRotationAxis:function(t,e){var i=Math.cos(e),n=Math.sin(e),r=1-i,s=t.x,o=t.y,a=t.z,h=r*s,u=r*o;return this.fromArray([h*s+i,h*o-n*a,h*a+n*o,0,h*o+n*a,u*o+i,u*a-n*s,0,h*a-n*o,u*a+n*s,r*a*a+i,0,0,0,0,1]),this},rotate:function(t,e){var i=this.val,n=e.x,r=e.y,s=e.z,o=Math.sqrt(n*n+r*r+s*s);if(Math.abs(o)<1e-6)return null;n*=o=1/o,r*=o,s*=o;var a=Math.sin(t),h=Math.cos(t),u=1-h,c=i[0],l=i[1],f=i[2],d=i[3],p=i[4],g=i[5],v=i[6],y=i[7],m=i[8],x=i[9],b=i[10],w=i[11],T=n*n*u+h,S=r*n*u+s*a,_=s*n*u-r*a,A=n*r*u-s*a,E=r*r*u+h,I=s*r*u+n*a,C=n*s*u+r*a,M=r*s*u-n*a,P=s*s*u+h;return i[0]=c*T+p*S+m*_,i[1]=l*T+g*S+x*_,i[2]=f*T+v*S+b*_,i[3]=d*T+y*S+w*_,i[4]=c*A+p*E+m*I,i[5]=l*A+g*E+x*I,i[6]=f*A+v*E+b*I,i[7]=d*A+y*E+w*I,i[8]=c*C+p*M+m*P,i[9]=l*C+g*M+x*P,i[10]=f*C+v*M+b*P,i[11]=d*C+y*M+w*P,this},rotateX:function(t){var e=this.val,i=Math.sin(t),n=Math.cos(t),r=e[4],s=e[5],o=e[6],a=e[7],h=e[8],u=e[9],c=e[10],l=e[11];return e[4]=r*n+h*i,e[5]=s*n+u*i,e[6]=o*n+c*i,e[7]=a*n+l*i,e[8]=h*n-r*i,e[9]=u*n-s*i,e[10]=c*n-o*i,e[11]=l*n-a*i,this},rotateY:function(t){var e=this.val,i=Math.sin(t),n=Math.cos(t),r=e[0],s=e[1],o=e[2],a=e[3],h=e[8],u=e[9],c=e[10],l=e[11];return e[0]=r*n-h*i,e[1]=s*n-u*i,e[2]=o*n-c*i,e[3]=a*n-l*i,e[8]=r*i+h*n,e[9]=s*i+u*n,e[10]=o*i+c*n,e[11]=a*i+l*n,this},rotateZ:function(t){var e=this.val,i=Math.sin(t),n=Math.cos(t),r=e[0],s=e[1],o=e[2],a=e[3],h=e[4],u=e[5],c=e[6],l=e[7];return e[0]=r*n+h*i,e[1]=s*n+u*i,e[2]=o*n+c*i,e[3]=a*n+l*i,e[4]=h*n-r*i,e[5]=u*n-s*i,e[6]=c*n-o*i,e[7]=l*n-a*i,this},fromRotationTranslation:function(t,e){var i=this.val,n=t.x,r=t.y,s=t.z,o=t.w,a=n+n,h=r+r,u=s+s,c=n*a,l=n*h,f=n*u,d=r*h,p=r*u,g=s*u,v=o*a,y=o*h,m=o*u;return i[0]=1-(d+g),i[1]=l+m,i[2]=f-y,i[3]=0,i[4]=l-m,i[5]=1-(c+g),i[6]=p+v,i[7]=0,i[8]=f+y,i[9]=p-v,i[10]=1-(c+d),i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this},fromQuat:function(t){var e=this.val,i=t.x,n=t.y,r=t.z,s=t.w,o=i+i,a=n+n,h=r+r,u=i*o,c=i*a,l=i*h,f=n*a,d=n*h,p=r*h,g=s*o,v=s*a,y=s*h;return e[0]=1-(f+p),e[1]=c+y,e[2]=l-v,e[3]=0,e[4]=c-y,e[5]=1-(u+p),e[6]=d+g,e[7]=0,e[8]=l+v,e[9]=d-g,e[10]=1-(u+f),e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},frustum:function(t,e,i,n,r,s){var o=this.val,a=1/(e-t),h=1/(n-i),u=1/(r-s);return o[0]=2*r*a,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=2*r*h,o[6]=0,o[7]=0,o[8]=(e+t)*a,o[9]=(n+i)*h,o[10]=(s+r)*u,o[11]=-1,o[12]=0,o[13]=0,o[14]=s*r*2*u,o[15]=0,this},perspective:function(t,e,i,n){var r=this.val,s=1/Math.tan(t/2),o=1/(i-n);return r[0]=s/e,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=s,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=(n+i)*o,r[11]=-1,r[12]=0,r[13]=0,r[14]=2*n*i*o,r[15]=0,this},perspectiveLH:function(t,e,i,n){var r=this.val;return r[0]=2*i/t,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=2*i/e,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=-n/(i-n),r[11]=1,r[12]=0,r[13]=0,r[14]=i*n/(i-n),r[15]=0,this},ortho:function(t,e,i,n,r,s){var o=this.val,a=t-e,h=i-n,u=r-s;return a=0===a?a:1/a,h=0===h?h:1/h,u=0===u?u:1/u,o[0]=-2*a,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=-2*h,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=2*u,o[11]=0,o[12]=(t+e)*a,o[13]=(n+i)*h,o[14]=(s+r)*u,o[15]=1,this},lookAt:function(t,e,i){var n=this.val,r=t.x,s=t.y,o=t.z,a=i.x,h=i.y,u=i.z,c=e.x,l=e.y,f=e.z;if(Math.abs(r-c)<1e-6&&Math.abs(s-l)<1e-6&&Math.abs(o-f)<1e-6)return this.identity();var d=r-c,p=s-l,g=o-f,v=1/Math.sqrt(d*d+p*p+g*g),y=h*(g*=v)-u*(p*=v),m=u*(d*=v)-a*g,x=a*p-h*d;(v=Math.sqrt(y*y+m*m+x*x))?(y*=v=1/v,m*=v,x*=v):(y=0,m=0,x=0);var b=p*x-g*m,w=g*y-d*x,T=d*m-p*y;return(v=Math.sqrt(b*b+w*w+T*T))?(b*=v=1/v,w*=v,T*=v):(b=0,w=0,T=0),n[0]=y,n[1]=b,n[2]=d,n[3]=0,n[4]=m,n[5]=w,n[6]=p,n[7]=0,n[8]=x,n[9]=T,n[10]=g,n[11]=0,n[12]=-(y*r+m*s+x*o),n[13]=-(b*r+w*s+T*o),n[14]=-(d*r+p*s+g*o),n[15]=1,this},yawPitchRoll:function(t,e,i){this.zero(),s.zero(),o.zero();var n=this.val,r=s.val,a=o.val,h=Math.sin(i),u=Math.cos(i);return n[10]=1,n[15]=1,n[0]=u,n[1]=h,n[4]=-h,n[5]=u,h=Math.sin(e),u=Math.cos(e),r[0]=1,r[15]=1,r[5]=u,r[10]=u,r[9]=-h,r[6]=h,h=Math.sin(t),u=Math.cos(t),a[5]=1,a[15]=1,a[0]=u,a[2]=-h,a[8]=h,a[10]=u,this.multiplyLocal(s),this.multiplyLocal(o),this},setWorldMatrix:function(t,e,i,n,r){return this.yawPitchRoll(t.y,t.x,t.z),s.scaling(i.x,i.y,i.z),o.xyz(e.x,e.y,e.z),this.multiplyLocal(s),this.multiplyLocal(o),void 0!==n&&this.multiplyLocal(n),void 0!==r&&this.multiplyLocal(r),this}}),s=new r,o=new r;t.exports=r},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={Acceleration:i(974),BodyScale:i(975),BodyType:i(976),Bounce:i(977),CheckAgainst:i(978),Collides:i(979),Debug:i(980),Friction:i(981),Gravity:i(982),Offset:i(983),SetGameObject:i(984),Velocity:i(985)}},function(t,e,i){var n={};t.exports=n;var r=i(31),s=i(15);n.fromVertices=function(t){for(var e={},i=0;i<t.length;i++){var n=(i+1)%t.length,o=r.normalise({x:t[n].y-t[i].y,y:t[i].x-t[n].x}),a=0===o.y?1/0:o.x/o.y;e[a=a.toFixed(3).toString()]=o}return s.values(e)},n.rotate=function(t,e){if(0!==e)for(var i=Math.cos(e),n=Math.sin(e),r=0;r<t.length;r++){var s,o=t[r];s=o.x*i-o.y*n,o.y=o.x*n+o.y*i,o.x=s}}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(53),r=i(25),s=i(0),o=i(125),a=i(1),h=i(76),u=i(34),c=new s({Mixins:[o.Bounce,o.Collision,o.Friction,o.Gravity,o.Mass,o.Sensor,o.Sleep,o.Static],initialize:function(t,e,i){this.tile=e,this.world=t,e.physics.matterBody&&e.physics.matterBody.destroy(),e.physics.matterBody=this;var n=a(i,"body",null),r=a(i,"addToWorld",!0);if(n)this.setBody(n,r);else{var s=e.getCollisionGroup();a(s,"objects",[]).length>0?this.setFromTileCollision(i):this.setFromTileRectangle(i)}},setFromTileRectangle:function(t){void 0===t&&(t={}),h(t,"isStatic")||(t.isStatic=!0),h(t,"addToWorld")||(t.addToWorld=!0);var e=this.tile.getBounds(),i=e.x+e.width/2,r=e.y+e.height/2,s=n.rectangle(i,r,e.width,e.height,t);return this.setBody(s,t.addToWorld),this},setFromTileCollision:function(t){void 0===t&&(t={}),h(t,"isStatic")||(t.isStatic=!0),h(t,"addToWorld")||(t.addToWorld=!0);for(var e=this.tile.tilemapLayer.scaleX,i=this.tile.tilemapLayer.scaleY,s=this.tile.getLeft(),o=this.tile.getTop(),c=this.tile.getCollisionGroup(),l=a(c,"objects",[]),f=[],d=0;d<l.length;d++){var p=l[d],g=s+p.x*e,v=o+p.y*i,y=p.width*e,m=p.height*i,x=null;if(p.rectangle)x=n.rectangle(g+y/2,v+m/2,y,m,t);else if(p.ellipse)x=n.circle(g+y/2,v+m/2,y/2,t);else if(p.polygon||p.polyline){var b=(p.polygon?p.polygon:p.polyline).map(function(t){return{x:t.x*e,y:t.y*i}}),w=u.create(b);if(u.isConvex(b)){var T=u.centre(w);g+=T.x,v+=T.y}x=n.fromVertices(g,v,w,t)}x&&f.push(x)}return 1===f.length?this.setBody(f[0],t.addToWorld):f.length>1&&(t.parts=f,this.setBody(r.create(t),t.addToWorld)),this},setBody:function(t,e){return void 0===e&&(e=!0),this.body&&this.removeBody(),this.body=t,this.body.gameObject=this,e&&this.world.add(this.body),this},removeBody:function(){return this.body&&(this.world.remove(this.body),this.body.gameObject=void 0,this.body=void 0),this},destroy:function(){this.removeBody(),this.tile.physics.matterBody=void 0}});t.exports=c},function(t,e,i){var n={};t.exports=n;var r=i(201),s=i(126),o=i(32);n.collisions=function(t,e){for(var i=[],a=e.pairs.table,h=e.metrics,u=0;u<t.length;u++){var c=t[u][0],l=t[u][1];if((!c.isStatic&&!c.isSleeping||!l.isStatic&&!l.isSleeping)&&n.canCollide(c.collisionFilter,l.collisionFilter)&&(h.midphaseTests+=1,o.overlaps(c.bounds,l.bounds)))for(var f=c.parts.length>1?1:0;f<c.parts.length;f++)for(var d=c.parts[f],p=l.parts.length>1?1:0;p<l.parts.length;p++){var g=l.parts[p];if(d===c&&g===l||o.overlaps(d.bounds,g.bounds)){var v,y=a[s.id(d,g)];v=y&&y.isActive?y.collision:null;var m=r.collides(d,g,v);h.narrowphaseTests+=1,m.reused&&(h.narrowReuseCount+=1),m.collided&&(i.push(m),h.narrowDetections+=1)}}}return i},n.canCollide=function(t,e){return t.group===e.group&&0!==t.group?t.group>0:0!=(t.mask&e.category)&&0!=(e.mask&t.category)}},function(t,e,i){var n={};t.exports=n;var r=i(34),s=i(31);n.collides=function(t,e,i){var o,a,h,u,c=!1;if(i){var l=t.parent,f=e.parent,d=l.speed*l.speed+l.angularSpeed*l.angularSpeed+f.speed*f.speed+f.angularSpeed*f.angularSpeed;c=i&&i.collided&&d<.2,u=i}else u={collided:!1,bodyA:t,bodyB:e};if(i&&c){var p=u.axisBody,g=p===t?e:t,v=[p.axes[i.axisNumber]];if(h=n._overlapAxes(p.vertices,g.vertices,v),u.reused=!0,h.overlap<=0)return u.collided=!1,u}else{if((o=n._overlapAxes(t.vertices,e.vertices,t.axes)).overlap<=0)return u.collided=!1,u;if((a=n._overlapAxes(e.vertices,t.vertices,e.axes)).overlap<=0)return u.collided=!1,u;o.overlap<a.overlap?(h=o,u.axisBody=t):(h=a,u.axisBody=e),u.axisNumber=h.axisNumber}u.bodyA=t.id<e.id?t:e,u.bodyB=t.id<e.id?e:t,u.collided=!0,u.depth=h.overlap,u.parentA=u.bodyA.parent,u.parentB=u.bodyB.parent,t=u.bodyA,e=u.bodyB,s.dot(h.axis,s.sub(e.position,t.position))<0?u.normal={x:h.axis.x,y:h.axis.y}:u.normal={x:-h.axis.x,y:-h.axis.y},u.tangent=s.perp(u.normal),u.penetration=u.penetration||{},u.penetration.x=u.normal.x*u.depth,u.penetration.y=u.normal.y*u.depth;var y=n._findSupports(t,e,u.normal),m=[];if(r.contains(t.vertices,y[0])&&m.push(y[0]),r.contains(t.vertices,y[1])&&m.push(y[1]),m.length<2){var x=n._findSupports(e,t,s.neg(u.normal));r.contains(e.vertices,x[0])&&m.push(x[0]),m.length<2&&r.contains(e.vertices,x[1])&&m.push(x[1])}return m.length<1&&(m=[y[0]]),u.supports=m,u},n._overlapAxes=function(t,e,i){for(var r,o,a=s._temp[0],h=s._temp[1],u={overlap:Number.MAX_VALUE},c=0;c<i.length;c++){if(o=i[c],n._projectToAxis(a,t,o),n._projectToAxis(h,e,o),(r=Math.min(a.max-h.min,h.max-a.min))<=0)return u.overlap=r,u;r<u.overlap&&(u.overlap=r,u.axis=o,u.axisNumber=c)}return u},n._projectToAxis=function(t,e,i){for(var n=s.dot(e[0],i),r=n,o=1;o<e.length;o+=1){var a=s.dot(e[o],i);a>r?r=a:a<n&&(n=a)}t.min=n,t.max=r},n._findSupports=function(t,e,i){for(var n,r,o,a,h=Number.MAX_VALUE,u=s._temp[0],c=e.vertices,l=t.position,f=0;f<c.length;f++)r=c[f],u.x=r.x-l.x,u.y=r.y-l.y,(n=-s.dot(i,u))<h&&(h=n,o=r);return r=c[o.index-1>=0?o.index-1:c.length-1],u.x=r.x-l.x,u.y=r.y-l.y,h=-s.dot(i,u),a=r,r=c[(o.index+1)%c.length],u.x=r.x-l.x,u.y=r.y-l.y,(n=-s.dot(i,u))<h&&(a=r),[o,a]}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(423);n.Body=i(25),n.Composite=i(63),n.World=i(204),n.Detector=i(200),n.Grid=i(424),n.Pairs=i(425),n.Pair=i(126),n.Query=i(1006),n.Resolver=i(426),n.SAT=i(201),n.Constraint=i(82),n.Common=i(15),n.Engine=i(427),n.Events=i(81),n.Sleeping=i(96),n.Plugin=i(203),n.Bodies=i(53),n.Composites=i(420),n.Axes=i(198),n.Bounds=i(32),n.Svg=i(1008),n.Vector=i(31),n.Vertices=i(34),n.World.add=n.Composite.add,n.World.remove=n.Composite.remove,n.World.addComposite=n.Composite.addComposite,n.World.addBody=n.Composite.addBody,n.World.addConstraint=n.Composite.addConstraint,n.World.clear=n.Composite.clear,t.exports=n},function(t,e,i){var n={};t.exports=n;var r=i(15);n._registry={},n.register=function(t){if(n.isPlugin(t)||r.warn("Plugin.register:",n.toString(t),"does not implement all required fields."),t.name in n._registry){var e=n._registry[t.name],i=n.versionParse(t.version).number,s=n.versionParse(e.version).number;i>s?(r.warn("Plugin.register:",n.toString(e),"was upgraded to",n.toString(t)),n._registry[t.name]=t):i<s?r.warn("Plugin.register:",n.toString(e),"can not be downgraded to",n.toString(t)):t!==e&&r.warn("Plugin.register:",n.toString(t),"is already registered to different plugin object")}else n._registry[t.name]=t;return t},n.resolve=function(t){return n._registry[n.dependencyParse(t).name]},n.toString=function(t){return"string"==typeof t?t:(t.name||"anonymous")+"@"+(t.version||t.range||"0.0.0")},n.isPlugin=function(t){return t&&t.name&&t.version&&t.install},n.isUsed=function(t,e){return t.used.indexOf(e)>-1},n.isFor=function(t,e){var i=t.for&&n.dependencyParse(t.for);return!t.for||e.name===i.name&&n.versionSatisfies(e.version,i.range)},n.use=function(t,e){if(t.uses=(t.uses||[]).concat(e||[]),0!==t.uses.length){for(var i=n.dependencies(t),s=r.topologicalSort(i),o=[],a=0;a<s.length;a+=1)if(s[a]!==t.name){var h=n.resolve(s[a]);h?n.isUsed(t,h.name)||(n.isFor(h,t)||(r.warn("Plugin.use:",n.toString(h),"is for",h.for,"but installed on",n.toString(t)+"."),h._warned=!0),h.install?h.install(t):(r.warn("Plugin.use:",n.toString(h),"does not specify an install function."),h._warned=!0),h._warned?(o.push("🔶 "+n.toString(h)),delete h._warned):o.push("✅ "+n.toString(h)),t.used.push(h.name)):o.push("❌ "+s[a])}o.length>0&&!h.silent&&r.info(o.join("  "))}else r.warn("Plugin.use:",n.toString(t),"does not specify any dependencies to install.")},n.dependencies=function(t,e){var i=n.dependencyParse(t),s=i.name;if(!(s in(e=e||{}))){t=n.resolve(t)||t,e[s]=r.map(t.uses||[],function(e){n.isPlugin(e)&&n.register(e);var s=n.dependencyParse(e),o=n.resolve(e);return o&&!n.versionSatisfies(o.version,s.range)?(r.warn("Plugin.dependencies:",n.toString(o),"does not satisfy",n.toString(s),"used by",n.toString(i)+"."),o._warned=!0,t._warned=!0):o||(r.warn("Plugin.dependencies:",n.toString(e),"used by",n.toString(i),"could not be resolved."),t._warned=!0),s.name});for(var o=0;o<e[s].length;o+=1)n.dependencies(e[s][o],e);return e}},n.dependencyParse=function(t){return r.isString(t)?(/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-]+)?))?$/.test(t)||r.warn("Plugin.dependencyParse:",t,"is not a valid dependency string."),{name:t.split("@")[0],range:t.split("@")[1]||"*"}):{name:t.name,range:t.range||t.version}},n.versionParse=function(t){/^\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-]+)?$/.test(t)||r.warn("Plugin.versionParse:",t,"is not a valid version or range.");var e=t.split("-");t=e[0];var i=isNaN(Number(t[0])),n=i?t.substr(1):t,s=r.map(n.split("."),function(t){return Number(t)});return{isRange:i,version:n,range:t,operator:i?t[0]:"",parts:s,prerelease:e[1],number:1e8*s[0]+1e4*s[1]+s[2]}},n.versionSatisfies=function(t,e){e=e||"*";var i=n.versionParse(e),r=i.parts,s=n.versionParse(t),o=s.parts;if(i.isRange){if("*"===i.operator||"*"===t)return!0;if("~"===i.operator)return o[0]===r[0]&&o[1]===r[1]&&o[2]>=r[2];if("^"===i.operator)return r[0]>0?o[0]===r[0]&&s.number>=i.number:r[1]>0?o[1]===r[1]&&o[2]>=r[2]:o[2]===r[2]}return t===e||"*"===t}},function(t,e,i){var n={};t.exports=n;var r=i(63),s=(i(82),i(15));n.create=function(t){var e=r.create(),i={label:"World",gravity:{x:0,y:1,scale:.001},bounds:{min:{x:-1/0,y:-1/0},max:{x:1/0,y:1/0}}};return s.extend(e,i,t)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(128);t.exports=function(t,e,i){var r=n(t,e,!0,i),s=n(t,e-1,!0,i),o=n(t,e+1,!0,i),a=n(t-1,e,!0,i),h=n(t+1,e,!0,i),u=r&&r.collides;return u&&(r.faceTop=!0,r.faceBottom=!0,r.faceLeft=!0,r.faceRight=!0),s&&s.collides&&(u&&(r.faceTop=!1),s.faceBottom=!u),o&&o.collides&&(u&&(r.faceBottom=!1),o.faceTop=!u),a&&a.collides&&(u&&(r.faceLeft=!1),a.faceRight=!u),h&&h.collides&&(u&&(r.faceRight=!1),h.faceLeft=!u),r&&!r.collides&&r.resetFaces(),r}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(65),r=i(97),s=i(205),o=i(64);t.exports=function(t,e,i,a,h){if(!r(e,i,h))return null;void 0===a&&(a=!0);var u=h.data[i][e],c=u&&u.collides;if(t instanceof n)null===h.data[i][e]&&(h.data[i][e]=new n(h,t.index,e,i,t.width,t.height)),h.data[i][e].copy(t);else{var l=t;null===h.data[i][e]?h.data[i][e]=new n(h,l,e,i,h.tileWidth,h.tileHeight):h.data[i][e].index=l}var f=h.data[i][e],d=-1!==h.collideIndexes.indexOf(f.index);return o(f,d),a&&c!==f.collides&&s(e,i,h),f}},function(t,e){t.exports=function(t,e,i){var n=i.collideIndexes.indexOf(t);e&&-1===n?i.collideIndexes.push(t):e||-1===n||i.collideIndexes.splice(n,1)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(30),r=i(98),s=i(99),o=i(65);t.exports=function(t,e,i,a,h){for(var u=new r({tileWidth:i,tileHeight:a}),c=new s({name:t,tileWidth:i,tileHeight:a,format:n.ARRAY_2D,layers:[u]}),l=[],f=e.length,d=0,p=0;p<e.length;p++){l[p]=[];for(var g=e[p],v=0;v<g.length;v++){var y=parseInt(g[v],10);isNaN(y)||-1===y?l[p][v]=h?null:new o(u,-1,v,p,i,a):l[p][v]=new o(u,y,v,p,i,a)}0===d&&(d=g.length)}return c.width=u.width=d,c.height=u.height=f,c.widthInPixels=u.widthInPixels=d*i,c.heightInPixels=u.heightInPixels=f*a,u.data=l,c}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(30),r=i(99),s=i(433),o=i(441);t.exports=function(t,e,i,a,h,u,c,l){void 0===i&&(i=32),void 0===a&&(a=32),void 0===h&&(h=10),void 0===u&&(u=10),void 0===l&&(l=!1);var f=null;if(Array.isArray(c))f=s(void 0!==e?e:"map",n.ARRAY_2D,c,i,a,l);else if(void 0!==e){var d=t.cache.tilemap.get(e);d?f=s(e,d.format,d.data,i,a,l):console.warn("No map data found for key "+e)}return null===f&&(f=new r({tileWidth:i,tileHeight:a,width:h,height:u})),new o(t,f)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(4);t.exports=function(t){var e=n(t,"targets",null);return null===e?e:("function"==typeof e&&(e=e.call()),Array.isArray(e)||(e=[e]),e)}},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
function i(t){return!!t.getStart&&"function"==typeof t.getStart}function n(t){return!!t.getEnd&&"function"==typeof t.getEnd}var r=function(t,e){var s,o,a=function(t,e,i){return i},h=function(t,e,i){return i},u=typeof e;if("number"===u)a=function(){return e};else if("string"===u){var c=e[0],l=parseFloat(e.substr(2));switch(c){case"+":a=function(t,e,i){return i+l};break;case"-":a=function(t,e,i){return i-l};break;case"*":a=function(t,e,i){return i*l};break;case"/":a=function(t,e,i){return i/l};break;default:a=function(){return parseFloat(e)}}}else"function"===u?a=e:"object"===u&&(i(o=e)||n(o))?(n(e)&&(a=e.getEnd),i(e)&&(h=e.getStart)):e.hasOwnProperty("value")&&(s=r(t,e.value));return s||(s={getEnd:a,getStart:h}),s};t.exports=r},function(t,e){t.exports={targets:null,delay:0,duration:1e3,ease:"Power0",easeParams:null,hold:0,repeat:0,repeatDelay:0,yoyo:!1,flipX:!1,flipY:!1}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(14),s=i(10),o=i(93),a=new n({initialize:function(t,e,i){this.parent=t,this.parentIsTimeline=t.hasOwnProperty("isTimeline"),this.data=e,this.totalData=e.length,this.targets=i,this.totalTargets=i.length,this.useFrames=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.completeDelay=0,this.countdown=0,this.offset=0,this.calculatedOffset=0,this.state=o.PENDING_ADD,this._pausedState=o.PENDING_ADD,this.paused=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0,this.callbacks={onComplete:null,onLoop:null,onRepeat:null,onStart:null,onUpdate:null,onYoyo:null},this.callbackScope},getValue:function(){return this.data[0].current},setTimeScale:function(t){return this.timeScale=t,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return this.state===o.ACTIVE},isPaused:function(){return this.state===o.PAUSED},hasTarget:function(t){return-1!==this.targets.indexOf(t)},updateTo:function(t,e,i){for(var n=0;n<this.totalData;n++){var r=this.data[n];if(r.key===t){r.end=e,i&&(r.start=r.current);break}}return this},restart:function(){this.state===o.REMOVED?(this.seek(0),this.parent.makeActive(this)):(this.stop(),this.play())},calcDuration:function(){for(var t=0,e=this.data,i=0;i<this.totalData;i++){var n=e[i];n.t1=n.duration+n.hold,n.yoyo&&(n.t1+=n.duration),n.t2=n.t1+n.repeatDelay,n.totalDuration=n.delay+n.t1,-1===n.repeat?n.totalDuration+=999999999999*n.t2:n.repeat>0&&(n.totalDuration+=n.t2*n.repeat),n.totalDuration>t&&(t=n.totalDuration)}this.duration=t,this.loopCounter=-1===this.loop?999999999999:this.loop,this.loopCounter>0?this.totalDuration=this.duration+this.completeDelay+(this.duration+this.loopDelay)*this.loopCounter:this.totalDuration=this.duration+this.completeDelay},init:function(){for(var t=this.data,e=this.totalTargets,i=0;i<this.totalData;i++){var n=t[i],r=n.target,s=n.gen;n.delay=s.delay(i,e,r),n.duration=s.duration(i,e,r),n.hold=s.hold(i,e,r),n.repeat=s.repeat(i,e,r),n.repeatDelay=s.repeatDelay(i,e,r)}return this.calcDuration(),this.progress=0,this.totalProgress=0,this.elapsed=0,this.totalElapsed=0,this.paused&&!this.parentIsTimeline?(this.state=o.PENDING_ADD,this._pausedState=o.INIT,!1):(this.state=o.INIT,!0)},nextState:function(){if(this.loopCounter>0){this.elapsed=0,this.progress=0,this.loopCounter--;var t=this.callbacks.onLoop;t&&(t.params[1]=this.targets,t.func.apply(t.scope,t.params)),this.resetTweenData(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.state=o.LOOP_DELAY):this.state=o.ACTIVE}else if(this.completeDelay>0)this.countdown=this.completeDelay,this.state=o.COMPLETE_DELAY;else{var e=this.callbacks.onComplete;e&&(e.params[1]=this.targets,e.func.apply(e.scope,e.params)),this.state=o.PENDING_REMOVE}},pause:function(){if(this.state!==o.PAUSED)return this.paused=!0,this._pausedState=this.state,this.state=o.PAUSED,this},play:function(t){if(this.state!==o.ACTIVE){this.state!==o.PENDING_REMOVE&&this.state!==o.REMOVED||(this.init(),this.parent.makeActive(this),t=!0);var e=this.callbacks.onStart;this.parentIsTimeline?(this.resetTweenData(t),0===this.calculatedOffset?(e&&(e.params[1]=this.targets,e.func.apply(e.scope,e.params)),this.state=o.ACTIVE):(this.countdown=this.calculatedOffset,this.state=o.OFFSET_DELAY)):this.paused?(this.paused=!1,this.parent.makeActive(this)):(this.resetTweenData(t),this.state=o.ACTIVE,e&&(e.params[1]=this.targets,e.func.apply(e.scope,e.params)),this.parent.makeActive(this))}},resetTweenData:function(t){for(var e=this.data,i=0;i<this.totalData;i++){var n=e[i];n.progress=0,n.elapsed=0,n.repeatCounter=-1===n.repeat?999999999999:n.repeat,t?(n.start=n.getStartValue(n.target,n.key,n.start),n.end=n.getEndValue(n.target,n.key,n.end),n.current=n.start,n.state=o.PLAYING_FORWARD):n.delay>0?(n.elapsed=n.delay,n.state=o.DELAY):n.state=o.PENDING_RENDER}},resume:function(){return this.state===o.PAUSED?(this.paused=!1,this.state=this._pausedState):this.play(),this},seek:function(t){for(var e=this.data,i=0;i<this.totalData;i++){var n=this.totalDuration*t,r=e[i],s=0,o=0;n<=r.delay?(s=0,o=0):n>=r.totalDuration?(s=1,o=r.duration):n>r.delay&&n<=r.t1?(s=(n=Math.max(0,n-r.delay))/r.t1,o=r.duration*s):n>r.t1&&n<r.totalDuration&&(n-=r.delay,(n=(n-=r.t1)/r.t2%1*r.t2)>r.repeatDelay&&(s=n/r.t1,o=r.duration*s)),r.progress=s,r.elapsed=o;var a=r.ease(r.progress);r.current=r.start+(r.end-r.start)*a,r.target[r.key]=r.current}},setCallback:function(t,e,i,n){return this.callbacks[t]={func:e,scope:n,params:i},this},complete:function(t){if(void 0===t&&(t=0),t)this.countdown=t,this.state=o.COMPLETE_DELAY;else{var e=this.callbacks.onComplete;e&&(e.params[1]=this.targets,e.func.apply(e.scope,e.params)),this.state=o.PENDING_REMOVE}},stop:function(t){this.state===o.ACTIVE&&void 0!==t&&this.seek(t),this.state!==o.REMOVED&&(this.state=o.PENDING_REMOVE)},update:function(t,e){if(this.state===o.PAUSED)return!1;switch(this.useFrames&&(e=1*this.parent.timeScale),e*=this.timeScale,this.elapsed+=e,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=e,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),this.state){case o.ACTIVE:for(var i=!1,n=0;n<this.totalData;n++)this.updateTweenData(this,this.data[n],e)&&(i=!0);i||this.nextState();break;case o.LOOP_DELAY:this.countdown-=e,this.countdown<=0&&(this.state=o.ACTIVE);break;case o.OFFSET_DELAY:if(this.countdown-=e,this.countdown<=0){var r=this.callbacks.onStart;r&&(r.params[1]=this.targets,r.func.apply(r.scope,r.params)),this.state=o.ACTIVE}break;case o.COMPLETE_DELAY:if(this.countdown-=e,this.countdown<=0){var s=this.callbacks.onComplete;s&&s.func.apply(s.scope,s.params),this.state=o.PENDING_REMOVE}}return this.state===o.PENDING_REMOVE},setStateFromEnd:function(t,e,i){if(e.yoyo){e.elapsed=i,e.progress=i/e.duration,e.flipX&&e.target.toggleFlipX(),e.flipY&&e.target.toggleFlipY();var n=t.callbacks.onYoyo;return n&&(n.params[1]=e.target,n.func.apply(n.scope,n.params)),e.start=e.getStartValue(e.target,e.key,e.start),o.PLAYING_BACKWARD}if(e.repeatCounter>0){e.repeatCounter--,e.elapsed=i,e.progress=i/e.duration,e.flipX&&e.target.toggleFlipX(),e.flipY&&e.target.toggleFlipY();var r=t.callbacks.onRepeat;return r&&(r.params[1]=e.target,r.func.apply(r.scope,r.params)),e.start=e.getStartValue(e.target,e.key,e.start),e.end=e.getEndValue(e.target,e.key,e.start),e.repeatDelay>0?(e.elapsed=e.repeatDelay-i,e.current=e.start,e.target[e.key]=e.current,o.REPEAT_DELAY):o.PLAYING_FORWARD}return o.COMPLETE},setStateFromStart:function(t,e,i){if(e.repeatCounter>0){e.repeatCounter--,e.elapsed=i,e.progress=i/e.duration,e.flipX&&e.target.toggleFlipX(),e.flipY&&e.target.toggleFlipY();var n=t.callbacks.onRepeat;return n&&(n.params[1]=e.target,n.func.apply(n.scope,n.params)),e.end=e.getEndValue(e.target,e.key,e.start),e.repeatDelay>0?(e.elapsed=e.repeatDelay-i,e.current=e.start,e.target[e.key]=e.current,o.REPEAT_DELAY):o.PLAYING_FORWARD}return o.COMPLETE},updateTweenData:function(t,e,i){switch(e.state){case o.PLAYING_FORWARD:case o.PLAYING_BACKWARD:if(!e.target){e.state=o.COMPLETE;break}var n=e.elapsed,r=e.duration,s=0;(n+=i)>r&&(s=n-r,n=r);var a,h=e.state===o.PLAYING_FORWARD,u=n/r;a=h?e.ease(u):e.ease(1-u),e.current=e.start+(e.end-e.start)*a,e.target[e.key]=e.current,e.elapsed=n,e.progress=u;var c=t.callbacks.onUpdate;c&&(c.params[1]=e.target,c.func.apply(c.scope,c.params)),1===u&&(h?e.hold>0?(e.elapsed=e.hold-s,e.state=o.HOLD_DELAY):e.state=this.setStateFromEnd(t,e,s):e.state=this.setStateFromStart(t,e,s));break;case o.DELAY:e.elapsed-=i,e.elapsed<=0&&(e.elapsed=Math.abs(e.elapsed),e.state=o.PENDING_RENDER);break;case o.REPEAT_DELAY:e.elapsed-=i,e.elapsed<=0&&(e.elapsed=Math.abs(e.elapsed),e.state=o.PLAYING_FORWARD);break;case o.HOLD_DELAY:e.elapsed-=i,e.elapsed<=0&&(e.state=this.setStateFromEnd(t,e,Math.abs(e.elapsed)));break;case o.PENDING_RENDER:e.target?(e.start=e.getStartValue(e.target,e.key,e.target[e.key]),e.end=e.getEndValue(e.target,e.key,e.start),e.current=e.start,e.target[e.key]=e.start,e.state=o.PLAYING_FORWARD):e.state=o.COMPLETE}return e.state!==o.COMPLETE}});a.TYPES=["onComplete","onLoop","onRepeat","onStart","onUpdate","onYoyo"],s.register("tween",function(t){return this.scene.sys.tweens.add(t)}),r.register("tween",function(t){return this.scene.sys.tweens.create(t)}),t.exports=a},function(t,e){t.exports=function(t,e,i,n,r,s,o,a,h,u,c,l,f){return{target:t,key:e,getEndValue:i,getStartValue:n,ease:r,duration:0,totalDuration:0,delay:0,yoyo:a,hold:0,repeat:0,repeatDelay:0,flipX:l,flipY:f,progress:0,elapsed:0,repeatCounter:0,start:0,current:0,end:0,t1:0,t2:0,gen:{delay:s,duration:o,hold:h,repeat:u,repeatDelay:c},state:0}}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(196),s=i(391),o=i(392),a=i(396),h=i(74),u=i(134),c=i(3),l=i(80),f=i(119),d=new l,p=new f,g=new l,v=new l,y=new r,m=new n({initialize:function(t){this.scene=t,this.displayList=t.sys.displayList,this.updateList=t.sys.updateList,this.name="",this.direction=new l(0,0,-1),this.up=new l(0,1,0),this.position=new l,this.pixelScale=128,this.projection=new r,this.view=new r,this.combined=new r,this.invProjectionView=new r,this.near=1,this.far=100,this.ray={origin:new l,direction:new l},this.viewportWidth=0,this.viewportHeight=0,this.billboardMatrixDirty=!0,this.children=new h},setPosition:function(t,e,i){return this.position.set(t,e,i),this.update()},setScene:function(t){return this.scene=t,this},setPixelScale:function(t){return this.pixelScale=t,this.update()},add:function(t){return this.children.set(t),this.displayList.add(t.gameObject),this.updateList.add(t.gameObject),this.updateChildren(),t},remove:function(t){return this.displayList.remove(t.gameObject),this.updateList.remove(t.gameObject),this.children.delete(t),this},clear:function(){for(var t=this.getChildren(),e=0;e<t.length;e++)this.remove(t[e]);return this},getChildren:function(){return this.children.entries},create:function(t,e,i,n,r,s){void 0===s&&(s=!0);var o=new u(this.scene,t,e,i,n,r);return this.displayList.add(o.gameObject),this.updateList.add(o.gameObject),o.visible=s,this.children.set(o),this.updateChildren(),o},createMultiple:function(t,e,i,n){void 0===n&&(n=!0);for(var r=[],s=0;s<t;s++){var o=new u(this.scene,0,0,0,e,i);this.displayList.add(o.gameObject),this.updateList.add(o.gameObject),o.visible=n,this.children.set(o),r.push(o)}return r},createRect:function(t,e,i,n){"number"==typeof t&&(t={x:t,y:t,z:t}),"number"==typeof e&&(e={x:e,y:e,z:e});for(var r=t.x*t.y*t.z,s=this.createMultiple(r,i,n),o=0,a=.5-t.z/2;a<t.z/2;a++)for(var h=.5-t.y/2;h<t.y/2;h++)for(var u=.5-t.x/2;u<t.x/2;u++){var c=u*e.x,l=h*e.y,f=a*e.z;s[o].position.set(c,l,f),o++}return this.update(),s},randomSphere:function(t,e){void 0===e&&(e=this.getChildren());for(var i=0;i<e.length;i++)s(e[i].position,t);return this.update()},randomCube:function(t,e){void 0===e&&(e=this.getChildren());for(var i=0;i<e.length;i++)o(e[i].position,t);return this.update()},translateChildren:function(t,e){void 0===e&&(e=this.getChildren());for(var i=0;i<e.length;i++)e[i].position.add(t);return this.update()},transformChildren:function(t,e){void 0===e&&(e=this.getChildren());for(var i=0;i<e.length;i++)e[i].position.transformMat4(t);return this.update()},setViewport:function(t,e){return this.viewportWidth=t,this.viewportHeight=e,this.update()},translate:function(t,e,i){return"object"==typeof t?(this.position.x+=t.x||0,this.position.y+=t.y||0,this.position.z+=t.z||0):(this.position.x+=t||0,this.position.y+=e||0,this.position.z+=i||0),this.update()},lookAt:function(t,e,i){var n=this.direction,r=this.up;return"object"==typeof t?n.copy(t):n.set(t,e,i),n.subtract(this.position).normalize(),d.copy(n).cross(r).normalize(),r.copy(d).cross(n).normalize(),this.update()},rotate:function(t,e){return a(this.direction,e,t),a(this.up,e,t),this.update()},rotateAround:function(t,e,i){return d.copy(t).subtract(this.position),this.translate(d),this.rotate(e,i),this.translate(d.negate()),this.update()},project:function(t,e){void 0===e&&(e=new f);var i=this.viewportWidth,n=this.viewportHeight,r=m.NEAR_RANGE,s=m.FAR_RANGE;return p.set(t.x,t.y,t.z,1),p.transformMat4(this.combined),0===p.w&&(p.w=1),p.x=p.x/p.w,p.y=p.y/p.w,p.z=p.z/p.w,e.x=i/2*p.x+(0+i/2),e.y=n/2*p.y+(0+n/2),e.z=(s-r)/2*p.z+(s+r)/2,(0===e.w||e.w)&&(e.w=1/p.w),e},unproject:function(t,e){void 0===e&&(e=new l);var i=p.set(0,0,this.viewportWidth,this.viewportHeight);return e.copy(t).unproject(i,this.invProjectionView)},getPickRay:function(t,e){var i=this.ray.origin.set(t,e,0),n=this.ray.direction.set(t,e,1),r=p.set(0,0,this.viewportWidth,this.viewportHeight),s=this.invProjectionView;return i.unproject(r,s),n.unproject(r,s),n.subtract(i).normalize(),this.ray},updateChildren:function(){for(var t=this.children.entries,e=0;e<t.length;e++)t[e].project(this);return this},update:function(){return this.updateChildren()},updateBillboardMatrix:function(){var t=g.set(this.direction).negate(),e=v.set(this.up).cross(t).normalize(),i=d.set(t).cross(e).normalize(),n=y.val;n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=0,n[4]=i.x,n[5]=i.y,n[6]=i.z,n[7]=0,n[8]=t.x,n[9]=t.y,n[10]=t.z,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this.billboardMatrixDirty=!1},getPointSize:function(t,e,i){void 0===i&&(i=new c),this.billboardMatrixDirty&&this.updateBillboardMatrix();var n=d,r=e.x/this.pixelScale/2,s=e.y/this.pixelScale/2;n.set(-r,-s,0).transformMat4(y).add(t),this.project(n,n);var o=n.x,a=n.y;n.set(r,s,0).transformMat4(y).add(t),this.project(n,n);var h=n.x-o,u=n.y-a;return i.set(h,u)},destroy:function(){this.children.clear(),this.scene=void 0,this.children=void 0},setX:function(t){return this.position.x=t,this.update()},setY:function(t){return this.position.y=t,this.update()},setZ:function(t){return this.position.z=t,this.update()},x:{get:function(){return this.position.x},set:function(t){this.position.x=t,this.update()}},y:{get:function(){return this.position.y},set:function(t){this.position.y=t,this.update()}},z:{get:function(){return this.position.z},set:function(t){this.position.z=t,this.update()}}});m.FAR_RANGE=1,m.NEAR_RANGE=0,t.exports=m},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r,s=i(135),o=i(217),a=i(452),h=i(453),u=((n={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",n["bad-app-name"]="Illegal App name: '{$appName}",n["duplicate-app"]="Firebase App named '{$appName}' already exists",n["app-deleted"]="Firebase App named '{$appName}' already deleted",n["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",n["invalid-log-argument"]="First argument to `onLog` must be null or a function.",n),c=new o.ErrorFactory("app","Firebase",u),l="@firebase/app",f="0.6.11",d="[DEFAULT]",p=((r={})[l]="fire-core",r["@firebase/analytics"]="fire-analytics",r["@firebase/auth"]="fire-auth",r["@firebase/database"]="fire-rtdb",r["@firebase/functions"]="fire-fn",r["@firebase/installations"]="fire-iid",r["@firebase/messaging"]="fire-fcm",r["@firebase/performance"]="fire-perf",r["@firebase/remote-config"]="fire-rc",r["@firebase/storage"]="fire-gcs",r["@firebase/firestore"]="fire-fst",r["fire-js"]="fire-js",r["firebase-wrapper"]="fire-js-all",r),g=new h.Logger("@firebase/app"),v=function(){function t(t,e,i){var n,r,h=this;this.firebase_=i,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=o.deepCopy(t),this.container=new a.ComponentContainer(e.name),this._addComponent(new a.Component("app",function(){return h},"PUBLIC"));try{for(var u=s.__values(this.firebase_.INTERNAL.components.values()),c=u.next();!c.done;c=u.next()){var l=c.value;this._addComponent(l)}}catch(t){n={error:t}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){return void 0===e&&(e=d),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=d),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){g.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw c.create("app-deleted",{appName:this.name_})},t}();v.prototype.name&&v.prototype.options||v.prototype.delete||console.log("dc");var y="7.20.0";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var m=
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function t(){var e=function(t){var e={},i=new Map,n={__esModule:!0,initializeApp:function(i,r){if(void 0===r&&(r={}),"object"!=typeof r||null===r){var s=r;r={name:s}}var a=r;void 0===a.name&&(a.name=d);var h=a.name;if("string"!=typeof h||!h)throw c.create("bad-app-name",{appName:String(h)});if(o.contains(e,h))throw c.create("duplicate-app",{appName:h});var u=new t(i,a,n);return e[h]=u,u},app:r,registerVersion:function(t,e,i){var n,r=null!==(n=p[t])&&void 0!==n?n:t;i&&(r+="-"+i);var s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){var h=['Unable to register library "'+r+'" with version "'+e+'":'];return s&&h.push('library name "'+r+'" contains illegal characters (whitespace or "/")'),s&&o&&h.push("and"),o&&h.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void g.warn(h.join(" "))}u(new a.Component(r+"-version",function(){return{library:r,version:e}},"VERSION"))},setLogLevel:h.setLogLevel,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw c.create("invalid-log-argument",{appName:name});h.setUserLogHandler(t,e)},apps:null,SDK_VERSION:y,INTERNAL:{registerComponent:u,removeApp:function(t){delete e[t]},components:i,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function r(t){if(t=t||d,!o.contains(e,t))throw c.create("no-app",{appName:t});return e[t]}function u(a){var h,u,l=a.name;if(i.has(l))return g.debug("There were multiple attempts to register component "+l+"."),"PUBLIC"===a.type?n[l]:null;if(i.set(l,a),"PUBLIC"===a.type){var f=function(t){if(void 0===t&&(t=r()),"function"!=typeof t[l])throw c.create("invalid-app-argument",{appName:l});return t[l]()};void 0!==a.serviceProps&&o.deepExtend(f,a.serviceProps),n[l]=f,t.prototype[l]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,l).apply(this,a.multipleInstances?t:[])}}try{for(var d=s.__values(Object.keys(e)),p=d.next();!p.done;p=d.next()){var v=p.value;e[v]._addComponent(a)}}catch(t){h={error:t}}finally{try{p&&!p.done&&(u=d.return)&&u.call(d)}finally{if(h)throw h.error}}return"PUBLIC"===a.type?n[l]:null}return n.default=n,Object.defineProperty(n,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),r.App=t,n}(v);return e.INTERNAL=s.__assign(s.__assign({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){o.deepExtend(e,t)},createSubscribe:o.createSubscribe,ErrorFactory:o.ErrorFactory,deepExtend:o.deepExtend}),e}(),x=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
if(o.isBrowser()&&void 0!==self.firebase){g.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var b=self.firebase.SDK_VERSION;b&&b.indexOf("LITE")>=0&&g.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var w=m.initializeApp;m.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return o.isNode()&&g.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),w.apply(void 0,t)};var T=m;!function(t,e){t.INTERNAL.registerComponent(new a.Component("platform-logger",function(t){return new x(t)},"PRIVATE")),t.registerVersion(l,f,e),t.registerVersion("fire-js","")}(T),e.default=T,e.firebase=T},function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var n=i(135),r={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},s=function(t,e){if(!t)throw o(e)},o=function(t){return new Error("Firebase Database ("+r.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},a=function(t){for(var e=[],i=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e[i++]=r:r<2048?(e[i++]=r>>6|192,e[i++]=63&r|128):55296==(64512&r)&&n+1<t.length&&56320==(64512&t.charCodeAt(n+1))?(r=65536+((1023&r)<<10)+(1023&t.charCodeAt(++n)),e[i++]=r>>18|240,e[i++]=r>>12&63|128,e[i++]=r>>6&63|128,e[i++]=63&r|128):(e[i++]=r>>12|224,e[i++]=r>>6&63|128,e[i++]=63&r|128)}return e},h={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[],r=0;r<t.length;r+=3){var s=t[r],o=r+1<t.length,a=o?t[r+1]:0,h=r+2<t.length,u=h?t[r+2]:0,c=s>>2,l=(3&s)<<4|a>>4,f=(15&a)<<2|u>>6,d=63&u;h||(d=64,o||(f=64)),n.push(i[c],i[l],i[f],i[d])}return n.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(a(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],i=0,n=0;i<t.length;){var r=t[i++];if(r<128)e[n++]=String.fromCharCode(r);else if(r>191&&r<224){var s=t[i++];e[n++]=String.fromCharCode((31&r)<<6|63&s)}else if(r>239&&r<365){var o=((7&r)<<18|(63&(s=t[i++]))<<12|(63&(a=t[i++]))<<6|63&t[i++])-65536;e[n++]=String.fromCharCode(55296+(o>>10)),e[n++]=String.fromCharCode(56320+(1023&o))}else{s=t[i++];var a=t[i++];e[n++]=String.fromCharCode((15&r)<<12|(63&s)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var i=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[],r=0;r<t.length;){var s=i[t.charAt(r++)],o=r<t.length?i[t.charAt(r)]:0,a=++r<t.length?i[t.charAt(r)]:64,h=++r<t.length?i[t.charAt(r)]:64;if(++r,null==s||null==o||null==a||null==h)throw Error();var u=s<<2|o>>4;if(n.push(u),64!==a){var c=o<<4&240|a>>2;if(n.push(c),64!==h){var l=a<<6&192|h;n.push(l)}}}return n},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},u=function(t){try{return h.decodeString(t,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var i in e)e.hasOwnProperty(i)&&(t[i]=c(t[i],e[i]));return t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var l=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,i){t.resolve=e,t.reject=i})}return t.prototype.wrapCallback=function(t){var e=this;return function(i,n){i?e.reject(i):e.resolve(n),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(i):t(i,n))}},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function d(){try{return"[object process]"===Object.prototype.toString.call(t.process)}catch(t){return!1}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var p="FirebaseError",g=function(t){function e(i,n){var r=t.call(this,n)||this;return r.code=i,r.name=p,Object.setPrototypeOf(r,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(r,v.prototype.create),r}return n.__extends(e,t),e}(Error),v=function(){function t(t,e,i){this.service=t,this.serviceName=e,this.errors=i}return t.prototype.create=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];for(var n=e[0]||{},r=this.service+"/"+t,s=this.errors[t],o=s?function(t,e){return t.replace(y,function(t,i){var n=e[i];return null!=n?String(n):"<"+i+"?>"})}(s,n):"Error",a=this.serviceName+": "+o+" ("+r+").",h=new g(r,a),u=0,c=Object.keys(n);u<c.length;u++){var l=c[u];"_"!==l.slice(-1)&&(l in h&&console.warn('Overwriting FirebaseError base field "'+l+'" can cause unexpected behavior.'),h[l]=n[l])}return h},t}();var y=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m(t){return JSON.parse(t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var x=function(t){var e={},i={},n={},r="";try{var s=t.split(".");e=m(u(s[0])||""),i=m(u(s[1])||""),r=s[2],n=i.d||{},delete i.d}catch(t){}return{header:e,claims:i,data:n,signature:r}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var b=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var i=this.W_;if("string"==typeof t)for(var n=0;n<16;n++)i[n]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(n=0;n<16;n++)i[n]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(n=16;n<80;n++){var r=i[n-3]^i[n-8]^i[n-14]^i[n-16];i[n]=4294967295&(r<<1|r>>>31)}var s,o,a=this.chain_[0],h=this.chain_[1],u=this.chain_[2],c=this.chain_[3],l=this.chain_[4];for(n=0;n<80;n++){n<40?n<20?(s=c^h&(u^c),o=1518500249):(s=h^u^c,o=1859775393):n<60?(s=h&u|c&(h|u),o=2400959708):(s=h^u^c,o=3395469782);r=(a<<5|a>>>27)+s+l+o+i[n]&4294967295;l=c,c=u,u=4294967295&(h<<30|h>>>2),h=a,a=r}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+h&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var i=e-this.blockSize,n=0,r=this.buf_,s=this.inbuf_;n<e;){if(0===s)for(;n<=i;)this.compress_(t,n),n+=this.blockSize;if("string"==typeof t){for(;n<e;)if(r[s]=t.charCodeAt(n),++n,++s===this.blockSize){this.compress_(r),s=0;break}}else for(;n<e;)if(r[s]=t[n],++n,++s===this.blockSize){this.compress_(r),s=0;break}}this.inbuf_=s,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var i=this.blockSize-1;i>=56;i--)this.buf_[i]=255&e,e/=256;this.compress_(this.buf_);var n=0;for(i=0;i<5;i++)for(var r=24;r>=0;r-=8)t[n]=this.chain_[i]>>r&255,++n;return t},t}();var w=function(){function t(t,e){var i=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(i)}).catch(function(t){i.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,i){var n,r=this;if(void 0===t&&void 0===e&&void 0===i)throw new Error("Missing Observer.");void 0===(n=function(t,e){if("object"!=typeof t||null===t)return!1;for(var i=0,n=e;i<n.length;i++){var r=n[i];if(r in t&&"function"==typeof t[r])return!0}return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:i}).next&&(n.next=T),void 0===n.error&&(n.error=T),void 0===n.complete&&(n.complete=T);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{r.finalError?n.error(r.finalError):n.complete()}catch(t){}}),this.observers.push(n),s},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var i=this;this.task.then(function(){if(void 0!==i.observers&&void 0!==i.observers[t])try{e(i.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function T(){}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S(t,e,i){var n="";switch(e){case 1:n=i?"first":"First";break;case 2:n=i?"second":"Second";break;case 3:n=i?"third":"Third";break;case 4:n=i?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var r=t+" failed: ";return r+=n+" argument "}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var _=1e3,A=2,E=144e5,I=.5;e.CONSTANTS=r,e.Deferred=l,e.ErrorFactory=v,e.FirebaseError=g,e.MAX_VALUE_MILLIS=E,e.RANDOM_FACTOR=I,e.Sha1=b,e.areCookiesEnabled=function(){return!(!navigator||!navigator.cookieEnabled)},e.assert=s,e.assertionError=o,e.async=function(t,e){return function(){for(var i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];Promise.resolve(!0).then(function(){t.apply(void 0,i)}).catch(function(t){e&&e(t)})}},e.base64=h,e.base64Decode=u,e.base64Encode=function(t){var e=a(t);return h.encodeByteArray(e,!0)},e.calculateBackoffMillis=function(t,e,i){void 0===e&&(e=_),void 0===i&&(i=A);var n=e*Math.pow(i,t),r=Math.round(I*n*(Math.random()-.5)*2);return Math.min(E,n+r)},e.contains=
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.createSubscribe=function(t,e){var i=new w(t,e);return i.subscribe.bind(i)},e.decode=x,e.deepCopy=
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(t){return c(void 0,t)},e.deepExtend=c,e.errorPrefix=S,e.getUA=f,e.isAdmin=function(t){var e=x(t).claims;return"object"==typeof e&&!0===e.admin},e.isBrowser=function(){return"object"==typeof self&&self.self===self},e.isBrowserExtension=function(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id},e.isElectron=function(){return f().indexOf("Electron/")>=0},e.isEmpty=function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0},e.isIE=function(){var t=f();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0},e.isIndexedDBAvailable=function(){return"indexedDB"in self&&null!=indexedDB},e.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(f())},e.isNode=d,e.isNodeSdk=function(){return!0===r.NODE_CLIENT||!0===r.NODE_ADMIN},e.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},e.isSafari=function(){return!d()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")},e.isUWP=function(){return f().indexOf("MSAppHost/")>=0},e.isValidFormat=function(t){var e=x(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},e.isValidTimestamp=function(t){var e=x(t).claims,i=Math.floor((new Date).getTime()/1e3),n=0,r=0;return"object"==typeof e&&(e.hasOwnProperty("nbf")?n=e.nbf:e.hasOwnProperty("iat")&&(n=e.iat),r=e.hasOwnProperty("exp")?e.exp:n+86400),!!i&&!!n&&!!r&&i>=n&&i<=r},e.issuedAtTime=function(t){var e=x(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},e.jsonEval=m,e.map=function(t,e,i){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=e.call(i,t[r],r,t));return n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */,e.querystring=function(t){for(var e=[],i=function(t,i){Array.isArray(i)?i.forEach(function(i){e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))},n=0,r=Object.entries(t);n<r.length;n++){var s=r[n];i(s[0],s[1])}return e.length?"&"+e.join("&"):""},e.querystringDecode=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach(function(t){if(t){var i=t.split("=");e[i[0]]=i[1]}}),e},e.safeGet=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0},e.stringLength=function(t){for(var e=0,i=0;i<t.length;i++){var n=t.charCodeAt(i);n<128?e++:n<2048?e+=2:n>=55296&&n<=56319?(e+=4,i++):e+=3}return e},e.stringToByteArray=function(t){for(var e=[],i=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r>=55296&&r<=56319){var o=r-55296;s(++n<t.length,"Surrogate pair missing trail surrogate."),r=65536+(o<<10)+(t.charCodeAt(n)-56320)}r<128?e[i++]=r:r<2048?(e[i++]=r>>6|192,e[i++]=63&r|128):r<65536?(e[i++]=r>>12|224,e[i++]=r>>6&63|128,e[i++]=63&r|128):(e[i++]=r>>18|240,e[i++]=r>>12&63|128,e[i++]=r>>6&63|128,e[i++]=63&r|128)}return e},e.stringify=function(t){return JSON.stringify(t)},e.validateArgCount=function(t,e,i,n){var r;if(n<e?r="at least "+e:n>i&&(r=0===i?"none":"no more than "+i),r)throw new Error(t+" failed: Was called with "+n+(1===n?" argument.":" arguments.")+" Expects "+r+".")},e.validateCallback=function(t,e,i,n){if((!n||i)&&"function"!=typeof i)throw new Error(S(t,e,n)+"must be a valid function.")},e.validateContextObject=function(t,e,i,n){if((!n||i)&&("object"!=typeof i||null===i))throw new Error(S(t,e,n)+"must be a valid context object.")},e.validateIndexedDBOpenable=function(){return new Promise(function(t,e){try{var i=!0,n="validate-browser-context-for-indexeddb-analytics-module",r=window.indexedDB.open(n);r.onsuccess=function(){r.result.close(),i||window.indexedDB.deleteDatabase(n),t(!0)},r.onupgradeneeded=function(){i=!1},r.onerror=function(){var t;e((null===(t=r.error)||void 0===t?void 0:t.message)||"")}}catch(t){e(t)}})},e.validateNamespace=function(t,e,i,n){if((!n||i)&&"string"!=typeof i)throw new Error(S(t,e,n)+"must be a valid firebase namespace.")}}).call(this,i(66))},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={Angle:i(464),Call:i(465),GetFirst:i(466),GetLast:i(467),GridAlign:i(468),IncAlpha:i(479),IncX:i(480),IncXY:i(481),IncY:i(482),PlaceOnCircle:i(483),PlaceOnEllipse:i(484),PlaceOnLine:i(485),PlaceOnRectangle:i(486),PlaceOnTriangle:i(487),PlayAnimation:i(488),PropertyValueInc:i(33),PropertyValueSet:i(27),RandomCircle:i(489),RandomEllipse:i(490),RandomLine:i(491),RandomRectangle:i(492),RandomTriangle:i(493),Rotate:i(494),RotateAround:i(495),RotateAroundDistance:i(496),ScaleX:i(497),ScaleXY:i(498),ScaleY:i(499),SetAlpha:i(500),SetBlendMode:i(501),SetDepth:i(502),SetHitArea:i(503),SetOrigin:i(504),SetRotation:i(505),SetScale:i(506),SetScaleX:i(507),SetScaleY:i(508),SetTint:i(509),SetVisible:i(510),SetX:i(511),SetXY:i(512),SetY:i(513),ShiftPosition:i(514),Shuffle:i(515),SmootherStep:i(516),SmoothStep:i(517),Spread:i(518),ToggleVisible:i(519),WrapInRectangle:i(520)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(137),r=[];r[n.BOTTOM_CENTER]=i(220),r[n.BOTTOM_LEFT]=i(221),r[n.BOTTOM_RIGHT]=i(222),r[n.CENTER]=i(223),r[n.LEFT_CENTER]=i(225),r[n.RIGHT_CENTER]=i(226),r[n.TOP_CENTER]=i(227),r[n.TOP_LEFT]=i(228),r[n.TOP_RIGHT]=i(229);t.exports=function(t,e,i,n,s){return r[i](t,e,n,s)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(35),r=i(67),s=i(36),o=i(68);t.exports=function(t,e,i,a){return void 0===i&&(i=0),void 0===a&&(a=0),o(t,r(e)+i),s(t,n(e)+a),t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(35),r=i(37),s=i(36),o=i(38);t.exports=function(t,e,i,a){return void 0===i&&(i=0),void 0===a&&(a=0),o(t,r(e)-i),s(t,n(e)+a),t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(35),r=i(39),s=i(36),o=i(40);t.exports=function(t,e,i,a){return void 0===i&&(i=0),void 0===a&&(a=0),o(t,r(e)+i),s(t,n(e)+a),t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(224),r=i(67),s=i(70);t.exports=function(t,e,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),n(t,r(e)+i,s(e)+o),t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(68),r=i(69);t.exports=function(t,e,i){return n(t,e),r(t,i)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(70),r=i(37),s=i(69),o=i(38);t.exports=function(t,e,i,a){return void 0===i&&(i=0),void 0===a&&(a=0),o(t,r(e)-i),s(t,n(e)+a),t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(70),r=i(39),s=i(69),o=i(40);t.exports=function(t,e,i,a){return void 0===i&&(i=0),void 0===a&&(a=0),o(t,r(e)+i),s(t,n(e)+a),t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(67),r=i(41),s=i(68),o=i(42);t.exports=function(t,e,i,a){return void 0===i&&(i=0),void 0===a&&(a=0),s(t,n(e)+i),o(t,r(e)-a),t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(37),r=i(41),s=i(38),o=i(42);t.exports=function(t,e,i,a){return void 0===i&&(i=0),void 0===a&&(a=0),s(t,n(e)-i),o(t,r(e)-a),t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(39),r=i(41),s=i(40),o=i(42);t.exports=function(t,e,i,a){return void 0===i&&(i=0),void 0===a&&(a=0),s(t,n(e)+i),o(t,r(e)-a),t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(138),r=i(85),s=i(18),o=i(5);t.exports=function(t,e,i){void 0===i&&(i=new o);var a=r(e,0,s.PI2);return n(t,a,i)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=new(i(0))({initialize:function(t){void 0===t&&(t=[(Date.now()*Math.random()).toString()]),this.c=1,this.s0=0,this.s1=0,this.s2=0,this.n=0,this.signs=[-1,1],t&&this.init(t)},rnd:function(){var t=2091639*this.s0+2.3283064365386963e-10*this.c;return this.c=0|t,this.s0=this.s1,this.s1=this.s2,this.s2=t-this.c,this.s2},hash:function(t){var e,i=this.n;t=t.toString();for(var n=0;n<t.length;n++)e=.02519603282416938*(i+=t.charCodeAt(n)),e-=i=e>>>0,i=(e*=i)>>>0,i+=4294967296*(e-=i);return this.n=i,2.3283064365386963e-10*(i>>>0)},init:function(t){"string"==typeof t?this.state(t):this.sow(t)},sow:function(t){if(this.n=4022871197,this.s0=this.hash(" "),this.s1=this.hash(" "),this.s2=this.hash(" "),this.c=1,t)for(var e=0;e<t.length&&null!=t[e];e++){var i=t[e];this.s0-=this.hash(i),this.s0+=~~(this.s0<0),this.s1-=this.hash(i),this.s1+=~~(this.s1<0),this.s2-=this.hash(i),this.s2+=~~(this.s2<0)}},integer:function(){return 4294967296*this.rnd()},frac:function(){return this.rnd()+1.1102230246251565e-16*(2097152*this.rnd()|0)},real:function(){return this.integer()+this.frac()},integerInRange:function(t,e){return Math.floor(this.realInRange(0,e-t+1)+t)},between:function(t,e){return Math.floor(this.realInRange(0,e-t+1)+t)},realInRange:function(t,e){return this.frac()*(e-t)+t},normal:function(){return 1-2*this.frac()},uuid:function(){var t="",e="";for(e=t="";t++<36;e+=~t%5|3*t&4?(15^t?8^this.frac()*(20^t?16:4):4).toString(16):"-");return e},pick:function(t){return t[this.integerInRange(0,t.length-1)]},sign:function(){return this.pick(this.signs)},weightedPick:function(t){return t[~~(Math.pow(this.frac(),2)*(t.length-1)+.5)]},timestamp:function(t,e){return this.realInRange(t||9466848e5,e||1577862e6)},angle:function(){return this.integerInRange(-180,180)},rotation:function(){return this.realInRange(-3.1415926,3.1415926)},state:function(t){return"string"==typeof t&&t.match(/^!rnd/)&&(t=t.split(","),this.c=parseFloat(t[1]),this.s0=parseFloat(t[2]),this.s1=parseFloat(t[3]),this.s2=parseFloat(t[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")},shuffle:function(t){for(var e=t.length-1,i=e;i>0;i--){var n=Math.floor(this.frac()*(e+1)),r=t[n];t[n]=t[i],t[i]=r}return t}});t.exports=n},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(233),r=i(138),s=i(85),o=i(18);t.exports=function(t,e,i,a){void 0===a&&(a=[]),e||(e=n(t)/i);for(var h=0;h<e;h++){var u=s(h/e,0,o.PI2);a.push(r(t,u))}return a}},function(t,e){t.exports=function(t){return Math.PI*t.radius*2}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(23),r={_alpha:1,_alphaTL:1,_alphaTR:1,_alphaBL:1,_alphaBR:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(t,e,i,r){return void 0===t&&(t=1),void 0===e?this.alpha=t:(this._alphaTL=n(t,0,1),this._alphaTR=n(e,0,1),this._alphaBL=n(i,0,1),this._alphaBR=n(r,0,1)),this},alpha:{get:function(){return this._alpha},set:function(t){var e=n(t,0,1);this._alpha=e,this._alphaTL=e,this._alphaTR=e,this._alphaBL=e,this._alphaBR=e,0===e?this.renderFlags&=-3:this.renderFlags|=2}},alphaTopLeft:{get:function(){return this._alphaTL},set:function(t){var e=n(t,0,1);this._alphaTL=e,0!==e&&(this.renderFlags|=2)}},alphaTopRight:{get:function(){return this._alphaTR},set:function(t){var e=n(t,0,1);this._alphaTR=e,0!==e&&(this.renderFlags|=2)}},alphaBottomLeft:{get:function(){return this._alphaBL},set:function(t){var e=n(t,0,1);this._alphaBL=e,0!==e&&(this.renderFlags|=2)}},alphaBottomRight:{get:function(){return this._alphaBR},set:function(t){var e=n(t,0,1);this._alphaBR=e,0!==e&&(this.renderFlags|=2)}}};t.exports=r},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=new(i(0))({initialize:function(t){this.parent=t,this.animationManager=t.scene.sys.anims,this.animationManager.once("remove",this.remove,this),this.isPlaying=!1,this.currentAnim=null,this.currentFrame=null,this._timeScale=1,this.frameRate=0,this.duration=0,this.msPerFrame=0,this.skipMissedFrames=!0,this._delay=0,this._repeat=0,this._repeatDelay=0,this._yoyo=!1,this.forward=!0,this._reverse=!1,this.accumulator=0,this.nextTick=0,this.repeatCounter=0,this.pendingRepeat=!1,this._paused=!1,this._wasPlaying=!1,this._pendingStop=0,this._pendingStopValue},setDelay:function(t){return void 0===t&&(t=0),this._delay=t,this.parent},getDelay:function(){return this._delay},delayedPlay:function(t,e,i){return this.play(e,!0,i),this.nextTick+=t,this.parent},getCurrentKey:function(){if(this.currentAnim)return this.currentAnim.key},load:function(t,e){return void 0===e&&(e=0),this.isPlaying&&this.stop(),this.animationManager.load(this,t,e),this.parent},pause:function(t){return this._paused||(this._paused=!0,this._wasPlaying=this.isPlaying,this.isPlaying=!1),void 0!==t&&this.updateFrame(t),this.parent},resume:function(t){return this._paused&&(this._paused=!1,this.isPlaying=this._wasPlaying),void 0!==t&&this.updateFrame(t),this.parent},isPaused:{get:function(){return this._paused}},play:function(t,e,i){return void 0===e&&(e=!1),void 0===i&&(i=0),e&&this.isPlaying&&this.currentAnim.key===t?this.parent:(this.forward=!0,this._reverse=!1,this._startAnimation(t,i))},playReverse:function(t,e,i){return void 0===e&&(e=!1),void 0===i&&(i=0),e&&this.isPlaying&&this.currentAnim.key===t?this.parent:(this.forward=!1,this._reverse=!0,this._startAnimation(t,i))},_startAnimation:function(t,e){this.load(t,e);var i=this.currentAnim,n=this.parent;return this.repeatCounter=-1===this._repeat?Number.MAX_VALUE:this._repeat,i.getFirstTick(this),this.isPlaying=!0,this.pendingRepeat=!1,i.showOnStart&&(n.visible=!0),n.emit("animationstart",this.currentAnim,this.currentFrame),n},reverse:function(t){return this.isPlaying&&this.currentAnim.key===t?(this._reverse=!this._reverse,this.forward=!this.forward,this.parent):this.parent},getProgress:function(){var t=this.currentFrame.progress;return this.forward||(t=1-t),t},setProgress:function(t){return this.forward||(t=1-t),this.setCurrentFrame(this.currentAnim.getFrameByProgress(t)),this.parent},remove:function(t,e){void 0===e&&(e=this.currentAnim),this.isPlaying&&e.key===this.currentAnim.key&&(this.stop(),this.setCurrentFrame(this.currentAnim.frames[0]))},getRepeat:function(){return this._repeat},setRepeat:function(t){return this._repeat=t,this.repeatCounter=0,this.parent},getRepeatDelay:function(){return this._repeatDelay},setRepeatDelay:function(t){return this._repeatDelay=t,this.parent},restart:function(t){return void 0===t&&(t=!1),this.currentAnim.getFirstTick(this,t),this.forward=!0,this.isPlaying=!0,this.pendingRepeat=!1,this._paused=!1,this.updateFrame(this.currentAnim.frames[0]),this.parent},stop:function(){this._pendingStop=0,this.isPlaying=!1;var t=this.parent;return t.emit("animationcomplete",this.currentAnim,this.currentFrame),t},stopAfterDelay:function(t){return this._pendingStop=1,this._pendingStopValue=t,this.parent},stopOnRepeat:function(){return this._pendingStop=2,this.parent},stopOnFrame:function(t){return this._pendingStop=3,this._pendingStopValue=t,this.parent},setTimeScale:function(t){return void 0===t&&(t=1),this._timeScale=t,this.parent},getTimeScale:function(){return this._timeScale},getTotalFrames:function(){return this.currentAnim.frames.length},update:function(t,e){if(this.currentAnim&&this.isPlaying&&!this.currentAnim.paused){if(this.accumulator+=e*this._timeScale,1===this._pendingStop&&(this._pendingStopValue-=e,this._pendingStopValue<=0))return this.currentAnim.completeAnimation(this);this.accumulator>=this.nextTick&&this.currentAnim.setFrame(this)}},setCurrentFrame:function(t){var e=this.parent;return this.currentFrame=t,e.texture=t.frame.texture,e.frame=t.frame,e.setSizeToFrame(),t.frame.customPivot?e.setOrigin(t.frame.pivotX,t.frame.pivotY):e.updateDisplayOrigin(),e},updateFrame:function(t){var e=this.setCurrentFrame(t);if(this.isPlaying){t.setAlpha&&(e.alpha=t.alpha);var i=this.currentAnim;e.emit("animationupdate",i,t),3===this._pendingStop&&this._pendingStopValue===t&&this.currentAnim.completeAnimation(this)}},setYoyo:function(t){return void 0===t&&(t=!1),this._yoyo=t,this.parent},getYoyo:function(){return this._yoyo},destroy:function(){this.animationManager.off("remove",this.remove,this),this.animationManager=null,this.parent=null,this.currentAnim=null,this.currentFrame=null}});t.exports=n},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(56),r={_blendMode:n.NORMAL,blendMode:{get:function(){return this._blendMode},set:function(t){"string"==typeof t&&(t=n[t]),(t|=0)>=-1&&(this._blendMode=t)}},setBlendMode:function(t){return this.blendMode=t,this}};t.exports=r},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i={_depth:0,depth:{get:function(){return this._depth},set:function(t){this.scene.sys.queueDepthSort(),this._depth=t}},setDepth:function(t){return void 0===t&&(t=0),this.depth=t,this}};t.exports=i},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(140),r=i(101);t.exports=function(t,e,i,s){void 0===s&&(s=[]),e||(e=r(t)/i);for(var o=0;o<e;o++){var a=o/e;s.push(n(t,a))}return s}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(5);t.exports=function(t,e,i){return void 0===i&&(i=new n),i.x=t.x1+(t.x2-t.x1)*e,i.y=t.y1+(t.y2-t.y1)*e,i}},function(t,e){t.exports=function(t,e,i,n){var r=Math.cos(n),s=Math.sin(n),o=t.x-e,a=t.y-i;return t.x=o*r-a*s+e,t.y=o*s+a*r+i,t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(242),r=i(243),s={mask:null,setMask:function(t){return this.mask=t,this},clearMask:function(t){return void 0===t&&(t=!1),t&&this.mask&&this.mask.destroy(),this.mask=null,this},createBitmapMask:function(t){return void 0===t&&this.texture&&(t=this),new n(this.scene,t)},createGeometryMask:function(t){return void 0===t&&"Graphics"===this.type&&(t=this),new r(this.scene,t)}};t.exports=s},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=new(i(0))({initialize:function(t,e){var i=t.sys.game.renderer;if(this.renderer=i,this.bitmapMask=e,this.maskTexture=null,this.mainTexture=null,this.dirty=!0,this.mainFramebuffer=null,this.maskFramebuffer=null,this.invertAlpha=!1,i&&i.gl){var n=i.width,r=i.height,s=0==(n&n-1)&&0==(r&r-1),o=i.gl,a=s?o.REPEAT:o.CLAMP_TO_EDGE,h=o.LINEAR;this.mainTexture=i.createTexture2D(0,h,h,a,a,o.RGBA,null,n,r),this.maskTexture=i.createTexture2D(0,h,h,a,a,o.RGBA,null,n,r),this.mainFramebuffer=i.createFramebuffer(n,r,this.mainTexture,!1),this.maskFramebuffer=i.createFramebuffer(n,r,this.maskTexture,!1),i.onContextRestored(function(t){var e=t.width,i=t.height,n=0==(e&e-1)&&0==(i&i-1),r=t.gl,s=n?r.REPEAT:r.CLAMP_TO_EDGE,o=r.LINEAR;this.mainTexture=t.createTexture2D(0,o,o,s,s,r.RGBA,null,e,i),this.maskTexture=t.createTexture2D(0,o,o,s,s,r.RGBA,null,e,i),this.mainFramebuffer=t.createFramebuffer(e,i,this.mainTexture,!1),this.maskFramebuffer=t.createFramebuffer(e,i,this.maskTexture,!1)},this)}},setBitmap:function(t){this.bitmapMask=t},preRenderWebGL:function(t,e,i){t.pipelines.BitmapMaskPipeline.beginMask(this,e,i)},postRenderWebGL:function(t){t.pipelines.BitmapMaskPipeline.endMask(this)},preRenderCanvas:function(){},postRenderCanvas:function(){},destroy:function(){this.bitmapMask=null;var t=this.renderer;t&&t.gl&&(t.deleteTexture(this.mainTexture),t.deleteTexture(this.maskTexture),t.deleteFramebuffer(this.mainFramebuffer),t.deleteFramebuffer(this.maskFramebuffer)),this.mainTexture=null,this.maskTexture=null,this.mainFramebuffer=null,this.maskFramebuffer=null,this.renderer=null}});t.exports=n},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=new(i(0))({initialize:function(t,e){this.geometryMask=e},setShape:function(t){this.geometryMask=t},preRenderWebGL:function(t,e,i){var n=t.gl,r=this.geometryMask;t.flush(),n.enable(n.STENCIL_TEST),n.clear(n.STENCIL_BUFFER_BIT),n.colorMask(!1,!1,!1,!1),n.stencilFunc(n.NOTEQUAL,1,1),n.stencilOp(n.REPLACE,n.REPLACE,n.REPLACE),r.renderWebGL(t,r,0,i),t.flush(),n.colorMask(!0,!0,!0,!0),n.stencilFunc(n.EQUAL,1,1),n.stencilOp(n.KEEP,n.KEEP,n.KEEP)},postRenderWebGL:function(t){var e=t.gl;t.flush(),e.disable(e.STENCIL_TEST)},preRenderCanvas:function(t,e,i){var n=this.geometryMask;t.currentContext.save(),n.renderCanvas(t,n,0,i,null,null,!0),t.currentContext.clip()},postRenderCanvas:function(t){t.currentContext.restore()},destroy:function(){this.geometryMask=null}});t.exports=n},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i={scrollFactorX:1,scrollFactorY:1,setScrollFactor:function(t,e){return void 0===e&&(e=t),this.scrollFactorX=t,this.scrollFactorY=e,this}};t.exports=i},function(t,e){t.exports=function(t){var e={name:t.name,type:t.type,x:t.x,y:t.y,depth:t.depth,scale:{x:t.scaleX,y:t.scaleY},origin:{x:t.originX,y:t.originY},flipX:t.flipX,flipY:t.flipY,rotation:t.rotation,alpha:t.alpha,visible:t.visible,scaleMode:t.scaleMode,blendMode:t.blendMode,textureKey:"",frameKey:"",data:{}};return t.texture&&(e.textureKey=t.texture.key,e.frameKey=t.frame.name),e}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(18),r=i(48),s=i(144),o=i(145),a={_scaleX:1,_scaleY:1,_rotation:0,x:0,y:0,z:0,w:0,scaleX:{get:function(){return this._scaleX},set:function(t){this._scaleX=t,0===this._scaleX?this.renderFlags&=-5:this.renderFlags|=4}},scaleY:{get:function(){return this._scaleY},set:function(t){this._scaleY=t,0===this._scaleY?this.renderFlags&=-5:this.renderFlags|=4}},angle:{get:function(){return o(this._rotation*n.RAD_TO_DEG)},set:function(t){this.rotation=o(t)*n.DEG_TO_RAD}},rotation:{get:function(){return this._rotation},set:function(t){this._rotation=s(t)}},setPosition:function(t,e,i,n){return void 0===t&&(t=0),void 0===e&&(e=t),void 0===i&&(i=0),void 0===n&&(n=0),this.x=t,this.y=e,this.z=i,this.w=n,this},setRandomPosition:function(t,e,i,n){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=this.scene.sys.game.config.width),void 0===n&&(n=this.scene.sys.game.config.height),this.x=t+Math.random()*i,this.y=e+Math.random()*n,this},setRotation:function(t){return void 0===t&&(t=0),this.rotation=t,this},setAngle:function(t){return void 0===t&&(t=0),this.angle=t,this},setScale:function(t,e){return void 0===t&&(t=1),void 0===e&&(e=t),this.scaleX=t,this.scaleY=e,this},setX:function(t){return void 0===t&&(t=0),this.x=t,this},setY:function(t){return void 0===t&&(t=0),this.y=t,this},setZ:function(t){return void 0===t&&(t=0),this.z=t,this},setW:function(t){return void 0===t&&(t=0),this.w=t,this},getLocalTransformMatrix:function(t){return void 0===t&&(t=new r),t.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY)},getWorldTransformMatrix:function(t,e){void 0===t&&(t=new r),void 0===e&&(e=new r);var i=this.parentContainer;if(!i)return this.getLocalTransformMatrix(t);for(t.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY);i;)e.applyITRS(i.x,i.y,i._rotation,i._scaleX,i._scaleY),e.multiply(t,t),i=i.parentContainer;return t}};t.exports=a},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i={_visible:!0,visible:{get:function(){return this._visible},set:function(t){t?(this._visible=!0,this.renderFlags|=1):(this._visible=!1,this.renderFlags&=-2)}},setVisible:function(t){return this.visible=t,this}};t.exports=i},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(101),r=i(5);t.exports=function(t,e,i,s){if(void 0===s&&(s=[]),!e&&!i)return s;e?i=Math.round(n(t)/e):e=n(t)/i;for(var o=t.x,a=t.y,h=0,u=0;u<i;u++)switch(s.push(new r(o,a)),h){case 0:(o+=e)>=t.right&&(h=1,a+=o-t.right,o=t.right);break;case 1:(a+=e)>=t.bottom&&(h=2,o-=a-t.bottom,a=t.bottom);break;case 2:(o-=e)<=t.left&&(h=3,a-=t.left-o,o=t.left);break;case 3:(a-=e)<=t.top&&(h=0,a=t.top)}return s}},function(t,e){t.exports=function(t,e){void 0===e&&(e=1);for(var i=null,n=0;n<e;n++)i=t.shift(),t.push(i);return i}},function(t,e){t.exports=function(t,e){void 0===e&&(e=1);for(var i=null,n=0;n<e;n++)i=t.pop(),t.unshift(i);return i}},function(t,e){t.exports=function(t,e,i){void 0===e&&(e=1),void 0===i&&(i=[]);var n=Math.round(t.x1),r=Math.round(t.y1),s=Math.round(t.x2),o=Math.round(t.y2),a=Math.abs(s-n),h=Math.abs(o-r),u=n<s?1:-1,c=r<o?1:-1,l=a-h;i.push({x:n,y:r});for(var f=1;n!==s||r!==o;){var d=l<<1;d>-h&&(l-=h,n+=u),d<a&&(l+=a,r+=c),f%e==0&&i.push({x:n,y:r}),f++}return i}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(23),r=i(0),s=i(253),o=i(254),a=i(4),h=new r({initialize:function(t,e,i){this.manager=t,this.key=e,this.type="frame",this.frames=this.getFrames(t.textureManager,a(i,"frames",[]),a(i,"defaultTextureKey",null)),this.frameRate=a(i,"frameRate",null),this.duration=a(i,"duration",null),null===this.duration&&null===this.frameRate?(this.frameRate=24,this.duration=this.frameRate/this.frames.length*1e3):this.duration&&null===this.frameRate?this.frameRate=this.frames.length/(this.duration/1e3):this.duration=this.frames.length/this.frameRate*1e3,this.msPerFrame=1e3/this.frameRate,this.skipMissedFrames=a(i,"skipMissedFrames",!0),this.delay=a(i,"delay",0),this.repeat=a(i,"repeat",0),this.repeatDelay=a(i,"repeatDelay",0),this.yoyo=a(i,"yoyo",!1),this.showOnStart=a(i,"showOnStart",!1),this.hideOnComplete=a(i,"hideOnComplete",!1),this.paused=!1,this.manager.on("pauseall",this.pause,this),this.manager.on("resumeall",this.resume,this)},addFrame:function(t){return this.addFrameAt(this.frames.length,t)},addFrameAt:function(t,e){var i=this.getFrames(this.manager.textureManager,e);if(i.length>0){if(0===t)this.frames=i.concat(this.frames);else if(t===this.frames.length)this.frames=this.frames.concat(i);else{var n=this.frames.slice(0,t),r=this.frames.slice(t);this.frames=n.concat(i,r)}this.updateFrameSequence()}return this},checkFrame:function(t){return t>=0&&t<this.frames.length},completeAnimation:function(t){this.hideOnComplete&&(t.parent.visible=!1),t.stop()},getFirstTick:function(t,e){void 0===e&&(e=!0),t.accumulator=0,t.nextTick=t.msPerFrame+t.currentFrame.duration,e&&(t.nextTick+=t._delay)},getFrameAt:function(t){return this.frames[t]},getFrames:function(t,e,i){var n,r,s,h,u=[],c=1;if("string"==typeof e){h=e;var l=t.get(h).getFrameNames();e=[],l.forEach(function(t,i){e.push({key:h,frame:i})})}if(!Array.isArray(e)||0===e.length)return u;for(s=0;s<e.length;s++){var f=e[s],d=a(f,"key",i);if(d){var p=a(f,"frame",0),g=t.getFrame(d,p);(r=new o(d,p,c,g)).duration=a(f,"duration",0),r.isFirst=!n,n&&(n.nextFrame=r,r.prevFrame=n),u.push(r),n=r,c++}}if(u.length>0){r.isLast=!0,r.nextFrame=u[0],u[0].prevFrame=r;var v=1/(u.length-1);for(s=0;s<u.length;s++)u[s].progress=s*v}return u},getNextTick:function(t){t.accumulator-=t.nextTick,t.nextTick=t.msPerFrame+t.currentFrame.duration},load:function(t,e){e>=this.frames.length&&(e=0),t.currentAnim!==this&&(t.currentAnim=this,t.frameRate=this.frameRate,t.duration=this.duration,t.msPerFrame=this.msPerFrame,t.skipMissedFrames=this.skipMissedFrames,t._delay=this.delay,t._repeat=this.repeat,t._repeatDelay=this.repeatDelay,t._yoyo=this.yoyo);var i=this.frames[e];0!==e||t.forward||(i=this.getLastFrame()),t.updateFrame(i)},getFrameByProgress:function(t){return t=n(t,0,1),s(t,this.frames,"progress")},nextFrame:function(t){var e=t.currentFrame;e.isLast?t._yoyo?this._handleYoyoFrame(t,!1):t.repeatCounter>0?t._reverse&&t.forward?t.forward=!1:this.repeatAnimation(t):this.completeAnimation(t):this._updateAndGetNextTick(t,e.nextFrame)},_handleYoyoFrame:function(t,e){if(e||(e=!1),t._reverse===!e&&t.repeatCounter>0)return t.forward=e,void this.repeatAnimation(t);if(t._reverse===e||0!==t.repeatCounter){t.forward=e;var i=e?t.currentFrame.nextFrame:t.currentFrame.prevFrame;this._updateAndGetNextTick(t,i)}else this.completeAnimation(t)},getLastFrame:function(){return this.frames[this.frames.length-1]},previousFrame:function(t){var e=t.currentFrame;e.isFirst?t._yoyo?this._handleYoyoFrame(t,!0):t.repeatCounter>0?t._reverse&&!t.forward?(t.currentFrame=this.getLastFrame(),this.repeatAnimation(t)):(t.forward=!0,this.repeatAnimation(t)):this.completeAnimation(t):this._updateAndGetNextTick(t,e.prevFrame)},_updateAndGetNextTick:function(t,e){t.updateFrame(e),this.getNextTick(t)},removeFrame:function(t){var e=this.frames.indexOf(t);return-1!==e&&this.removeFrameAt(e),this},removeFrameAt:function(t){return this.frames.splice(t,1),this.updateFrameSequence(),this},repeatAnimation:function(t){if(2===t._pendingStop)return this.completeAnimation(t);t._repeatDelay>0&&!1===t.pendingRepeat?(t.pendingRepeat=!0,t.accumulator-=t.nextTick,t.nextTick+=t._repeatDelay):(t.repeatCounter--,t.updateFrame(t.currentFrame[t.forward?"nextFrame":"prevFrame"]),t.isPlaying&&(this.getNextTick(t),t.pendingRepeat=!1,t.parent.emit("animationrepeat",this,t.currentFrame,t.repeatCounter)))},setFrame:function(t){t.forward?this.nextFrame(t):this.previousFrame(t)},toJSON:function(){var t={key:this.key,type:this.type,frames:[],frameRate:this.frameRate,duration:this.duration,skipMissedFrames:this.skipMissedFrames,delay:this.delay,repeat:this.repeat,repeatDelay:this.repeatDelay,yoyo:this.yoyo,showOnStart:this.showOnStart,hideOnComplete:this.hideOnComplete};return this.frames.forEach(function(e){t.frames.push(e.toJSON())}),t},updateFrameSequence:function(){for(var t=this.frames.length,e=1/(t-1),i=0;i<t;i++){var n=this.frames[i];n.index=i+1,n.isFirst=!1,n.isLast=!1,n.progress=i*e,0===i?(n.isFirst=!0,n.isLast=1===t,n.prevFrame=this.frames[t-1],n.nextFrame=this.frames[i+1]):i===t-1?(n.isLast=!0,n.prevFrame=this.frames[t-2],n.nextFrame=this.frames[0]):t>1&&(n.prevFrame=this.frames[i-1],n.nextFrame=this.frames[i+1])}return this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},destroy:function(){this.manager.off("pauseall",this.pause,this),this.manager.off("resumeall",this.resume,this),this.manager.remove(this.key);for(var t=0;t<this.frames.length;t++)this.frames[t].destroy();this.frames=[],this.manager=null}});t.exports=h},function(t,e){t.exports=function(t,e,i){if(!e.length)return NaN;if(1===e.length)return e[0];var n,r,s=1;if(i){if(t<e[0][i])return e[0];for(;e[s][i]<t;)s++}else for(;e[s]<t;)s++;return s>e.length&&(s=e.length),i?(n=e[s-1][i],(r=e[s][i])-t<=t-n?e[s]:e[s-1]):(n=e[s-1],(r=e[s])-t<=t-n?r:n)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=new(i(0))({initialize:function(t,e,i,n){this.textureKey=t,this.textureFrame=e,this.index=i,this.frame=n,this.isFirst=!1,this.isLast=!1,this.prevFrame=null,this.nextFrame=null,this.duration=0,this.progress=0},toJSON:function(){return{key:this.textureKey,frame:this.textureFrame,duration:this.duration}},destroy:function(){this.frame=void 0}});t.exports=n},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(252),r=i(0),s=i(151),o=i(8),a=i(4),h=i(152),u=new r({Extends:o,initialize:function(t){o.call(this),this.game=t,this.textureManager=null,this.globalTimeScale=1,this.anims=new s,this.paused=!1,this.name="AnimationManager",t.events.once("boot",this.boot,this)},boot:function(){this.textureManager=this.game.textures,this.game.events.once("destroy",this.destroy,this)},add:function(t,e){if(!this.anims.has(t))return e.key=t,this.anims.set(t,e),this.emit("add",t,e),this;console.warn("Animation with key",t,"already exists")},create:function(t){var e=t.key;if(e&&!this.anims.has(e)){var i=new n(this,e,t);return this.anims.set(e,i),this.emit("add",e,i),i}console.warn("Invalid Animation Key, or Key already in use: "+e)},fromJSON:function(t,e){void 0===e&&(e=!1),e&&this.anims.clear(),"string"==typeof t&&(t=JSON.parse(t));var i=[];if(t.hasOwnProperty("anims")&&Array.isArray(t.anims)){for(var n=0;n<t.anims.length;n++)i.push(this.create(t.anims[n]));t.hasOwnProperty("globalTimeScale")&&(this.globalTimeScale=t.globalTimeScale)}else t.hasOwnProperty("key")&&"frame"===t.type&&i.push(this.create(t));return i},generateFrameNames:function(t,e){var i=a(e,"prefix",""),n=a(e,"start",0),r=a(e,"end",0),s=a(e,"suffix",""),o=a(e,"zeroPad",0),u=a(e,"outputArray",[]),c=a(e,"frames",!1),l=this.textureManager.get(t);if(!l)return u;var f,d,p=n<r?1:-1;if(r+=p,e)if(Array.isArray(c))for(f=0;f<c.length;f++)d=i+h(c[f],o,"0",1)+s,l.has(d)&&u.push({key:t,frame:d});else for(f=n;f!==r;f+=p)d=i+h(f,o,"0",1)+s,l.has(d)&&u.push({key:t,frame:d});else for(c=l.getFrameNames(),f=0;f<c.length;f++)u.push({key:t,frame:c[f]});return u},generateFrameNumbers:function(t,e){var i,n=a(e,"start",0),r=a(e,"end",-1),s=a(e,"first",!1),o=a(e,"outputArray",[]),h=a(e,"frames",!1),u=this.textureManager.get(t);if(!u)return o;if(s&&u.has(s)&&o.push({key:t,frame:s}),Array.isArray(h))for(i=0;i<h.length;i++)u.has(h[i])&&o.push({key:t,frame:h[i]});else for(-1===r&&(r=u.frameTotal),i=n;i<=r;i++)u.has(i)&&o.push({key:t,frame:i});return o},get:function(t){return this.anims.get(t)},load:function(t,e,i){var n=this.get(e);return n&&n.load(t,i),t},pauseAll:function(){return this.paused||(this.paused=!0,this.emit("pauseall")),this},play:function(t,e){if(Array.isArray(e)||(e=[e]),this.get(t)){for(var i=0;i<e.length;i++)e[i].anims.play(t);return this}},remove:function(t){var e=this.get(t);return e&&(this.emit("remove",t,e),this.anims.delete(t)),e},resumeAll:function(){return this.paused&&(this.paused=!1,this.emit("resumeall")),this},staggerPlay:function(t,e,i){if(void 0===i&&(i=0),Array.isArray(e)||(e=[e]),this.get(t)){for(var n=0;n<e.length;n++)e[n].anims.delayedPlay(i*n,t);return this}},toJSON:function(t){if(void 0!==t&&""!==t)return this.anims.get(t).toJSON();var e={anims:[],globalTimeScale:this.globalTimeScale};return this.anims.each(function(t,i){e.anims.push(i.toJSON())}),e},destroy:function(){this.anims.clear(),this.textureManager=null,this.game=null}});t.exports=u},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(151),s=i(8),o=new n({initialize:function(){this.entries=new r,this.events=new s},add:function(t,e){return this.entries.set(t,e),this.events.emit("add",this,t,e),this},has:function(t){return this.entries.has(t)},exists:function(t){return this.entries.has(t)},get:function(t){return this.entries.get(t)},remove:function(t){var e=this.get(t);return e&&(this.entries.delete(t),this.events.emit("remove",this,t,e.data)),this},destroy:function(){this.entries.clear(),this.events.removeAllListeners(),this.entries=null,this.events=null}});t.exports=o},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(256),r=new(i(0))({initialize:function(t){this.game=t,this.binary=new n,this.bitmapFont=new n,this.json=new n,this.physics=new n,this.shader=new n,this.audio=new n,this.text=new n,this.html=new n,this.obj=new n,this.tilemap=new n,this.xml=new n,this.custom={},this.game.events.once("destroy",this.destroy,this)},addCustom:function(t){return this.custom.hasOwnProperty(t)||(this.custom[t]=new n),this.custom[t]},destroy:function(){for(var t=["binary","bitmapFont","json","physics","shader","audio","text","html","obj","tilemap","xml"],e=0;e<t.length;e++)this[t[e]].destroy(),this[t[e]]=null;for(var i in this.custom)this.custom[i].destroy();this.custom=null,this.game=null}});t.exports=r},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(104),r=i(28),s=i(156),o=i(23),a=i(0),h=i(16),u=i(265),c=i(105),l=i(9),f=i(3),d=new a({Extends:n,Mixins:[h.Flip,h.Tint],initialize:function(t,e,i,r){n.call(this,t,e,i,r),this.inputEnabled=!0,this.fadeEffect=new u.Fade(this),this.flashEffect=new u.Flash(this),this.shakeEffect=new u.Shake(this),this.panEffect=new u.Pan(this),this.zoomEffect=new u.Zoom(this),this.lerp=new f(1,1),this.followOffset=new f,this.deadzone=null,this._follow=null,this.renderToTexture=!1,this.canvas=null,this.context=null,this.glTexture=null,this.framebuffer=null,this.pipeline=null},setRenderToTexture:function(t){var e=this.scene.sys.game.renderer;return e.gl?(this.glTexture=e.createTextureFromSource(null,this.width,this.height,0),this.framebuffer=e.createFramebuffer(this.width,this.height,this.glTexture,!1)):(this.canvas=r.create2D(this,this.width,this.height),this.context=this.canvas.getContext("2d")),this.renderToTexture=!0,t&&(this.pipeline=t),this},setDeadzone:function(t,e){if(void 0===t)this.deadzone=null;else{if(this.deadzone?(this.deadzone.width=t,this.deadzone.height=e):this.deadzone=new l(0,0,t,e),this._follow){var i=this.width/2,n=this.height/2,r=this._follow.x-this.followOffset.x,o=this._follow.y-this.followOffset.y;this.midPoint.set(r,o),this.scrollX=r-i,this.scrollY=o-n}s(this.deadzone,this.midPoint.x,this.midPoint.y)}return this},fadeIn:function(t,e,i,n,r,s){return this.fadeEffect.start(!1,t,e,i,n,!0,r,s)},fadeOut:function(t,e,i,n,r,s){return this.fadeEffect.start(!0,t,e,i,n,!0,r,s)},fadeFrom:function(t,e,i,n,r,s,o){return this.fadeEffect.start(!1,t,e,i,n,r,s,o)},fade:function(t,e,i,n,r,s,o){return this.fadeEffect.start(!0,t,e,i,n,r,s,o)},flash:function(t,e,i,n,r,s,o){return this.flashEffect.start(t,e,i,n,r,s,o)},shake:function(t,e,i,n,r){return this.shakeEffect.start(t,e,i,n,r)},pan:function(t,e,i,n,r,s,o){return this.panEffect.start(t,e,i,n,r,s,o)},zoomTo:function(t,e,i,n,r,s){return this.zoomEffect.start(t,e,i,n,r,s)},preRender:function(t,e){var i=this.width,n=this.height,r=.5*i,o=.5*n,a=this.zoom*t,h=this.matrix,u=i*this.originX,l=n*this.originY,f=this._follow,d=this.deadzone,p=this.scrollX,g=this.scrollY;if(d&&s(d,this.midPoint.x,this.midPoint.y),f){var v=f.x-this.followOffset.x,y=f.y-this.followOffset.y;d?(v<d.x?p=c(p,p-(d.x-v),this.lerp.x):v>d.right&&(p=c(p,p+(v-d.right),this.lerp.x)),y<d.y?g=c(g,g-(d.y-y),this.lerp.y):y>d.bottom&&(g=c(g,g+(y-d.bottom),this.lerp.y))):(p=c(p,v-u,this.lerp.x),g=c(g,y-l,this.lerp.y))}this.useBounds&&(p=this.clampX(p),g=this.clampY(g)),this.roundPixels&&(u=Math.round(u),l=Math.round(l)),this.scrollX=p,this.scrollY=g;var m=p+r,x=g+o;this.midPoint.set(m,x);var b=i/a,w=n/a;this.worldView.setTo(m-b/2,x-w/2,b,w),h.loadIdentity(),h.scale(e,e),h.translate(this.x+u,this.y+l),h.rotate(this.rotation),h.scale(a,a),h.translate(-u,-l),this.shakeEffect.preRender()},setLerp:function(t,e){return void 0===t&&(t=1),void 0===e&&(e=t),this.lerp.set(t,e),this},setFollowOffset:function(t,e){return void 0===t&&(t=0),void 0===e&&(e=0),this.followOffset.set(t,e),this},startFollow:function(t,e,i,n,r,s){void 0===e&&(e=!1),void 0===i&&(i=1),void 0===n&&(n=i),void 0===r&&(r=0),void 0===s&&(s=r),this._follow=t,this.roundPixels=e,i=o(i,0,1),n=o(n,0,1),this.lerp.set(i,n),this.followOffset.set(r,s);var a=this.width/2,h=this.height/2,u=t.x-r,c=t.y-s;return this.midPoint.set(u,c),this.scrollX=u-a,this.scrollY=c-h,this},stopFollow:function(){return this._follow=null,this},resetFX:function(){return this.panEffect.reset(),this.shakeEffect.reset(),this.flashEffect.reset(),this.fadeEffect.reset(),this},update:function(t,e){this.visible&&(this.panEffect.update(t,e),this.zoomEffect.update(t,e),this.shakeEffect.update(t,e),this.flashEffect.update(t,e),this.fadeEffect.update(t,e))},destroy:function(){n.prototype.destroy.call(this),this.resetFX(),this._follow=null,this.deadzone=null}});t.exports=d},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(51);t.exports=function(t){var e=new n;t=t.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,function(t,e,i,n){return e+e+i+i+n+n});var i=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);if(i){var r=parseInt(i[1],16),s=parseInt(i[2],16),o=parseInt(i[3],16);e.setTo(r,s,o)}return e}},function(t,e){t.exports=function(t,e,i,n){return n<<24|t<<16|e<<8|i}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(51),r=i(262);t.exports=function(t){var e=r(t);return new n(e.r,e.g,e.b,e.a)}},function(t,e){t.exports=function(t){return t>16777215?{a:t>>>24,r:t>>16&255,g:t>>8&255,b:255&t}:{a:255,r:t>>16&255,g:t>>8&255,b:255&t}}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(51);t.exports=function(t){return new n(t.r,t.g,t.b,t.a)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(51);t.exports=function(t){var e=new n,i=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(t.toLowerCase());if(i){var r=parseInt(i[1],10),s=parseInt(i[2],10),o=parseInt(i[3],10),a=void 0!==i[4]?parseFloat(i[4]):1;e.setTo(r,s,o,255*a)}return e}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={Fade:i(528),Flash:i(529),Pan:i(530),Shake:i(563),Zoom:i(564)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={In:i(531),Out:i(532),InOut:i(533)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={In:i(534),Out:i(535),InOut:i(536)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={In:i(537),Out:i(538),InOut:i(539)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={In:i(540),Out:i(541),InOut:i(542)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={In:i(543),Out:i(544),InOut:i(545)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={In:i(546),Out:i(547),InOut:i(548)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports=i(549)},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={In:i(550),Out:i(551),InOut:i(552)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={In:i(553),Out:i(554),InOut:i(555)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={In:i(556),Out:i(557),InOut:i(558)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={In:i(559),Out:i(560),InOut:i(561)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports=i(562)},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(279),r=i(28),s=i(4);t.exports=function(t){var e=s(t,"data",[]),i=s(t,"canvas",null),o=s(t,"palette",n),a=s(t,"pixelWidth",1),h=s(t,"pixelHeight",a),u=s(t,"resizeCanvas",!0),c=s(t,"clearCanvas",!0),l=s(t,"preRender",null),f=s(t,"postRender",null),d=Math.floor(Math.abs(e[0].length*a)),p=Math.floor(Math.abs(e.length*h));i||(i=r.create2D(this,d,p),u=!1,c=!1),u&&(i.width=d,i.height=p);var g=i.getContext("2d");c&&g.clearRect(0,0,d,p),l&&l(i,g);for(var v=0;v<e.length;v++)for(var y=e[v],m=0;m<y.length;m++){var x=y[m];"."!==x&&" "!==x&&(g.fillStyle=o[x],g.fillRect(m*a,v*h,a,h))}return f&&f(i,g),i}},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(281),s=i(72),o=i(3),a=new n({Extends:s,initialize:function(t,e,i,n){s.call(this,"CubicBezierCurve"),Array.isArray(t)&&(n=new o(t[6],t[7]),i=new o(t[4],t[5]),e=new o(t[2],t[3]),t=new o(t[0],t[1])),this.p0=t,this.p1=e,this.p2=i,this.p3=n},getStartPoint:function(t){return void 0===t&&(t=new o),t.copy(this.p0)},getResolution:function(t){return t},getPoint:function(t,e){void 0===e&&(e=new o);var i=this.p0,n=this.p1,s=this.p2,a=this.p3;return e.set(r(t,i.x,n.x,s.x,a.x),r(t,i.y,n.y,s.y,a.y))},draw:function(t,e){void 0===e&&(e=32);var i=this.getPoints(e);t.beginPath(),t.moveTo(this.p0.x,this.p0.y);for(var n=1;n<i.length;n++)t.lineTo(i[n].x,i[n].y);return t.strokePath(),t},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y,this.p3.x,this.p3.y]}}});a.fromJSON=function(t){var e=t.points,i=new o(e[0],e[1]),n=new o(e[2],e[3]),r=new o(e[4],e[5]),s=new o(e[6],e[7]);return new a(i,n,r,s)},t.exports=a},function(t,e){t.exports=function(t,e,i,n,r){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
return function(t,e){var i=1-t;return i*i*i*e}(t,e)+function(t,e){var i=1-t;return 3*i*i*t*e}(t,i)+function(t,e){return 3*(1-t)*t*t*e}(t,n)+function(t,e){return t*t*t*e}(t,r)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(72),s=i(50),o=i(4),a=i(159),h=i(3),u=new n({Extends:r,initialize:function(t,e,i,n,a,u,c,l){if("object"==typeof t){var f=t;t=o(f,"x",0),e=o(f,"y",0),i=o(f,"xRadius",0),n=o(f,"yRadius",i),a=o(f,"startAngle",0),u=o(f,"endAngle",360),c=o(f,"clockwise",!1),l=o(f,"rotation",0)}else void 0===n&&(n=i),void 0===a&&(a=0),void 0===u&&(u=360),void 0===c&&(c=!1),void 0===l&&(l=0);r.call(this,"EllipseCurve"),this.p0=new h(t,e),this._xRadius=i,this._yRadius=n,this._startAngle=s(a),this._endAngle=s(u),this._clockwise=c,this._rotation=s(l)},getStartPoint:function(t){return void 0===t&&(t=new h),this.getPoint(0,t)},getResolution:function(t){return 2*t},getPoint:function(t,e){void 0===e&&(e=new h);for(var i=2*Math.PI,n=this._endAngle-this._startAngle,r=Math.abs(n)<Number.EPSILON;n<0;)n+=i;for(;n>i;)n-=i;n<Number.EPSILON&&(n=r?0:i),this._clockwise&&!r&&(n===i?n=-i:n-=i);var s=this._startAngle+t*n,o=this.p0.x+this._xRadius*Math.cos(s),a=this.p0.y+this._yRadius*Math.sin(s);if(0!==this._rotation){var u=Math.cos(this._rotation),c=Math.sin(this._rotation),l=o-this.p0.x,f=a-this.p0.y;o=l*u-f*c+this.p0.x,a=l*c+f*u+this.p0.y}return e.set(o,a)},setXRadius:function(t){return this.xRadius=t,this},setYRadius:function(t){return this.yRadius=t,this},setWidth:function(t){return this.xRadius=2*t,this},setHeight:function(t){return this.yRadius=2*t,this},setStartAngle:function(t){return this.startAngle=t,this},setEndAngle:function(t){return this.endAngle=t,this},setClockwise:function(t){return this.clockwise=t,this},setRotation:function(t){return this.rotation=t,this},x:{get:function(){return this.p0.x},set:function(t){this.p0.x=t}},y:{get:function(){return this.p0.y},set:function(t){this.p0.y=t}},xRadius:{get:function(){return this._xRadius},set:function(t){this._xRadius=t}},yRadius:{get:function(){return this._yRadius},set:function(t){this._yRadius=t}},startAngle:{get:function(){return a(this._startAngle)},set:function(t){this._startAngle=s(t)}},endAngle:{get:function(){return a(this._endAngle)},set:function(t){this._endAngle=s(t)}},clockwise:{get:function(){return this._clockwise},set:function(t){this._clockwise=t}},rotation:{get:function(){return this._rotation},set:function(t){this._rotation=s(t)}},toJSON:function(){return{type:this.type,x:this.p0.x,y:this.p0.y,xRadius:this._xRadius,yRadius:this._yRadius,startAngle:a(this._startAngle),endAngle:a(this._endAngle),clockwise:this._clockwise,rotation:a(this._rotation)}}});u.fromJSON=function(t){return new u(t)},t.exports=u},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(72),s=i(158),o=i(9),a=i(3),h=new a,u=new n({Extends:r,initialize:function(t,e){r.call(this,"LineCurve"),Array.isArray(t)&&(e=new a(t[2],t[3]),t=new a(t[0],t[1])),this.p0=t,this.p1=e},getBounds:function(t){return void 0===t&&(t=new o),s([this.p0,this.p1],t)},getStartPoint:function(t){return void 0===t&&(t=new a),t.copy(this.p0)},getResolution:function(t){return void 0===t&&(t=1),t},getPoint:function(t,e){return void 0===e&&(e=new a),1===t?e.copy(this.p1):(e.copy(this.p1).subtract(this.p0).scale(t).add(this.p0),e)},getPointAt:function(t,e){return this.getPoint(t,e)},getTangent:function(){return h.copy(this.p1).subtract(this.p0).normalize()},draw:function(t){return t.lineBetween(this.p0.x,this.p0.y,this.p1.x,this.p1.y),t},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y]}}});u.fromJSON=function(t){var e=t.points,i=new a(e[0],e[1]),n=new a(e[2],e[3]);return new u(i,n)},t.exports=u},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(72),s=i(285),o=i(3),a=new n({Extends:r,initialize:function(t,e,i){r.call(this,"QuadraticBezier"),Array.isArray(t)&&(i=new o(t[4],t[5]),e=new o(t[2],t[3]),t=new o(t[0],t[1])),this.p0=t,this.p1=e,this.p2=i},getStartPoint:function(t){return void 0===t&&(t=new o),t.copy(this.p0)},getResolution:function(t){return t},getPoint:function(t,e){void 0===e&&(e=new o);var i=this.p0,n=this.p1,r=this.p2;return e.set(s(t,i.x,n.x,r.x),s(t,i.y,n.y,r.y))},draw:function(t,e){void 0===e&&(e=32);var i=this.getPoints(e);t.beginPath(),t.moveTo(this.p0.x,this.p0.y);for(var n=1;n<i.length;n++)t.lineTo(i[n].x,i[n].y);return t.strokePath(),t},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y]}}});a.fromJSON=function(t){var e=t.points,i=new o(e[0],e[1]),n=new o(e[2],e[3]),r=new o(e[4],e[5]);return new a(i,n,r)},t.exports=a},function(t,e){t.exports=function(t,e,i,n){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
return function(t,e){var i=1-t;return i*i*e}(t,e)+function(t,e){return 2*(1-t)*t*e}(t,i)+function(t,e){return t*t*e}(t,n)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(160),r=i(0),s=i(72),o=i(3),a=new r({Extends:s,initialize:function(t){void 0===t&&(t=[]),s.call(this,"SplineCurve"),this.points=[],this.addPoints(t)},addPoints:function(t){for(var e=0;e<t.length;e++){var i=new o;"number"==typeof t[e]?(i.x=t[e],i.y=t[e+1],e++):Array.isArray(t[e])?(i.x=t[e][0],i.y=t[e][1]):(i.x=t[e].x,i.y=t[e].y),this.points.push(i)}return this},addPoint:function(t,e){var i=new o(t,e);return this.points.push(i),i},getStartPoint:function(t){return void 0===t&&(t=new o),t.copy(this.points[0])},getResolution:function(t){return t*this.points.length},getPoint:function(t,e){void 0===e&&(e=new o);var i=this.points,r=(i.length-1)*t,s=Math.floor(r),a=r-s,h=i[0===s?s:s-1],u=i[s],c=i[s>i.length-2?i.length-1:s+1],l=i[s>i.length-3?i.length-1:s+2];return e.set(n(a,h.x,u.x,c.x,l.x),n(a,h.y,u.y,c.y,l.y))},toJSON:function(){for(var t=[],e=0;e<this.points.length;e++)t.push(this.points[e].x),t.push(this.points[e].y);return{type:this.type,points:t}}});a.fromJSON=function(t){return new a(t.points)},t.exports=a},function(t,e){t.exports={setCrisp:function(t){return["optimizeSpeed","crisp-edges","-moz-crisp-edges","-webkit-optimize-contrast","optimize-contrast","pixelated"].forEach(function(e){t.style["image-rendering"]=e}),t.style.msInterpolationMode="nearest-neighbor",t},setBicubic:function(t){return t.style["image-rendering"]="auto",t.style.msInterpolationMode="bicubic",t}}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(51);n.ColorToRGBA=i(599),n.ComponentToHex=i(289),n.GetColor=i(154),n.GetColor32=i(260),n.HexStringToColor=i(259),n.HSLToColor=i(600),n.HSVColorWheel=i(601),n.HSVToRGB=i(291),n.HueToComponent=i(290),n.IntegerToColor=i(261),n.IntegerToRGB=i(262),n.Interpolate=i(602),n.ObjectToColor=i(263),n.RandomRGB=i(603),n.RGBStringToColor=i(264),n.RGBToHSV=i(604),n.RGBToString=i(605),n.ValueToColor=i(153),t.exports=n},function(t,e){t.exports=function(t){var e=t.toString(16);return 1===e.length?"0"+e:e}},function(t,e){t.exports=function(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(154);t.exports=function(t,e,i){void 0===e&&(e=1),void 0===i&&(i=1);var r=Math.floor(6*t),s=6*t-r,o=Math.floor(i*(1-e)*255),a=Math.floor(i*(1-s*e)*255),h=Math.floor(i*(1-(1-s)*e)*255),u={r:i=Math.floor(i*=255),g:i,b:i,color:0},c=r%6;return 0===c?(u.g=h,u.b=o):1===c?(u.r=a,u.b=o):2===c?(u.r=o,u.b=h):3===c?(u.r=o,u.g=a):4===c?(u.r=h,u.g=o):5===c&&(u.g=o,u.b=a),u.color=n(u.r,u.g,u.b),u}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(87);t.exports=function(t){if("complete"!==document.readyState&&"interactive"!==document.readyState){var e=function(){document.removeEventListener("deviceready",e,!0),document.removeEventListener("DOMContentLoaded",e,!0),window.removeEventListener("load",e,!0),t()};document.body?n.cordova&&!n.cocoonJS?document.addEventListener("deviceready",e,!1):(document.addEventListener("DOMContentLoaded",e,!0),window.addEventListener("load",e,!0)):window.setTimeout(e,20)}else t()}},function(t,e){var i,n,r=t.exports={};function s(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(t){if(i===setTimeout)return setTimeout(t,0);if((i===s||!i)&&setTimeout)return i=setTimeout,setTimeout(t,0);try{return i(t,0)}catch(e){try{return i.call(null,t,0)}catch(e){return i.call(this,t,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:s}catch(t){i=s}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(t){n=o}}();var h,u=[],c=!1,l=-1;function f(){c&&h&&(c=!1,h.length?u=h.concat(u):l=-1,u.length&&d())}function d(){if(!c){var t=a(f);c=!0;for(var e=u.length;e;){for(h=u,u=[];++l<e;)h&&h[l].run();l=-1,e=u.length}h=null,c=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function g(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];u.push(new p(t,e)),1!==u.length||c||a(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=g,r.addListener=g,r.once=g,r.off=g,r.removeListener=g,r.removeAllListeners=g,r.emit=g,r.prependListener=g,r.prependOnceListener=g,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(t,e){t.exports=function(t){var e="";try{window.DOMParser?e=(new DOMParser).parseFromString(t,"text/xml"):(e=new ActiveXObject("Microsoft.XMLDOM")).loadXML(t)}catch(t){e=null}return e&&e.documentElement&&!e.getElementsByTagName("parsererror").length?e:null}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(2),s=new n({initialize:function(){this.isRunning=!1,this.callback=r,this.tick=0,this.isSetTimeOut=!1,this.timeOutID=null,this.lastTime=0;var t=this;this.step=function e(i){t.lastTime=t.tick,t.tick=i,t.callback(i),t.timeOutID=window.requestAnimationFrame(e)},this.stepTimeout=function e(){var i=Date.now(),n=Math.max(16+t.lastTime-i,0);t.lastTime=t.tick,t.tick=i,t.callback(i),t.timeOutID=window.setTimeout(e,n)}},start:function(t,e){this.isRunning||(this.callback=t,this.isSetTimeOut=e,this.isRunning=!0,this.timeOutID=e?window.setTimeout(this.stepTimeout,0):window.requestAnimationFrame(this.step))},stop:function(){this.isRunning=!1,this.isSetTimeOut?clearTimeout(this.timeOutID):window.cancelAnimationFrame(this.timeOutID)},destroy:function(){this.stop(),this.callback=r}});t.exports=s},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={os:i(87),browser:i(107),features:i(163),input:i(612),audio:i(613),video:i(614),fullscreen:i(615),canvasFeatures:i(297)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n,r,s,o=i(28),a={supportInverseAlpha:!1,supportNewBlendModes:!1};t.exports=(void 0!==document&&(a.supportNewBlendModes=(n="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",r="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",(s=new Image).onload=function(){var t=new Image;t.onload=function(){var e=o.create(t,6,1).getContext("2d");if(e.globalCompositeOperation="multiply",e.drawImage(s,0,0),e.drawImage(t,2,0),!e.getImageData(2,0,1,1))return!1;var i=e.getImageData(2,0,1,1).data;o.remove(t),a.supportNewBlendModes=255===i[0]&&0===i[1]&&0===i[2]},t.src=n+"/wCKxvRF"+r},s.src=n+"AP804Oa6"+r,!1),a.supportInverseAlpha=function(){var t=o.create(this,2,1).getContext("2d");t.fillStyle="rgba(10, 20, 30, 0.5)",t.fillRect(0,0,1,1);var e=t.getImageData(0,0,1,1);if(null===e)return!1;t.putImageData(e,1,0);var i=t.getImageData(1,0,1,1);return i.data[0]===e.data[0]&&i.data[1]===e.data[1]&&i.data[2]===e.data[2]&&i.data[3]===e.data[3]}()),a)},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(299),r=i(0),s=i(26),o=i(300),a=i(83),h=i(155),u=i(48),c=new r({initialize:function(t){this.game=t,this.type=s.CANVAS,this.drawCount=0,this.width=t.config.width,this.height=t.config.height,this.config={clearBeforeRender:t.config.clearBeforeRender,backgroundColor:t.config.backgroundColor,resolution:t.config.resolution,autoResize:t.config.autoResize,antialias:t.config.antialias,roundPixels:t.config.roundPixels},this.scaleMode=t.config.antialias?a.LINEAR:a.NEAREST,this.gameCanvas=t.canvas,this.gameContext=this.game.config.context?this.game.config.context:this.gameCanvas.getContext("2d"),this.currentContext=this.gameContext,this.blendModes=o(),this.currentScaleMode=0,this.snapshotCallback=null,this.snapshotType=null,this.snapshotEncoder=null,this._tempMatrix1=new u,this._tempMatrix2=new u,this._tempMatrix3=new u,this._tempMatrix4=new u,this.init()},init:function(){this.resize(this.width,this.height)},resize:function(t,e){var i=this.config.resolution;this.width=t*i,this.height=e*i,this.gameCanvas.width=this.width,this.gameCanvas.height=this.height,this.config.autoResize&&(this.gameCanvas.style.width=this.width/i+"px",this.gameCanvas.style.height=this.height/i+"px"),this.scaleMode===a.NEAREST&&h.disable(this.gameContext)},onContextLost:function(){},onContextRestored:function(){},resetTransform:function(){this.currentContext.setTransform(1,0,0,1,0,0)},setBlendMode:function(t){return this.currentContext.globalCompositeOperation=t,this},setContext:function(t){return this.currentContext=t||this.gameContext,this},setAlpha:function(t){return this.currentContext.globalAlpha=t,this},preRender:function(){var t=this.gameContext,e=this.config,i=this.width,n=this.height;e.clearBeforeRender&&t.clearRect(0,0,i,n),e.transparent||(t.fillStyle=e.backgroundColor.rgba,t.fillRect(0,0,i,n)),this.drawCount=0},render:function(t,e,i,n){var r=e.list,s=r.length,o=n._cx,a=n._cy,h=n._cw,u=n._ch,c=t.sys.context,l=0!==o||0!==a||h!==c.canvas.width||u!==c.canvas.height;this.currentContext=c,n.transparent||(c.fillStyle=n.backgroundColor.rgba,c.fillRect(o,a,h,u)),c.globalAlpha=n.alpha,c.globalCompositeOperation="source-over",this.drawCount+=r.length,l&&(c.save(),c.beginPath(),c.rect(o,a,h,u),c.clip()),n.matrix.copyToContext(c);for(var f=0;f<s;f++){var d=r[f];d.willRender(n)&&(d.mask&&d.mask.preRenderCanvas(this,d,n),d.renderCanvas(this,d,i,n),d.mask&&d.mask.postRenderCanvas(this,d,n))}c.setTransform(1,0,0,1,0,0),c.globalCompositeOperation="source-over",c.globalAlpha=1,n.flashEffect.postRenderCanvas(c),n.fadeEffect.postRenderCanvas(c),n.dirty=!1,l&&c.restore()},postRender:function(){var t=this.gameContext;t.globalAlpha=1,t.globalCompositeOperation="source-over",this.snapshotCallback&&(this.snapshotCallback(n(this.gameCanvas,this.snapshotType,this.snapshotEncoder)),this.snapshotCallback=null)},snapshot:function(t,e,i){this.snapshotCallback=t,this.snapshotType=e,this.snapshotEncoder=i},batchSprite:function(t,e,i,n){var r=i.alpha*t.alpha;if(0!==r){var s=this.currentContext,o=this._tempMatrix1,a=this._tempMatrix2,h=this._tempMatrix3,u=e.canvasData,c=u.x,l=u.y,f=e.width,d=e.height,p=e.source.resolution,g=-t.displayOriginX+e.x,v=-t.displayOriginY+e.y,y=t.flipX?-1:1,m=t.flipY?-1:1;if(t.isCropped){var x=t._crop;x.flipX===t.flipX&&x.flipY===t.flipY||e.updateCropUVs(x,t.flipX,t.flipY),f=x.cw,d=x.ch,c=x.cx,l=x.cy,g=-t.displayOriginX+x.x,v=-t.displayOriginY+x.y,-1===y&&(g>=0?g=-(g+f):g<0&&(g=Math.abs(g)-f)),-1===m&&(v>=0?v=-(v+d):v<0&&(v=Math.abs(v)-d))}a.applyITRS(t.x,t.y,t.rotation,t.scaleX,t.scaleY),o.copyFrom(i.matrix),n?(o.multiplyWithOffset(n,-i.scrollX*t.scrollFactorX,-i.scrollY*t.scrollFactorY),a.e=t.x,a.f=t.y,o.multiply(a,h)):(a.e-=i.scrollX*t.scrollFactorX,a.f-=i.scrollY*t.scrollFactorY,o.multiply(a,h)),s.save(),h.setToContext(s),s.scale(y,m),s.globalCompositeOperation=this.blendModes[t.blendMode],s.globalAlpha=r,s.drawImage(e.source.image,c,l,f,d,g,v,f/p,d/p),s.restore()}},destroy:function(){this.gameCanvas=null,this.gameContext=null,this.game=null}});t.exports=c},function(t,e){t.exports=function(t,e,i){void 0===e&&(e="image/png"),void 0===i&&(i=.92);var n=t.toDataURL(e,i),r=new Image;return r.src=n,r}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(56),r=i(297);t.exports=function(){var t=[],e=r.supportNewBlendModes,i="source-over";return t[n.NORMAL]=i,t[n.ADD]="lighter",t[n.MULTIPLY]=e?"multiply":i,t[n.SCREEN]=e?"screen":i,t[n.OVERLAY]=e?"overlay":i,t[n.DARKEN]=e?"darken":i,t[n.LIGHTEN]=e?"lighten":i,t[n.COLOR_DODGE]=e?"color-dodge":i,t[n.COLOR_BURN]=e?"color-burn":i,t[n.HARD_LIGHT]=e?"hard-light":i,t[n.SOFT_LIGHT]=e?"soft-light":i,t[n.DIFFERENCE]=e?"difference":i,t[n.EXCLUSION]=e?"exclusion":i,t[n.HUE]=e?"hue":i,t[n.SATURATION]=e?"saturation":i,t[n.COLOR]=e?"color":i,t[n.LUMINOSITY]=e?"luminosity":i,t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(104),r=i(0),s=i(26),o=i(108),a=i(88),h=i(48),u=i(19),c=i(302),l=i(303),f=i(166),d=i(167),p=new r({initialize:function(t){var e=this,i=t.config,r={alpha:i.transparent,depth:!1,antialias:i.antialias,premultipliedAlpha:i.premultipliedAlpha,stencil:!0,preserveDrawingBuffer:i.preserveDrawingBuffer,failIfMajorPerformanceCaveat:i.failIfMajorPerformanceCaveat,powerPreference:i.powerPreference};this.config={clearBeforeRender:i.clearBeforeRender,antialias:i.antialias,backgroundColor:i.backgroundColor,contextCreation:r,resolution:i.resolution,autoResize:i.autoResize,roundPixels:i.roundPixels,maxTextures:i.maxTextures,maxTextureSize:i.maxTextureSize,batchSize:i.batchSize},this.game=t,this.type=s.WEBGL,this.width=t.config.width,this.height=t.config.height,this.canvas=t.canvas,this.lostContextCallbacks=[],this.restoredContextCallbacks=[],this.blendModes=[],this.nativeTextures=[],this.contextLost=!1,this.pipelines=null,this.snapshotState={callback:null,type:null,encoder:null},this.currentActiveTextureUnit=0,this.currentTextures=new Array(16),this.currentFramebuffer=null,this.currentPipeline=null,this.currentProgram=null,this.currentVertexBuffer=null,this.currentIndexBuffer=null,this.currentBlendMode=1/0,this.currentScissorEnabled=!1,this.currentScissor=null,this.scissorStack=[],this.canvas.addEventListener("webglcontextlost",function(t){e.contextLost=!0,t.preventDefault();for(var i=0;i<e.lostContextCallbacks.length;++i){var n=e.lostContextCallbacks[i];n[0].call(n[1],e)}},!1),this.canvas.addEventListener("webglcontextrestored",function(){e.contextLost=!1,e.init(e.config);for(var t=0;t<e.restoredContextCallbacks.length;++t){var i=e.restoredContextCallbacks[t];i[0].call(i[1],e)}},!1),this.gl=null,this.supportedExtensions=null,this.extensions={},this.glFormats=[],this.compression={ETC1:!1,PVRTC:!1,S3TC:!1},this.drawingBufferHeight=0,this.blankTexture=null,this.defaultCamera=new n(0,0,0,0),this._tempMatrix1=new h,this._tempMatrix2=new h,this._tempMatrix3=new h,this._tempMatrix4=new h,this.init(this.config)},init:function(t){var e,i=this.canvas,n=t.backgroundColor;if(!(e=this.game.config.context?this.game.config.context:i.getContext("webgl",t.contextCreation)||i.getContext("experimental-webgl",t.contextCreation))||e.isContextLost())throw this.contextLost=!0,new Error("WebGL unsupported");this.gl=e,this.game.context=e;for(var r=0;r<=16;r++)this.blendModes.push({func:[e.ONE,e.ONE_MINUS_SRC_ALPHA],equation:e.FUNC_ADD});this.blendModes[1].func=[e.ONE,e.DST_ALPHA],this.blendModes[2].func=[e.DST_COLOR,e.ONE_MINUS_SRC_ALPHA],this.blendModes[3].func=[e.ONE,e.ONE_MINUS_SRC_COLOR],this.glFormats[0]=e.BYTE,this.glFormats[1]=e.SHORT,this.glFormats[2]=e.UNSIGNED_BYTE,this.glFormats[3]=e.UNSIGNED_SHORT,this.glFormats[4]=e.FLOAT;var o=e.getSupportedExtensions();t.maxTextures||(t.maxTextures=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS)),t.maxTextureSize||(t.maxTextureSize=e.getParameter(e.MAX_TEXTURE_SIZE));var a="WEBGL_compressed_texture_",h="WEBKIT_"+a;this.compression.ETC1=e.getExtension(a+"etc1")||e.getExtension(h+"etc1"),this.compression.PVRTC=e.getExtension(a+"pvrtc")||e.getExtension(h+"pvrtc"),this.compression.S3TC=e.getExtension(a+"s3tc")||e.getExtension(h+"s3tc"),this.supportedExtensions=o,e.disable(e.DEPTH_TEST),e.disable(e.CULL_FACE),e.enable(e.BLEND),e.clearColor(n.redGL,n.greenGL,n.blueGL,1);for(var u=0;u<this.currentTextures.length;++u)this.currentTextures[u]=null;return this.pipelines={},this.addPipeline("TextureTintPipeline",new d({game:this.game,renderer:this})),this.addPipeline("BitmapMaskPipeline",new l({game:this.game,renderer:this})),this.addPipeline("Light2D",new f({game:this.game,renderer:this})),this.setBlendMode(s.BlendModes.NORMAL),this.resize(this.width,this.height),this.game.events.once("texturesready",this.boot,this),this},boot:function(){for(var t in this.pipelines)this.pipelines[t].boot();var e=this.game.textures.getFrame("__DEFAULT");this.pipelines.TextureTintPipeline.currentFrame=e,this.blankTexture=e},resize:function(t,e){var i=this.gl,n=this.pipelines,r=this.config.resolution;for(var s in this.width=Math.floor(t*r),this.height=Math.floor(e*r),this.canvas.width=this.width,this.canvas.height=this.height,this.config.autoResize&&(this.canvas.style.width=this.width/r+"px",this.canvas.style.height=this.height/r+"px"),i.viewport(0,0,this.width,this.height),n)n[s].resize(t,e,r);return this.drawingBufferHeight=i.drawingBufferHeight,this.defaultCamera.setSize(t,e),this},onContextRestored:function(t,e){return this.restoredContextCallbacks.push([t,e]),this},onContextLost:function(t,e){return this.lostContextCallbacks.push([t,e]),this},hasExtension:function(t){return!!this.supportedExtensions&&this.supportedExtensions.indexOf(t)},getExtension:function(t){return this.hasExtension(t)?(t in this.extensions||(this.extensions[t]=this.gl.getExtension(t)),this.extensions[t]):null},flush:function(){this.currentPipeline&&this.currentPipeline.flush()},hasPipeline:function(t){return t in this.pipelines},getPipeline:function(t){return this.hasPipeline(t)?this.pipelines[t]:null},removePipeline:function(t){return delete this.pipelines[t],this},addPipeline:function(t,e){return this.hasPipeline(t)?console.warn("Pipeline",t," already exists."):this.pipelines[t]=e,e.name=t,this.pipelines[t].resize(this.width,this.height,this.config.resolution),e},pushScissor:function(t,e,i,n){var r=[t,e,i,n];return this.scissorStack.push(r),this.setScissor(t,e,i,n),this.currentScissor=r,r},setScissor:function(t,e,i,n){var r=this.gl,s=this.currentScissor,o=s[0],a=s[1],h=s[2],u=s[3];o===t&&a===e&&h===i&&u===n||(this.flush(),i>0&&n>0&&r.scissor(t,this.drawingBufferHeight-e-n,i,n))},popScissor:function(){var t=this.scissorStack.pop();this.setScissor(t[0],t[1],t[2],t[3]),this.currentScissor=t},setPipeline:function(t,e){return this.currentPipeline===t&&this.currentPipeline.vertexBuffer===this.currentVertexBuffer&&this.currentPipeline.program===this.currentProgram||(this.flush(),this.currentPipeline=t,this.currentPipeline.bind()),this.currentPipeline.onBind(e),this.currentPipeline},setBlendMode:function(t){var e=this.gl,i=this.blendModes[t];return t!==s.BlendModes.SKIP_CHECK&&this.currentBlendMode!==t&&(this.flush(),e.enable(e.BLEND),e.blendEquation(i.equation),i.func.length>2?e.blendFuncSeparate(i.func[0],i.func[1],i.func[2],i.func[3]):e.blendFunc(i.func[0],i.func[1]),this.currentBlendMode=t,!0)},addBlendMode:function(t,e){return this.blendModes.push({func:t,equation:e})-1},updateBlendMode:function(t,e,i){return this.blendModes[t]&&(this.blendModes[t].func=e,i&&(this.blendModes[t].equation=i)),this},removeBlendMode:function(t){return t>16&&this.blendModes[t]&&this.blendModes.splice(t,1),this},setBlankTexture:function(t){void 0===t&&(t=!1),!t&&0===this.currentActiveTextureUnit&&this.currentTextures[0]||this.setTexture2D(this.blankTexture.glTexture,0)},setTexture2D:function(t,e){var i=this.gl;return t!==this.currentTextures[e]&&(this.flush(),this.currentActiveTextureUnit!==e&&(i.activeTexture(i.TEXTURE0+e),this.currentActiveTextureUnit=e),i.bindTexture(i.TEXTURE_2D,t),this.currentTextures[e]=t),this},setFramebuffer:function(t){var e=this.gl,i=this.width,n=this.height;return t!==this.currentFramebuffer&&(t&&t.renderTexture?(i=t.renderTexture.width,n=t.renderTexture.height):this.flush(),e.bindFramebuffer(e.FRAMEBUFFER,t),e.viewport(0,0,i,n),this.currentFramebuffer=t),this},setProgram:function(t){var e=this.gl;return t!==this.currentProgram&&(this.flush(),e.useProgram(t),this.currentProgram=t),this},setVertexBuffer:function(t){var e=this.gl;return t!==this.currentVertexBuffer&&(this.flush(),e.bindBuffer(e.ARRAY_BUFFER,t),this.currentVertexBuffer=t),this},setIndexBuffer:function(t){var e=this.gl;return t!==this.currentIndexBuffer&&(this.flush(),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t),this.currentIndexBuffer=t),this},createTextureFromSource:function(t,e,i,n){var r=this.gl,a=r.NEAREST,h=r.CLAMP_TO_EDGE;return e=t?t.width:e,i=t?t.height:i,o(e,i)&&(h=r.REPEAT),n===s.ScaleModes.LINEAR&&this.config.antialias&&(a=r.LINEAR),t||"number"!=typeof e||"number"!=typeof i?this.createTexture2D(0,a,a,h,h,r.RGBA,t):this.createTexture2D(0,a,a,h,h,r.RGBA,null,e,i)},createTexture2D:function(t,e,i,n,r,s,o,a,h,u){var c=this.gl,l=c.createTexture();return u=null==u||u,this.setTexture2D(l,0),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,e),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,i),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,r),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,n),c.pixelStorei(c.UNPACK_PREMULTIPLY_ALPHA_WEBGL,u),null==o?c.texImage2D(c.TEXTURE_2D,t,s,a,h,0,s,c.UNSIGNED_BYTE,null):(c.texImage2D(c.TEXTURE_2D,t,s,s,c.UNSIGNED_BYTE,o),a=o.width,h=o.height),this.setTexture2D(null,0),l.isAlphaPremultiplied=u,l.isRenderTexture=!1,l.width=a,l.height=h,this.nativeTextures.push(l),l},createFramebuffer:function(t,e,i,n){var r,s=this.gl,o=s.createFramebuffer();if(this.setFramebuffer(o),n){var a=s.createRenderbuffer();s.bindRenderbuffer(s.RENDERBUFFER,a),s.renderbufferStorage(s.RENDERBUFFER,s.DEPTH_STENCIL,t,e),s.framebufferRenderbuffer(s.FRAMEBUFFER,s.DEPTH_STENCIL_ATTACHMENT,s.RENDERBUFFER,a)}if(i.isRenderTexture=!0,i.isAlphaPremultiplied=!1,s.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_2D,i,0),(r=s.checkFramebufferStatus(s.FRAMEBUFFER))!==s.FRAMEBUFFER_COMPLETE){throw new Error("Framebuffer incomplete. Framebuffer status: "+{36054:"Incomplete Attachment",36055:"Missing Attachment",36057:"Incomplete Dimensions",36061:"Framebuffer Unsupported"}[r])}return o.renderTexture=i,this.setFramebuffer(null),o},createProgram:function(t,e){var i=this.gl,n=i.createProgram(),r=i.createShader(i.VERTEX_SHADER),s=i.createShader(i.FRAGMENT_SHADER);if(i.shaderSource(r,t),i.shaderSource(s,e),i.compileShader(r),i.compileShader(s),!i.getShaderParameter(r,i.COMPILE_STATUS))throw new Error("Failed to compile Vertex Shader:\n"+i.getShaderInfoLog(r));if(!i.getShaderParameter(s,i.COMPILE_STATUS))throw new Error("Failed to compile Fragment Shader:\n"+i.getShaderInfoLog(s));if(i.attachShader(n,r),i.attachShader(n,s),i.linkProgram(n),!i.getProgramParameter(n,i.LINK_STATUS))throw new Error("Failed to link program:\n"+i.getProgramInfoLog(n));return n},createVertexBuffer:function(t,e){var i=this.gl,n=i.createBuffer();return this.setVertexBuffer(n),i.bufferData(i.ARRAY_BUFFER,t,e),this.setVertexBuffer(null),n},createIndexBuffer:function(t,e){var i=this.gl,n=i.createBuffer();return this.setIndexBuffer(n),i.bufferData(i.ELEMENT_ARRAY_BUFFER,t,e),this.setIndexBuffer(null),n},deleteTexture:function(t){var e=this.nativeTextures.indexOf(t);return-1!==e&&a(this.nativeTextures,e),this.gl.deleteTexture(t),this},deleteFramebuffer:function(t){return this.gl.deleteFramebuffer(t),this},deleteProgram:function(t){return this.gl.deleteProgram(t),this},deleteBuffer:function(t){return this.gl.deleteBuffer(t),this},preRenderCamera:function(t){var e=t._cx,i=t._cy,n=t._cw,r=t._ch,s=this.pipelines.TextureTintPipeline,o=t.backgroundColor;if(t.renderToTexture){this.flush(),this.pushScissor(e,i,n,-r),this.setFramebuffer(t.framebuffer);var a=this.gl;a.clearColor(0,0,0,0),a.clear(a.COLOR_BUFFER_BIT),s.projOrtho(e,n+e,i,r+i,-1e3,1e3),o.alphaGL>0&&s.drawFillRect(0,0,n+e,r+i,u.getTintFromFloats(o.redGL,o.greenGL,o.blueGL,1),o.alphaGL)}else o.alphaGL>0?(this.pushScissor(e,i,n,r),s.drawFillRect(0,0,n+e,r+i,u.getTintFromFloats(o.redGL,o.greenGL,o.blueGL,1),o.alphaGL)):this.pushScissor(e,i,n,r)},postRenderCamera:function(t){var e=this.pipelines.TextureTintPipeline;if(t.flashEffect.postRenderWebGL(e,u.getTintFromFloats),t.fadeEffect.postRenderWebGL(e,u.getTintFromFloats),t.dirty=!1,this.popScissor(),t.renderToTexture){e.flush(),this.setFramebuffer(null),e.projOrtho(0,e.width,e.height,0,-1e3,1e3);var i=u.getTintAppendFloatAlpha;(t.pipeline?t.pipeline:e).batchTexture(t,t.glTexture,t.width,t.height,t.x,t.y,t.width,t.height,t.zoom,t.zoom,t.rotation,t.flipX,!t.flipY,1,1,0,0,0,0,t.width,t.height,i(t._tintTL,t._alphaTL),i(t._tintTR,t._alphaTR),i(t._tintBL,t._alphaBL),i(t._tintBR,t._alphaBR),t._isTinted&&t.tintFill,0,0,this.defaultCamera,null),this.setBlankTexture(!0)}},preRender:function(){if(!this.contextLost){var t=this.gl,e=this.config.backgroundColor,i=this.pipelines;for(var n in this.config.clearBeforeRender&&(t.clearColor(e.redGL,e.greenGL,e.blueGL,e.alphaGL),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT|t.STENCIL_BUFFER_BIT)),i)i[n].onPreRender();this.currentScissor=[0,0,this.width,this.height],this.scissorStack=[this.currentScissor],this.game.scene.customViewports&&(t.enable(t.SCISSOR_TEST),t.scissor(0,this.drawingBufferHeight-this.height,this.width,this.height)),this.setPipeline(this.pipelines.TextureTintPipeline)}},render:function(t,e,i,n){if(!this.contextLost){var r=e.list,o=r.length,a=this.pipelines;for(var h in a)a[h].onRender(t,n);this.preRenderCamera(n);for(var u=0;u<o;u++){var c=r[u];if(c.willRender(n)){c.blendMode!==this.currentBlendMode&&this.setBlendMode(c.blendMode);var l=c.mask;l?(l.preRenderWebGL(this,c,n),c.renderWebGL(this,c,i,n),l.postRenderWebGL(this,c)):c.renderWebGL(this,c,i,n)}}this.setBlendMode(s.BlendModes.NORMAL),this.postRenderCamera(n)}},postRender:function(){if(!this.contextLost){this.flush(),this.snapshotState.callback&&(this.snapshotState.callback(c(this.canvas,this.snapshotState.type,this.snapshotState.encoder)),this.snapshotState.callback=null);var t=this.pipelines;for(var e in t)t[e].onPostRender()}},snapshot:function(t,e,i){return this.snapshotState.callback=t,this.snapshotState.type=e,this.snapshotState.encoder=i,this},canvasToTexture:function(t,e){var i=this.gl;if(e)this.setTexture2D(e,0),i.texImage2D(i.TEXTURE_2D,0,i.RGBA,i.RGBA,i.UNSIGNED_BYTE,t),e.width=t.width,e.height=t.height,this.setTexture2D(null,0);else{var n=i.CLAMP_TO_EDGE;o(t.width,t.height)&&(n=i.REPEAT),e=this.createTexture2D(0,i.NEAREST,i.NEAREST,n,n,i.RGBA,t,t.width,t.height,!0)}return e},setTextureFilter:function(t,e){var i=this.gl,n=[i.LINEAR,i.NEAREST][e];return this.setTexture2D(t,0),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,n),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,n),this.setTexture2D(null,0),this},setFloat1:function(t,e,i){return this.setProgram(t),this.gl.uniform1f(this.gl.getUniformLocation(t,e),i),this},setFloat2:function(t,e,i,n){return this.setProgram(t),this.gl.uniform2f(this.gl.getUniformLocation(t,e),i,n),this},setFloat3:function(t,e,i,n,r){return this.setProgram(t),this.gl.uniform3f(this.gl.getUniformLocation(t,e),i,n,r),this},setFloat4:function(t,e,i,n,r,s){return this.setProgram(t),this.gl.uniform4f(this.gl.getUniformLocation(t,e),i,n,r,s),this},setInt1:function(t,e,i){return this.setProgram(t),this.gl.uniform1i(this.gl.getUniformLocation(t,e),i),this},setInt2:function(t,e,i,n){return this.setProgram(t),this.gl.uniform2i(this.gl.getUniformLocation(t,e),i,n),this},setInt3:function(t,e,i,n,r){return this.setProgram(t),this.gl.uniform3i(this.gl.getUniformLocation(t,e),i,n,r),this},setInt4:function(t,e,i,n,r,s){return this.setProgram(t),this.gl.uniform4i(this.gl.getUniformLocation(t,e),i,n,r,s),this},setMatrix2:function(t,e,i,n){return this.setProgram(t),this.gl.uniformMatrix2fv(this.gl.getUniformLocation(t,e),i,n),this},setMatrix3:function(t,e,i,n){return this.setProgram(t),this.gl.uniformMatrix3fv(this.gl.getUniformLocation(t,e),i,n),this},setMatrix4:function(t,e,i,n){return this.setProgram(t),this.gl.uniformMatrix4fv(this.gl.getUniformLocation(t,e),i,n),this},getMaxTextures:function(){return this.config.maxTextures},getMaxTextureSize:function(){return this.config.maxTextureSize},destroy:function(){for(var t in this.pipelines)this.pipelines[t].destroy(),delete this.pipelines[t];for(var e=0;e<this.nativeTextures.length;++e)this.deleteTexture(this.nativeTextures[e]),delete this.nativeTextures[e];delete this.gl,delete this.game,this.contextLost=!0,this.extensions={},this.nativeTextures.length=0}});t.exports=p},function(t,e){t.exports=function(t,e,i){e||(e="image/png"),i||(i=.92);var n=t.getContext("experimental-webgl"),r=new Uint8Array(n.drawingBufferWidth*n.drawingBufferHeight*4);n.readPixels(0,0,n.drawingBufferWidth,n.drawingBufferHeight,n.RGBA,n.UNSIGNED_BYTE,r);var s,o=document.createElement("canvas"),a=o.getContext("2d");o.width=n.drawingBufferWidth,o.height=n.drawingBufferHeight;for(var h=(s=a.getImageData(0,0,o.width,o.height)).data,u=0;u<o.height;u+=1)for(var c=0;c<o.width;c+=1){var l=4*((o.height-u)*o.width+c),f=4*(u*o.width+c);h[f+0]=r[l+0],h[f+1]=r[l+1],h[f+2]=r[l+2],h[f+3]=r[l+3]}a.putImageData(s,0,0);var d=o.toDataURL(e,i),p=new Image;return p.src=d,p}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(617),s=i(618),o=i(165),a=new n({Extends:o,initialize:function(t){o.call(this,{game:t.game,renderer:t.renderer,gl:t.renderer.gl,topology:t.topology?t.topology:t.renderer.gl.TRIANGLES,vertShader:t.vertShader?t.vertShader:s,fragShader:t.fragShader?t.fragShader:r,vertexCapacity:t.vertexCapacity?t.vertexCapacity:3,vertexSize:t.vertexSize?t.vertexSize:2*Float32Array.BYTES_PER_ELEMENT,vertices:new Float32Array([-1,1,-1,-7,7,1]).buffer,attributes:[{name:"inPosition",size:2,type:t.renderer.gl.FLOAT,normalized:!1,offset:0}]}),this.vertexViewF32=new Float32Array(this.vertexData),this.maxQuads=1,this.resolutionDirty=!0},onBind:function(){o.prototype.onBind.call(this);var t=this.renderer,e=this.program;return this.resolutionDirty&&(t.setFloat2(e,"uResolution",this.width,this.height),t.setInt1(e,"uMainSampler",0),t.setInt1(e,"uMaskSampler",1),this.resolutionDirty=!1),this},resize:function(t,e,i){return o.prototype.resize.call(this,t,e,i),this.resolutionDirty=!0,this},beginMask:function(t,e,i){var n=this.renderer,r=this.gl,s=t.bitmapMask;s&&r&&(n.flush(),n.setFramebuffer(t.maskFramebuffer),r.clearColor(0,0,0,0),r.clear(r.COLOR_BUFFER_BIT),s.renderWebGL(n,s,0,i),n.flush(),n.setFramebuffer(t.mainFramebuffer),r.clearColor(0,0,0,0),r.clear(r.COLOR_BUFFER_BIT))},endMask:function(t){var e=this.renderer,i=this.gl;t.bitmapMask&&i&&(e.setFramebuffer(null),e.setPipeline(this),e.setTexture2D(t.maskTexture,1),e.setTexture2D(t.mainTexture,0),e.setInt1(this.program,"uInvertMaskAlpha",t.invertAlpha),i.drawArrays(this.topology,0,3))}});t.exports=a},function(t,e,i){"use strict";
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */function n(t,e,i){i=i||2;var n,a,h,u,c,d,g,v=e&&e.length,y=v?e[0]*i:t.length,m=r(t,0,y,i,!0),x=[];if(!m)return x;if(v&&(m=function(t,e,i,n){var o,a,h,u,c,d=[];for(o=0,a=e.length;o<a;o++)h=e[o]*n,u=o<a-1?e[o+1]*n:t.length,(c=r(t,h,u,n,!1))===c.next&&(c.steiner=!0),d.push(p(c));for(d.sort(l),o=0;o<d.length;o++)f(d[o],i),i=s(i,i.next);return i}(t,e,m,i)),t.length>80*i){n=h=t[0],a=u=t[1];for(var b=i;b<y;b+=i)(c=t[b])<n&&(n=c),(d=t[b+1])<a&&(a=d),c>h&&(h=c),d>u&&(u=d);g=Math.max(h-n,u-a)}return o(m,x,i,n,a,g),x}function r(t,e,i,n,r){var s,o;if(r===A(t,e,i,n)>0)for(s=e;s<i;s+=n)o=T(s,t[s],t[s+1],o);else for(s=i-n;s>=e;s-=n)o=T(s,t[s],t[s+1],o);return o&&m(o,o.next)&&(S(o),o=o.next),o}function s(t,e){if(!t)return t;e||(e=t);var i,n=t;do{if(i=!1,n.steiner||!m(n,n.next)&&0!==y(n.prev,n,n.next))n=n.next;else{if(S(n),(n=e=n.prev)===n.next)return null;i=!0}}while(i||n!==e);return e}function o(t,e,i,n,r,l,f){if(t){!f&&l&&function(t,e,i,n){var r=t;do{null===r.z&&(r.z=d(r.x,r.y,e,i,n)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==t);r.prevZ.nextZ=null,r.prevZ=null,function(t){var e,i,n,r,s,o,a,h,u=1;do{for(i=t,t=null,s=null,o=0;i;){for(o++,n=i,a=0,e=0;e<u&&(a++,n=n.nextZ);e++);for(h=u;a>0||h>0&&n;)0!==a&&(0===h||!n||i.z<=n.z)?(r=i,i=i.nextZ,a--):(r=n,n=n.nextZ,h--),s?s.nextZ=r:t=r,r.prevZ=s,s=r;i=n}s.nextZ=null,u*=2}while(o>1)}(r)}(t,n,r,l);for(var p,g,v=t;t.prev!==t.next;)if(p=t.prev,g=t.next,l?h(t,n,r,l):a(t))e.push(p.i/i),e.push(t.i/i),e.push(g.i/i),S(t),t=g.next,v=g.next;else if((t=g)===v){f?1===f?o(t=u(t,e,i),e,i,n,r,l,2):2===f&&c(t,e,i,n,r,l):o(s(t),e,i,n,r,l,1);break}}}function a(t){var e=t.prev,i=t,n=t.next;if(y(e,i,n)>=0)return!1;for(var r=t.next.next;r!==t.prev;){if(g(e.x,e.y,i.x,i.y,n.x,n.y,r.x,r.y)&&y(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function h(t,e,i,n){var r=t.prev,s=t,o=t.next;if(y(r,s,o)>=0)return!1;for(var a=r.x<s.x?r.x<o.x?r.x:o.x:s.x<o.x?s.x:o.x,h=r.y<s.y?r.y<o.y?r.y:o.y:s.y<o.y?s.y:o.y,u=r.x>s.x?r.x>o.x?r.x:o.x:s.x>o.x?s.x:o.x,c=r.y>s.y?r.y>o.y?r.y:o.y:s.y>o.y?s.y:o.y,l=d(a,h,e,i,n),f=d(u,c,e,i,n),p=t.nextZ;p&&p.z<=f;){if(p!==t.prev&&p!==t.next&&g(r.x,r.y,s.x,s.y,o.x,o.y,p.x,p.y)&&y(p.prev,p,p.next)>=0)return!1;p=p.nextZ}for(p=t.prevZ;p&&p.z>=l;){if(p!==t.prev&&p!==t.next&&g(r.x,r.y,s.x,s.y,o.x,o.y,p.x,p.y)&&y(p.prev,p,p.next)>=0)return!1;p=p.prevZ}return!0}function u(t,e,i){var n=t;do{var r=n.prev,s=n.next.next;!m(r,s)&&x(r,n,n.next,s)&&b(r,s)&&b(s,r)&&(e.push(r.i/i),e.push(n.i/i),e.push(s.i/i),S(n),S(n.next),n=t=s),n=n.next}while(n!==t);return n}function c(t,e,i,n,r,a){var h=t;do{for(var u=h.next.next;u!==h.prev;){if(h.i!==u.i&&v(h,u)){var c=w(h,u);return h=s(h,h.next),c=s(c,c.next),o(h,e,i,n,r,a),void o(c,e,i,n,r,a)}u=u.next}h=h.next}while(h!==t)}function l(t,e){return t.x-e.x}function f(t,e){if(e=function(t,e){var i,n=e,r=t.x,s=t.y,o=-1/0;do{if(s<=n.y&&s>=n.next.y&&n.next.y!==n.y){var a=n.x+(s-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(a<=r&&a>o){if(o=a,a===r){if(s===n.y)return n;if(s===n.next.y)return n.next}i=n.x<n.next.x?n:n.next}}n=n.next}while(n!==e);if(!i)return null;if(r===o)return i.prev;var h,u=i,c=i.x,l=i.y,f=1/0;n=i.next;for(;n!==u;)r>=n.x&&n.x>=c&&r!==n.x&&g(s<l?r:o,s,c,l,s<l?o:r,s,n.x,n.y)&&((h=Math.abs(s-n.y)/(r-n.x))<f||h===f&&n.x>i.x)&&b(n,t)&&(i=n,f=h),n=n.next;return i}(t,e)){var i=w(e,t);s(i,i.next)}}function d(t,e,i,n,r){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-i)/r)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)/r)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function p(t){var e=t,i=t;do{e.x<i.x&&(i=e),e=e.next}while(e!==t);return i}function g(t,e,i,n,r,s,o,a){return(r-o)*(e-a)-(t-o)*(s-a)>=0&&(t-o)*(n-a)-(i-o)*(e-a)>=0&&(i-o)*(s-a)-(r-o)*(n-a)>=0}function v(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var i=t;do{if(i.i!==t.i&&i.next.i!==t.i&&i.i!==e.i&&i.next.i!==e.i&&x(i,i.next,t,e))return!0;i=i.next}while(i!==t);return!1}(t,e)&&b(t,e)&&b(e,t)&&function(t,e){var i=t,n=!1,r=(t.x+e.x)/2,s=(t.y+e.y)/2;do{i.y>s!=i.next.y>s&&i.next.y!==i.y&&r<(i.next.x-i.x)*(s-i.y)/(i.next.y-i.y)+i.x&&(n=!n),i=i.next}while(i!==t);return n}(t,e)}function y(t,e,i){return(e.y-t.y)*(i.x-e.x)-(e.x-t.x)*(i.y-e.y)}function m(t,e){return t.x===e.x&&t.y===e.y}function x(t,e,i,n){return!!(m(t,e)&&m(i,n)||m(t,n)&&m(i,e))||y(t,e,i)>0!=y(t,e,n)>0&&y(i,n,t)>0!=y(i,n,e)>0}function b(t,e){return y(t.prev,t,t.next)<0?y(t,e,t.next)>=0&&y(t,t.prev,e)>=0:y(t,e,t.prev)<0||y(t,t.next,e)<0}function w(t,e){var i=new _(t.i,t.x,t.y),n=new _(e.i,e.x,e.y),r=t.next,s=e.prev;return t.next=e,e.prev=t,i.next=r,r.prev=i,n.next=i,i.prev=n,s.next=n,n.prev=s,n}function T(t,e,i,n){var r=new _(t,e,i);return n?(r.next=n.next,r.prev=n,n.next.prev=r,n.next=r):(r.prev=r,r.next=r),r}function S(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function _(t,e,i){this.i=t,this.x=e,this.y=i,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function A(t,e,i,n){for(var r=0,s=e,o=i-n;s<i;s+=n)r+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return r}t.exports=n,n.deviation=function(t,e,i,n){var r=e&&e.length,s=r?e[0]*i:t.length,o=Math.abs(A(t,0,s,i));if(r)for(var a=0,h=e.length;a<h;a++){var u=e[a]*i,c=a<h-1?e[a+1]*i:t.length;o-=Math.abs(A(t,u,c,i))}var l=0;for(a=0;a<n.length;a+=3){var f=n[a]*i,d=n[a+1]*i,p=n[a+2]*i;l+=Math.abs((t[f]-t[p])*(t[d+1]-t[f+1])-(t[f]-t[d])*(t[p+1]-t[f+1]))}return 0===o&&0===l?0:Math.abs((l-o)/o)},n.flatten=function(t){for(var e=t[0][0].length,i={vertices:[],holes:[],dimensions:e},n=0,r=0;r<t.length;r++){for(var s=0;s<t[r].length;s++)for(var o=0;o<e;o++)i.vertices.push(t[r][s][o]);r>0&&(n+=t[r-1].length,i.holes.push(n))}return i}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(306),s=i(8),o=i(307),a=i(308),h=i(9),u=i(310),c=i(48),l=i(311),f=new n({initialize:function(t,e){this.game=t,this.canvas,this.config=e,this.enabled=!0,this.events=new s,this.queue=[],this.domCallbacks={up:[],down:[],move:[],upOnce:[],downOnce:[],moveOnce:[]},this._hasUpCallback=!1,this._hasDownCallback=!1,this._hasMoveCallback=!1,this._customCursor="",this._setCursor=0,this.defaultCursor="",this.mouse=e.inputMouse?new o(this):null,this.touch=e.inputTouch?new u(this):null,this.pointers=[],this.pointersTotal=e.inputActivePointers,e.inputTouch&&1===this.pointersTotal&&(this.pointersTotal=2);for(var i=0;i<=this.pointersTotal;i++)this.pointers.push(new a(this,i));this.mousePointer=e.inputMouse?this.pointers[0]:null,this.activePointer=this.pointers[0],this.dirty=!1,this.scale={x:1,y:1},this.globalTopOnly=!0,this.ignoreEvents=!1,this.bounds=new h,this._tempPoint={x:0,y:0},this._tempHitTest=[],this._tempMatrix=new c,this._tempMatrix2=new c,t.events.once("boot",this.boot,this)},boot:function(){this.canvas=this.game.canvas,this.updateBounds(),this.events.emit("boot"),this.game.events.on("prestep",this.update,this),this.game.events.on("poststep",this.postUpdate,this),this.game.events.once("destroy",this.destroy,this)},updateBounds:function(){var t=this.bounds,e=this.canvas.getBoundingClientRect();t.x=e.left+window.pageXOffset-document.documentElement.clientLeft,t.y=e.top+window.pageYOffset-document.documentElement.clientTop,t.width=e.width,t.height=e.height},resize:function(){this.updateBounds();var t=this.game.config.width,e=this.game.config.height,i=this.bounds.width,n=this.bounds.height;this.scale.x=t/i,this.scale.y=e/n},update:function(t){var e;this._setCursor=0,this.events.emit("update"),this.ignoreEvents=!1,this.dirty=!1;var i=this.queue.length,n=this.pointers;for(e=0;e<this.pointersTotal;e++)n[e].reset();if(this.enabled&&0!==i){this.dirty=!0,this.updateBounds(),this.scale.x=this.game.config.width/this.bounds.width,this.scale.y=this.game.config.height/this.bounds.height;var s=this.queue.splice(0,i),o=this.mousePointer;for(e=0;e<i;e+=2){var a=s[e],h=s[e+1];switch(a){case r.MOUSE_DOWN:o.down(h,t);break;case r.MOUSE_MOVE:o.move(h,t);break;case r.MOUSE_UP:o.up(h,t);break;case r.TOUCH_START:this.startPointer(h,t);break;case r.TOUCH_MOVE:this.updatePointer(h,t);break;case r.TOUCH_END:this.stopPointer(h,t);break;case r.POINTER_LOCK_CHANGE:this.events.emit("pointerlockchange",h,this.mouse.locked)}}}},postUpdate:function(){1===this._setCursor?this.canvas.style.cursor=this._customCursor:2===this._setCursor&&(this.canvas.style.cursor=this.defaultCursor)},setDefaultCursor:function(t){this.defaultCursor=t,this.canvas.style.cursor!==t&&(this.canvas.style.cursor=t)},setCursor:function(t){t.cursor&&(this._setCursor=1,this._customCursor=t.cursor)},resetCursor:function(t){t.cursor&&(this._setCursor=2)},startPointer:function(t,e){for(var i=this.pointers,n=0;n<t.changedTouches.length;n++)for(var r=t.changedTouches[n],s=1;s<this.pointersTotal;s++){var o=i[s];if(!o.active){o.touchstart(r,e),this.activePointer=o;break}}},updatePointer:function(t,e){for(var i=this.pointers,n=0;n<t.changedTouches.length;n++)for(var r=t.changedTouches[n],s=1;s<this.pointersTotal;s++){var o=i[s];if(o.active&&o.identifier===r.identifier){o.touchmove(r,e),this.activePointer=o;break}}},stopPointer:function(t,e){for(var i=this.pointers,n=0;n<t.changedTouches.length;n++)for(var r=t.changedTouches[n],s=1;s<this.pointersTotal;s++){var o=i[s];if(o.active&&o.identifier===r.identifier){o.touchend(r,e);break}}},addPointer:function(t){void 0===t&&(t=1);var e=[];this.pointersTotal+t>10&&(t=10-this.pointersTotal);for(var i=0;i<t;i++){var n=this.pointers.length,r=new a(this,n);this.pointers.push(r),this.pointersTotal++,e.push(r)}return e},processDomCallbacks:function(t,e,i){var n=0;for(n=0;n<t.length;n++)t[n](i);for(n=0;n<e.length;n++)e[n](i);return t=[],e.length>0},queueTouchStart:function(t){if(this.queue.push(r.TOUCH_START,t),this._hasDownCallback){var e=this.domCallbacks;this._hasDownCallback=this.processDomCallbacks(e.downOnce,e.down,t)}},queueTouchMove:function(t){if(this.queue.push(r.TOUCH_MOVE,t),this._hasMoveCallback){var e=this.domCallbacks;this._hasMoveCallback=this.processDomCallbacks(e.moveOnce,e.move,t)}},queueTouchEnd:function(t){if(this.queue.push(r.TOUCH_END,t),this._hasUpCallback){var e=this.domCallbacks;this._hasUpCallback=this.processDomCallbacks(e.upOnce,e.up,t)}},queueMouseDown:function(t){if(this.queue.push(r.MOUSE_DOWN,t),this._hasDownCallback){var e=this.domCallbacks;this._hasDownCallback=this.processDomCallbacks(e.downOnce,e.down,t)}},queueMouseMove:function(t){if(this.queue.push(r.MOUSE_MOVE,t),this._hasMoveCallback){var e=this.domCallbacks;this._hasMoveCallback=this.processDomCallbacks(e.moveOnce,e.move,t)}},queueMouseUp:function(t){if(this.queue.push(r.MOUSE_UP,t),this._hasUpCallback){var e=this.domCallbacks;this._hasUpCallback=this.processDomCallbacks(e.upOnce,e.up,t)}},addUpCallback:function(t,e){return void 0===e&&(e=!0),e?this.domCallbacks.upOnce.push(t):this.domCallbacks.up.push(t),this._hasUpCallback=!0,this},addDownCallback:function(t,e){return void 0===e&&(e=!0),e?this.domCallbacks.downOnce.push(t):this.domCallbacks.down.push(t),this._hasDownCallback=!0,this},addMoveCallback:function(t,e){return void 0===e&&(e=!1),e?this.domCallbacks.moveOnce.push(t):this.domCallbacks.move.push(t),this._hasMoveCallback=!0,this},inputCandidate:function(t,e){var i=t.input;if(!i||!i.enabled||!t.willRender(e))return!1;var n=!0,r=t.parentContainer;if(r)do{if(!r.willRender(e)){n=!1;break}r=r.parentContainer}while(r);return n},hitTest:function(t,e,i,n){void 0===n&&(n=this._tempHitTest);var r=this._tempPoint,s=i.scrollX,o=i.scrollY;n.length=0;var a=t.x,h=t.y;1!==i.resolution&&(a+=i._x,h+=i._y),i.getWorldPoint(a,h,r),t.worldX=r.x,t.worldY=r.y;for(var u={x:0,y:0},c=this._tempMatrix,f=this._tempMatrix2,d=0;d<e.length;d++){var p=e[d];if(this.inputCandidate(p,i)){var g=r.x+s*p.scrollFactorX-s,v=r.y+o*p.scrollFactorY-o;p.parentContainer?(p.getWorldTransformMatrix(c,f),c.applyInverse(g,v,u)):l(g,v,p.x,p.y,p.rotation,p.scaleX,p.scaleY,u),this.pointWithinHitArea(p,u.x,u.y)&&n.push(p)}}return n},pointWithinHitArea:function(t,e,i){e+=t.displayOriginX,i+=t.displayOriginY;var n=t.input;return!(!n||!n.hitAreaCallback(n.hitArea,e,i,t))&&(n.localX=e,n.localY=i,!0)},pointWithinInteractiveObject:function(t,e,i){return!!t.hitArea&&(e+=t.gameObject.displayOriginX,i+=t.gameObject.displayOriginY,t.localX=e,t.localY=i,t.hitAreaCallback(t.hitArea,e,i,t))},transformPointer:function(t,e,i){t.prevPosition.x=t.x,t.prevPosition.y=t.y,t.x=(e-this.bounds.left)*this.scale.x,t.y=(i-this.bounds.top)*this.scale.y},transformX:function(t){return(t-this.bounds.left)*this.scale.x},transformY:function(t){return(t-this.bounds.top)*this.scale.y},getOffsetX:function(){return this.bounds.left},getOffsetY:function(){return this.bounds.top},getScaleX:function(){return this.game.config.width/this.bounds.width},getScaleY:function(){return this.game.config.height/this.bounds.height},destroy:function(){this.events.removeAllListeners(),this.mouse&&this.mouse.destroy(),this.touch&&this.touch.destroy();for(var t=0;t<this.pointers.length;t++)this.pointers[t].destroy();this.domCallbacks={},this.pointers=[],this.queue=[],this._tempHitTest=[],this._tempMatrix.destroy(),this.canvas=null,this.game=null}});t.exports=f},function(t,e){t.exports={MOUSE_DOWN:0,MOUSE_MOVE:1,MOUSE_UP:2,TOUCH_START:3,TOUCH_MOVE:4,TOUCH_END:5,POINTER_LOCK_CHANGE:6}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(163),s=new n({initialize:function(t){this.manager=t,this.capture=!0,this.enabled=!1,this.target,this.locked=!1,t.events.once("boot",this.boot,this)},boot:function(){var t=this.manager.config;this.enabled=t.inputMouse,this.target=t.inputMouseEventTarget,this.capture=t.inputMouseCapture,this.target||(this.target=this.manager.game.canvas),t.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.startListeners()},disableContextMenu:function(){return document.body.addEventListener("contextmenu",function(t){return t.preventDefault(),!1}),this},requestPointerLock:function(){if(r.pointerLock){var t=this.target;t.requestPointerLock=t.requestPointerLock||t.mozRequestPointerLock||t.webkitRequestPointerLock,t.requestPointerLock()}},pointerLockChange:function(t){var e=this.target;this.locked=document.pointerLockElement===e||document.mozPointerLockElement===e||document.webkitPointerLockElement===e,this.manager.queue.push(t)},releasePointerLock:function(){r.pointerLock&&(document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock())},onMouseMove:function(t){!t.defaultPrevented&&this.enabled&&this.manager&&(this.manager.queueMouseMove(t),this.capture&&t.preventDefault())},onMouseDown:function(t){!t.defaultPrevented&&this.enabled&&(this.manager.queueMouseDown(t),this.capture&&t.preventDefault())},onMouseUp:function(t){!t.defaultPrevented&&this.enabled&&(this.manager.queueMouseUp(t),this.capture&&t.preventDefault())},startListeners:function(){var t=this.target,e={passive:!0},i={passive:!1};this.capture?(t.addEventListener("mousemove",this.onMouseMove.bind(this),i),t.addEventListener("mousedown",this.onMouseDown.bind(this),i),t.addEventListener("mouseup",this.onMouseUp.bind(this),i)):(t.addEventListener("mousemove",this.onMouseMove.bind(this),e),t.addEventListener("mousedown",this.onMouseDown.bind(this),e),t.addEventListener("mouseup",this.onMouseUp.bind(this),e)),r.pointerLock&&(this.pointerLockChange=this.pointerLockChange.bind(this),document.addEventListener("pointerlockchange",this.pointerLockChange,!0),document.addEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.addEventListener("webkitpointerlockchange",this.pointerLockChange,!0))},stopListeners:function(){var t=this.target;t.removeEventListener("mousemove",this.onMouseMove),t.removeEventListener("mousedown",this.onMouseDown),t.removeEventListener("mouseup",this.onMouseUp),r.pointerLock&&(document.removeEventListener("pointerlockchange",this.pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this.pointerLockChange,!0))},destroy:function(){this.stopListeners(),this.target=null,this.manager=null}});t.exports=s},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(309),s=i(3),o=new n({initialize:function(t,e){this.manager=t,this.id=e,this.event,this.camera=null,this.buttons=0,this.position=new s,this.prevPosition=new s,this.worldX=0,this.worldY=0,this.downX=0,this.downY=0,this.downTime=0,this.upX=0,this.upY=0,this.upTime=0,this.primaryDown=!1,this.dragState=0,this.isDown=!1,this.dirty=!1,this.justDown=!1,this.justUp=!1,this.justMoved=!1,this.wasTouch=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.active=0===e},positionToCamera:function(t,e){return t.getWorldPoint(this.x,this.y,e)},reset:function(){this.dirty=!1,this.justDown=!1,this.justUp=!1,this.justMoved=!1,this.movementX=0,this.movementY=0},up:function(t,e){t.buttons&&(this.buttons=t.buttons),this.event=t,this.manager.transformPointer(this,t.pageX,t.pageY),0===t.button&&(this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=e),this.justUp=!0,this.isDown=!1,this.dirty=!0,this.wasTouch=!1},down:function(t,e){t.buttons&&(this.buttons=t.buttons),this.event=t,this.manager.transformPointer(this,t.pageX,t.pageY),0===t.button&&(this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=e),this.justDown=!0,this.isDown=!0,this.dirty=!0,this.wasTouch=!1},move:function(t){t.buttons&&(this.buttons=t.buttons),this.event=t,this.manager.transformPointer(this,t.pageX,t.pageY),this.manager.mouse.locked&&(this.movementX+=t.movementX||t.mozMovementX||t.webkitMovementX||0,this.movementY+=t.movementY||t.mozMovementY||t.webkitMovementY||0),this.justMoved=!0,this.dirty=!0,this.wasTouch=!1},touchstart:function(t,e){t.pointerId&&(this.pointerId=t.pointerId),this.identifier=t.identifier,this.target=t.target,this.active=!0,this.buttons=1,this.event=t,this.manager.transformPointer(this,t.pageX,t.pageY),this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=e,this.justDown=!0,this.isDown=!0,this.dirty=!0,this.wasTouch=!0},touchmove:function(t){this.event=t,this.manager.transformPointer(this,t.pageX,t.pageY),this.justMoved=!0,this.dirty=!0,this.wasTouch=!0},touchend:function(t,e){this.buttons=0,this.event=t,this.manager.transformPointer(this,t.pageX,t.pageY),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=e,this.justUp=!0,this.isDown=!1,this.dirty=!0,this.wasTouch=!0,this.active=!1},noButtonDown:function(){return 0===this.buttons},leftButtonDown:function(){return 1&this.buttons},rightButtonDown:function(){return 2&this.buttons},middleButtonDown:function(){return 4&this.buttons},backButtonDown:function(){return 8&this.buttons},forwardButtonDown:function(){return 16&this.buttons},getInterpolatedPosition:function(t,e){void 0===t&&(t=10),void 0===e&&(e=[]);for(var i=this.prevPosition.x,n=this.prevPosition.y,s=this.position.x,o=this.position.y,a=0;a<t;a++){var h=1/t*a;e[a]={x:r(h,i,s),y:r(h,n,o)}}return e},destroy:function(){this.camera=null,this.manager=null,this.position=null},x:{get:function(){return this.position.x},set:function(t){this.position.x=t}},y:{get:function(){return this.position.y},set:function(t){this.position.y=t}}});t.exports=o},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(150);t.exports=function(t,e,i){return e+(i-e)*n(t,0,1)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=new(i(0))({initialize:function(t){this.manager=t,this.capture=!0,this.enabled=!1,this.target,t.events.once("boot",this.boot,this)},boot:function(){var t=this.manager.config;this.enabled=t.inputTouch,this.target=t.inputTouchEventTarget,this.capture=t.inputTouchCapture,this.target||(this.target=this.manager.game.canvas),this.enabled&&this.startListeners()},onTouchStart:function(t){!t.defaultPrevented&&this.enabled&&this.manager&&(this.manager.queueTouchStart(t),this.capture&&t.preventDefault())},onTouchMove:function(t){!t.defaultPrevented&&this.enabled&&this.manager&&(this.manager.queueTouchMove(t),this.capture&&t.preventDefault())},onTouchEnd:function(t){!t.defaultPrevented&&this.enabled&&this.manager&&(this.manager.queueTouchEnd(t),this.capture&&t.preventDefault())},startListeners:function(){var t=this.target,e={passive:!0},i={passive:!1};this.capture?(t.addEventListener("touchstart",this.onTouchStart.bind(this),i),t.addEventListener("touchmove",this.onTouchMove.bind(this),i),t.addEventListener("touchend",this.onTouchEnd.bind(this),i)):(t.addEventListener("touchstart",this.onTouchStart.bind(this),e),t.addEventListener("touchmove",this.onTouchMove.bind(this),e),t.addEventListener("touchend",this.onTouchEnd.bind(this),e))},stopListeners:function(){var t=this.target;t.removeEventListener("touchstart",this.onTouchStart),t.removeEventListener("touchmove",this.onTouchMove),t.removeEventListener("touchend",this.onTouchEnd)},destroy:function(){this.stopListeners(),this.target=null,this.manager=null}});t.exports=n},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(3);t.exports=function(t,e,i,r,s,o,a,h){void 0===h&&(h=new n);var u=Math.sin(s),c=Math.cos(s),l=c*o,f=u*o,d=-u*a,p=c*a,g=1/(l*p+d*-f);return h.x=p*g*t+-d*g*e+(r*d-i*p)*g,h.y=l*g*e+-f*g*t+(-r*l+i*f)*g,h}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(8),s=i(7),o=i(14),a=i(10),h=i(1),u=i(13),c=i(313),l=new n({Extends:r,initialize:function(t){r.call(this),this.game=t,this.plugins=[],this.scenePlugins=[],this._pendingGlobal=[],this._pendingScene=[],t.isBooted?this.boot():t.events.once("boot",this.boot,this)},boot:function(){var t,e,i,n,r,s,o,a=this.game.config,u=a.installGlobalPlugins;for(u=u.concat(this._pendingGlobal),t=0;t<u.length;t++)e=u[t],i=h(e,"key",null),n=h(e,"plugin",null),r=h(e,"start",!1),s=h(e,"mapping",null),o=h(e,"data",null),i&&n&&this.install(i,n,r,s,o);for(u=(u=a.installScenePlugins).concat(this._pendingScene),t=0;t<u.length;t++)e=u[t],i=h(e,"key",null),n=h(e,"plugin",null),s=h(e,"mapping",null),i&&n&&this.installScenePlugin(i,n,s);this._pendingGlobal=[],this._pendingScene=[],this.game.events.once("destroy",this.destroy,this)},addToScene:function(t,e,i){var n,r,s,o=this.game,a=t.scene,h=t.settings.map,c=t.settings.isBooted;for(n=0;n<e.length;n++)o[r=e[n]]?(t[r]=o[r],h.hasOwnProperty(r)&&(a[h[r]]=t[r])):"game"===r&&h.hasOwnProperty(r)&&(a[h[r]]=o);for(var l=0;l<i.length;l++)for(s=i[l],n=0;n<s.length;n++)if(r=s[n],u.hasCore(r)){var f=u.getCore(r),d=new f.plugin(a,this);t[f.mapping]=d,f.custom?a[f.mapping]=d:h.hasOwnProperty(f.mapping)&&(a[h[f.mapping]]=d),c&&d.boot()}for(s=this.plugins,n=0;n<s.length;n++){var p=s[n];p.mapping&&(a[p.mapping]=p.plugin)}},getDefaultScenePlugins:function(){var t=this.game.config.defaultPlugins;return t=t.concat(this.scenePlugins)},installScenePlugin:function(t,e,i,n){if("function"==typeof e){if(u.hasCore(t))console.warn("Scene Plugin key in use: "+t);else if(u.register(t,e,i,!0),this.scenePlugins.push(t),n){var r=new e(n,this);n.sys[t]=r,i&&""!==i&&(n[i]=r),r.boot()}}else console.warn("Invalid Scene Plugin: "+t)},install:function(t,e,i,n,r){if(void 0===i&&(i=!1),void 0===n&&(n=null),void 0===r&&(r=null),"function"==typeof e)if(u.hasCustom(t))console.warn("Plugin key in use: "+t);else if(null!==n&&(i=!0),this.game.isBooted){if(u.registerCustom(t,e,n,r),i)return this.start(t)}else this._pendingGlobal.push({key:t,plugin:e,start:i,mapping:n,data:r});else console.warn("Invalid Plugin: "+t)},getIndex:function(t){for(var e=this.plugins,i=0;i<e.length;i++){if(e[i].key===t)return i}return-1},getEntry:function(t){var e=this.getIndex(t);if(-1!==e)return this.plugins[e]},isActive:function(t){var e=this.getEntry(t);return e&&e.active},start:function(t,e){void 0===e&&(e=t);var i=this.getEntry(e);return i&&!i.active?(i.active=!0,i.plugin.start()):i||(i=this.createEntry(t,e)),i?i.plugin:null},createEntry:function(t,e){var i=u.getCustom(t);if(i){var n=new i.plugin(this);i={key:e,plugin:n,active:!0,mapping:i.mapping,data:i.data},this.plugins.push(i),n.init(i.data),n.start()}return i},stop:function(t){var e=this.getEntry(t);return e&&e.active&&(e.active=!1,e.plugin.stop()),this},get:function(t,e){void 0===e&&(e=!0);var i=this.getEntry(t);if(i)return i.plugin;var n=this.getClass(t);return n&&e?(i=this.createEntry(t,t))?i.plugin:null:n||null},getClass:function(t){return u.getCustomClass(t)},removeGlobalPlugin:function(t){var e=this.getEntry(t);e&&c(this.plugins,e),u.removeCustom(t)},removeScenePlugin:function(t){c(this.scenePlugins,t),u.remove(t)},registerGameObject:function(t,e,i){return e&&a.register(t,e),i&&o.register(t,i),this},registerFileType:function(t,e,i){s.register(t,e),i&&i.sys.load&&(i.sys.load[t]=e)},destroy:function(){for(var t=0;t<this.plugins.length;t++)this.plugins[t].plugin.destroy();u.destroyCustomPlugins(),this.game.noReturn&&u.destroyCorePlugins(),this.game=null,this.plugins=[],this.scenePlugins=[]}});t.exports=l},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(88);t.exports=function(t,e,i,r){var s;if(void 0===r&&(r=t),!Array.isArray(e))return-1!==(s=t.indexOf(e))?(n(t,s),i&&i.call(r,e),e):null;for(var o=e.length-1;o>=0;){var a=e[o];-1!==(s=t.indexOf(a))?(n(t,s),i&&i.call(r,a)):e.pop(),o--}return e}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(109),s=i(4),o=i(2),a=i(315),h=i(168),u=new n({initialize:function(t,e){if(this.game=t,this.keys={},this.scenes=[],this._pending=[],this._start=[],this._queue=[],this._data={},this.isProcessing=!1,this.isBooted=!1,this.customViewports=0,e){Array.isArray(e)||(e=[e]);for(var i=0;i<e.length;i++)this._pending.push({key:"default",scene:e[i],autoStart:0===i,data:{}})}t.events.once("ready",this.bootQueue,this)},bootQueue:function(){if(!this.isBooted){var t,e,i,n;for(t=0;t<this._pending.length;t++){var r;i=(e=this._pending[t]).key,(n=e.scene)instanceof a?r=this.createSceneFromInstance(i,n):"object"==typeof n?r=this.createSceneFromObject(i,n):"function"==typeof n&&(r=this.createSceneFromFunction(i,n)),i=r.sys.settings.key,this.keys[i]=r,this.scenes.push(r),this._data[i]&&(r.sys.settings.data=this._data[i].data,this._data[i].autoStart&&(e.autoStart=!0)),(e.autoStart||r.sys.settings.active)&&this._start.push(i)}for(this._pending.length=0,this._data={},this.isBooted=!0,t=0;t<this._start.length;t++)e=this._start[t],this.start(e);this._start.length=0}},processQueue:function(){var t=this._pending.length,e=this._queue.length;if(0!==t||0!==e){var i,n;if(t){for(i=0;i<t;i++)n=this._pending[i],this.add(n.key,n.scene,n.autoStart,n.data);for(i=0;i<this._start.length;i++)n=this._start[i],this.start(n);return this._start.length=0,void(this._pending.length=0)}for(i=0;i<this._queue.length;i++)this[(n=this._queue[i]).op](n.keyA,n.keyB);this._queue.length=0}},add:function(t,e,i,n){return void 0===i&&(i=!1),void 0===n&&(n={}),this.isProcessing||!this.isBooted?(this._pending.push({key:t,scene:e,autoStart:i,data:n}),this.isBooted||(this._data[t]={data:n}),null):(t=this.getKey(t,e),e instanceof a?r=this.createSceneFromInstance(t,e):"object"==typeof e?(e.key=t,r=this.createSceneFromObject(t,e)):"function"==typeof e&&(r=this.createSceneFromFunction(t,e)),r.sys.settings.data=n,t=r.sys.settings.key,this.keys[t]=r,this.scenes.push(r),(i||r.sys.settings.active)&&(this._pending.length?this._start.push(t):this.start(t)),r);var r},remove:function(t){if(this.isProcessing)this._queue.push({op:"remove",keyA:t,keyB:null});else{var e=this.getScene(t);if(!e||e.sys.isTransitioning())return this;var i=this.scenes.indexOf(e),n=e.sys.settings.key;i>-1&&(delete this.keys[n],this.scenes.splice(i,1),this._start.indexOf(n)>-1&&(i=this._start.indexOf(n),this._start.splice(i,1)),e.sys.destroy())}return this},bootScene:function(t){var e,i=t.sys,n=i.settings;t.init&&(t.init.call(t,n.data),n.status=r.INIT,n.isTransition&&i.events.emit("transitioninit",n.transitionFrom,n.transitionDuration)),i.load&&(e=i.load).reset(),e&&t.preload?(t.preload.call(t),0===e.list.size?this.create(t):(n.status=r.LOADING,e.once("complete",this.loadComplete,this),e.start())):this.create(t)},loadComplete:function(t){var e=t.scene;this.game.sound.onBlurPausedSounds&&this.game.sound.unlock(),this.create(e)},payloadComplete:function(t){this.bootScene(t.scene)},update:function(t,e){this.processQueue(),this.isProcessing=!0;for(var i=this.scenes.length-1;i>=0;i--){var n=this.scenes[i].sys;n.settings.status>r.START&&n.settings.status<=r.RUNNING&&n.step(t,e)}},resize:function(t,e){for(var i=0;i<this.scenes.length;i++){this.scenes[i].sys.resize(t,e)}},render:function(t){for(var e=0;e<this.scenes.length;e++){var i=this.scenes[e].sys;i.settings.visible&&i.settings.status>=r.LOADING&&i.settings.status<r.SLEEPING&&i.render(t)}this.isProcessing=!1},create:function(t){var e=t.sys,i=e.settings;t.create&&(i.status=r.CREATING,t.create.call(t,i.data),i.isTransition&&e.events.emit("transitionstart",i.transitionFrom,i.transitionDuration)),t.update&&(e.sceneUpdate=t.update),i.status=r.RUNNING},createSceneFromFunction:function(t,e){var i=new e;if(i instanceof a){var n=i.sys.settings.key;if(""!==n&&(t=n),this.keys.hasOwnProperty(t))throw new Error("Cannot add a Scene with duplicate key: "+t);return this.createSceneFromInstance(t,i)}return i.sys=new h(i),i.sys.settings.key=t,i.sys.init(this.game),i},createSceneFromInstance:function(t,e){var i=e.sys.settings.key;return""!==i?t=i:e.sys.settings.key=t,e.sys.init(this.game),e},createSceneFromObject:function(t,e){var i=new a(e),n=i.sys.settings.key;""!==n?t=n:i.sys.settings.key=t,i.sys.init(this.game);for(var r=["init","preload","create","update","render"],o=0;o<r.length;o++){var h=s(e,r[o],null);h&&(i[r[o]]=h)}if(e.hasOwnProperty("extend"))for(var u in e.extend){var c=e.extend[u];"data"===u&&i.hasOwnProperty("data")&&"object"==typeof c?i.data.merge(c):"sys"!==u&&(i[u]=c)}return i},getKey:function(t,e){if(t||(t="default"),"function"==typeof e)return t;if(e instanceof a?t=e.sys.settings.key:"object"==typeof e&&e.hasOwnProperty("key")&&(t=e.key),this.keys.hasOwnProperty(t))throw new Error("Cannot add a Scene with duplicate key: "+t);return t},getScene:function(t){if("string"==typeof t){if(this.keys[t])return this.keys[t]}else for(var e=0;e<this.scenes.length;e++)if(t===this.scenes[e])return t;return null},isActive:function(t){var e=this.getScene(t);return e?e.sys.isActive():null},isVisible:function(t){var e=this.getScene(t);return e?e.sys.isVisible():null},isSleeping:function(t){var e=this.getScene(t);return e?e.sys.isSleeping():null},pause:function(t,e){var i=this.getScene(t);return i&&i.sys.pause(e),this},resume:function(t,e){var i=this.getScene(t);return i&&i.sys.resume(e),this},sleep:function(t,e){var i=this.getScene(t);return i&&!i.sys.isTransitioning()&&i.sys.sleep(e),this},wake:function(t,e){var i=this.getScene(t);return i&&i.sys.wake(e),this},run:function(t,e){var i=this.getScene(t);if(!i){for(var n=0;n<this._pending.length;n++)if(this._pending[n].key===t){this.queueOp("start",t,e);break}return this}i.sys.isSleeping()?i.sys.wake(e):i.sys.isBooted&&!i.sys.isActive()?i.sys.resume(e):this.start(t,e)},start:function(t,e){if(!this.isBooted)return this._data[t]={autoStart:!0,data:e},this;var i=this.getScene(t);if(i){var n;if(i.sys.start(e),i.sys.load&&(n=i.sys.load),n&&i.sys.settings.hasOwnProperty("pack")&&(n.reset(),n.addPack({payload:i.sys.settings.pack})))return i.sys.settings.status=r.LOADING,n.once("complete",this.payloadComplete,this),n.start(),this;this.bootScene(i)}return this},stop:function(t){var e=this.getScene(t);return e&&!e.sys.isTransitioning()&&e.sys.shutdown(),this},switch:function(t,e){var i=this.getScene(t),n=this.getScene(e);return i&&n&&i!==n&&(this.sleep(t),this.isSleeping(e)?this.wake(e):this.start(e)),this},getAt:function(t){return this.scenes[t]},getIndex:function(t){var e=this.getScene(t);return this.scenes.indexOf(e)},bringToTop:function(t){if(this.isProcessing)this._queue.push({op:"bringToTop",keyA:t,keyB:null});else{var e=this.getIndex(t);if(-1!==e&&e<this.scenes.length){var i=this.getScene(t);this.scenes.splice(e,1),this.scenes.push(i)}}return this},sendToBack:function(t){if(this.isProcessing)this._queue.push({op:"sendToBack",keyA:t,keyB:null});else{var e=this.getIndex(t);if(-1!==e&&e>0){var i=this.getScene(t);this.scenes.splice(e,1),this.scenes.unshift(i)}}return this},moveDown:function(t){if(this.isProcessing)this._queue.push({op:"moveDown",keyA:t,keyB:null});else{var e=this.getIndex(t);if(e>0){var i=e-1,n=this.getScene(t),r=this.getAt(i);this.scenes[e]=r,this.scenes[i]=n}}return this},moveUp:function(t){if(this.isProcessing)this._queue.push({op:"moveUp",keyA:t,keyB:null});else{var e=this.getIndex(t);if(e<this.scenes.length-1){var i=e+1,n=this.getScene(t),r=this.getAt(i);this.scenes[e]=r,this.scenes[i]=n}}return this},moveAbove:function(t,e){if(t===e)return this;if(this.isProcessing)this._queue.push({op:"moveAbove",keyA:t,keyB:e});else{var i=this.getIndex(t),n=this.getIndex(e);if(-1!==i&&-1!==n){var r=this.getAt(n);this.scenes.splice(n,1),this.scenes.splice(i+1,0,r)}}return this},moveBelow:function(t,e){if(t===e)return this;if(this.isProcessing)this._queue.push({op:"moveBelow",keyA:t,keyB:e});else{var i=this.getIndex(t),n=this.getIndex(e);if(-1!==i&&-1!==n){var r=this.getAt(n);this.scenes.splice(n,1),0===i?this.scenes.unshift(r):this.scenes.splice(i,0,r)}}return this},queueOp:function(t,e,i){return this._queue.push({op:t,keyA:e,keyB:i}),this},swapPosition:function(t,e){if(t===e)return this;if(this.isProcessing)this._queue.push({op:"swapPosition",keyA:t,keyB:e});else{var i=this.getIndex(t),n=this.getIndex(e);if(i!==n&&-1!==i&&-1!==n){var r=this.getAt(i);this.scenes[i]=this.scenes[n],this.scenes[n]=r}}return this},dump:function(){for(var t=[],e=["pending","init","start","loading","creating","running","paused","sleeping","shutdown","destroyed"],i=0;i<this.scenes.length;i++){var n=this.scenes[i].sys,s=!n.settings.visible||n.settings.status!==r.RUNNING&&n.settings.status!==r.PAUSED?"[-] ":"[*] ";s+=n.settings.key+" ("+e[n.settings.status]+")",t.push(s)}console.log(t.join("\n"))},destroy:function(){for(var t=0;t<this.scenes.length;t++){this.scenes[t].sys.destroy()}this.update=o,this.scenes=[],this._pending=[],this._start=[],this._queue=[],this.game=null}});t.exports=u},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(168),s=new n({initialize:function(t){this.sys=new r(this,t),this.game,this.anims,this.cache,this.registry,this.sound,this.textures,this.events,this.cameras,this.cameras3d,this.add,this.make,this.scene,this.children,this.lights,this.data,this.input,this.load,this.time,this.tweens,this.physics,this.impact,this.matter},update:function(){}});t.exports=s},function(t,e){t.exports=function(t){return t&&t[0].toUpperCase()+t.slice(1)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(109),r=i(4),s=i(73),o=i(626),a={create:function(t){return"string"==typeof t?t={key:t}:void 0===t&&(t={}),{status:n.PENDING,key:r(t,"key",""),active:r(t,"active",!1),visible:r(t,"visible",!0),isBooted:!1,isTransition:!1,transitionFrom:null,transitionDuration:0,transitionAllowInput:!0,data:{},pack:r(t,"pack",!1),cameras:r(t,"cameras",null),map:r(t,"map",s(o,r(t,"mapAdd",{}))),physics:r(t,"physics",{}),loader:r(t,"loader",{}),plugins:r(t,"plugins",!1),input:r(t,"input",{})}}};t.exports=a},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(319),r=i(321),s=i(323),o={create:function(t){var e=t.config.audio,i=t.device.audio;return e&&e.noAudio||!i.webAudio&&!i.audioData?new r(t):!i.webAudio||e&&e.disableWebAudio?new n(t):new s(t)}};t.exports=o},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(110),r=i(0),s=i(320),o=new r({Extends:n,initialize:function(t){this.override=!0,this.audioPlayDelay=.1,this.loopEndOffset=.05,this.onBlurPausedSounds=[],this.locked="ontouchstart"in window,this.lockedActionsQueue=this.locked?[]:null,this._mute=!1,this._volume=1,n.call(this,t)},add:function(t,e){var i=new s(this,t,e);return this.sounds.push(i),i},unlock:function(){this.locked=!1;var t=this;if(this.game.cache.audio.entries.each(function(e,i){for(var n=0;n<i.length;n++)if("true"===i[n].dataset.locked)return t.locked=!0,!1;return!0}),this.locked){var e=!1,i=function(){e=!0},n=function(){if(e)e=!1;else{document.body.removeEventListener("touchmove",i),document.body.removeEventListener("touchend",n);var r=[];if(t.game.cache.audio.entries.each(function(t,e){for(var i=0;i<e.length;i++){var n=e[i];"true"===n.dataset.locked&&r.push(n)}return!0}),0!==r.length){var s=r[r.length-1];s.oncanplaythrough=function(){s.oncanplaythrough=null,r.forEach(function(t){t.dataset.locked="false"}),t.unlocked=!0},r.forEach(function(t){t.load()})}}};this.once("unlocked",function(){for(this.forEachActiveSound(function(t){null===t.currentMarker&&0===t.duration&&(t.duration=t.tags[0].duration),t.totalDuration=t.tags[0].duration});this.lockedActionsQueue.length;){var t=this.lockedActionsQueue.shift();t.sound[t.prop].apply?t.sound[t.prop].apply(t.sound,t.value||[]):t.sound[t.prop]=t.value}},this),document.body.addEventListener("touchmove",i,!1),document.body.addEventListener("touchend",n,!1)}},onBlur:function(){this.forEachActiveSound(function(t){t.isPlaying&&(this.onBlurPausedSounds.push(t),t.onBlur())})},onFocus:function(){this.onBlurPausedSounds.forEach(function(t){t.onFocus()}),this.onBlurPausedSounds.length=0},destroy:function(){n.prototype.destroy.call(this),this.onBlurPausedSounds.length=0,this.onBlurPausedSounds=null},isLocked:function(t,e,i){return"true"===t.tags[0].dataset.locked&&(this.lockedActionsQueue.push({sound:t,prop:e,value:i}),!0)},setMute:function(t){return this.mute=t,this},mute:{get:function(){return this._mute},set:function(t){this._mute=t,this.forEachActiveSound(function(t){t.updateMute()}),this.emit("mute",this,t)}},setVolume:function(t){return this.volume=t,this},volume:{get:function(){return this._volume},set:function(t){this._volume=t,this.forEachActiveSound(function(t){t.updateVolume()}),this.emit("volume",this,t)}}});t.exports=o},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(111),r=new(i(0))({Extends:n,initialize:function(t,e,i){void 0===i&&(i={}),this.tags=t.game.cache.audio.get(e),this.tags?(this.audio=null,this.startTime=0,this.previousTime=0,this.duration=this.tags[0].duration,this.totalDuration=this.tags[0].duration,n.call(this,t,e,i)):console.warn("Audio cache entry missing: "+e)},play:function(t,e){return!this.manager.isLocked(this,"play",[t,e])&&(!!n.prototype.play.call(this,t,e)&&(!!this.pickAndPlayAudioTag()&&(this.emit("play",this),!0)))},pause:function(){return!this.manager.isLocked(this,"pause")&&(!(this.startTime>0)&&(!!n.prototype.pause.call(this)&&(this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.stopAndReleaseAudioTag(),this.emit("pause",this),!0)))},resume:function(){return!this.manager.isLocked(this,"resume")&&(!(this.startTime>0)&&(!!n.prototype.resume.call(this)&&(!!this.pickAndPlayAudioTag()&&(this.emit("resume",this),!0))))},stop:function(){return!this.manager.isLocked(this,"stop")&&(!!n.prototype.stop.call(this)&&(this.stopAndReleaseAudioTag(),this.emit("stop",this),!0))},pickAndPlayAudioTag:function(){if(!this.pickAudioTag())return this.reset(),!1;var t=this.currentConfig.seek,e=this.currentConfig.delay,i=(this.currentMarker?this.currentMarker.start:0)+t;return this.previousTime=i,this.audio.currentTime=i,this.applyConfig(),0===e?(this.startTime=0,this.audio.paused&&this.playCatchPromise()):(this.startTime=window.performance.now()+1e3*e,this.audio.paused||this.audio.pause()),this.resetConfig(),!0},pickAudioTag:function(){if(this.audio)return!0;for(var t=0;t<this.tags.length;t++){var e=this.tags[t];if("false"===e.dataset.used)return e.dataset.used="true",this.audio=e,!0}if(!this.manager.override)return!1;var i=[];this.manager.forEachActiveSound(function(t){t.key===this.key&&t.audio&&i.push(t)},this),i.sort(function(t,e){return t.loop===e.loop?e.seek/e.duration-t.seek/t.duration:t.loop?1:-1});var n=i[0];return this.audio=n.audio,n.reset(),n.audio=null,n.startTime=0,n.previousTime=0,!0},playCatchPromise:function(){var t=this.audio.play();t&&t.catch(function(t){console.warn(t)})},stopAndReleaseAudioTag:function(){this.audio.pause(),this.audio.dataset.used="false",this.audio=null,this.startTime=0,this.previousTime=0},reset:function(){n.prototype.stop.call(this)},onBlur:function(){this.isPlaying=!1,this.isPaused=!0,this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.currentConfig.delay=Math.max(0,(this.startTime-window.performance.now())/1e3),this.stopAndReleaseAudioTag()},onFocus:function(){this.isPlaying=!0,this.isPaused=!1,this.pickAndPlayAudioTag()},update:function(t,e){if(this.isPlaying)if(this.startTime>0)this.startTime<t-this.manager.audioPlayDelay&&(this.audio.currentTime+=Math.max(0,t-this.startTime)/1e3,this.startTime=0,this.previousTime=this.audio.currentTime,this.playCatchPromise());else{var i=this.currentMarker?this.currentMarker.start:0,n=i+this.duration,r=this.audio.currentTime;if(this.currentConfig.loop)r>=n-this.manager.loopEndOffset?(this.audio.currentTime=i+Math.max(0,r-n),r=this.audio.currentTime):r<i&&(this.audio.currentTime+=i,r=this.audio.currentTime),r<this.previousTime&&this.emit("looped",this);else if(r>=n)return this.reset(),this.stopAndReleaseAudioTag(),void this.emit("ended",this);this.previousTime=r}},destroy:function(){n.prototype.destroy.call(this),this.tags=null,this.audio&&this.stopAndReleaseAudioTag()},updateMute:function(){this.audio&&(this.audio.muted=this.currentConfig.mute||this.manager.mute)},updateVolume:function(){this.audio&&(this.audio.volume=this.currentConfig.volume*this.manager.volume)},calculateRate:function(){n.prototype.calculateRate.call(this),this.audio&&(this.audio.playbackRate=this.totalRate)},mute:{get:function(){return this.currentConfig.mute},set:function(t){this.currentConfig.mute=t,this.manager.isLocked(this,"mute",t)||this.emit("mute",this,t)}},setMute:function(t){return this.mute=t,this},volume:{get:function(){return this.currentConfig.volume},set:function(t){this.currentConfig.volume=t,this.manager.isLocked(this,"volume",t)||this.emit("volume",this,t)}},setVolume:function(t){return this.volume=t,this},rate:{get:function(){return this.currentConfig.rate},set:function(t){this.currentConfig.rate=t,this.manager.isLocked(this,"rate",t)||(this.calculateRate(),this.emit("rate",this,t))}},setRate:function(t){return this.rate=t,this},detune:{get:function(){return this.currentConfig.detune},set:function(t){this.currentConfig.detune=t,this.manager.isLocked(this,"detune",t)||(this.calculateRate(),this.emit("detune",this,t))}},setDetune:function(t){return this.detune=t,this},seek:{get:function(){return this.isPlaying?this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0):this.isPaused?this.currentConfig.seek:0},set:function(t){this.manager.isLocked(this,"seek",t)||this.startTime>0||(this.isPlaying||this.isPaused)&&(t=Math.min(Math.max(0,t),this.duration),this.isPlaying?(this.previousTime=t,this.audio.currentTime=t):this.isPaused&&(this.currentConfig.seek=t),this.emit("seek",this,t))}},setSeek:function(t){return this.seek=t,this},loop:{get:function(){return this.currentConfig.loop},set:function(t){this.currentConfig.loop=t,this.manager.isLocked(this,"loop",t)||(this.audio&&(this.audio.loop=t),this.emit("loop",this,t))}},setLoop:function(t){return this.loop=t,this}});t.exports=r},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(110),r=i(0),s=i(8),o=i(322),a=i(2),h=new r({Extends:s,initialize:function(t){s.call(this),this.game=t,this.sounds=[],this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.pauseOnBlur=!0,this.locked=!1},add:function(t,e){var i=new o(this,t,e);return this.sounds.push(i),i},addAudioSprite:function(t,e){var i=this.add(t,e);return i.spritemap={},i},play:function(t,e){return!1},playAudioSprite:function(t,e,i){return!1},remove:function(t){return n.prototype.remove.call(this,t)},removeByKey:function(t){return n.prototype.removeByKey.call(this,t)},pauseAll:a,resumeAll:a,stopAll:a,update:a,setRate:a,setDetune:a,setMute:a,setVolume:a,forEachActiveSound:function(t,e){n.prototype.forEachActiveSound.call(this,t,e)},destroy:function(){n.prototype.destroy.call(this)}});t.exports=h},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(111),r=i(0),s=i(8),o=i(17),a=new r({Extends:s,initialize:function(t,e,i){void 0===i&&(i={}),s.call(this),this.manager=t,this.key=e,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=0,this.totalDuration=0,this.config=o({mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0},i),this.currentConfig=this.config,this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.seek=0,this.loop=!1,this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:function(t){return!1},updateMarker:function(t){return!1},removeMarker:function(t){return null},play:function(t,e){return!1},pause:function(){return!1},resume:function(){return!1},stop:function(){return!1},destroy:function(){this.manager.remove(this),n.prototype.destroy.call(this)}});t.exports=a},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(110),r=i(0),s=i(324),o=new r({Extends:n,initialize:function(t){this.context=this.createAudioContext(t),this.masterMuteNode=this.context.createGain(),this.masterVolumeNode=this.context.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(this.context.destination),this.destination=this.masterMuteNode,this.locked="suspended"===this.context.state&&("ontouchstart"in window||"onclick"in window),n.call(this,t),this.locked&&this.unlock()},createAudioContext:function(t){var e=t.config.audio;return e&&e.context?(e.context.resume(),e.context):new AudioContext},add:function(t,e){var i=new s(this,t,e);return this.sounds.push(i),i},unlock:function(){var t=this,e=function(){t.context.resume().then(function(){document.body.removeEventListener("touchstart",e),document.body.removeEventListener("touchend",e),document.body.removeEventListener("click",e),t.unlocked=!0})};document.body&&(document.body.addEventListener("touchstart",e,!1),document.body.addEventListener("touchend",e,!1),document.body.addEventListener("click",e,!1))},onBlur:function(){this.context.suspend()},onFocus:function(){this.context.resume()},destroy:function(){if(this.destination=null,this.masterVolumeNode.disconnect(),this.masterVolumeNode=null,this.masterMuteNode.disconnect(),this.masterMuteNode=null,this.game.config.audio&&this.game.config.audio.context)this.context.suspend();else{var t=this;this.context.close().then(function(){t.context=null})}n.prototype.destroy.call(this)},setMute:function(t){return this.mute=t,this},mute:{get:function(){return 0===this.masterMuteNode.gain.value},set:function(t){this.masterMuteNode.gain.setValueAtTime(t?0:1,0),this.emit("mute",this,t)}},setVolume:function(t){return this.volume=t,this},volume:{get:function(){return this.masterVolumeNode.gain.value},set:function(t){this.masterVolumeNode.gain.setValueAtTime(t,0),this.emit("volume",this,t)}}});t.exports=o},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(111),r=new(i(0))({Extends:n,initialize:function(t,e,i){void 0===i&&(i={}),this.audioBuffer=t.game.cache.audio.get(e),this.audioBuffer?(this.source=null,this.loopSource=null,this.muteNode=t.context.createGain(),this.volumeNode=t.context.createGain(),this.playTime=0,this.startTime=0,this.loopTime=0,this.rateUpdates=[],this.hasEnded=!1,this.hasLooped=!1,this.muteNode.connect(this.volumeNode),this.volumeNode.connect(t.destination),this.duration=this.audioBuffer.duration,this.totalDuration=this.audioBuffer.duration,n.call(this,t,e,i)):console.warn("Audio cache entry missing: "+e)},play:function(t,e){return!!n.prototype.play.call(this,t,e)&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource(),this.emit("play",this),!0)},pause:function(){return!(this.manager.context.currentTime<this.startTime)&&(!!n.prototype.pause.call(this)&&(this.currentConfig.seek=this.getCurrentTime(),this.stopAndRemoveBufferSource(),this.emit("pause",this),!0))},resume:function(){return!(this.manager.context.currentTime<this.startTime)&&(!!n.prototype.resume.call(this)&&(this.createAndStartBufferSource(),this.emit("resume",this),!0))},stop:function(){return!!n.prototype.stop.call(this)&&(this.stopAndRemoveBufferSource(),this.emit("stop",this),!0)},createAndStartBufferSource:function(){var t=this.currentConfig.seek,e=this.currentConfig.delay,i=this.manager.context.currentTime+e,n=(this.currentMarker?this.currentMarker.start:0)+t,r=this.duration-t;this.playTime=i-t,this.startTime=i,this.source=this.createBufferSource(),this.applyConfig(),this.source.start(Math.max(0,i),Math.max(0,n),Math.max(0,r)),this.resetConfig()},createAndStartLoopBufferSource:function(){var t=this.getLoopTime(),e=this.currentMarker?this.currentMarker.start:0,i=this.duration;this.loopTime=t,this.loopSource=this.createBufferSource(),this.loopSource.playbackRate.setValueAtTime(this.totalRate,0),this.loopSource.start(Math.max(0,t),Math.max(0,e),Math.max(0,i))},createBufferSource:function(){var t=this,e=this.manager.context.createBufferSource();return e.buffer=this.audioBuffer,e.connect(this.muteNode),e.onended=function(e){e.target===t.source&&(t.currentConfig.loop?t.hasLooped=!0:t.hasEnded=!0)},e},stopAndRemoveBufferSource:function(){this.source&&(this.source.stop(),this.source.disconnect(),this.source=null),this.playTime=0,this.startTime=0,this.stopAndRemoveLoopBufferSource()},stopAndRemoveLoopBufferSource:function(){this.loopSource&&(this.loopSource.stop(),this.loopSource.disconnect(),this.loopSource=null),this.loopTime=0},applyConfig:function(){this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:1}),n.prototype.applyConfig.call(this)},update:function(t,e){this.hasEnded?(this.hasEnded=!1,n.prototype.stop.call(this),this.stopAndRemoveBufferSource(),this.emit("ended",this)):this.hasLooped&&(this.hasLooped=!1,this.source=this.loopSource,this.loopSource=null,this.playTime=this.startTime=this.loopTime,this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:this.totalRate}),this.createAndStartLoopBufferSource(),this.emit("looped",this))},destroy:function(){n.prototype.destroy.call(this),this.audioBuffer=null,this.stopAndRemoveBufferSource(),this.muteNode.disconnect(),this.muteNode=null,this.volumeNode.disconnect(),this.volumeNode=null,this.rateUpdates.length=0,this.rateUpdates=null},calculateRate:function(){n.prototype.calculateRate.call(this);var t=this.manager.context.currentTime;this.source&&"number"==typeof this.totalRate&&this.source.playbackRate.setValueAtTime(this.totalRate,t),this.isPlaying&&(this.rateUpdates.push({time:Math.max(this.startTime,t)-this.playTime,rate:this.totalRate}),this.loopSource&&(this.stopAndRemoveLoopBufferSource(),this.createAndStartLoopBufferSource()))},getCurrentTime:function(){for(var t=0,e=0;e<this.rateUpdates.length;e++){t+=((e<this.rateUpdates.length-1?this.rateUpdates[e+1].time:this.manager.context.currentTime-this.playTime)-this.rateUpdates[e].time)*this.rateUpdates[e].rate}return t},getLoopTime:function(){for(var t=0,e=0;e<this.rateUpdates.length-1;e++)t+=(this.rateUpdates[e+1].time-this.rateUpdates[e].time)*this.rateUpdates[e].rate;var i=this.rateUpdates[this.rateUpdates.length-1];return this.playTime+i.time+(this.duration-t)/i.rate},rate:{get:function(){return this.currentConfig.rate},set:function(t){this.currentConfig.rate=t,this.calculateRate(),this.emit("rate",this,t)}},setRate:function(t){return this.rate=t,this},detune:{get:function(){return this.currentConfig.detune},set:function(t){this.currentConfig.detune=t,this.calculateRate(),this.emit("detune",this,t)}},setDetune:function(t){return this.detune=t,this},mute:{get:function(){return 0===this.muteNode.gain.value},set:function(t){this.currentConfig.mute=t,this.muteNode.gain.setValueAtTime(t?0:1,0),this.emit("mute",this,t)}},setMute:function(t){return this.mute=t,this},volume:{get:function(){return this.volumeNode.gain.value},set:function(t){this.currentConfig.volume=t,this.volumeNode.gain.setValueAtTime(t,0),this.emit("volume",this,t)}},setVolume:function(t){return this.volume=t,this},seek:{get:function(){return this.isPlaying?this.manager.context.currentTime<this.startTime?this.startTime-this.playTime:this.getCurrentTime():this.isPaused?this.currentConfig.seek:0},set:function(t){this.manager.context.currentTime<this.startTime||(this.isPlaying||this.isPaused)&&(t=Math.min(Math.max(0,t),this.duration),this.currentConfig.seek=t,this.isPlaying&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource()),this.emit("seek",this,t))}},setSeek:function(t){return this.seek=t,this},loop:{get:function(){return this.currentConfig.loop},set:function(t){this.currentConfig.loop=t,this.isPlaying&&(this.stopAndRemoveLoopBufferSource(),t&&this.createAndStartLoopBufferSource()),this.emit("loop",this,t)}},setLoop:function(t){return this.loop=t,this}});t.exports=r},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(28),r=i(627),s=i(0),o=i(51),a=i(26),h=i(8),u=i(278),c=i(4),l=i(327),f=i(169),d=new s({Extends:h,initialize:function(t){h.call(this),this.game=t,this.name="TextureManager",this.list={},this._tempCanvas=n.create2D(this,1,1),this._tempContext=this._tempCanvas.getContext("2d"),this._pending=0,t.events.once("boot",this.boot,this)},boot:function(){this._pending=2,this.on("onload",this.updatePending,this),this.on("onerror",this.updatePending,this),this.addBase64("__DEFAULT",this.game.config.defaultImage),this.addBase64("__MISSING",this.game.config.missingImage),this.game.events.once("destroy",this.destroy,this)},updatePending:function(){this._pending--,0===this._pending&&(this.off("onload"),this.off("onerror"),this.game.events.emit("texturesready"))},checkKey:function(t){return!this.exists(t)||(console.error("Texture key already in use: "+t),!1)},remove:function(t){if("string"==typeof t){if(!this.exists(t))return console.warn("No texture found matching key: "+t),this;t=this.get(t)}return this.list.hasOwnProperty(t.key)&&(delete this.list[t.key],t.destroy(),this.emit("removetexture",t.key)),this},addBase64:function(t,e){if(this.checkKey(t)){var i=this,n=new Image;n.onerror=function(){i.emit("onerror",t)},n.onload=function(){var e=i.create(t,n);l.Image(e,0),i.emit("addtexture",t,e),i.emit("onload",t,e)},n.src=e}return this},getBase64:function(t,e,i,r){void 0===i&&(i="image/png"),void 0===r&&(r=.92);var s="",o=this.getFrame(t,e);if(o){var a=o.canvasData,h=n.create2D(this,a.width,a.height);h.getContext("2d").drawImage(o.source.image,a.x,a.y,a.width,a.height,0,0,a.width,a.height),s=h.toDataURL(i,r),n.remove(h)}return s},addImage:function(t,e,i){var n=null;return this.checkKey(t)&&(n=this.create(t,e),l.Image(n,0),i&&n.setDataSource(i),this.emit("addtexture",t,n)),n},addRenderTexture:function(t,e){var i=null;return this.checkKey(t)&&((i=this.create(t,e)).add("__BASE",0,0,0,e.width,e.height),this.emit("addtexture",t,i)),i},generate:function(t,e){if(this.checkKey(t)){var i=n.create(this,1,1);return e.canvas=i,u(e),this.addCanvas(t,i)}return null},createCanvas:function(t,e,i){if(void 0===e&&(e=256),void 0===i&&(i=256),this.checkKey(t)){var r=n.create(this,e,i,a.CANVAS,!0);return this.addCanvas(t,r)}return null},addCanvas:function(t,e,i){void 0===i&&(i=!1);var n=null;return i?n=new r(this,t,e,e.width,e.height):this.checkKey(t)&&(n=new r(this,t,e,e.width,e.height),this.list[t]=n,this.emit("addtexture",t,n)),n},addAtlas:function(t,e,i,n){return Array.isArray(i.textures)||Array.isArray(i.frames)?this.addAtlasJSONArray(t,e,i,n):this.addAtlasJSONHash(t,e,i,n)},addAtlasJSONArray:function(t,e,i,n){var r=null;if(this.checkKey(t)){if(r=this.create(t,e),Array.isArray(i))for(var s=1===i.length,o=0;o<r.source.length;o++){var a=s?i[0]:i[o];l.JSONArray(r,o,a)}else l.JSONArray(r,0,i);n&&r.setDataSource(n),this.emit("addtexture",t,r)}return r},addAtlasJSONHash:function(t,e,i,n){var r=null;if(this.checkKey(t)){if(r=this.create(t,e),Array.isArray(i))for(var s=0;s<i.length;s++)l.JSONHash(r,s,i[s]);else l.JSONHash(r,0,i);n&&r.setDataSource(n),this.emit("addtexture",t,r)}return r},addAtlasXML:function(t,e,i,n){var r=null;return this.checkKey(t)&&(r=this.create(t,e),l.AtlasXML(r,0,i),n&&r.setDataSource(n),this.emit("addtexture",t,r)),r},addUnityAtlas:function(t,e,i,n){var r=null;return this.checkKey(t)&&(r=this.create(t,e),l.UnityYAML(r,0,i),n&&r.setDataSource(n),this.emit("addtexture",t,r)),r},addSpriteSheet:function(t,e,i){var n=null;if(this.checkKey(t)){var r=(n=this.create(t,e)).source[0].width,s=n.source[0].height;l.SpriteSheet(n,0,0,0,r,s,i),this.emit("addtexture",t,n)}return n},addSpriteSheetFromAtlas:function(t,e){if(!this.checkKey(t))return null;var i=c(e,"atlas",null),n=c(e,"frame",null);if(i&&n){var r=this.get(i).get(n);if(r){var s=this.create(t,r.source.image);return r.trimmed?l.SpriteSheetFromAtlas(s,r,e):l.SpriteSheet(s,0,r.cutX,r.cutY,r.cutWidth,r.cutHeight,e),this.emit("addtexture",t,s),s}}},create:function(t,e,i,n){var r=null;return this.checkKey(t)&&(r=new f(this,t,e,i,n),this.list[t]=r),r},exists:function(t){return this.list.hasOwnProperty(t)},get:function(t){return void 0===t&&(t="__DEFAULT"),this.list[t]?this.list[t]:this.list.__MISSING},cloneFrame:function(t,e){if(this.list[t])return this.list[t].get(e).clone()},getFrame:function(t,e){if(this.list[t])return this.list[t].get(e)},getTextureKeys:function(){var t=[];for(var e in this.list)"__DEFAULT"!==e&&"__MISSING"!==e&&t.push(e);return t},getPixel:function(t,e,i,n){var r=this.getFrame(i,n);if(r){t-=r.x,e-=r.y;var s=r.data.cut;if(t+=s.x,e+=s.y,t>=s.x&&t<s.r&&e>=s.y&&e<s.b){var a=this._tempContext;a.clearRect(0,0,1,1),a.drawImage(r.source.image,t,e,1,1,0,0,1,1);var h=a.getImageData(0,0,1,1);return new o(h.data[0],h.data[1],h.data[2],h.data[3])}}return null},getPixelAlpha:function(t,e,i,n){var r=this.getFrame(i,n);if(r){t-=r.x,e-=r.y;var s=r.data.cut;if(t+=s.x,e+=s.y,t>=s.x&&t<s.r&&e>=s.y&&e<s.b){var o=this._tempContext;return o.clearRect(0,0,1,1),o.drawImage(r.source.image,t,e,1,1,0,0,1,1),o.getImageData(0,0,1,1).data[3]}}return null},setTexture:function(t,e,i){return this.list[e]&&(t.texture=this.list[e],t.frame=t.texture.get(i)),t},renameTexture:function(t,e){var i=this.get(t);return!(!i||t===e)&&(i.key=e,this.list[e]=i,delete this.list[t],!0)},each:function(t,e){for(var i=[null],n=1;n<arguments.length;n++)i.push(arguments[n]);for(var r in this.list)i[0]=this.list[r],t.apply(e,i)},destroy:function(){for(var t in this.list)this.list[t].destroy();this.list={},this.game=null,n.remove(this._tempCanvas)}});t.exports=d},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(28),r=i(0),s=i(108),o=i(83),a=new r({initialize:function(t,e,i,n){var r=t.manager.game;this.renderer=r.renderer,this.texture=t,this.source=e,this.image=e,this.compressionAlgorithm=null,this.resolution=1,this.width=i||e.naturalWidth||e.width||0,this.height=n||e.naturalHeight||e.height||0,this.scaleMode=o.DEFAULT,this.isCanvas=e instanceof HTMLCanvasElement,this.isRenderTexture="RenderTexture"===e.type,this.isPowerOf2=s(this.width,this.height),this.glTexture=null,this.init(r)},init:function(t){this.renderer&&(this.renderer.gl?this.isCanvas?this.glTexture=this.renderer.canvasToTexture(this.image):this.isRenderTexture?(this.image=this.source.canvas,this.glTexture=this.renderer.createTextureFromSource(null,this.width,this.height,this.scaleMode)):this.glTexture=this.renderer.createTextureFromSource(this.image,this.width,this.height,this.scaleMode):this.isRenderTexture&&(this.image=this.source.canvas)),t.config.antialias||this.setFilter(1)},setFilter:function(t){this.renderer.gl&&this.renderer.setTextureFilter(this.glTexture,t)},update:function(){this.renderer.gl&&this.isCanvas&&this.renderer.canvasToTexture(this.image,this.glTexture)},destroy:function(){this.glTexture&&this.renderer.deleteTexture(this.glTexture),this.isCanvas&&n.remove(this.image),this.renderer=null,this.texture=null,this.source=null,this.image=null,this.glTexture=null}});t.exports=a},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={AtlasXML:i(628),Canvas:i(629),Image:i(630),JSONArray:i(631),JSONHash:i(632),SpriteSheet:i(633),SpriteSheetFromAtlas:i(634),UnityYAML:i(635)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(640),r=i(0),s=i(86),o=i(8),a=i(641),h=i(643),u=i(644),c=new r({Extends:o,initialize:function(t){o.call(this),this.game=t,this.data=new s(this),this.on("setdata",this.setDataHandler,this),this.on("changedata",this.changeDataHandler,this),this.hasLoaded=!1,this.dataLocked=!1,this.supportedAPIs=[],this.entryPoint="",this.entryPointData=null,this.contextID=null,this.contextType=null,this.locale=null,this.platform=null,this.version=null,this.playerID=null,this.playerName=null,this.playerPhotoURL=null,this.playerCanSubscribeBot=!1,this.paymentsReady=!1,this.catalog=[],this.purchases=[],this.leaderboards={},this.ads=[]},setDataHandler:function(t,e,i){if(!this.dataLocked){console.log("set data:",e,i);var n={};n[e]=i;var r=this;FBInstant.player.setDataAsync(n).then(function(){console.log("sdh saved",n),r.emit("savedata",n)})}},changeDataHandler:function(t,e,i){if(!this.dataLocked){console.log("change data:",e,i);var n={};n[e]=i;var r=this;FBInstant.player.setDataAsync(n).then(function(){console.log("cdh saved",n),r.emit("savedata",n)})}},showLoadProgress:function(t){return t.load.on("progress",function(t){this.hasLoaded||(console.log(t),FBInstant.setLoadingProgress(100*t))},this),t.load.on("complete",function(){this.hasLoaded=!0,console.log("loaded"),FBInstant.startGameAsync().then(this.gameStarted.bind(this))},this),this},gameStarted:function(){console.log("FBP gameStarted");var t=FBInstant.getSupportedAPIs(),e={},i=function(t){return t[1].toUpperCase()};t.forEach(function(t){t=t.replace(/\../g,i),e[t]=!0}),this.supportedAPIs=e,console.log(this.supportedAPIs),this.getID(),this.getType(),this.getLocale(),this.getPlatform(),this.getSDKVersion(),this.getPlayerID(),this.getPlayerName(),this.getPlayerPhotoURL();var n=this;FBInstant.onPause(function(){n.emit("pause")}),FBInstant.getEntryPointAsync().then(function(t){n.entryPoint=t,n.entryPointData=FBInstant.getEntryPointData(),n.emit("startgame")}).catch(function(t){console.warn(t)}),this.supportedAPIs.paymentsPurchaseAsync&&FBInstant.payments.onReady(function(){console.log("payments ready"),n.paymentsReady=!0}).catch(function(t){console.warn(t)})},checkAPI:function(t){return!!this.supportedAPIs[t]||(console.warn(t+" not supported"),!1)},getID:function(){return!this.contextID&&this.supportedAPIs.contextGetID&&(this.contextID=FBInstant.context.getID()),this.contextID},getType:function(){return!this.contextType&&this.supportedAPIs.contextGetType&&(this.contextType=FBInstant.context.getType()),this.contextType},getLocale:function(){return!this.locale&&this.supportedAPIs.getLocale&&(this.locale=FBInstant.getLocale()),this.locale},getPlatform:function(){return!this.platform&&this.supportedAPIs.getPlatform&&(this.platform=FBInstant.getPlatform()),this.platform},getSDKVersion:function(){return!this.version&&this.supportedAPIs.getSDKVersion&&(this.version=FBInstant.getSDKVersion()),this.version},getPlayerID:function(){return!this.playerID&&this.supportedAPIs.playerGetID&&(this.playerID=FBInstant.player.getID()),this.playerID},getPlayerName:function(){return!this.playerName&&this.supportedAPIs.playerGetName&&(this.playerName=FBInstant.player.getName()),this.playerName},getPlayerPhotoURL:function(){return!this.playerPhotoURL&&this.supportedAPIs.playerGetPhoto&&(this.playerPhotoURL=FBInstant.player.getPhoto()),this.playerPhotoURL},loadPlayerPhoto:function(t,e){return this.playerPhotoURL&&(console.log("load"),t.load.setCORS("anonymous"),t.load.image(e,this.playerPhotoURL),t.load.on("complete",function(){this.emit("photocomplete",e)},this),t.load.start()),this},canSubscribeBot:function(){if(this.supportedAPIs.playerCanSubscribeBotAsync){var t=this;FBInstant.player.canSubscribeBotAsync().then(function(){t.playerCanSubscribeBot=!0,t.emit("cansubscribebot")})}return this},subscribeBot:function(){if(this.playerCanSubscribeBot){var t=this;FBInstant.player.subscribeBotAsync().then(function(){t.emit("subscribebot")}).catch(function(){t.emit("subscribebotfailed")})}return this},getData:function(t){if(!this.checkAPI("playerGetDataAsync"))return this;Array.isArray(t)||(t=[t]),console.log("getdata",t);var e=this;return FBInstant.player.getDataAsync(t).then(function(t){for(var i in console.log("getdata req",t),e.dataLocked=!0,t)e.data.set(i,t[i]);e.dataLocked=!1,e.emit("getdata",t)}),this},saveData:function(t){if(!this.checkAPI("playerSetDataAsync"))return this;var e=this;return FBInstant.player.setDataAsync(t).then(function(){console.log("data saved to fb"),e.emit("savedata",t)}),this},flushData:function(){if(!this.checkAPI("playerFlushDataAsync"))return this;var t=this;return FBInstant.player.flushDataAsync().then(function(){console.log("data flushed"),t.emit("flushdata")}),this},getStats:function(t){if(!this.checkAPI("playerGetStatsAsync"))return this;var e=this;return FBInstant.player.getStatsAsync(t).then(function(t){console.log("stats got from fb"),e.emit("getstats",t)}),this},saveStats:function(t){if(!this.checkAPI("playerSetStatsAsync"))return this;var e={};for(var i in t)"number"==typeof t[i]&&(e[i]=t[i]);var n=this;return FBInstant.player.setStatsAsync(e).then(function(){console.log("stats saved to fb"),n.emit("savestats",e)}),this},incStats:function(t){if(!this.checkAPI("playerIncrementStatsAsync"))return this;var e={};for(var i in t)"number"==typeof t[i]&&(e[i]=t[i]);var n=this;return FBInstant.player.incrementStatsAsync(e).then(function(t){console.log("stats modified"),n.emit("incstats",t)}),this},saveSession:function(t){return this.checkAPI("setSessionData")?(JSON.stringify(t).length<=1e3?FBInstant.setSessionData(t):console.warn("Session data too long. Max 1000 chars."),this):this},openShare:function(t,e,i,n){return this._share("SHARE",t,e,i,n)},openInvite:function(t,e,i,n){return this._share("INVITE",t,e,i,n)},openRequest:function(t,e,i,n){return this._share("REQUEST",t,e,i,n)},openChallenge:function(t,e,i,n){return this._share("CHALLENGE",t,e,i,n)},_share:function(t,e,i,n,r){if(!this.checkAPI("shareAsync"))return this;if(void 0===r&&(r={}),i)var s=this.game.textures.getBase64(i,n);var o={intent:t,image:s,text:e,data:r},a=this;return FBInstant.shareAsync(o).then(function(){a.emit("resume")}),this},isSizeBetween:function(t,e){return this.checkAPI("contextIsSizeBetween")?FBInstant.context.isSizeBetween(t,e):this},switchContext:function(t){if(!this.checkAPI("contextSwitchAsync"))return this;if(t!==this.contextID){var e=this;FBInstant.context.switchAsync(t).then(function(){e.contextID=FBInstant.context.getID(),e.emit("switch",e.contextID)})}return this},chooseContext:function(t){if(!this.checkAPI("contextChoseAsync"))return this;var e=this;return FBInstant.context.chooseAsync(t).then(function(){e.contextID=FBInstant.context.getID(),e.emit("choose",e.contextID)}),this},createContext:function(t){if(!this.checkAPI("contextCreateAsync"))return this;var e=this;return FBInstant.context.createAsync(t).then(function(){e.contextID=FBInstant.context.getID(),e.emit("create",e.contextID)}),this},getPlayers:function(){if(!this.checkAPI("playerGetConnectedPlayersAsync"))return this;var t=this;return FBInstant.player.getConnectedPlayersAsync().then(function(e){console.log("got player data"),console.log(e),t.emit("players",e)}),this},getCatalog:function(){if(!this.paymentsReady)return this;var t=this,e=this.catalog;return FBInstant.payments.getCatalogAsync().then(function(i){console.log("got catalog"),e=[],i.forEach(function(t){e.push(h(t))}),t.emit("getcatalog",e)}),this},purchase:function(t,e){if(!this.paymentsReady)return this;var i={productID:t};e&&(i.developerPayload=e);var n=this;return FBInstant.payments.purchaseAsync(i).then(function(t){var e=u(t);console.log("product purchase",e),n.emit("purchase",e)}),this},getPurchases:function(){if(!this.paymentsReady)return this;var t=this,e=this.purchases;return FBInstant.payments.getPurchasesAsync().then(function(i){console.log("got purchases"),e=[],i.forEach(function(t){e.push(u(t))}),t.emit("getpurchases",e)}),this},consumePurchases:function(t){if(!this.paymentsReady)return this;var e=this;return FBInstant.payments.consumePurchaseAsync(t).then(function(){console.log("purchase consumed"),e.emit("consumepurchase",t)}),this},update:function(t,e,i,n,r,s){return this._update("CUSTOM",t,e,i,n,r,s)},updateLeaderboard:function(t,e,i,n,r,s){return this._update("LEADERBOARD",t,e,i,n,r,s)},_update:function(t,e,i,n,r,s,o){if(!this.checkAPI("shareAsync"))return this;if(void 0===e&&(e=""),"string"==typeof i&&(i={default:i}),void 0===o&&(o={}),n)var a=this.game.textures.getBase64(n,r);var h={action:t,cta:e,image:a,text:i,template:s,data:o,strategy:"IMMEDIATE",notification:"NO_PUSH"},u=this;return FBInstant.updateAsync(h).then(function(){u.emit("update")}),this},switchGame:function(t,e){if(!this.checkAPI("switchGameAsync"))return this;if(e&&JSON.stringify(e).length>1e3)return console.warn("Switch Game data too long. Max 1000 chars."),this;var i=this;return FBInstant.switchGameAsync(t,e).then(function(){i.emit("switchgame",t)}),this},createShortcut:function(){var t=this;FBInstant.canCreateShortcutAsync().then(function(e){e&&FBInstant.createShortcutAsync().then(function(){t.emit("shortcutcreated")}).catch(function(){t.emit("shortcutfailed")})})},quit:function(){FBInstant.quit()},log:function(t,e,i){return this.checkAPI("logEvent")?(void 0===i&&(i={}),t.length>=2&&t.length<=40&&FBInstant.logEvent(t,parseFloat(e),i),this):this},preloadAds:function(t){if(!this.checkAPI("getInterstitialAdAsync"))return this;var e;Array.isArray(t)||(t=[t]);var i=this,r=0;for(e=0;e<this.ads.length;e++)this.ads[e].shown||r++;if(r+t.length>=3)return console.warn("Too many AdInstances. Show an ad before loading more"),this;for(e=0;e<t.length;e++){var s=t[e];FBInstant.getInterstitialAdAsync(s).then(function(t){console.log("ad preloaded");var e=n(t,!0);return i.ads.push(e),e.loadAsync()}).catch(function(t){console.error(t)})}return this},preloadVideoAds:function(t){if(!this.checkAPI("getRewardedVideoAsync"))return this;var e;Array.isArray(t)||(t=[t]);var i=this,r=0;for(e=0;e<this.ads.length;e++)this.ads[e].shown||r++;if(r+t.length>=3)return console.warn("Too many AdInstances. Show an ad before loading more"),this;for(e=0;e<t.length;e++){var s=t[e];FBInstant.getRewardedVideoAsync(s).then(function(t){console.log("video ad preloaded");var e=n(t,!0);return i.ads.push(e),e.loadAsync()}).catch(function(t){console.error(t)})}return this},showAd:function(t){for(var e=this,i=0;i<this.ads.length;i++){var n=this.ads[i];n.placementID===t&&n.instance.showAsync().then(function(){n.shown=!0,e.emit("showad",n)}).catch(function(t){"ADS_NO_FILL"===t.code?e.emit("adsnofill"):console.error(t)})}return this},showVideo:function(t){for(var e=this,i=0;i<this.ads.length;i++){var n=this.ads[i];n.placementID===t&&n.video&&n.instance.showAsync().then(function(){n.shown=!0,e.emit("showvideo",n)}).catch(function(t){"ADS_NO_FILL"===t.code?e.emit("adsnofill"):console.error(t)})}return this},matchPlayer:function(t,e){if(void 0===t&&(t=null),void 0===e&&(e=!1),!this.checkAPI("matchPlayerAsync"))return this;var i=this;return FBInstant.matchPlayerAsync(t,e).then(function(){console.log("match player"),i.getID(),i.getType(),i.emit("matchplayer",i.contextID,i.contextType)}),this},getLeaderboard:function(t){if(!this.checkAPI("getLeaderboardAsync"))return this;var e=this;return FBInstant.getLeaderboardAsync(t).then(function(i){console.log("leaderboard"),console.log(i);var n=new a(e,i);e.leaderboards[t]=n,e.emit("getleaderboard",n)}).catch(function(t){console.warn(t)}),this},destroy:function(){FBInstant.quit(),this.game=null}});t.exports=c},function(t,e){t.exports=function(t){for(var e=t.length,i=t[0].length,n=new Array(i),r=0;r<i;r++){n[r]=new Array(e);for(var s=e-1;s>-1;s--)n[r][s]=t[s][r]}return n}},function(t,e){t.exports=function(t){return t>0?Math.ceil(t):Math.floor(t)}},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t,e,s,o,a){for(s=s||0,o=o||t.length-1,a=a||r;o>s;){if(o-s>600){var h=o-s+1,u=e-s+1,c=Math.log(h),l=.5*Math.exp(2*c/3),f=.5*Math.sqrt(c*l*(h-l)/h)*(u-h/2<0?-1:1),d=Math.max(s,Math.floor(e-u*l/h+f)),p=Math.min(o,Math.floor(e+(h-u)*l/h+f));i(t,e,d,p,a)}var g=t[e],v=s,y=o;for(n(t,s,e),a(t[o],g)>0&&n(t,s,o);v<y;){for(n(t,v,y),v++,y--;a(t[v],g)<0;)v++;for(;a(t[y],g)>0;)y--}0===a(t[s],g)?n(t,s,y):n(t,++y,o),y<=e&&(s=y+1),e<=y&&(o=y-1)}};function n(t,e,i){var n=t[e];t[e]=t[i],t[i]=n}function r(t,e){return t<e?-1:t>e?1:0}t.exports=i},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(4),r=i(103),s=function(t,e,i){for(var n=[],r=0;r<t.length;r++)for(var s=0;s<e.length;s++)for(var o=0;o<i;o++)n.push({a:t[r],b:e[s]});return n};t.exports=function(t,e,i){var o=n(i,"max",0),a=n(i,"qty",1),h=n(i,"random",!1),u=n(i,"randomB",!1),c=n(i,"repeat",0),l=n(i,"yoyo",!1),f=[];if(u&&r(e),-1===c)if(0===o)c=0;else{var d=t.length*e.length*a;l&&(d*=2),c=Math.ceil(o/d)}for(var p=0;p<=c;p++){var g=s(t,e,a);h&&r(g),f=f.concat(g),l&&(g.reverse(),f=f.concat(g))}return o&&f.splice(o),f}},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
function i(t,e){return parseInt(t.getAttribute(e),10)}t.exports=function(t,e,n,r){void 0===e&&(e=0),void 0===n&&(n=0);var s={},o=t.getElementsByTagName("info")[0],a=t.getElementsByTagName("common")[0];s.font=o.getAttribute("face"),s.size=i(o,"size"),s.lineHeight=i(a,"lineHeight")+n,s.chars={};var h=t.getElementsByTagName("char"),u=void 0!==r&&r.trimmed;if(u)var c=r.height,l=r.width;for(var f=0;f<h.length;f++){var d=h[f],p=i(d,"id"),g=i(d,"x"),v=i(d,"y"),y=i(d,"width"),m=i(d,"height");u&&(g<l&&(l=g),v<c&&(c=v)),s.chars[p]={x:g,y:v,width:y,height:m,centerX:Math.floor(y/2),centerY:Math.floor(m/2),xOffset:i(d,"xoffset"),yOffset:i(d,"yoffset"),xAdvance:i(d,"xadvance")+e,data:{},kerning:{}}}if(u&&0!==c&&0!==l)for(var x in s.chars){var b=s.chars[x];b.x-=r.x,b.y-=r.y}var w=t.getElementsByTagName("kerning");for(f=0;f<w.length;f++){var T=w[f],S=i(T,"first"),_=i(T,"second"),A=i(T,"amount");s.chars[_].kerning[S]=A}return s}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(9);t.exports=function(t,e,i){void 0===i&&(i=new n);var r=Math.min(t.x,e.x),s=Math.min(t.y,e.y),o=Math.max(t.right,e.right)-r,a=Math.max(t.bottom,e.bottom)-s;return i.setTo(r,s,o,a)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(179),r=i(85),s=i(18),o=i(5);t.exports=function(t,e,i){void 0===i&&(i=new o);var a=r(e,0,s.PI2);return n(t,a,i)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(337),r=i(179),s=i(85),o=i(18);t.exports=function(t,e,i,a){void 0===a&&(a=[]),e||(e=n(t)/i);for(var h=0;h<e;h++){var u=s(h/e,0,o.PI2);a.push(r(t,u))}return a}},function(t,e){t.exports=function(t){var e=t.width/2,i=t.height/2,n=Math.pow(e-i,2)/Math.pow(e+i,2);return Math.PI*(e+i)*(1+3*n/(10+Math.sqrt(4-3*n)))}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(178),r=i(117);t.exports=function(t,e,i,s,o,a,h){var u=e.commandBuffer,c=u.length,l=a||t.currentContext;if(0!==c&&r(t,l,e,s,o)){var f=1,d=1,p=0,g=0,v=1,y=0,m=0,x=0;l.fillStyle="#fff";for(var b=0;b<c;++b)switch(u[b]){case n.ARC:l.arc(u[b+1],u[b+2],u[b+3],u[b+4],u[b+5],u[b+6]),b+=7;break;case n.LINE_STYLE:v=u[b+1],p=u[b+2],f=u[b+3],y=(16711680&p)>>>16,m=(65280&p)>>>8,x=255&p,l.strokeStyle="rgba("+y+","+m+","+x+","+f+")",l.lineWidth=v,b+=3;break;case n.FILL_STYLE:g=u[b+1],d=u[b+2],y=(16711680&g)>>>16,m=(65280&g)>>>8,x=255&g,l.fillStyle="rgba("+y+","+m+","+x+","+d+")",b+=2;break;case n.BEGIN_PATH:l.beginPath();break;case n.CLOSE_PATH:l.closePath();break;case n.FILL_PATH:h||l.fill();break;case n.STROKE_PATH:h||l.stroke();break;case n.FILL_RECT:h?l.rect(u[b+1],u[b+2],u[b+3],u[b+4]):l.fillRect(u[b+1],u[b+2],u[b+3],u[b+4]),b+=4;break;case n.FILL_TRIANGLE:l.beginPath(),l.moveTo(u[b+1],u[b+2]),l.lineTo(u[b+3],u[b+4]),l.lineTo(u[b+5],u[b+6]),l.closePath(),h||l.fill(),b+=6;break;case n.STROKE_TRIANGLE:l.beginPath(),l.moveTo(u[b+1],u[b+2]),l.lineTo(u[b+3],u[b+4]),l.lineTo(u[b+5],u[b+6]),l.closePath(),h||l.stroke(),b+=6;break;case n.LINE_TO:l.lineTo(u[b+1],u[b+2]),b+=2;break;case n.MOVE_TO:l.moveTo(u[b+1],u[b+2]),b+=2;break;case n.LINE_FX_TO:l.lineTo(u[b+1],u[b+2]),b+=5;break;case n.MOVE_FX_TO:l.moveTo(u[b+1],u[b+2]),b+=5;break;case n.SAVE:l.save();break;case n.RESTORE:l.restore();break;case n.TRANSLATE:l.translate(u[b+1],u[b+2]),b+=2;break;case n.SCALE:l.scale(u[b+1],u[b+2]),b+=2;break;case n.ROTATE:l.rotate(u[b+1]),b+=1;break;case n.GRADIENT_FILL_STYLE:b+=5;break;case n.GRADIENT_LINE_STYLE:b+=6;break;case n.SET_TEXTURE:b+=2}l.restore()}}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(1),s=new n({initialize:function(t,e,i,n,s){if("object"==typeof t){var o=t;t=r(o,"x",0),e=r(o,"y",0),i=r(o,"power",0),n=r(o,"epsilon",100),s=r(o,"gravity",50)}else void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=100),void 0===s&&(s=50);this.x=t,this.y=e,this.active=!0,this._gravity=s,this._power=0,this._epsilon=0,this.power=i,this.epsilon=n},update:function(t,e){var i=this.x-t.x,n=this.y-t.y,r=i*i+n*n;if(0!==r){var s=Math.sqrt(r);r<this._epsilon&&(r=this._epsilon);var o=this._power*e/(r*s)*100;t.velocityX+=i*o,t.velocityY+=n*o}},epsilon:{get:function(){return Math.sqrt(this._epsilon)},set:function(t){this._epsilon=t*t}},power:{get:function(){return this._power/this._gravity},set:function(t){this._power=t*this._gravity}},gravity:{get:function(){return this._gravity},set:function(t){var e=this.power;this._gravity=t,this.power=e}}});t.exports=s},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(50),s=i(58),o=new n({initialize:function(t){this.emitter=t,this.frame=null,this.index=0,this.x=0,this.y=0,this.velocityX=0,this.velocityY=0,this.accelerationX=0,this.accelerationY=0,this.maxVelocityX=1e4,this.maxVelocityY=1e4,this.bounce=0,this.scaleX=1,this.scaleY=1,this.alpha=1,this.angle=0,this.rotation=0,this.tint=16777215,this.life=1e3,this.lifeCurrent=1e3,this.delayCurrent=0,this.lifeT=0,this.data={tint:{min:16777215,max:16777215,current:16777215},alpha:{min:1,max:1},rotate:{min:0,max:0},scaleX:{min:1,max:1},scaleY:{min:1,max:1}}},isAlive:function(){return this.lifeCurrent>0},fire:function(t,e){var i=this.emitter;this.frame=i.getFrame(),i.emitZone&&i.emitZone.getPoint(this),void 0===t?(i.follow&&(this.x+=i.follow.x+i.followOffset.x),this.x+=i.x.onEmit(this,"x")):this.x+=t,void 0===e?(i.follow&&(this.y+=i.follow.y+i.followOffset.y),this.y+=i.y.onEmit(this,"y")):this.y+=e,this.life=i.lifespan.onEmit(this,"lifespan"),this.lifeCurrent=this.life,this.lifeT=0;var n=i.speedX.onEmit(this,"speedX"),o=i.speedY?i.speedY.onEmit(this,"speedY"):n;if(i.radial){var a=r(i.angle.onEmit(this,"angle"));this.velocityX=Math.cos(a)*Math.abs(n),this.velocityY=Math.sin(a)*Math.abs(o)}else if(i.moveTo){var h=i.moveToX.onEmit(this,"moveToX"),u=i.moveToY?i.moveToY.onEmit(this,"moveToY"):h,c=Math.atan2(u-this.y,h-this.x),l=s(this.x,this.y,h,u)/(this.life/1e3);this.velocityX=Math.cos(c)*l,this.velocityY=Math.sin(c)*l}else this.velocityX=n,this.velocityY=o;i.acceleration&&(this.accelerationX=i.accelerationX.onEmit(this,"accelerationX"),this.accelerationY=i.accelerationY.onEmit(this,"accelerationY")),this.maxVelocityX=i.maxVelocityX.onEmit(this,"maxVelocityX"),this.maxVelocityY=i.maxVelocityY.onEmit(this,"maxVelocityY"),this.delayCurrent=i.delay.onEmit(this,"delay"),this.scaleX=i.scaleX.onEmit(this,"scaleX"),this.scaleY=i.scaleY?i.scaleY.onEmit(this,"scaleY"):this.scaleX,this.angle=i.rotate.onEmit(this,"rotate"),this.rotation=r(this.angle),this.bounce=i.bounce.onEmit(this,"bounce"),this.alpha=i.alpha.onEmit(this,"alpha"),this.tint=i.tint.onEmit(this,"tint"),this.index=i.alive.length},computeVelocity:function(t,e,i,n){var r=this.velocityX,s=this.velocityY,o=this.accelerationX,a=this.accelerationY,h=this.maxVelocityX,u=this.maxVelocityY;r+=t.gravityX*i,s+=t.gravityY*i,o&&(r+=o*i),a&&(s+=a*i),r>h?r=h:r<-h&&(r=-h),s>u?s=u:s<-u&&(s=-u),this.velocityX=r,this.velocityY=s;for(var c=0;c<n.length;c++)n[c].update(this,e,i)},checkBounds:function(t){var e=t.bounds,i=-this.bounce;this.x<e.x&&t.collideLeft?(this.x=e.x,this.velocityX*=i):this.x>e.right&&t.collideRight&&(this.x=e.right,this.velocityX*=i),this.y<e.y&&t.collideTop?(this.y=e.y,this.velocityY*=i):this.y>e.bottom&&t.collideBottom&&(this.y=e.bottom,this.velocityY*=i)},update:function(t,e,i){if(this.delayCurrent>0)return this.delayCurrent-=t,!1;var n=this.emitter,s=1-this.lifeCurrent/this.life;return this.lifeT=s,this.computeVelocity(n,t,e,i),this.x+=this.velocityX*e,this.y+=this.velocityY*e,n.bounds&&this.checkBounds(n),n.deathZone&&n.deathZone.willKill(this)?(this.lifeCurrent=0,!0):(this.scaleX=n.scaleX.onUpdate(this,"scaleX",s,this.scaleX),n.scaleY?this.scaleY=n.scaleY.onUpdate(this,"scaleY",s,this.scaleY):this.scaleY=this.scaleX,this.angle=n.rotate.onUpdate(this,"rotate",s,this.angle),this.rotation=r(this.angle),this.alpha=n.alpha.onUpdate(this,"alpha",s,this.alpha),this.tint=n.tint.onUpdate(this,"tint",s,this.tint),this.lifeCurrent-=t,this.lifeCurrent<=0)}});t.exports=o},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(56),r=i(0),s=i(16),o=i(342),a=i(343),h=i(699),u=i(1),c=i(172),l=i(345),f=i(76),d=i(340),p=i(346),g=i(9),v=i(115),y=i(3),m=i(49),x=new r({Mixins:[s.BlendMode,s.Mask,s.ScrollFactor,s.Visible],initialize:function(t,e){this.manager=t,this.texture=t.texture,this.frames=[t.defaultFrame],this.defaultFrame=t.defaultFrame,this.configFastMap=["active","blendMode","collideBottom","collideLeft","collideRight","collideTop","deathCallback","deathCallbackScope","emitCallback","emitCallbackScope","follow","frequency","gravityX","gravityY","maxParticles","name","on","particleBringToTop","particleClass","radial","timeScale","trackVisible","visible"],this.configOpMap=["accelerationX","accelerationY","angle","alpha","bounce","delay","lifespan","maxVelocityX","maxVelocityY","moveToX","moveToY","quantity","rotate","scaleX","scaleY","speedX","speedY","tint","x","y"],this.name="",this.particleClass=d,this.x=new h(e,"x",0),this.y=new h(e,"y",0),this.radial=!0,this.gravityX=0,this.gravityY=0,this.acceleration=!1,this.accelerationX=new h(e,"accelerationX",0,!0),this.accelerationY=new h(e,"accelerationY",0,!0),this.maxVelocityX=new h(e,"maxVelocityX",1e4,!0),this.maxVelocityY=new h(e,"maxVelocityY",1e4,!0),this.speedX=new h(e,"speedX",0,!0),this.speedY=new h(e,"speedY",0,!0),this.moveTo=!1,this.moveToX=new h(e,"moveToX",0,!0),this.moveToY=new h(e,"moveToY",0,!0),this.bounce=new h(e,"bounce",0,!0),this.scaleX=new h(e,"scaleX",1),this.scaleY=new h(e,"scaleY",1),this.tint=new h(e,"tint",4294967295),this.alpha=new h(e,"alpha",1),this.lifespan=new h(e,"lifespan",1e3),this.angle=new h(e,"angle",{min:0,max:360}),this.rotate=new h(e,"rotate",0),this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.maxParticles=0,this.quantity=new h(e,"quantity",1,!0),this.delay=new h(e,"delay",0,!0),this.frequency=0,this.on=!0,this.particleBringToTop=!0,this.timeScale=1,this.emitZone=null,this.deathZone=null,this.bounds=null,this.collideLeft=!0,this.collideRight=!0,this.collideTop=!0,this.collideBottom=!0,this.active=!0,this.visible=!0,this.blendMode=n.NORMAL,this.follow=null,this.followOffset=new y,this.trackVisible=!1,this.currentFrame=0,this.randomFrame=!0,this.frameQuantity=1,this.dead=[],this.alive=[],this._counter=0,this._frameCounter=0,e&&this.fromJSON(e)},fromJSON:function(t){if(!t)return this;var e=0,i="";for(e=0;e<this.configFastMap.length;e++)i=this.configFastMap[e],f(t,i)&&(this[i]=u(t,i));for(e=0;e<this.configOpMap.length;e++)i=this.configOpMap[e],f(t,i)&&this[i].loadConfig(t);if(this.acceleration=0!==this.accelerationX.propertyValue||0!==this.accelerationY.propertyValue,this.moveTo=0!==this.moveToX.propertyValue||0!==this.moveToY.propertyValue,f(t,"speed")&&(this.speedX.loadConfig(t,"speed"),this.speedY=null),(l(t,["speedX","speedY"])||this.moveTo)&&(this.radial=!1),f(t,"scale")&&(this.scaleX.loadConfig(t,"scale"),this.scaleY=null),f(t,"callbackScope")){var n=u(t,"callbackScope",null);this.emitCallbackScope=n,this.deathCallbackScope=n}return f(t,"emitZone")&&this.setEmitZone(t.emitZone),f(t,"deathZone")&&this.setDeathZone(t.deathZone),f(t,"bounds")&&this.setBounds(t.bounds),f(t,"followOffset")&&this.followOffset.setFromObject(u(t,"followOffset",0)),f(t,"frame")&&this.setFrame(t.frame),this},toJSON:function(t){void 0===t&&(t={});var e=0,i="";for(e=0;e<this.configFastMap.length;e++)t[i=this.configFastMap[e]]=this[i];for(e=0;e<this.configOpMap.length;e++)this[i=this.configOpMap[e]]&&(t[i]=this[i].toJSON());return this.speedY||(delete t.speedX,t.speed=this.speedX.toJSON()),this.scaleY||(delete t.scaleX,t.scale=this.scaleX.toJSON()),t},startFollow:function(t,e,i,n){return void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=!1),this.follow=t,this.followOffset.set(e,i),this.trackVisible=n,this},stopFollow:function(){return this.follow=null,this.followOffset.set(0,0),this.trackVisible=!1,this},getFrame:function(){if(1===this.frames.length)return this.defaultFrame;if(this.randomFrame)return c(this.frames);var t=this.frames[this.currentFrame];return this._frameCounter++,this._frameCounter===this.frameQuantity&&(this._frameCounter=0,this.currentFrame=m(this.currentFrame+1,0,this._frameLength)),t},setFrame:function(t,e,i){void 0===e&&(e=!0),void 0===i&&(i=1),this.randomFrame=e,this.frameQuantity=i,this.currentFrame=0,this._frameCounter=0;var n=typeof t;if(Array.isArray(t)||"string"===n||"number"===n)this.manager.setEmitterFrames(t,this);else if("object"===n){var r=t;(t=u(r,"frames",null))&&this.manager.setEmitterFrames(t,this);var s=u(r,"cycle",!1);this.randomFrame=!s,this.frameQuantity=u(r,"quantity",i)}return this._frameLength=this.frames.length,1===this._frameLength&&(this.frameQuantity=1,this.randomFrame=!1),this},setRadial:function(t){return void 0===t&&(t=!0),this.radial=t,this},setPosition:function(t,e){return this.x.onChange(t),this.y.onChange(e),this},setBounds:function(t,e,i,n){if("object"==typeof t){var r=t;t=r.x,e=r.y,i=f(r,"w")?r.w:r.width,n=f(r,"h")?r.h:r.height}return this.bounds?this.bounds.setTo(t,e,i,n):this.bounds=new g(t,e,i,n),this},setSpeedX:function(t){return this.speedX.onChange(t),this.radial=!1,this},setSpeedY:function(t){return this.speedY&&(this.speedY.onChange(t),this.radial=!1),this},setSpeed:function(t){return this.speedX.onChange(t),this.speedY=null,this.radial=!0,this},setScaleX:function(t){return this.scaleX.onChange(t),this},setScaleY:function(t){return this.scaleY.onChange(t),this},setScale:function(t){return this.scaleX.onChange(t),this.scaleY=null,this},setGravityX:function(t){return this.gravityX=t,this},setGravityY:function(t){return this.gravityY=t,this},setGravity:function(t,e){return this.gravityX=t,this.gravityY=e,this},setAlpha:function(t){return this.alpha.onChange(t),this},setEmitterAngle:function(t){return this.angle.onChange(t),this},setAngle:function(t){return this.angle.onChange(t),this},setLifespan:function(t){return this.lifespan.onChange(t),this},setQuantity:function(t){return this.quantity.onChange(t),this},setFrequency:function(t,e){return this.frequency=t,this._counter=0,e&&this.quantity.onChange(e),this},setEmitZone:function(t){if(void 0===t)this.emitZone=null;else{var e=u(t,"type","random"),i=u(t,"source",null);switch(e){case"random":this.emitZone=new p(i);break;case"edge":var n=u(t,"quantity",1),r=u(t,"stepRate",0),s=u(t,"yoyo",!1),o=u(t,"seamless",!0);this.emitZone=new a(i,n,r,s,o)}}return this},setDeathZone:function(t){if(void 0===t)this.deathZone=null;else{var e=u(t,"type","onEnter"),i=u(t,"source",null);if(i&&"function"==typeof i.contains){var n="onEnter"===e;this.deathZone=new o(i,n)}}return this},reserve:function(t){for(var e=this.dead,i=0;i<t;i++)e.push(new this.particleClass(this));return this},getAliveParticleCount:function(){return this.alive.length},getDeadParticleCount:function(){return this.dead.length},getParticleCount:function(){return this.getAliveParticleCount()+this.getDeadParticleCount()},atLimit:function(){return this.maxParticles>0&&this.getParticleCount()===this.maxParticles},onParticleEmit:function(t,e){return void 0===t?(this.emitCallback=null,this.emitCallbackScope=null):"function"==typeof t&&(this.emitCallback=t,e&&(this.emitCallbackScope=e)),this},onParticleDeath:function(t,e){return void 0===t?(this.deathCallback=null,this.deathCallbackScope=null):"function"==typeof t&&(this.deathCallback=t,e&&(this.deathCallbackScope=e)),this},killAll:function(){for(var t=this.dead,e=this.alive;e.length>0;)t.push(e.pop());return this},forEachAlive:function(t,e){for(var i=this.alive,n=i.length,r=0;r<n;++r)t.call(e,i[r],this);return this},forEachDead:function(t,e){for(var i=this.dead,n=i.length,r=0;r<n;++r)t.call(e,i[r],this);return this},start:function(){return this.on=!0,this._counter=0,this},stop:function(){return this.on=!1,this},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},depthSort:function(){return v.inplace(this.alive,this.depthSortCallback),this},flow:function(t,e){return void 0===e&&(e=1),this.frequency=t,this.quantity.onChange(e),this.start()},explode:function(t,e,i){return this.frequency=-1,this.emitParticle(t,e,i)},emitParticleAt:function(t,e,i){return this.emitParticle(i,t,e)},emitParticle:function(t,e,i){if(!this.atLimit()){void 0===t&&(t=this.quantity.onEmit());for(var n=this.dead,r=0;r<t;r++){var s;if((s=n.length>0?n.pop():new this.particleClass(this)).fire(e,i),this.particleBringToTop?this.alive.push(s):this.alive.unshift(s),this.emitCallback&&this.emitCallback.call(this.emitCallbackScope,s,this),this.atLimit())break}return s}},preUpdate:function(t,e){var i=(e*=this.timeScale)/1e3;this.trackVisible&&(this.visible=this.follow.visible);for(var n=this.manager.getProcessors(),r=this.alive,s=r.length,o=0;o<s;o++){var a=r[o];if(a.update(e,i,n)){var h=r[s-1];r[s-1]=a,r[o]=h,o-=1,s-=1}}var u=r.length-s;if(u>0){var c=r.splice(r.length-u,u),l=this.deathCallback,f=this.deathCallbackScope;if(l)for(var d=0;d<c.length;d++)l.call(f,c[d]);this.dead.concat(c),v.inplace(r,this.indexSortCallback)}this.on&&(0===this.frequency?this.emitParticle():this.frequency>0&&(this._counter-=e,this._counter<=0&&(this.emitParticle(),this._counter=this.frequency-Math.abs(this._counter))))},depthSortCallback:function(t,e){return t.y-e.y},indexSortCallback:function(t,e){return t.index-e.index}});t.exports=x},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=new(i(0))({initialize:function(t,e){this.source=t,this.killOnEnter=e},willKill:function(t){var e=this.source.contains(t.x,t.y);return e&&this.killOnEnter||!e&&!this.killOnEnter}});t.exports=n},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=new(i(0))({initialize:function(t,e,i,n,r){void 0===n&&(n=!1),void 0===r&&(r=!0),this.source=t,this.points=[],this.quantity=e,this.stepRate=i,this.yoyo=n,this.counter=-1,this.seamless=r,this._length=0,this._direction=0,this.updateSource()},updateSource:function(){if(this.points=this.source.getPoints(this.quantity,this.stepRate),this.seamless){var t=this.points[0],e=this.points[this.points.length-1];t.x===e.x&&t.y===e.y&&this.points.pop()}var i=this._length;return this._length=this.points.length,this._length<i&&this.counter>this._length&&(this.counter=this._length-1),this},changeSource:function(t){return this.source=t,this.updateSource()},getPoint:function(t){0===this._direction?(this.counter++,this.counter>=this._length&&(this.yoyo?(this._direction=1,this.counter=this._length-1):this.counter=0)):(this.counter--,-1===this.counter&&(this.yoyo?(this._direction=0,this.counter=0):this.counter=this._length-1));var e=this.points[this.counter];e&&(t.x=e.x,t.y=e.y)}});t.exports=n},function(t,e){t.exports=function(t,e){return Math.random()*(e-t)+t}},function(t,e){t.exports=function(t,e){for(var i=0;i<e.length;i++)if(t.hasOwnProperty(e[i]))return!0;return!1}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(3),s=new n({initialize:function(t){this.source=t,this._tempVec=new r},getPoint:function(t){var e=this._tempVec;this.source.getRandomPoint(e),t.x=e.x,t.y=e.y}});t.exports=s},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(50),s=i(92),o=i(4),a=i(45),h=i(93),u=i(3),c=new n({Extends:a,initialize:function(t,e,i,n,r,s){a.call(this,t,i,n,r,s),this.path=e,this.rotateToPath=!1,this.pathRotationVerticalAdjust=!1,this.pathRotationOffset=0,this.pathOffset=new u(i,n),this.pathVector=new u,this.pathTween,this.pathConfig=null,this._prevDirection=h.PLAYING_FORWARD},setPath:function(t,e){void 0===e&&(e=this.pathConfig);var i=this.pathTween;return i&&i.isPlaying()&&i.stop(),this.path=t,e&&this.startFollow(e),this},setRotateToPath:function(t,e,i){return void 0===e&&(e=0),void 0===i&&(i=!1),this.rotateToPath=t,this.pathRotationOffset=e,this.pathRotationVerticalAdjust=i,this},isFollowing:function(){var t=this.pathTween;return t&&t.isPlaying()},startFollow:function(t,e){void 0===t&&(t={}),void 0===e&&(e=0);var i=this.pathTween;i&&i.isPlaying()&&i.stop(),"number"==typeof t&&(t={duration:t}),t.from=0,t.to=1;var n=s(t,"positionOnPath",!1);if(this.rotateToPath=s(t,"rotateToPath",!1),this.pathRotationOffset=o(t,"rotationOffset",0),this.pathRotationVerticalAdjust=s(t,"verticalAdjust",!1),this.pathTween=this.scene.sys.tweens.addCounter(t),this.path.getStartPoint(this.pathOffset),n&&(this.x=this.pathOffset.x,this.y=this.pathOffset.y),this.pathOffset.x=this.x-this.pathOffset.x,this.pathOffset.y=this.y-this.pathOffset.y,this._prevDirection=h.PLAYING_FORWARD,this.rotateToPath){var a=this.path.getPoint(.1);this.rotation=Math.atan2(a.y-this.y,a.x-this.x)+r(this.pathRotationOffset)}return this.pathConfig=t,this},pauseFollow:function(){var t=this.pathTween;return t&&t.isPlaying()&&t.pause(),this},resumeFollow:function(){var t=this.pathTween;return t&&t.isPaused()&&t.resume(),this},stopFollow:function(){var t=this.pathTween;return t&&t.isPlaying()&&t.stop(),this},preUpdate:function(t,e){this.anims.update(t,e);var i=this.pathTween;if(i){var n=i.data[0];if(n.state!==h.PLAYING_FORWARD&&n.state!==h.PLAYING_BACKWARD)return;var s=this.pathVector;this.path.getPoint(i.getValue(),s),s.add(this.pathOffset);var o=this.x,a=this.y;this.setPosition(s.x,s.y);var u=this.x-o,c=this.y-a;if(0===u&&0===c)return;if(n.state!==this._prevDirection)return void(this._prevDirection=n.state);this.rotateToPath&&(this.rotation=Math.atan2(c,u)+r(this.pathRotationOffset),this.pathRotationVerticalAdjust&&(this.flipY=0!==this.rotation&&n.state===h.PLAYING_BACKWARD))}}});t.exports=c},function(t,e){t.exports=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})}},function(t,e){t.exports=function(t){var e=Math.log(t)/.6931471805599453;return 1<<Math.ceil(e)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(16),s=i(746),o=i(12),a=i(162),h=i(119),u=new n({Extends:o,Mixins:[r.Alpha,r.BlendMode,r.ComputedSize,r.Depth,r.Origin,r.ScrollFactor,r.Transform,r.Visible,s],initialize:function(t,e,i,n){o.call(this,t,"DOMElement"),this.parent=t.sys.game.domContainer,this.cache=t.sys.cache.html,this.node,this.skewX=0,this.skewY=0,this.rotate3d=new h,this.rotate3dAngle="deg",this.handler=this.dispatchNativeEvent.bind(this),this.setPosition(e,i),n&&this.setElement(n)},setSkew:function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.skewX=t,this.skewY=e,this},perspective:{get:function(){return parseFloat(this.parent.style.perspective)},set:function(t){this.parent.style.perspective=t+"px"}},setPerspective:function(t){return this.parent.style.perspective=t+"px",this},addListener:function(t){if(this.node){t=t.split(" ");for(var e=0;e<t.length;e++)this.node.addEventListener(t[e],this.handler,!1)}return this},removeListener:function(t){if(this.node){t=t.split(" ");for(var e=0;e<t.length;e++)this.node.removeEventListener(t[e],this.handler)}return this},dispatchNativeEvent:function(t){this.emit(t.type,t)},setElement:function(t){var e;if("string"==typeof t?e=document.getElementById(t):"object"==typeof t&&1===t.nodeType&&(e=t),e){this.node=e,e.style.zIndex="0",e.style.display="inline",e.style.position="absolute",e.phaser=this,this.parent&&this.parent.appendChild(e);var i=e.getBoundingClientRect();return this.setSize(i.width||0,i.height||0),this}},createFromCache:function(t,e){return this.createFromHTML(this.cache.get(t),e)},createFromHTML:function(t,e){void 0===e&&(e="div");var i=document.createElement(e);this.node=i,i.style.zIndex="0",i.style.display="inline",i.style.position="absolute",i.phaser=this,this.parent&&this.parent.appendChild(i),i.innerHTML=t;var n=i.getBoundingClientRect();return this.setSize(n.width||0,n.height||0),this},getChildByProperty:function(t,e){if(this.node)for(var i=this.node.querySelectorAll("*"),n=0;n<i.length;n++)if(i[n][t]===e)return i[n];return null},getChildByID:function(t){return this.getChildByProperty("id",t)},getChildByName:function(t){return this.getChildByProperty("name",t)},setText:function(t){if(this.node){this.node.innerText=t;var e=this.node.getBoundingClientRect();this.setSize(e.width,e.height)}return this},setHTML:function(t){if(this.node){this.node.innerHTML=t;var e=this.node.getBoundingClientRect();this.setSize(e.width,e.height)}return this},willRender:function(){return!0},destroy:function(){a(this.node)}});t.exports=u},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(747),r=i(12);t.exports=function(t,e,i,s){var o=e.node;if(!o||r.RENDER_MASK!==e.renderFlags||e.cameraFilter>0&&e.cameraFilter&s.id)o&&(o.style.display="none");else{var a=t._tempMatrix1,h=t._tempMatrix2,u=t._tempMatrix3,c=e.originX*e.width,l=e.originY*e.height;h.applyITRS(e.x-c-s.scrollX*e.scrollFactorX,e.y-l-s.scrollY*e.scrollFactorY,e.rotation,e.scaleX,e.scaleY),a.copyFrom(s.matrix),a.multiply(h,u),o.style.display="block",o.style.opacity=e.alpha,o.style.zIndex=e._depth,o.style.pointerEvents="auto",o.style.mixBlendMode=n[e._blendMode],o.style.transform=u.getCSSMatrix()+" skew("+e.skewX+"rad, "+e.skewY+"rad) rotate3d("+e.rotate3d.x+","+e.rotate3d.y+","+e.rotate3d.z+","+e.rotate3d.w+e.rotate3dAngle+")",o.style.transformOrigin=100*e.originX+"% "+100*e.originY+"%"}}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(19),s=new n({initialize:function(t,e,i,n,r,s,o){this.x=t,this.y=e,this.radius=i,this.r=n,this.g=r,this.b=s,this.intensity=o,this.scrollFactorX=1,this.scrollFactorY=1},set:function(t,e,i,n,r,s,o){return this.x=t,this.y=e,this.radius=i,this.r=n,this.g=r,this.b=s,this.intensity=o,this.scrollFactorX=1,this.scrollFactorY=1,this},setScrollFactor:function(t,e){return void 0===t&&(t=1),void 0===e&&(e=t),this.scrollFactorX=t,this.scrollFactorY=e,this},setColor:function(t){var e=r.getFloatsFromUintRGB(t);return this.r=e[0],this.g=e[1],this.b=e[2],this},setIntensity:function(t){return this.intensity=t,this},setPosition:function(t,e){return this.x=t,this.y=e,this},setRadius:function(t){return this.radius=t,this}});t.exports=s},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(352),s=i(166),o=i(19),a=new n({initialize:function(){this.lightPool=[],this.lights=[],this.culledLights=[],this.ambientColor={r:.1,g:.1,b:.1},this.active=!1},enable:function(){return this.active=!0,this},disable:function(){return this.active=!1,this},cull:function(t){var e=this.lights,i=this.culledLights,n=e.length,r=t.x+t.width/2,o=t.y+t.height/2,a=(t.width+t.height)/2,h={x:0,y:0},u=t.matrix,c=this.systems.game.config.height;i.length=0;for(var l=0;l<n&&i.length<s.LIGHT_COUNT;++l){var f=e[l];u.transformPoint(f.x,f.y,h);var d=r-(h.x-t.scrollX*f.scrollFactorX*t.zoom),p=o-(c-(h.y-t.scrollY*f.scrollFactorY*t.zoom));Math.sqrt(d*d+p*p)<f.radius+a&&i.push(e[l])}return i},forEachLight:function(t){if(t){for(var e=this.lights,i=e.length,n=0;n<i;++n)t(e[n]);return this}},setAmbientColor:function(t){var e=o.getFloatsFromUintRGB(t);return this.ambientColor.r=e[0],this.ambientColor.g=e[1],this.ambientColor.b=e[2],this},getMaxVisibleLights:function(){return 10},getLightCount:function(){return this.lights.length},addLight:function(t,e,i,n,s){var a,h=null;return t=void 0===t?0:t,e=void 0===e?0:e,n=void 0===n?16777215:n,i=void 0===i?100:i,s=void 0===s?1:s,a=o.getFloatsFromUintRGB(n),h=null,this.lightPool.length>0?(h=this.lightPool.pop()).set(t,e,i,a[0],a[1],a[2],s):h=new r(t,e,i,a[0],a[1],a[2],s),this.lights.push(h),h},removeLight:function(t){var e=this.lights.indexOf(t);return e>=0&&(this.lightPool.push(t),this.lights.splice(e,1)),this},shutdown:function(){for(;this.lights.length>0;)this.lightPool.push(this.lights.pop());this.ambientColor={r:.1,g:.1,b:.1},this.culledLights.length=0,this.lights.length=0},destroy:function(){this.shutdown()}});t.exports=a},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={Circle:i(757),Ellipse:i(767),Intersects:i(355),Line:i(787),Point:i(805),Polygon:i(819),Rectangle:i(366),Triangle:i(848)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={CircleToCircle:i(777),CircleToRectangle:i(778),GetRectangleIntersection:i(779),LineToCircle:i(356),LineToLine:i(121),LineToRectangle:i(780),PointToLine:i(357),PointToLineSegment:i(781),RectangleToRectangle:i(185),RectangleToTriangle:i(782),RectangleToValues:i(783),TriangleToCircle:i(784),TriangleToLine:i(785),TriangleToTriangle:i(786)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(43),r=new(i(5));t.exports=function(t,e,i){if(void 0===i&&(i=r),n(e,t.x1,t.y1))return i.x=t.x1,i.y=t.y1,!0;if(n(e,t.x2,t.y2))return i.x=t.x2,i.y=t.y2,!0;var s=t.x2-t.x1,o=t.y2-t.y1,a=e.x-t.x1,h=e.y-t.y1,u=s*s+o*o,c=s,l=o;if(u>0){var f=(a*s+h*o)/u;c*=f,l*=f}return i.x=t.x1+c,i.y=t.y1+l,c*c+l*l<=u&&c*s+l*o>=0&&n(e,i.x,i.y)}},function(t,e){t.exports=function(t,e){return(t.x-e.x1)*(e.y2-e.y1)==(e.x2-e.x1)*(t.y-e.y1)}},function(t,e){t.exports=function(t,e){return void 0===e&&(e=[]),e.push({x:t.x,y:t.y}),e.push({x:t.right,y:t.y}),e.push({x:t.right,y:t.bottom}),e.push({x:t.x,y:t.bottom}),e}},function(t,e){t.exports=function(t,e){return void 0===e&&(e=[]),e.push({x:t.x1,y:t.y1}),e.push({x:t.x2,y:t.y2}),e.push({x:t.x3,y:t.y3}),e}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(18),r=i(49),s=i(78);t.exports=function(t){var e=s(t)-n.TAU;return r(e,-Math.PI,Math.PI)}},function(t,e){t.exports=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)}},function(t,e){t.exports=function(t){return t.x*t.x+t.y*t.y}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(188),s=i(364),o=new n({initialize:function(t){this.area=0,this.points=[],t&&this.setTo(t)},contains:function(t,e){return r(this,t,e)},setTo:function(t){if(this.area=0,this.points=[],!Array.isArray(t))return this;for(var e,i=Number.MAX_VALUE,n=0;n<t.length;n++)e={x:0,y:0},"number"==typeof t[n]?(e.x=t[n],e.y=t[n+1],n++):Array.isArray(t[n])?(e.x=t[n][0],e.y=t[n][1]):(e.x=t[n].x,e.y=t[n].y),this.points.push(e),e.y<i&&(i=e.y);return this.calculateArea(i),this},calculateArea:function(){if(this.points.length<3)return this.area=0,this.area;for(var t,e,i=0,n=0;n<this.points.length-1;n++)t=this.points[n],i+=((e=this.points[n+1]).x-t.x)*(t.y+e.y);return t=this.points[0],e=this.points[this.points.length-1],i+=(t.x-e.x)*(e.y+t.y),this.area=.5*-i,this.area},getPoints:function(t,e,i){return s(this,t,e,i)}});t.exports=o},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(57),r=i(71),s=i(365);t.exports=function(t,e,i,o){void 0===o&&(o=[]);var a=t.points,h=s(t);e||(e=h/i);for(var u=0;u<e;u++)for(var c=h*(u/e),l=0,f=0;f<a.length;f++){var d=a[f],p=a[(f+1)%a.length],g=new r(d.x,d.y,p.x,p.y),v=n(g);if(!(c<l||c>l+v)){var y=g.getPoint((c-l)/v);o.push(y);break}l+=v}return o}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(57),r=i(71);t.exports=function(t){for(var e=t.points,i=0,s=0;s<e.length;s++){var o=e[s],a=e[(s+1)%e.length],h=new r(o.x,o.y,a.x,a.y);i+=n(h)}return i}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(9);n.Area=i(824),n.Ceil=i(825),n.CeilAll=i(826),n.CenterOn=i(156),n.Clone=i(827),n.Contains=i(44),n.ContainsPoint=i(828),n.ContainsRect=i(367),n.CopyFrom=i(829),n.Decompose=i(358),n.Equals=i(830),n.FitInside=i(831),n.FitOutside=i(832),n.Floor=i(833),n.FloorAll=i(834),n.FromPoints=i(158),n.GetAspectRatio=i(189),n.GetCenter=i(835),n.GetPoint=i(140),n.GetPoints=i(238),n.GetSize=i(836),n.Inflate=i(837),n.Intersection=i(838),n.MarchingAnts=i(248),n.MergePoints=i(839),n.MergeRect=i(840),n.MergeXY=i(841),n.Offset=i(842),n.OffsetPoint=i(843),n.Overlaps=i(844),n.Perimeter=i(101),n.PerimeterPoint=i(845),n.Random=i(143),n.RandomOutside=i(846),n.Scale=i(847),n.Union=i(334),t.exports=n},function(t,e){t.exports=function(t,e){return!(e.width*e.height>t.width*t.height)&&e.x>t.x&&e.x<t.right&&e.right>t.x&&e.right<t.right&&e.y>t.y&&e.y<t.bottom&&e.bottom>t.y&&e.bottom<t.bottom}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(5),r=i(57);t.exports=function(t,e,i){void 0===i&&(i=new n);var s=t.getLineA(),o=t.getLineB(),a=t.getLineC();if(e<=0||e>=1)return i.x=s.x1,i.y=s.y1,i;var h=r(s),u=r(o),c=r(a),l=(h+u+c)*e,f=0;return l<h?(f=l/h,i.x=s.x1+(s.x2-s.x1)*f,i.y=s.y1+(s.y2-s.y1)*f):l>h+u?(f=(l-=h+u)/c,i.x=a.x1+(a.x2-a.x1)*f,i.y=a.y1+(a.y2-a.y1)*f):(f=(l-=h)/u,i.x=o.x1+(o.x2-o.x1)*f,i.y=o.y1+(o.y2-o.y1)*f),i}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(57),r=i(5);t.exports=function(t,e,i,s){void 0===s&&(s=[]);var o=t.getLineA(),a=t.getLineB(),h=t.getLineC(),u=n(o),c=n(a),l=n(h),f=u+c+l;e||(e=f/i);for(var d=0;d<e;d++){var p=f*(d/e),g=0,v=new r;p<u?(g=p/u,v.x=o.x1+(o.x2-o.x1)*g,v.y=o.y1+(o.y2-o.y1)*g):p>u+c?(g=(p-=u+c)/l,v.x=h.x1+(h.x2-h.x1)*g,v.y=h.y1+(h.y2-h.y1)*g):(g=(p-=u)/c,v.x=a.x1+(a.x2-a.x1)*g,v.y=a.y1+(a.y2-a.y1)*g),s.push(v)}return s}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(5);t.exports=function(t,e){return void 0===e&&(e=new n),e.x=(t.x1+t.x2+t.x3)/3,e.y=(t.y1+t.y2+t.y3)/3,e}},function(t,e){t.exports=function(t,e,i){return t.x1+=e,t.y1+=i,t.x2+=e,t.y2+=i,t.x3+=e,t.y3+=i,t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(5);function r(t,e,i,n){var r=t-i,s=e-n,o=r*r+s*s;return Math.sqrt(o)}t.exports=function(t,e){void 0===e&&(e=new n);var i=t.x1,s=t.y1,o=t.x2,a=t.y2,h=t.x3,u=t.y3,c=r(h,u,o,a),l=r(i,s,h,u),f=r(o,a,i,s),d=c+l+f;return e.x=(i*c+o*l+h*f)/d,e.y=(s*c+a*l+u*f)/d,e}},function(t,e){t.exports=function(t,e,i){return{gameObject:t,enabled:!0,draggable:!1,dropZone:!1,cursor:!1,target:null,camera:null,hitArea:e,hitAreaCallback:i,localX:0,localY:0,dragState:0,dragStartX:0,dragStartY:0,dragX:0,dragY:0}}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=new(i(0))({initialize:function(t,e){this.pad=t,this.events=t.events,this.index=e,this.value=0,this.threshold=.1},update:function(t){this.value=t},getValue:function(){return Math.abs(this.value)<this.threshold?0:this.value},destroy:function(){this.pad=null,this.events=null}});t.exports=n},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=new(i(0))({initialize:function(t,e){this.pad=t,this.events=t.manager,this.index=e,this.value=0,this.threshold=1,this.pressed=!1},update:function(t){this.value=t;var e=this.pad,i=this.index;t>=this.threshold?this.pressed||(this.pressed=!0,this.events.emit("down",e,this,t),this.pad.emit("down",i,t,this)):this.pressed&&(this.pressed=!1,this.events.emit("up",e,this,t),this.pad.emit("up",i,t,this))},destroy:function(){this.pad=null,this.events=null}});t.exports=n},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(374),r=i(375),s=i(0),o=i(8),a=i(3),h=new s({Extends:o,initialize:function(t,e){o.call(this),this.manager=t,this.pad=e,this.id=e.id,this.index=e.index;for(var i=[],s=0;s<e.buttons.length;s++)i.push(new r(this,s));this.buttons=i;var h=[];for(s=0;s<e.axes.length;s++)h.push(new n(this,s));this.axes=h,this.vibration=e.vibrationActuator;var u={value:0,pressed:!1};this._LCLeft=i[14]?i[14]:u,this._LCRight=i[15]?i[15]:u,this._LCTop=i[12]?i[12]:u,this._LCBottom=i[13]?i[13]:u,this._RCLeft=i[2]?i[2]:u,this._RCRight=i[1]?i[1]:u,this._RCTop=i[3]?i[3]:u,this._RCBottom=i[0]?i[0]:u,this._FBLeftTop=i[4]?i[4]:u,this._FBLeftBottom=i[6]?i[6]:u,this._FBRightTop=i[5]?i[5]:u,this._FBRightBottom=i[7]?i[7]:u;var c={value:0};this._HAxisLeft=h[0]?h[0]:c,this._VAxisLeft=h[1]?h[1]:c,this._HAxisRight=h[2]?h[2]:c,this._VAxisRight=h[3]?h[3]:c,this.leftStick=new a,this.rightStick=new a},getAxisTotal:function(){return this.axes.length},getAxisValue:function(t){return this.axes[t].getValue()},setAxisThreshold:function(t){for(var e=0;e<this.axes.length;e++)this.axes[e].threshold=t},getButtonTotal:function(){return this.buttons.length},getButtonValue:function(t){return this.buttons[t].value},isButtonDown:function(t){return this.buttons[t].pressed},update:function(t){var e,i=this.buttons,n=t.buttons,r=i.length;for(e=0;e<r;e++)i[e].update(n[e].value);var s=this.axes,o=t.axes;for(r=s.length,e=0;e<r;e++)s[e].update(o[e]);r>=2&&(this.leftStick.set(s[0].getValue(),s[1].getValue()),r>=4&&this.rightStick.set(s[2].getValue(),s[3].getValue()))},destroy:function(){var t;for(this.removeAllListeners(),this.manager=null,this.pad=null,t=0;t<this.buttons.length;t++)this.buttons[t].destroy();for(t=0;t<this.axes.length;t++)this.axes[t].destroy();this.buttons=[],this.axes=[]},connected:{get:function(){return this.pad.connected}},timestamp:{get:function(){return this.pad.timestamp}},left:{get:function(){return this._LCLeft.pressed}},right:{get:function(){return this._LCRight.pressed}},up:{get:function(){return this._LCTop.pressed}},down:{get:function(){return this._LCBottom.pressed}},A:{get:function(){return this._RCBottom.pressed}},Y:{get:function(){return this._RCTop.pressed}},X:{get:function(){return this._RCLeft.pressed}},B:{get:function(){return this._RCRight.pressed}},L1:{get:function(){return this._FBLeftTop.value}},L2:{get:function(){return this._FBLeftBottom.value}},R1:{get:function(){return this._FBRightTop.value}},R2:{get:function(){return this._FBRightBottom.value}}});t.exports=h},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=new(i(0))({initialize:function(t){this.keyCode=t,this.originalEvent=void 0,this.preventDefault=!0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.location=0,this.timeDown=0,this.duration=0,this.timeUp=0,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1},reset:function(){return this.preventDefault=!0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.timeDown=0,this.duration=0,this.timeUp=0,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1,this}});t.exports=n},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(1),s=i(874),o=i(876),a=new n({initialize:function(t,e,i){if(void 0===i&&(i={}),e.length<2)return!1;this.manager=t,this.enabled=!0,this.keyCodes=[];for(var n=0;n<e.length;n++){var a=e[n];"string"==typeof a?this.keyCodes.push(a.toUpperCase().charCodeAt(0)):"number"==typeof a?this.keyCodes.push(a):a.hasOwnProperty("keyCode")&&this.keyCodes.push(a.keyCode)}this.current=this.keyCodes[0],this.index=0,this.size=this.keyCodes.length,this.timeLastMatched=0,this.matched=!1,this.timeMatched=0,this.resetOnWrongKey=r(i,"resetOnWrongKey",!0),this.maxKeyDelay=r(i,"maxKeyDelay",0),this.resetOnMatch=r(i,"resetOnMatch",!1),this.deleteOnMatch=r(i,"deleteOnMatch",!1);var h=this,u=function(t){!h.matched&&h.enabled&&(s(t,h)&&(h.manager.emit("keycombomatch",h,t),h.resetOnMatch?o(h):h.deleteOnMatch&&h.destroy()))};this.onKeyDown=u,this.manager.on("keydown",u)},progress:{get:function(){return this.index/this.size}},destroy:function(){this.enabled=!1,this.keyCodes=[],this.manager.off("keydown",this.onKeyDown),this.manager=null}});t.exports=a},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(194);t.exports=function(t,e){var i=n(e,t.xhrSettings),r=new XMLHttpRequest;return r.open("GET",t.src,i.async,i.user,i.password),r.responseType=t.xhrSettings.responseType,r.timeout=i.timeout,i.header&&i.headerValue&&r.setRequestHeader(i.header,i.headerValue),i.requestedWith&&r.setRequestHeader("X-Requested-With",i.requestedWith),i.overrideMimeType&&r.overrideMimeType(i.overrideMimeType),r.onload=t.onLoad.bind(t,r),r.onerror=t.onError.bind(t),r.onprogress=t.onProgress.bind(t),r.send(),r}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(26),s=i(22),o=i(7),a=i(1),h=i(381),u=i(6),c=new n({Extends:s,initialize:function(t,e,i,n,r){if(u(e)){var o=e;e=a(o,"key"),n=a(o,"xhrSettings"),r=a(o,"context",r)}var h={type:"audio",cache:t.cacheManager.audio,extension:i.type,responseType:"arraybuffer",key:e,url:i.url,xhrSettings:n,config:{context:r}};s.call(this,t,h)},onProcess:function(){this.state=r.FILE_PROCESSING;var t=this;this.config.context.decodeAudioData(this.xhrLoader.response,function(e){t.data=e,t.onProcessComplete()},function(e){console.error("Error decoding audio: "+this.key+" - ",e?e.message:null),t.onProcessError()}),this.config.context=null}});c.create=function(t,e,i,n,r){var s=t.systems.game,o=s.config.audio,l=s.device.audio;u(e)&&(i=a(e,"url",[]),n=a(e,"config",{}));var f=c.getAudioURL(s,i);return f?!l.webAudio||o&&o.disableWebAudio?new h(t,e,f,n):new c(t,e,f,r,s.sound.context):null},c.getAudioURL=function(t,e){Array.isArray(e)||(e=[e]);for(var i=0;i<e.length;i++){var n=a(e[i],"url",e[i]);if(0===n.indexOf("blob:")||0===n.indexOf("data:"))return n;var r=n.match(/\.([a-zA-Z0-9]+)($|\?)/);if(r=a(e[i],"type",r?r[1]:"").toLowerCase(),t.device.audio[r])return{url:n,type:r}}return null},o.register("audio",function(t,e,i,n){var r,s=this.systems.game,o=s.config.audio,a=s.device.audio;if(o&&o.noAudio||!a.webAudio&&!a.audioData)return this;if(Array.isArray(t))for(var h=0;h<t.length;h++)(r=c.create(this,t[h]))&&this.addFile(r);else(r=c.create(this,t,e,i,n))&&this.addFile(r);return this}),t.exports=c},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(22),s=i(1),o=i(193),a=i(6),h=new n({Extends:r,initialize:function(t,e,i,n){if(a(e)){var o=e;e=s(o,"key"),n=s(o,"config",n)}var h={type:"audio",cache:t.cacheManager.audio,extension:i.type,key:e,url:i.url,config:n};r.call(this,t,h),this.locked="ontouchstart"in window,this.loaded=!1,this.filesLoaded=0,this.filesTotal=0},onLoad:function(){this.loaded||(this.loaded=!0,this.loader.nextFile(this,!0))},onError:function(){for(var t=0;t<this.data.length;t++){var e=this.data[t];e.oncanplaythrough=null,e.onerror=null}this.loader.nextFile(this,!1)},onProgress:function(t){var e=t.target;e.oncanplaythrough=null,e.onerror=null,this.filesLoaded++,this.percentComplete=Math.min(this.filesLoaded/this.filesTotal,1),this.loader.emit("fileprogress",this,this.percentComplete),this.filesLoaded===this.filesTotal&&this.onLoad()},load:function(){this.data=[];var t=this.config&&this.config.instances||1;this.filesTotal=t,this.filesLoaded=0,this.percentComplete=0;for(var e=0;e<t;e++){var i=new Audio;i.dataset.name=this.key+("0"+e).slice(-2),i.dataset.used="false",this.locked?i.dataset.locked="true":(i.dataset.locked="false",i.preload="auto",i.oncanplaythrough=this.onProgress.bind(this),i.onerror=this.onError.bind(this)),this.data.push(i)}for(e=0;e<this.data.length;e++)(i=this.data[e]).src=o(this,this.loader.baseURL),this.locked||i.load();this.locked&&setTimeout(this.onLoad.bind(this))}});t.exports=h},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(20),s=i(22),o=i(7),a=i(1),h=i(6),u=new n({Extends:s,initialize:function(t,e,i,n){var r="txt";if(h(e)){var o=e;e=a(o,"key"),i=a(o,"url"),n=a(o,"xhrSettings"),r=a(o,"extension",r)}var u={type:"text",cache:t.cacheManager.text,extension:r,responseType:"text",key:e,url:i,xhrSettings:n};s.call(this,t,u)},onProcess:function(){this.state=r.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});o.register("text",function(t,e,i){if(Array.isArray(t))for(var n=0;n<t.length;n++)this.addFile(new u(this,t[n]));else this.addFile(new u(this,t,e,i));return this}),t.exports=u},function(t,e){t.exports=function(t){return(t%=2*Math.PI)>=0?t:t+2*Math.PI}},function(t,e){t.exports=function(t,e,i,n){var r=t-i,s=e-n;return r*r+s*s}},function(t,e){t.exports=function(t,e,i){return void 0===i&&(i=1e-4),Math.abs(t-e)<i}},function(t,e){t.exports=function(t,e,i){return void 0===i&&(i=1e-4),t>e-i}},function(t,e){t.exports=function(t,e,i){return void 0===i&&(i=1e-4),t<e+i}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(389);t.exports=function(t,e){return n(t)/n(e)/n(t-e)}},function(t,e){t.exports=function(t){if(0===t)return 1;for(var e=t;--t;)e*=t;return e}},function(t,e){t.exports=function(t,e,i,n){return void 0===i&&(i=0),0===e?t:(t-=i,t=e*Math.ceil(t/e),n?(i+t)/e:i+t)}},function(t,e){t.exports=function(t,e){void 0===e&&(e=1);var i=2*Math.random()*Math.PI,n=2*Math.random()-1,r=Math.sqrt(1-n*n)*e;return t.x=Math.cos(i)*r,t.y=Math.sin(i)*r,t.z=n*e,t}},function(t,e){t.exports=function(t,e){return void 0===e&&(e=1),t.x=(2*Math.random()-1)*e,t.y=(2*Math.random()-1)*e,t.z=(2*Math.random()-1)*e,t.w=(2*Math.random()-1)*e,t}},function(t,e){t.exports=function(t,e){var i=t.x,n=t.y;return t.x=i*Math.cos(e)-n*Math.sin(e),t.y=i*Math.sin(e)+n*Math.cos(e),t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=new(i(0))({initialize:function(t){this.val=new Float32Array(9),t?this.copy(t):this.identity()},clone:function(){return new n(this)},set:function(t){return this.copy(t)},copy:function(t){var e=this.val,i=t.val;return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],this},fromMat4:function(t){var e=t.val,i=this.val;return i[0]=e[0],i[1]=e[1],i[2]=e[2],i[3]=e[4],i[4]=e[5],i[5]=e[6],i[6]=e[8],i[7]=e[9],i[8]=e[10],this},fromArray:function(t){var e=this.val;return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],this},identity:function(){var t=this.val;return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,this},transpose:function(){var t=this.val,e=t[1],i=t[2],n=t[5];return t[1]=t[3],t[2]=t[6],t[3]=e,t[5]=t[7],t[6]=i,t[7]=n,this},invert:function(){var t=this.val,e=t[0],i=t[1],n=t[2],r=t[3],s=t[4],o=t[5],a=t[6],h=t[7],u=t[8],c=u*s-o*h,l=-u*r+o*a,f=h*r-s*a,d=e*c+i*l+n*f;return d?(d=1/d,t[0]=c*d,t[1]=(-u*i+n*h)*d,t[2]=(o*i-n*s)*d,t[3]=l*d,t[4]=(u*e-n*a)*d,t[5]=(-o*e+n*r)*d,t[6]=f*d,t[7]=(-h*e+i*a)*d,t[8]=(s*e-i*r)*d,this):null},adjoint:function(){var t=this.val,e=t[0],i=t[1],n=t[2],r=t[3],s=t[4],o=t[5],a=t[6],h=t[7],u=t[8];return t[0]=s*u-o*h,t[1]=n*h-i*u,t[2]=i*o-n*s,t[3]=o*a-r*u,t[4]=e*u-n*a,t[5]=n*r-e*o,t[6]=r*h-s*a,t[7]=i*a-e*h,t[8]=e*s-i*r,this},determinant:function(){var t=this.val,e=t[0],i=t[1],n=t[2],r=t[3],s=t[4],o=t[5],a=t[6],h=t[7],u=t[8];return e*(u*s-o*h)+i*(-u*r+o*a)+n*(h*r-s*a)},multiply:function(t){var e=this.val,i=e[0],n=e[1],r=e[2],s=e[3],o=e[4],a=e[5],h=e[6],u=e[7],c=e[8],l=t.val,f=l[0],d=l[1],p=l[2],g=l[3],v=l[4],y=l[5],m=l[6],x=l[7],b=l[8];return e[0]=f*i+d*s+p*h,e[1]=f*n+d*o+p*u,e[2]=f*r+d*a+p*c,e[3]=g*i+v*s+y*h,e[4]=g*n+v*o+y*u,e[5]=g*r+v*a+y*c,e[6]=m*i+x*s+b*h,e[7]=m*n+x*o+b*u,e[8]=m*r+x*a+b*c,this},translate:function(t){var e=this.val,i=t.x,n=t.y;return e[6]=i*e[0]+n*e[3]+e[6],e[7]=i*e[1]+n*e[4]+e[7],e[8]=i*e[2]+n*e[5]+e[8],this},rotate:function(t){var e=this.val,i=e[0],n=e[1],r=e[2],s=e[3],o=e[4],a=e[5],h=Math.sin(t),u=Math.cos(t);return e[0]=u*i+h*s,e[1]=u*n+h*o,e[2]=u*r+h*a,e[3]=u*s-h*i,e[4]=u*o-h*n,e[5]=u*a-h*r,this},scale:function(t){var e=this.val,i=t.x,n=t.y;return e[0]=i*e[0],e[1]=i*e[1],e[2]=i*e[2],e[3]=n*e[3],e[4]=n*e[4],e[5]=n*e[5],this},fromQuat:function(t){var e=t.x,i=t.y,n=t.z,r=t.w,s=e+e,o=i+i,a=n+n,h=e*s,u=e*o,c=e*a,l=i*o,f=i*a,d=n*a,p=r*s,g=r*o,v=r*a,y=this.val;return y[0]=1-(l+d),y[3]=u+v,y[6]=c-g,y[1]=u-v,y[4]=1-(h+d),y[7]=f+p,y[2]=c+g,y[5]=f-p,y[8]=1-(h+l),this},normalFromMat4:function(t){var e=t.val,i=this.val,n=e[0],r=e[1],s=e[2],o=e[3],a=e[4],h=e[5],u=e[6],c=e[7],l=e[8],f=e[9],d=e[10],p=e[11],g=e[12],v=e[13],y=e[14],m=e[15],x=n*h-r*a,b=n*u-s*a,w=n*c-o*a,T=r*u-s*h,S=r*c-o*h,_=s*c-o*u,A=l*v-f*g,E=l*y-d*g,I=l*m-p*g,C=f*y-d*v,M=f*m-p*v,P=d*m-p*y,k=x*P-b*M+w*C+T*I-S*E+_*A;return k?(k=1/k,i[0]=(h*P-u*M+c*C)*k,i[1]=(u*I-a*P-c*E)*k,i[2]=(a*M-h*I+c*A)*k,i[3]=(s*M-r*P-o*C)*k,i[4]=(n*P-s*I+o*E)*k,i[5]=(r*I-n*M-o*A)*k,i[6]=(v*_-y*S+m*T)*k,i[7]=(y*w-g*_-m*b)*k,i[8]=(g*S-v*w+m*x)*k,this):null}});t.exports=n},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(80),s=i(394),o=new Int8Array([1,2,0]),a=new Float32Array([0,0,0]),h=new r(1,0,0),u=new r(0,1,0),c=new r,l=new s,f=new n({initialize:function(t,e,i,n){"object"==typeof t?(this.x=t.x||0,this.y=t.y||0,this.z=t.z||0,this.w=t.w||0):(this.x=t||0,this.y=e||0,this.z=i||0,this.w=n||0)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=t.w,this},set:function(t,e,i,n){return"object"==typeof t?(this.x=t.x||0,this.y=t.y||0,this.z=t.z||0,this.w=t.w||0):(this.x=t||0,this.y=e||0,this.z=i||0,this.w=n||0),this},add:function(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this},subtract:function(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this},scale:function(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this},length:function(){var t=this.x,e=this.y,i=this.z,n=this.w;return Math.sqrt(t*t+e*e+i*i+n*n)},lengthSq:function(){var t=this.x,e=this.y,i=this.z,n=this.w;return t*t+e*e+i*i+n*n},normalize:function(){var t=this.x,e=this.y,i=this.z,n=this.w,r=t*t+e*e+i*i+n*n;return r>0&&(r=1/Math.sqrt(r),this.x=t*r,this.y=e*r,this.z=i*r,this.w=n*r),this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w},lerp:function(t,e){void 0===e&&(e=0);var i=this.x,n=this.y,r=this.z,s=this.w;return this.x=i+e*(t.x-i),this.y=n+e*(t.y-n),this.z=r+e*(t.z-r),this.w=s+e*(t.w-s),this},rotationTo:function(t,e){var i=t.x*e.x+t.y*e.y+t.z*e.z;return i<-.999999?(c.copy(h).cross(t).length()<1e-6&&c.copy(u).cross(t),c.normalize(),this.setAxisAngle(c,Math.PI)):i>.999999?(this.x=0,this.y=0,this.z=0,this.w=1,this):(c.copy(t).cross(e),this.x=c.x,this.y=c.y,this.z=c.z,this.w=1+i,this.normalize())},setAxes:function(t,e,i){var n=l.val;return n[0]=e.x,n[3]=e.y,n[6]=e.z,n[1]=i.x,n[4]=i.y,n[7]=i.z,n[2]=-t.x,n[5]=-t.y,n[8]=-t.z,this.fromMat3(l).normalize()},identity:function(){return this.x=0,this.y=0,this.z=0,this.w=1,this},setAxisAngle:function(t,e){e*=.5;var i=Math.sin(e);return this.x=i*t.x,this.y=i*t.y,this.z=i*t.z,this.w=Math.cos(e),this},multiply:function(t){var e=this.x,i=this.y,n=this.z,r=this.w,s=t.x,o=t.y,a=t.z,h=t.w;return this.x=e*h+r*s+i*a-n*o,this.y=i*h+r*o+n*s-e*a,this.z=n*h+r*a+e*o-i*s,this.w=r*h-e*s-i*o-n*a,this},slerp:function(t,e){var i=this.x,n=this.y,r=this.z,s=this.w,o=t.x,a=t.y,h=t.z,u=t.w,c=i*o+n*a+r*h+s*u;c<0&&(c=-c,o=-o,a=-a,h=-h,u=-u);var l=1-e,f=e;if(1-c>1e-6){var d=Math.acos(c),p=Math.sin(d);l=Math.sin((1-e)*d)/p,f=Math.sin(e*d)/p}return this.x=l*i+f*o,this.y=l*n+f*a,this.z=l*r+f*h,this.w=l*s+f*u,this},invert:function(){var t=this.x,e=this.y,i=this.z,n=this.w,r=t*t+e*e+i*i+n*n,s=r?1/r:0;return this.x=-t*s,this.y=-e*s,this.z=-i*s,this.w=n*s,this},conjugate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},rotateX:function(t){t*=.5;var e=this.x,i=this.y,n=this.z,r=this.w,s=Math.sin(t),o=Math.cos(t);return this.x=e*o+r*s,this.y=i*o+n*s,this.z=n*o-i*s,this.w=r*o-e*s,this},rotateY:function(t){t*=.5;var e=this.x,i=this.y,n=this.z,r=this.w,s=Math.sin(t),o=Math.cos(t);return this.x=e*o-n*s,this.y=i*o+r*s,this.z=n*o+e*s,this.w=r*o-i*s,this},rotateZ:function(t){t*=.5;var e=this.x,i=this.y,n=this.z,r=this.w,s=Math.sin(t),o=Math.cos(t);return this.x=e*o+i*s,this.y=i*o-e*s,this.z=n*o+r*s,this.w=r*o-n*s,this},calculateW:function(){var t=this.x,e=this.y,i=this.z;return this.w=-Math.sqrt(1-t*t-e*e-i*i),this},fromMat3:function(t){var e,i=t.val,n=i[0]+i[4]+i[8];if(n>0)e=Math.sqrt(n+1),this.w=.5*e,e=.5/e,this.x=(i[7]-i[5])*e,this.y=(i[2]-i[6])*e,this.z=(i[3]-i[1])*e;else{var r=0;i[4]>i[0]&&(r=1),i[8]>i[3*r+r]&&(r=2);var s=o[r],h=o[s];e=Math.sqrt(i[3*r+r]-i[3*s+s]-i[3*h+h]+1),a[r]=.5*e,e=.5/e,a[s]=(i[3*s+r]+i[3*r+s])*e,a[h]=(i[3*h+r]+i[3*r+h])*e,this.x=a[0],this.y=a[1],this.z=a[2],this.w=(i[3*h+s]-i[3*s+h])*e}return this}});t.exports=f},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(80),r=i(196),s=i(395),o=new r,a=new s,h=new n;t.exports=function(t,e,i){return a.setAxisAngle(e,i),o.fromRotationTranslation(a,h.set(0,0,0)),t.transformMat4(o)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(398),r=i(124),s=i(0),o=i(46),a=i(400),h=i(401),u=new s({initialize:function(t){this.world=t,this.scene=t.scene,this.sys=t.scene.sys},collider:function(t,e,i,n,r){return this.world.addCollider(t,e,i,n,r)},overlap:function(t,e,i,n,r){return this.world.addOverlap(t,e,i,n,r)},existing:function(t,e){var i=e?o.STATIC_BODY:o.DYNAMIC_BODY;return this.world.enableBody(t,i),t},staticImage:function(t,e,i,r){var s=new n(this.scene,t,e,i,r);return this.sys.displayList.add(s),this.world.enableBody(s,o.STATIC_BODY),s},image:function(t,e,i,r){var s=new n(this.scene,t,e,i,r);return this.sys.displayList.add(s),this.world.enableBody(s,o.DYNAMIC_BODY),s},staticSprite:function(t,e,i,n){var s=new r(this.scene,t,e,i,n);return this.sys.displayList.add(s),this.sys.updateList.add(s),this.world.enableBody(s,o.STATIC_BODY),s},sprite:function(t,e,i,n){var s=new r(this.scene,t,e,i,n);return this.sys.displayList.add(s),this.sys.updateList.add(s),this.world.enableBody(s,o.DYNAMIC_BODY),s},staticGroup:function(t,e){return this.sys.updateList.add(new h(this.world,this.world.scene,t,e))},group:function(t,e){return this.sys.updateList.add(new a(this.world,this.world.scene,t,e))},destroy:function(){this.world=null,this.scene=null,this.sys=null}});t.exports=u},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(399),s=i(75),o=new n({Extends:s,Mixins:[r.Acceleration,r.Angular,r.Bounce,r.Debug,r.Drag,r.Enable,r.Friction,r.Gravity,r.Immovable,r.Mass,r.Size,r.Velocity],initialize:function(t,e,i,n,r){s.call(this,t,e,i,n,r),this.body=null}});t.exports=o},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={Acceleration:i(950),Angular:i(951),Bounce:i(952),Debug:i(953),Drag:i(954),Enable:i(955),Friction:i(956),Gravity:i(957),Immovable:i(958),Mass:i(959),Size:i(960),Velocity:i(961)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(124),r=i(0),s=i(46),o=i(1),a=i(90),h=i(6),u=new r({Extends:a,initialize:function(t,e,i,r){i||r?h(i)?(r=i,i=null,r.createCallback=this.createCallbackHandler,r.removeCallback=this.removeCallbackHandler):Array.isArray(i)&&h(i[0])&&(r=i,i=null,r.forEach(function(t){t.createCallback=this.createCallbackHandler,t.removeCallback=this.removeCallbackHandler})):r={createCallback:this.createCallbackHandler,removeCallback:this.removeCallbackHandler},this.world=t,r.classType=o(r,"classType",n),this.physicsType=s.DYNAMIC_BODY,this.defaults={setCollideWorldBounds:o(r,"collideWorldBounds",!1),setAccelerationX:o(r,"accelerationX",0),setAccelerationY:o(r,"accelerationY",0),setAllowDrag:o(r,"allowDrag",!0),setAllowGravity:o(r,"allowGravity",!0),setAllowRotation:o(r,"allowRotation",!0),setBounceX:o(r,"bounceX",0),setBounceY:o(r,"bounceY",0),setDragX:o(r,"dragX",0),setDragY:o(r,"dragY",0),setGravityX:o(r,"gravityX",0),setGravityY:o(r,"gravityY",0),setFrictionX:o(r,"frictionX",0),setFrictionY:o(r,"frictionY",0),setVelocityX:o(r,"velocityX",0),setVelocityY:o(r,"velocityY",0),setAngularVelocity:o(r,"angularVelocity",0),setAngularAcceleration:o(r,"angularAcceleration",0),setAngularDrag:o(r,"angularDrag",0),setMass:o(r,"mass",1),setImmovable:o(r,"immovable",!1)},a.call(this,e,i,r)},createCallbackHandler:function(t){t.body||this.world.enableBody(t,s.DYNAMIC_BODY);var e=t.body;for(var i in this.defaults)e[i](this.defaults[i])},removeCallbackHandler:function(t){t.body&&this.world.disableBody(t)},setVelocity:function(t,e,i){void 0===i&&(i=0);for(var n=this.getChildren(),r=0;r<n.length;r++)n[r].body.velocity.set(t+r*i,e+r*i);return this},setVelocityX:function(t,e){void 0===e&&(e=0);for(var i=this.getChildren(),n=0;n<i.length;n++)i[n].body.velocity.x=t+n*e;return this},setVelocityY:function(t,e){void 0===e&&(e=0);for(var i=this.getChildren(),n=0;n<i.length;n++)i[n].body.velocity.y=t+n*e;return this}});t.exports=u},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(124),r=i(0),s=i(46),o=i(90),a=i(6),h=new r({Extends:o,initialize:function(t,e,i,r){i||r?a(i)?(r=i,i=null,r.createCallback=this.createCallbackHandler,r.removeCallback=this.removeCallbackHandler,r.createMultipleCallback=this.createMultipleCallbackHandler,r.classType=n):Array.isArray(i)&&a(i[0])&&(r=i,i=null,r.forEach(function(t){t.createCallback=this.createCallbackHandler,t.removeCallback=this.removeCallbackHandler,t.createMultipleCallback=this.createMultipleCallbackHandler,t.classType=n})):r={createCallback:this.createCallbackHandler,removeCallback:this.removeCallbackHandler,createMultipleCallback:this.createMultipleCallbackHandler,classType:n},this.world=t,this.physicsType=s.STATIC_BODY,o.call(this,e,i,r)},createCallbackHandler:function(t){t.body||this.world.enableBody(t,s.STATIC_BODY)},removeCallbackHandler:function(t){t.body&&this.world.disableBody(t)},createMultipleCallbackHandler:function(){this.refresh()},refresh:function(){for(var t=this.children.entries,e=0;e<t.length;e++)t[e].body.reset();return this}});t.exports=h},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(403),r=i(23),s=i(0),o=i(404),a=i(46),h=i(58),u=i(8),c=i(385),l=i(386),f=i(387),d=i(405),p=i(406),g=i(4),v=i(407),y=i(962),m=i(9),x=i(408),b=i(963),w=i(968),T=i(969),S=i(74),_=i(410),A=i(409),E=i(48),I=i(3),C=i(49),M=new s({Extends:u,initialize:function(t,e){u.call(this),this.scene=t,this.bodies=new S,this.staticBodies=new S,this.pendingDestroy=new S,this.colliders=new v,this.gravity=new I(g(e,"gravity.x",0),g(e,"gravity.y",0)),this.bounds=new m(g(e,"x",0),g(e,"y",0),g(e,"width",t.sys.game.config.width),g(e,"height",t.sys.game.config.height)),this.checkCollision={up:g(e,"checkCollision.up",!0),down:g(e,"checkCollision.down",!0),left:g(e,"checkCollision.left",!0),right:g(e,"checkCollision.right",!0)},this.fps=g(e,"fps",60),this._elapsed=0,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this.stepsLastFrame=0,this.timeScale=g(e,"timeScale",1),this.OVERLAP_BIAS=g(e,"overlapBias",4),this.TILE_BIAS=g(e,"tileBias",16),this.forceX=g(e,"forceX",!1),this.isPaused=g(e,"isPaused",!1),this._total=0,this.drawDebug=g(e,"debug",!1),this.debugGraphic,this.defaults={debugShowBody:g(e,"debugShowBody",!0),debugShowStaticBody:g(e,"debugShowStaticBody",!0),debugShowVelocity:g(e,"debugShowVelocity",!0),bodyDebugColor:g(e,"debugBodyColor",16711935),staticBodyDebugColor:g(e,"debugStaticBodyColor",255),velocityDebugColor:g(e,"debugVelocityColor",65280)},this.maxEntries=g(e,"maxEntries",16),this.useTree=g(e,"useTree",!0),this.tree=new x(this.maxEntries),this.staticTree=new x(this.maxEntries),this.treeMinMax={minX:0,minY:0,maxX:0,maxY:0},this._tempMatrix=new E,this._tempMatrix2=new E,this.drawDebug&&this.createDebugGraphic()},enable:function(t,e){void 0===e&&(e=a.DYNAMIC_BODY),Array.isArray(t)||(t=[t]);for(var i=0;i<t.length;i++){var n=t[i];if(n.isParent)for(var r=n.getChildren(),s=0;s<r.length;s++){var o=r[s];o.isParent?this.enable(o,e):this.enableBody(o,e)}else this.enableBody(n,e)}},enableBody:function(t,e){return void 0===e&&(e=a.DYNAMIC_BODY),t.body||(e===a.DYNAMIC_BODY?t.body=new n(this,t):e===a.STATIC_BODY&&(t.body=new _(this,t))),this.add(t.body),t},add:function(t){return t.physicsType===a.DYNAMIC_BODY?this.bodies.set(t):t.physicsType===a.STATIC_BODY&&(this.staticBodies.set(t),this.staticTree.insert(t)),t.enable=!0,t},disable:function(t){Array.isArray(t)||(t=[t]);for(var e=0;e<t.length;e++){var i=t[e];if(i.isParent)for(var n=i.getChildren(),r=0;r<n.length;r++){var s=n[r];s.isParent?this.disable(s):this.disableBody(s.body)}else this.disableBody(i.body)}},disableBody:function(t){this.remove(t),t.enable=!1},remove:function(t){t.physicsType===a.DYNAMIC_BODY?(this.tree.remove(t),this.bodies.delete(t)):t.physicsType===a.STATIC_BODY&&(this.staticBodies.delete(t),this.staticTree.remove(t))},createDebugGraphic:function(){var t=this.scene.sys.add.graphics({x:0,y:0});return t.setDepth(Number.MAX_VALUE),this.debugGraphic=t,this.drawDebug=!0,t},setBounds:function(t,e,i,n,r,s,o,a){return this.bounds.setTo(t,e,i,n),void 0!==r&&this.setBoundsCollision(r,s,o,a),this},setBoundsCollision:function(t,e,i,n){return void 0===t&&(t=!0),void 0===e&&(e=!0),void 0===i&&(i=!0),void 0===n&&(n=!0),this.checkCollision.left=t,this.checkCollision.right=e,this.checkCollision.up=i,this.checkCollision.down=n,this},pause:function(){return this.isPaused=!0,this.emit("pause"),this},resume:function(){return this.isPaused=!1,this.emit("resume"),this},addCollider:function(t,e,i,n,r){void 0===i&&(i=null),void 0===n&&(n=null),void 0===r&&(r=i);var s=new o(this,!1,t,e,i,n,r);return this.colliders.add(s),s},addOverlap:function(t,e,i,n,r){void 0===i&&(i=null),void 0===n&&(n=null),void 0===r&&(r=i);var s=new o(this,!0,t,e,i,n,r);return this.colliders.add(s),s},removeCollider:function(t){return this.colliders.remove(t),this},setFPS:function(t){return this.fps=t,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this},update:function(t,e){if(!this.isPaused&&0!==this.bodies.size){var i=0,n=this._frameTime,r=this._frameTimeMS*this.timeScale;for(this._elapsed+=e;this._elapsed>=r;)this._elapsed-=r,i++,this.step(n);this.stepsLastFrame=i}},step:function(t){var e,i,n=this.bodies.entries,r=n.length;for(e=0;e<r;e++)(i=n[e]).enable&&i.update(t);this.useTree&&(this.tree.clear(),this.tree.load(n));var s=this.colliders.update();for(e=0;e<s.length;e++){var o=s[e];o.active&&o.update()}for(r=n.length,e=0;e<r;e++)(i=n[e]).enable&&i.postUpdate()},postUpdate:function(){var t,e,i=this.bodies,n=this.staticBodies,r=this.pendingDestroy,s=i.entries,o=s.length;if(this.drawDebug){var h=this.debugGraphic;for(h.clear(),t=0;t<o;t++)(e=s[t]).willDrawDebug()&&e.drawDebug(h);for(o=(s=n.entries).length,t=0;t<o;t++)(e=s[t]).willDrawDebug()&&e.drawDebug(h)}if(r.size>0){var u=this.tree,c=this.staticTree;for(o=(s=r.entries).length,t=0;t<o;t++)(e=s[t]).physicsType===a.DYNAMIC_BODY?(u.remove(e),i.delete(e)):e.physicsType===a.STATIC_BODY&&(c.remove(e),n.delete(e)),e.world=void 0,e.gameObject=void 0;r.clear()}},updateMotion:function(t,e){t.allowRotation&&this.computeAngularVelocity(t,e),this.computeVelocity(t,e)},computeAngularVelocity:function(t,e){var i=t.angularVelocity,n=t.angularAcceleration,s=t.angularDrag,o=t.maxAngular;n?i+=n*e:t.allowDrag&&s&&(l(i-(s*=e),0,.1)?i-=s:f(i+s,0,.1)?i+=s:i=0);var a=(i=r(i,-o,o))-t.angularVelocity;t.angularVelocity+=a,t.rotation+=t.angularVelocity*e},computeVelocity:function(t,e){var i=t.velocity.x,n=t.acceleration.x,s=t.drag.x,o=t.maxVelocity.x,a=t.velocity.y,h=t.acceleration.y,u=t.drag.y,d=t.maxVelocity.y,p=t.speed,g=t.allowDrag,v=t.useDamping;t.allowGravity&&(i+=(this.gravity.x+t.gravity.x)*e,a+=(this.gravity.y+t.gravity.y)*e),n?i+=n*e:g&&s&&(v?(i*=s,c(p,0,.001)&&(i=0)):l(i-(s*=e),0,.01)?i-=s:f(i+s,0,.01)?i+=s:i=0),h?a+=h*e:g&&u&&(v?(a*=u,c(p,0,.001)&&(a=0)):l(a-(u*=e),0,.01)?a-=u:f(a+u,0,.01)?a+=u:a=0),i=r(i,-o,o),a=r(a,-d,d),t.velocity.set(i,a)},separate:function(t,e,i,n,r){if(!t.enable||!e.enable||t.checkCollision.none||e.checkCollision.none||!this.intersects(t,e))return!1;if(i&&!1===i.call(n,t.gameObject,e.gameObject))return!1;if(t.isCircle&&e.isCircle)return this.separateCircle(t,e,r);if(t.isCircle!==e.isCircle){var s=t.isCircle?e:t,o=t.isCircle?t:e,a={x:s.x,y:s.y,right:s.right,bottom:s.bottom},h=o.center;if((h.y<a.y||h.y>a.bottom)&&(h.x<a.x||h.x>a.right))return this.separateCircle(t,e,r)}var u=!1,c=!1;this.forceX||Math.abs(this.gravity.y+t.gravity.y)<Math.abs(this.gravity.x+t.gravity.x)?(u=w(t,e,r,this.OVERLAP_BIAS),this.intersects(t,e)&&(c=T(t,e,r,this.OVERLAP_BIAS))):(c=T(t,e,r,this.OVERLAP_BIAS),this.intersects(t,e)&&(u=w(t,e,r,this.OVERLAP_BIAS)));var l=u||c;return l&&(r&&(t.onOverlap||e.onOverlap)?this.emit("overlap",t.gameObject,e.gameObject,t,e):(t.postUpdate(),e.postUpdate(),(t.onCollide||e.onCollide)&&this.emit("collide",t.gameObject,e.gameObject,t,e))),l},separateCircle:function(t,e,i,n){d(t,e,!1,n),p(t,e,!1,n);var r=e.center.x-t.center.x,s=e.center.y-t.center.y,o=Math.atan2(s,r),a=0;if(t.isCircle!==e.isCircle){var u={x:e.isCircle?t.position.x:e.position.x,y:e.isCircle?t.position.y:e.position.y,right:e.isCircle?t.right:e.right,bottom:e.isCircle?t.bottom:e.bottom},c={x:t.isCircle?t.center.x:e.center.x,y:t.isCircle?t.center.y:e.center.y,radius:t.isCircle?t.halfWidth:e.halfWidth};c.y<u.y?c.x<u.x?a=h(c.x,c.y,u.x,u.y)-c.radius:c.x>u.right&&(a=h(c.x,c.y,u.right,u.y)-c.radius):c.y>u.bottom&&(c.x<u.x?a=h(c.x,c.y,u.x,u.bottom)-c.radius:c.x>u.right&&(a=h(c.x,c.y,u.right,u.bottom)-c.radius)),a*=-1}else a=t.halfWidth+e.halfWidth-h(t.center.x,t.center.y,e.center.x,e.center.y);if(i||0===a||t.immovable&&e.immovable||t.customSeparateX||e.customSeparateX)return 0!==a&&(t.onOverlap||e.onOverlap)&&this.emit("overlap",t.gameObject,e.gameObject,t,e),0!==a;var l=t.velocity.x,f=t.velocity.y,g=t.mass,v=e.velocity.x,y=e.velocity.y,m=e.mass,x=l*Math.cos(o)+f*Math.sin(o),b=l*Math.sin(o)-f*Math.cos(o),w=v*Math.cos(o)+y*Math.sin(o),T=v*Math.sin(o)-y*Math.cos(o),S=((g-m)*x+2*m*w)/(g+m),_=(2*g*x+(m-g)*w)/(g+m);t.immovable||(t.velocity.x=(S*Math.cos(o)-b*Math.sin(o))*t.bounce.x,t.velocity.y=(b*Math.cos(o)+S*Math.sin(o))*t.bounce.y,l=t.velocity.x,f=t.velocity.y),e.immovable||(e.velocity.x=(_*Math.cos(o)-T*Math.sin(o))*e.bounce.x,e.velocity.y=(T*Math.cos(o)+_*Math.sin(o))*e.bounce.y,v=e.velocity.x,y=e.velocity.y),Math.abs(o)<Math.PI/2?l>0&&!t.immovable&&v>l?t.velocity.x*=-1:v<0&&!e.immovable&&l<v?e.velocity.x*=-1:f>0&&!t.immovable&&y>f?t.velocity.y*=-1:y<0&&!e.immovable&&f<y&&(e.velocity.y*=-1):Math.abs(o)>Math.PI/2&&(l<0&&!t.immovable&&v<l?t.velocity.x*=-1:v>0&&!e.immovable&&l>v?e.velocity.x*=-1:f<0&&!t.immovable&&y<f?t.velocity.y*=-1:y>0&&!e.immovable&&l>y&&(e.velocity.y*=-1));var A=this._frameTime;return t.immovable||(t.x+=t.velocity.x*A-a*Math.cos(o),t.y+=t.velocity.y*A-a*Math.sin(o)),e.immovable||(e.x+=e.velocity.x*A+a*Math.cos(o),e.y+=e.velocity.y*A+a*Math.sin(o)),(t.onCollide||e.onCollide)&&this.emit("collide",t.gameObject,e.gameObject,t,e),t.postUpdate(),e.postUpdate(),!0},intersects:function(t,e){return t!==e&&(t.isCircle||e.isCircle?t.isCircle?e.isCircle?h(t.center.x,t.center.y,e.center.x,e.center.y)<=t.halfWidth+e.halfWidth:this.circleBodyIntersects(t,e):this.circleBodyIntersects(e,t):!(t.right<=e.position.x||t.bottom<=e.position.y||t.position.x>=e.right||t.position.y>=e.bottom))},circleBodyIntersects:function(t,e){var i=r(t.center.x,e.left,e.right),n=r(t.center.y,e.top,e.bottom);return(t.center.x-i)*(t.center.x-i)+(t.center.y-n)*(t.center.y-n)<=t.halfWidth*t.halfWidth},overlap:function(t,e,i,n,r){return void 0===i&&(i=null),void 0===n&&(n=null),void 0===r&&(r=i),this.collideObjects(t,e,i,n,r,!0)},collide:function(t,e,i,n,r){return void 0===i&&(i=null),void 0===n&&(n=null),void 0===r&&(r=i),this.collideObjects(t,e,i,n,r,!1)},collideObjects:function(t,e,i,n,r,s){var o;t.isParent&&void 0===t.physicsType&&(t=t.children.entries),e&&e.isParent&&void 0===e.physicsType&&(e=e.children.entries);var a=Array.isArray(t),h=Array.isArray(e);if(this._total=0,a||h)if(!a&&h)for(o=0;o<e.length;o++)this.collideHandler(t,e[o],i,n,r,s);else if(a&&!h)for(o=0;o<t.length;o++)this.collideHandler(t[o],e,i,n,r,s);else for(o=0;o<t.length;o++)for(var u=0;u<e.length;u++)this.collideHandler(t[o],e[u],i,n,r,s);else this.collideHandler(t,e,i,n,r,s);return this._total>0},collideHandler:function(t,e,i,n,r,s){if(void 0===e&&t.isParent)return this.collideGroupVsGroup(t,t,i,n,r,s);if(!t||!e)return!1;if(t.body){if(e.body)return this.collideSpriteVsSprite(t,e,i,n,r,s);if(e.isParent)return this.collideSpriteVsGroup(t,e,i,n,r,s);if(e.isTilemap)return this.collideSpriteVsTilemapLayer(t,e,i,n,r,s)}else if(t.isParent){if(e.body)return this.collideSpriteVsGroup(e,t,i,n,r,s);if(e.isParent)return this.collideGroupVsGroup(t,e,i,n,r,s);if(e.isTilemap)return this.collideGroupVsTilemapLayer(t,e,i,n,r,s)}else if(t.isTilemap){if(e.body)return this.collideSpriteVsTilemapLayer(e,t,i,n,r,s);if(e.isParent)return this.collideGroupVsTilemapLayer(e,t,i,n,r,s)}},collideSpriteVsSprite:function(t,e,i,n,r,s){return!(!t.body||!e.body)&&(this.separate(t.body,e.body,n,r,s)&&(i&&i.call(r,t,e),this._total++),!0)},collideSpriteVsGroup:function(t,e,i,n,r,s){var o,h,u,c=t.body;if(0!==e.length&&c&&c.enable)if(this.useTree){var l=this.treeMinMax;l.minX=c.left,l.minY=c.top,l.maxX=c.right,l.maxY=c.bottom;var f=e.physicsType===a.DYNAMIC_BODY?this.tree.search(l):this.staticTree.search(l);for(h=f.length,o=0;o<h;o++)c!==(u=f[o])&&e.contains(u.gameObject)&&this.separate(c,u,n,r,s)&&(i&&i.call(r,c.gameObject,u.gameObject),this._total++)}else{var d=e.getChildren(),p=e.children.entries.indexOf(t);for(h=d.length,o=0;o<h;o++)(u=d[o].body)&&o!==p&&u.enable&&this.separate(c,u,n,r,s)&&(i&&i.call(r,c.gameObject,u.gameObject),this._total++)}},collideGroupVsTilemapLayer:function(t,e,i,n,r,s){var o=t.getChildren();if(0===o.length)return!1;for(var a=!1,h=0;h<o.length;h++)o[h].body&&this.collideSpriteVsTilemapLayer(o[h],e,i,n,r,s)&&(a=!0);return a},collideSpriteVsTilemapLayer:function(t,e,i,n,r,s){var o=t.body;if(!o.enable)return!1;var a=o.position.x,h=o.position.y,u=o.width,c=o.height,l=e.layer;if(l.tileWidth>l.baseTileWidth){var f=(l.tileWidth-l.baseTileWidth)*e.scaleX;a-=f,u+=f}l.tileHeight>l.baseTileHeight&&(c+=(l.tileHeight-l.baseTileHeight)*e.scaleY);var d,p=e.getTilesWithinWorldXY(a,h,u,c);if(0===p.length)return!1;for(var g={left:0,right:0,top:0,bottom:0},v=0;v<p.length;v++)d=p[v],g.left=e.tileToWorldX(d.x),g.top=e.tileToWorldY(d.y),d.baseHeight!==d.height&&(g.top-=(d.height-d.baseHeight)*e.scaleY),g.right=g.left+d.width*e.scaleX,g.bottom=g.top+d.height*e.scaleY,A(g,o)&&(!n||n.call(r,t,d))&&y(d,t)&&(s||b(v,o,d,g,e,this.TILE_BIAS))&&(this._total++,i&&i.call(r,t,d),s&&o.onOverlap?t.emit("overlap",o.gameObject,d,o,null):o.onCollide&&t.emit("collide",o.gameObject,d,o,null),o.postUpdate())},collideGroupVsGroup:function(t,e,i,n,r,s){if(0!==t.length&&0!==e.length)for(var o=t.getChildren(),a=0;a<o.length;a++)this.collideSpriteVsGroup(o[a],e,i,n,r,s)},wrap:function(t,e){t.body?this.wrapObject(t,e):t.getChildren?this.wrapArray(t.getChildren(),e):Array.isArray(t)?this.wrapArray(t,e):this.wrapObject(t,e)},wrapArray:function(t,e){for(var i=0;i<t.length;i++)this.wrapObject(t[i],e)},wrapObject:function(t,e){void 0===e&&(e=0),t.x=C(t.x,this.bounds.left-e,this.bounds.right+e),t.y=C(t.y,this.bounds.top-e,this.bounds.bottom+e)},shutdown:function(){this.tree.clear(),this.staticTree.clear(),this.bodies.clear(),this.staticBodies.clear(),this.colliders.destroy(),this.removeAllListeners()},destroy:function(){this.shutdown(),this.scene=null}});t.exports=M},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(43),r=i(0),s=i(46),o=i(159),a=i(9),h=i(44),u=i(3),c=new r({initialize:function(t,e){var i=e.width?e.width:64,n=e.height?e.height:64;this.world=t,this.gameObject=e,this.transform={x:e.x,y:e.y,rotation:e.angle,scaleX:e.scaleX,scaleY:e.scaleY,displayOriginX:e.displayOriginX,displayOriginY:e.displayOriginY},this.debugShowBody=t.defaults.debugShowBody,this.debugShowVelocity=t.defaults.debugShowVelocity,this.debugBodyColor=t.defaults.bodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new u,this.position=new u(e.x,e.y),this.prev=new u(e.x,e.y),this.allowRotation=!0,this.rotation=e.angle,this.preRotation=e.angle,this.width=i,this.height=n,this.sourceWidth=i,this.sourceHeight=n,e.frame&&(this.sourceWidth=e.frame.realWidth,this.sourceHeight=e.frame.realHeight),this.halfWidth=Math.abs(i/2),this.halfHeight=Math.abs(n/2),this.center=new u(e.x+this.halfWidth,e.y+this.halfHeight),this.velocity=new u,this.newVelocity=new u,this.deltaMax=new u,this.acceleration=new u,this.allowDrag=!0,this.drag=new u,this.allowGravity=!0,this.gravity=new u,this.bounce=new u,this.worldBounce=null,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.maxVelocity=new u(1e4,1e4),this.friction=new u(1,0),this.useDamping=!1,this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e3,this.mass=1,this.angle=0,this.speed=0,this.facing=s.FACING_NONE,this.immovable=!1,this.moves=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision={none:!1,up:!0,down:!0,left:!0,right:!0},this.touching={none:!0,up:!1,down:!1,left:!1,right:!1},this.wasTouching={none:!0,up:!1,down:!1,left:!1,right:!1},this.blocked={none:!0,up:!1,down:!1,left:!1,right:!1},this.syncBounds=!1,this.isMoving=!1,this.stopVelocityOnCollide=!0,this.physicsType=s.DYNAMIC_BODY,this._reset=!0,this._sx=e.scaleX,this._sy=e.scaleY,this._dx=0,this._dy=0,this._bounds=new a},updateBounds:function(){var t=this.gameObject,e=this.transform;if(t.parentContainer){var i=t.getWorldTransformMatrix(this.world._tempMatrix,this.world._tempMatrix2);e.x=i.tx,e.y=i.ty,e.rotation=o(i.rotation),e.scaleX=i.scaleX,e.scaleY=i.scaleY}else e.x=t.x,e.y=t.y,e.rotation=t.angle,e.scaleX=t.scaleX,e.scaleY=t.scaleY;var n=!1;if(this.syncBounds){var r=t.getBounds(this._bounds);this.width=r.width,this.height=r.height,n=!0}else{var s=Math.abs(e.scaleX),a=Math.abs(e.scaleY);this._sx===s&&this._sy===a||(this.width=this.sourceWidth*s,this.height=this.sourceHeight*a,this._sx=s,this._sy=a,n=!0)}n&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter())},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},update:function(t){this.wasTouching.none=this.touching.none,this.wasTouching.up=this.touching.up,this.wasTouching.down=this.touching.down,this.wasTouching.left=this.touching.left,this.wasTouching.right=this.touching.right,this.touching.none=!0,this.touching.up=!1,this.touching.down=!1,this.touching.left=!1,this.touching.right=!1,this.blocked.none=!0,this.blocked.up=!1,this.blocked.down=!1,this.blocked.left=!1,this.blocked.right=!1,this.overlapR=0,this.overlapX=0,this.overlapY=0,this.embedded=!1,this.updateBounds();var e=this.transform;if(this.position.x=e.x+e.scaleX*(this.offset.x-e.displayOriginX),this.position.y=e.y+e.scaleY*(this.offset.y-e.displayOriginY),this.updateCenter(),this.rotation=e.rotation,this.preRotation=this.rotation,this._reset&&(this.prev.x=this.position.x,this.prev.y=this.position.y),this.moves){this.world.updateMotion(this,t);var i=this.velocity.x,n=this.velocity.y;this.newVelocity.set(i*t,n*t),this.position.add(this.newVelocity),this.updateCenter(),this.angle=Math.atan2(n,i),this.speed=Math.sqrt(i*i+n*n),this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds&&this.world.emit("worldbounds",this,this.blocked.up,this.blocked.down,this.blocked.left,this.blocked.right)}this._dx=this.position.x-this.prev.x,this._dy=this.position.y-this.prev.y},postUpdate:function(){this._dx=this.position.x-this.prev.x,this._dy=this.position.y-this.prev.y,this.moves&&(0!==this.deltaMax.x&&0!==this._dx&&(this._dx<0&&this._dx<-this.deltaMax.x?this._dx=-this.deltaMax.x:this._dx>0&&this._dx>this.deltaMax.x&&(this._dx=this.deltaMax.x)),0!==this.deltaMax.y&&0!==this._dy&&(this._dy<0&&this._dy<-this.deltaMax.y?this._dy=-this.deltaMax.y:this._dy>0&&this._dy>this.deltaMax.y&&(this._dy=this.deltaMax.y)),this.gameObject.x+=this._dx,this.gameObject.y+=this._dy,this._reset=!0),this._dx<0?this.facing=s.FACING_LEFT:this._dx>0&&(this.facing=s.FACING_RIGHT),this._dy<0?this.facing=s.FACING_UP:this._dy>0&&(this.facing=s.FACING_DOWN),this.allowRotation&&(this.gameObject.angle+=this.deltaZ()),this.prev.x=this.position.x,this.prev.y=this.position.y},checkWorldBounds:function(){var t=this.position,e=this.world.bounds,i=this.world.checkCollision,n=this.worldBounce?-this.worldBounce.x:-this.bounce.x,r=this.worldBounce?-this.worldBounce.y:-this.bounce.y;return t.x<e.x&&i.left?(t.x=e.x,this.velocity.x*=n,this.blocked.left=!0,this.blocked.none=!1):this.right>e.right&&i.right&&(t.x=e.right-this.width,this.velocity.x*=n,this.blocked.right=!0,this.blocked.none=!1),t.y<e.y&&i.up?(t.y=e.y,this.velocity.y*=r,this.blocked.up=!0,this.blocked.none=!1):this.bottom>e.bottom&&i.down&&(t.y=e.bottom-this.height,this.velocity.y*=r,this.blocked.down=!0,this.blocked.none=!1),!this.blocked.none},setOffset:function(t,e){return void 0===e&&(e=t),this.offset.set(t,e),this},setSize:function(t,e,i){void 0===i&&(i=!0);var n=this.gameObject;if(!t&&n.frame&&(t=n.frame.realWidth),!e&&n.frame&&(e=n.frame.realHeight),this.sourceWidth=t,this.sourceHeight=e,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter(),i&&n.getCenter){var r=n.displayWidth/2,s=n.displayHeight/2;this.offset.set(r-this.halfWidth,s-this.halfHeight)}return this.isCircle=!1,this.radius=0,this},setCircle:function(t,e,i){return void 0===e&&(e=this.offset.x),void 0===i&&(i=this.offset.y),t>0?(this.isCircle=!0,this.radius=t,this.sourceWidth=2*t,this.sourceHeight=2*t,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(e,i),this.updateCenter()):this.isCircle=!1,this},reset:function(t,e){this.stop();var i=this.gameObject;i.setPosition(t,e),i.getTopLeft(this.position),this.prev.copy(this.position),this.rotation=i.angle,this.preRotation=i.angle,this.updateBounds(),this.updateCenter()},stop:function(){return this.velocity.set(0),this.acceleration.set(0),this.speed=0,this.angularVelocity=0,this.angularAcceleration=0,this},getBounds:function(t){return t.x=this.x,t.y=this.y,t.right=this.right,t.bottom=this.bottom,t},hitTest:function(t,e){return this.isCircle?n(this,t,e):h(this,t,e)},onFloor:function(){return this.blocked.down},onCeiling:function(){return this.blocked.up},onWall:function(){return this.blocked.left||this.blocked.right},deltaAbsX:function(){return this._dx>0?this._dx:-this._dx},deltaAbsY:function(){return this._dy>0?this._dy:-this._dy},deltaX:function(){return this._dx},deltaY:function(){return this._dy},deltaZ:function(){return this.rotation-this.preRotation},destroy:function(){this.enable=!1,this.world.pendingDestroy.set(this)},drawDebug:function(t){var e=this.position,i=e.x+this.halfWidth,n=e.y+this.halfHeight;this.debugShowBody&&(t.lineStyle(1,this.debugBodyColor),this.isCircle?t.strokeCircle(i,n,this.width/2):t.strokeRect(e.x,e.y,this.width,this.height)),this.debugShowVelocity&&(t.lineStyle(1,this.world.defaults.velocityDebugColor,1),t.lineBetween(i,n,i+this.velocity.x/2,n+this.velocity.y/2))},willDrawDebug:function(){return this.debugShowBody||this.debugShowVelocity},setCollideWorldBounds:function(t){return void 0===t&&(t=!0),this.collideWorldBounds=t,this},setVelocity:function(t,e){return this.velocity.set(t,e),this.speed=Math.sqrt(t*t+e*e),this},setVelocityX:function(t){this.velocity.x=t;var e=t,i=this.velocity.y;return this.speed=Math.sqrt(e*e+i*i),this},setVelocityY:function(t){this.velocity.y=t;var e=this.velocity.x,i=t;return this.speed=Math.sqrt(e*e+i*i),this},setMaxVelocity:function(t,e){return this.maxVelocity.set(t,e),this},setBounce:function(t,e){return this.bounce.set(t,e),this},setBounceX:function(t){return this.bounce.x=t,this},setBounceY:function(t){return this.bounce.y=t,this},setAcceleration:function(t,e){return this.acceleration.set(t,e),this},setAccelerationX:function(t){return this.acceleration.x=t,this},setAccelerationY:function(t){return this.acceleration.y=t,this},setAllowDrag:function(t){return void 0===t&&(t=!0),this.allowDrag=t,this},setAllowGravity:function(t){return void 0===t&&(t=!0),this.allowGravity=t,this},setAllowRotation:function(t){return void 0===t&&(t=!0),this.allowRotation=t,this},setDrag:function(t,e){return this.drag.set(t,e),this},setDragX:function(t){return this.drag.x=t,this},setDragY:function(t){return this.drag.y=t,this},setGravity:function(t,e){return this.gravity.set(t,e),this},setGravityX:function(t){return this.gravity.x=t,this},setGravityY:function(t){return this.gravity.y=t,this},setFriction:function(t,e){return this.friction.set(t,e),this},setFrictionX:function(t){return this.friction.x=t,this},setFrictionY:function(t){return this.friction.y=t,this},setAngularVelocity:function(t){return this.angularVelocity=t,this},setAngularAcceleration:function(t){return this.angularAcceleration=t,this},setAngularDrag:function(t){return this.angularDrag=t,this},setMass:function(t){return this.mass=t,this},setImmovable:function(t){return void 0===t&&(t=!0),this.immovable=t,this},x:{get:function(){return this.position.x},set:function(t){this.position.x=t}},y:{get:function(){return this.position.y},set:function(t){this.position.y=t}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});t.exports=c},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=new(i(0))({initialize:function(t,e,i,n,r,s,o){this.world=t,this.name="",this.active=!0,this.overlapOnly=e,this.object1=i,this.object2=n,this.collideCallback=r,this.processCallback=s,this.callbackContext=o},setName:function(t){return this.name=t,this},update:function(){this.world.collideObjects(this.object1,this.object2,this.collideCallback,this.processCallback,this.callbackContext,this.overlapOnly)},destroy:function(){this.world.removeCollider(this),this.active=!1,this.world=null,this.object1=null,this.object2=null,this.collideCallback=null,this.processCallback=null,this.callbackContext=null}});t.exports=n},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(46);t.exports=function(t,e,i,r){var s=0,o=t.deltaAbsX()+e.deltaAbsX()+r;return 0===t._dx&&0===e._dx?(t.embedded=!0,e.embedded=!0):t._dx>e._dx?(s=t.right-e.x)>o&&!i||!1===t.checkCollision.right||!1===e.checkCollision.left?s=0:(t.touching.none=!1,t.touching.right=!0,e.touching.none=!1,e.touching.left=!0,e.physicsType===n.STATIC_BODY&&(t.blocked.none=!1,t.blocked.right=!0),t.physicsType===n.STATIC_BODY&&(e.blocked.none=!1,e.blocked.left=!0)):t._dx<e._dx&&(-(s=t.x-e.width-e.x)>o&&!i||!1===t.checkCollision.left||!1===e.checkCollision.right?s=0:(t.touching.none=!1,t.touching.left=!0,e.touching.none=!1,e.touching.right=!0,e.physicsType===n.STATIC_BODY&&(t.blocked.none=!1,t.blocked.left=!0),t.physicsType===n.STATIC_BODY&&(e.blocked.none=!1,e.blocked.right=!0))),t.overlapX=s,e.overlapX=s,s}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(46);t.exports=function(t,e,i,r){var s=0,o=t.deltaAbsY()+e.deltaAbsY()+r;return 0===t._dy&&0===e._dy?(t.embedded=!0,e.embedded=!0):t._dy>e._dy?(s=t.bottom-e.y)>o&&!i||!1===t.checkCollision.down||!1===e.checkCollision.up?s=0:(t.touching.none=!1,t.touching.down=!0,e.touching.none=!1,e.touching.up=!0,e.physicsType===n.STATIC_BODY&&(t.blocked.none=!1,t.blocked.down=!0),t.physicsType===n.STATIC_BODY&&(e.blocked.none=!1,e.blocked.up=!0)):t._dy<e._dy&&(-(s=t.y-e.bottom)>o&&!i||!1===t.checkCollision.up||!1===e.checkCollision.down?s=0:(t.touching.none=!1,t.touching.up=!0,e.touching.none=!1,e.touching.down=!0,e.physicsType===n.STATIC_BODY&&(t.blocked.none=!1,t.blocked.up=!0),t.physicsType===n.STATIC_BODY&&(e.blocked.none=!1,e.blocked.down=!0))),t.overlapY=s,e.overlapY=s,s}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=new(i(0))({initialize:function(){this._pending=[],this._active=[],this._destroy=[],this._toProcess=0},add:function(t){return this._pending.push(t),this._toProcess++,this},remove:function(t){return this._destroy.push(t),this._toProcess++,this},update:function(){if(0===this._toProcess)return this._active;var t,e,i=this._destroy,n=this._active;for(t=0;t<i.length;t++){e=i[t];var r=n.indexOf(e);-1!==r&&n.splice(r,1)}for(i.length=0,i=this._pending,t=0;t<i.length;t++)e=i[t],this._active.push(e);return i.length=0,this._toProcess=0,this._active},getActive:function(){return this._active},destroy:function(){this._pending=[],this._active=[],this._destroy=[]}});t.exports=n},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(331);function r(t){if(!(this instanceof r))return new r(t,[".left",".top",".right",".bottom"]);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()}function s(t,e,i){if(!i)return e.indexOf(t);for(var n=0;n<e.length;n++)if(i(t,e[n]))return n;return-1}function o(t,e){a(t,0,t.children.length,e,t)}function a(t,e,i,n,r){r||(r=g(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(var s,o=e;o<i;o++)s=t.children[o],h(r,t.leaf?n(s):s);return r}function h(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function u(t,e){return t.minX-e.minX}function c(t,e){return t.minY-e.minY}function l(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function f(t){return t.maxX-t.minX+(t.maxY-t.minY)}function d(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function p(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function g(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function v(t,e,i,r,s){for(var o,a=[e,i];a.length;)(i=a.pop())-(e=a.pop())<=r||(o=e+Math.ceil((i-e)/r/2)*r,n(t,o,e,i,s),a.push(e,o,o,i))}r.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,i=[],n=this.toBBox;if(!p(t,e))return i;for(var r,s,o,a,h=[];e;){for(r=0,s=e.children.length;r<s;r++)o=e.children[r],p(t,a=e.leaf?n(o):o)&&(e.leaf?i.push(o):d(t,a)?this._all(o,i):h.push(o));e=h.pop()}return i},collides:function(t){var e=this.data,i=this.toBBox;if(!p(t,e))return!1;for(var n,r,s,o,a=[];e;){for(n=0,r=e.children.length;n<r;n++)if(s=e.children[n],p(t,o=e.leaf?i(s):s)){if(e.leaf||d(t,o))return!0;a.push(s)}e=a.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,i=t.length;e<i;e++)this.insert(t[e]);return this}var n=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var r=this.data;this.data=n,n=r}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=g([]),this},remove:function(t,e){if(!t)return this;for(var i,n,r,o,a=this.data,h=this.toBBox(t),u=[],c=[];a||u.length;){if(a||(a=u.pop(),n=u[u.length-1],i=c.pop(),o=!0),a.leaf&&-1!==(r=s(t,a.children,e)))return a.children.splice(r,1),u.push(a),this._condense(u),this;o||a.leaf||!d(a,h)?n?(i++,a=n.children[i],o=!1):a=null:(u.push(a),c.push(i),i=0,n=a,a=a.children[0])}return this},toBBox:function(t){return t},compareMinX:u,compareMinY:c,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var i=[];t;)t.leaf?e.push.apply(e,t.children):i.push.apply(i,t.children),t=i.pop();return e},_build:function(t,e,i,n){var r,s=i-e+1,a=this._maxEntries;if(s<=a)return o(r=g(t.slice(e,i+1)),this.toBBox),r;n||(n=Math.ceil(Math.log(s)/Math.log(a)),a=Math.ceil(s/Math.pow(a,n-1))),(r=g([])).leaf=!1,r.height=n;var h,u,c,l,f=Math.ceil(s/a),d=f*Math.ceil(Math.sqrt(a));for(v(t,e,i,d,this.compareMinX),h=e;h<=i;h+=d)for(v(t,h,c=Math.min(h+d-1,i),f,this.compareMinY),u=h;u<=c;u+=f)l=Math.min(u+f-1,c),r.children.push(this._build(t,u,l,n-1));return o(r,this.toBBox),r},_chooseSubtree:function(t,e,i,n){for(var r,s,o,a,h,u,c,f,d,p;n.push(e),!e.leaf&&n.length-1!==i;){for(c=f=1/0,r=0,s=e.children.length;r<s;r++)h=l(o=e.children[r]),d=t,p=o,(u=(Math.max(p.maxX,d.maxX)-Math.min(p.minX,d.minX))*(Math.max(p.maxY,d.maxY)-Math.min(p.minY,d.minY))-h)<f?(f=u,c=h<c?h:c,a=o):u===f&&h<c&&(c=h,a=o);e=a||e.children[0]}return e},_insert:function(t,e,i){var n=this.toBBox,r=i?t:n(t),s=[],o=this._chooseSubtree(r,this.data,e,s);for(o.children.push(t),h(o,r);e>=0&&s[e].children.length>this._maxEntries;)this._split(s,e),e--;this._adjustParentBBoxes(r,s,e)},_split:function(t,e){var i=t[e],n=i.children.length,r=this._minEntries;this._chooseSplitAxis(i,r,n);var s=this._chooseSplitIndex(i,r,n),a=g(i.children.splice(s,i.children.length-s));a.height=i.height,a.leaf=i.leaf,o(i,this.toBBox),o(a,this.toBBox),e?t[e-1].children.push(a):this._splitRoot(i,a)},_splitRoot:function(t,e){this.data=g([t,e]),this.data.height=t.height+1,this.data.leaf=!1,o(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,i){var n,r,s,o,h,u,c,f,d,p,g,v,y,m;for(u=c=1/0,n=e;n<=i-e;n++)r=a(t,0,n,this.toBBox),s=a(t,n,i,this.toBBox),d=r,p=s,g=void 0,v=void 0,y=void 0,m=void 0,g=Math.max(d.minX,p.minX),v=Math.max(d.minY,p.minY),y=Math.min(d.maxX,p.maxX),m=Math.min(d.maxY,p.maxY),o=Math.max(0,y-g)*Math.max(0,m-v),h=l(r)+l(s),o<u?(u=o,f=n,c=h<c?h:c):o===u&&h<c&&(c=h,f=n);return f},_chooseSplitAxis:function(t,e,i){var n=t.leaf?this.compareMinX:u,r=t.leaf?this.compareMinY:c;this._allDistMargin(t,e,i,n)<this._allDistMargin(t,e,i,r)&&t.children.sort(n)},_allDistMargin:function(t,e,i,n){t.children.sort(n);var r,s,o=this.toBBox,u=a(t,0,e,o),c=a(t,i-e,i,o),l=f(u)+f(c);for(r=e;r<i-e;r++)s=t.children[r],h(u,t.leaf?o(s):s),l+=f(u);for(r=i-e-1;r>=e;r--)s=t.children[r],h(c,t.leaf?o(s):s),l+=f(c);return l},_adjustParentBBoxes:function(t,e,i){for(var n=i;n>=0;n--)h(e[n],t)},_condense:function(t){for(var e,i=t.length-1;i>=0;i--)0===t[i].children.length?i>0?(e=t[i-1].children).splice(e.indexOf(t[i]),1):this.clear():o(t[i],this.toBBox)},compareMinX:function(t,e){return t.left-e.left},compareMinY:function(t,e){return t.top-e.top},toBBox:function(t){return{minX:t.left,minY:t.top,maxX:t.right,maxY:t.bottom}}},t.exports=r},function(t,e){t.exports=function(t,e){return!(e.right<=t.left||e.bottom<=t.top||e.position.x>=t.right||e.position.y>=t.bottom)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(43),r=i(0),s=i(46),o=i(44),a=i(3),h=new r({initialize:function(t,e){var i=e.width?e.width:64,n=e.height?e.height:64;this.world=t,this.gameObject=e,this.debugShowBody=t.defaults.debugShowStaticBody,this.debugBodyColor=t.defaults.staticBodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new a,this.position=new a(e.x-e.displayOriginX,e.y-e.displayOriginY),this.width=i,this.height=n,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center=new a(e.x+this.halfWidth,e.y+this.halfHeight),this.velocity=a.ZERO,this.allowGravity=!1,this.gravity=a.ZERO,this.bounce=a.ZERO,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.mass=1,this.immovable=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision={none:!1,up:!0,down:!0,left:!0,right:!0},this.touching={none:!0,up:!1,down:!1,left:!1,right:!1},this.wasTouching={none:!0,up:!1,down:!1,left:!1,right:!1},this.blocked={none:!0,up:!1,down:!1,left:!1,right:!1},this.physicsType=s.STATIC_BODY,this._dx=0,this._dy=0},setGameObject:function(t,e){return t&&t!==this.gameObject&&(this.gameObject.body=null,t.body=this,this.gameObject=t),e&&this.updateFromGameObject(),this},updateFromGameObject:function(){this.world.staticTree.remove(this);var t=this.gameObject;return t.getTopLeft(this.position),this.width=t.displayWidth,this.height=t.displayHeight,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.world.staticTree.insert(this),this},setOffset:function(t,e){return void 0===e&&(e=t),this.world.staticTree.remove(this),this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(t,e),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this),this},setSize:function(t,e,i,n){void 0===i&&(i=this.offset.x),void 0===n&&(n=this.offset.y);var r=this.gameObject;return!t&&r.frame&&(t=r.frame.realWidth),!e&&r.frame&&(e=r.frame.realHeight),this.world.staticTree.remove(this),this.width=t,this.height=e,this.halfWidth=Math.floor(t/2),this.halfHeight=Math.floor(e/2),this.offset.set(i,n),this.updateCenter(),this.isCircle=!1,this.radius=0,this.world.staticTree.insert(this),this},setCircle:function(t,e,i){return void 0===e&&(e=this.offset.x),void 0===i&&(i=this.offset.y),t>0?(this.world.staticTree.remove(this),this.isCircle=!0,this.radius=t,this.width=2*t,this.height=2*t,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(e,i),this.updateCenter(),this.world.staticTree.insert(this)):this.isCircle=!1,this},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},reset:function(t,e){var i=this.gameObject;void 0===t&&(t=i.x),void 0===e&&(e=i.y),this.world.staticTree.remove(this),i.getTopLeft(this.position),this.updateCenter(),this.world.staticTree.insert(this)},stop:function(){return this},getBounds:function(t){return t.x=this.x,t.y=this.y,t.right=this.right,t.bottom=this.bottom,t},hitTest:function(t,e){return this.isCircle?n(this,t,e):o(this,t,e)},postUpdate:function(){},deltaAbsX:function(){return 0},deltaAbsY:function(){return 0},deltaX:function(){return 0},deltaY:function(){return 0},deltaZ:function(){return 0},destroy:function(){this.enable=!1,this.world.pendingDestroy.set(this)},drawDebug:function(t){var e=this.position;this.debugShowBody&&(t.lineStyle(1,this.debugBodyColor,1),t.strokeRect(e.x,e.y,this.width,this.height))},willDrawDebug:function(){return this.debugShowBody},setMass:function(t){return t<=0&&(t=.1),this.mass=t,this},x:{get:function(){return this.position.x},set:function(t){this.world.staticTree.remove(this),this.position.x=t,this.world.staticTree.insert(this)}},y:{get:function(){return this.position.y},set:function(t){this.world.staticTree.remove(this),this.position.y=t,this.world.staticTree.insert(this)}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});t.exports=h},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(94),s=i(971),o=i(95),a=i(972),h=new n({initialize:function(t,e,i,n,s){void 0===n&&(n=16),void 0===s&&(s=n),this.world=t,this.gameObject=null,this.enabled=!0,this.parent,this.id=t.getNextID(),this.name="",this.size={x:n,y:s},this.offset={x:0,y:0},this.pos={x:e,y:i},this.last={x:e,y:i},this.vel={x:0,y:0},this.accel={x:0,y:0},this.friction={x:0,y:0},this.maxVel={x:t.defaults.maxVelocityX,y:t.defaults.maxVelocityY},this.standing=!1,this.gravityFactor=t.defaults.gravityFactor,this.bounciness=t.defaults.bounciness,this.minBounceVelocity=t.defaults.minBounceVelocity,this.accelGround=0,this.accelAir=0,this.jumpSpeed=0,this.type=o.NONE,this.checkAgainst=o.NONE,this.collides=r.NEVER,this.debugShowBody=t.defaults.debugShowBody,this.debugShowVelocity=t.defaults.debugShowVelocity,this.debugBodyColor=t.defaults.bodyDebugColor,this.updateCallback,this.slopeStanding={min:.767944870877505,max:2.3736477827122884}},reset:function(t,e){this.pos={x:t,y:e},this.last={x:t,y:e},this.vel={x:0,y:0},this.accel={x:0,y:0},this.friction={x:0,y:0},this.maxVel={x:100,y:100},this.standing=!1,this.gravityFactor=1,this.bounciness=0,this.minBounceVelocity=40,this.accelGround=0,this.accelAir=0,this.jumpSpeed=0,this.type=o.NONE,this.checkAgainst=o.NONE,this.collides=r.NEVER},update:function(t){var e=this.pos;this.last.x=e.x,this.last.y=e.y,this.vel.y+=this.world.gravity*t*this.gravityFactor,this.vel.x=s(t,this.vel.x,this.accel.x,this.friction.x,this.maxVel.x),this.vel.y=s(t,this.vel.y,this.accel.y,this.friction.y,this.maxVel.y);var i=this.vel.x*t,n=this.vel.y*t,r=this.world.collisionMap.trace(e.x,e.y,i,n,this.size.x,this.size.y);this.handleMovementTrace(r)&&a(this,r);var o=this.gameObject;o&&(o.x=e.x-this.offset.x+o.displayOriginX*o.scaleX,o.y=e.y-this.offset.y+o.displayOriginY*o.scaleY),this.updateCallback&&this.updateCallback(this)},drawDebug:function(t){var e=this.pos;if(this.debugShowBody&&(t.lineStyle(1,this.debugBodyColor,1),t.strokeRect(e.x,e.y,this.size.x,this.size.y)),this.debugShowVelocity){var i=e.x+this.size.x/2,n=e.y+this.size.y/2;t.lineStyle(1,this.world.defaults.velocityDebugColor,1),t.lineBetween(i,n,i+this.vel.x,n+this.vel.y)}},willDrawDebug:function(){return this.debugShowBody||this.debugShowVelocity},skipHash:function(){return!this.enabled||0===this.type&&0===this.checkAgainst&&0===this.collides},touches:function(t){return!(this.pos.x>=t.pos.x+t.size.x||this.pos.x+this.size.x<=t.pos.x||this.pos.y>=t.pos.y+t.size.y||this.pos.y+this.size.y<=t.pos.y)},resetSize:function(t,e,i,n){return this.pos.x=t,this.pos.y=e,this.size.x=i,this.size.y=n,this},toJSON:function(){return{name:this.name,size:{x:this.size.x,y:this.size.y},pos:{x:this.pos.x,y:this.pos.y},vel:{x:this.vel.x,y:this.vel.y},accel:{x:this.accel.x,y:this.accel.y},friction:{x:this.friction.x,y:this.friction.y},maxVel:{x:this.maxVel.x,y:this.maxVel.y},gravityFactor:this.gravityFactor,bounciness:this.bounciness,minBounceVelocity:this.minBounceVelocity,type:this.type,checkAgainst:this.checkAgainst,collides:this.collides}},fromJSON:function(){},check:function(){},collideWith:function(t,e){this.parent&&this.parent._collideCallback&&this.parent._collideCallback.call(this.parent._callbackScope,this,t,e)},handleMovementTrace:function(){return!0},destroy:function(){this.world.remove(this),this.enabled=!1,this.world=null,this.gameObject=null,this.parent=null}});t.exports=h},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(973),s=new n({initialize:function(t,e){void 0===t&&(t=32),this.tilesize=t,this.data=Array.isArray(e)?e:[],this.width=Array.isArray(e)?e[0].length:0,this.height=Array.isArray(e)?e.length:0,this.lastSlope=55,this.tiledef=r},trace:function(t,e,i,n,r,s){var o={collision:{x:!1,y:!1,slope:!1},pos:{x:t+i,y:e+n},tile:{x:0,y:0}};if(!this.data)return o;var a=Math.ceil(Math.max(Math.abs(i),Math.abs(n))/this.tilesize);if(a>1)for(var h=i/a,u=n/a,c=0;c<a&&(h||u)&&(this.step(o,t,e,h,u,r,s,i,n,c),t=o.pos.x,e=o.pos.y,o.collision.x&&(h=0,i=0),o.collision.y&&(u=0,n=0),!o.collision.slope);c++);else this.step(o,t,e,i,n,r,s,i,n,0);return o},step:function(t,e,i,n,r,s,o,a,h,u){var c,l,f=0,d=this.tilesize,p=this.width,g=this.height;if(n){var v=n>0?s:0,y=n<0?d:0,m=Math.max(Math.floor(i/d),0),x=Math.min(Math.ceil((i+o)/d),g);c=Math.floor((t.pos.x+v)/d);var b=Math.floor((e+v)/d);if((u>0||c===b||b<0||b>=p)&&(b=-1),c>=0&&c<p)for(l=m;l<x&&!(-1!==b&&(f=this.data[l][b])>1&&f<=this.lastSlope&&this.checkDef(t,f,e,i,a,h,s,o,b,l));l++)if(1===(f=this.data[l][c])||f>this.lastSlope||f>1&&this.checkDef(t,f,e,i,a,h,s,o,c,l)){if(f>1&&f<=this.lastSlope&&t.collision.slope)break;t.collision.x=!0,t.tile.x=f,t.pos.x=c*d-v+y,e=t.pos.x,a=0;break}}if(r){var w=r>0?o:0,T=r<0?d:0,S=Math.max(Math.floor(t.pos.x/d),0),_=Math.min(Math.ceil((t.pos.x+s)/d),p);l=Math.floor((t.pos.y+w)/d);var A=Math.floor((i+w)/d);if((u>0||l===A||A<0||A>=g)&&(A=-1),l>=0&&l<g)for(c=S;c<_&&!(-1!==A&&(f=this.data[A][c])>1&&f<=this.lastSlope&&this.checkDef(t,f,e,i,a,h,s,o,c,A));c++)if(1===(f=this.data[l][c])||f>this.lastSlope||f>1&&this.checkDef(t,f,e,i,a,h,s,o,c,l)){if(f>1&&f<=this.lastSlope&&t.collision.slope)break;t.collision.y=!0,t.tile.y=f,t.pos.y=l*d-w+T;break}}},checkDef:function(t,e,i,n,r,s,o,a,h,u){var c=this.tiledef[e];if(!c)return!1;var l=this.tilesize,f=(h+c[0])*l,d=(u+c[1])*l,p=(c[2]-c[0])*l,g=(c[3]-c[1])*l,v=c[4],y=i+r+(g<0?o:0)-f,m=n+s+(p>0?a:0)-d;if(p*m-g*y>0){if(r*-g+s*p<0)return v;var x=Math.sqrt(p*p+g*g),b=g/x,w=-p/x,T=y*b+m*w,S=b*T,_=w*T;return S*S+_*_>=r*r+s*s?v||p*(m-s)-g*(y-r)<.5:(t.pos.x=i+r-S,t.pos.y=n+s-_,t.collision.slope={x:p,y:g,nx:b,ny:w},!0)}return!1}});t.exports=s},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(414),s=i(415),o=i(416),a=new n({initialize:function(t){this.world=t,this.sys=t.scene.sys},body:function(t,e,i,n){return new r(this.world,t,e,i,n)},existing:function(t){var e=t.x-t.frame.centerX,i=t.y-t.frame.centerY,n=t.width,r=t.height;return t.body=this.world.create(e,i,n,r),t.body.parent=t,t.body.gameObject=t,t},image:function(t,e,i,n){var r=new s(this.world,t,e,i,n);return this.sys.displayList.add(r),r},sprite:function(t,e,i,n){var r=new o(this.world,t,e,i,n);return this.sys.displayList.add(r),this.sys.updateList.add(r),r},destroy:function(){this.world=null,this.sys=null}});t.exports=a},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(197),s=new n({Mixins:[r.Acceleration,r.BodyScale,r.BodyType,r.Bounce,r.CheckAgainst,r.Collides,r.Debug,r.Friction,r.Gravity,r.Offset,r.SetGameObject,r.Velocity],initialize:function(t,e,i,n,r){this.body=t.create(e,i,n,r),this.body.parent=this,this.size=this.body.size,this.offset=this.body.offset,this.vel=this.body.vel,this.accel=this.body.accel,this.friction=this.body.friction,this.maxVel=this.body.maxVel}});t.exports=s},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(197),s=i(75),o=new n({Extends:s,Mixins:[r.Acceleration,r.BodyScale,r.BodyType,r.Bounce,r.CheckAgainst,r.Collides,r.Debug,r.Friction,r.Gravity,r.Offset,r.SetGameObject,r.Velocity],initialize:function(t,e,i,n,r){s.call(this,t.scene,e,i,n,r),this.body=t.create(e-this.frame.centerX,i-this.frame.centerY,this.width,this.height),this.body.parent=this,this.body.gameObject=this,this.size=this.body.size,this.offset=this.body.offset,this.vel=this.body.vel,this.accel=this.body.accel,this.friction=this.body.friction,this.maxVel=this.body.maxVel}});t.exports=o},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(197),s=i(45),o=new n({Extends:s,Mixins:[r.Acceleration,r.BodyScale,r.BodyType,r.Bounce,r.CheckAgainst,r.Collides,r.Debug,r.Friction,r.Gravity,r.Offset,r.SetGameObject,r.Velocity],initialize:function(t,e,i,n,r){s.call(this,t.scene,e,i,n,r),this.body=t.create(e-this.frame.centerX,i-this.frame.centerY,this.width,this.height),this.body.parent=this,this.body.gameObject=this,this.size=this.body.size,this.offset=this.body.offset,this.vel=this.body.vel,this.accel=this.body.accel,this.friction=this.body.friction,this.maxVel=this.body.maxVel}});t.exports=o},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(411),r=i(0),s=i(94),o=i(412),a=i(8),h=i(1),u=i(76),c=i(74),l=i(987),f=i(30),d=i(95),p=new r({Extends:a,initialize:function(t,e){a.call(this),this.scene=t,this.bodies=new c,this.gravity=h(e,"gravity",0),this.cellSize=h(e,"cellSize",64),this.collisionMap=new o,this.timeScale=h(e,"timeScale",1),this.maxStep=h(e,"maxStep",.05),this.enabled=!0,this.drawDebug=h(e,"debug",!1),this.debugGraphic;var i=h(e,"maxVelocity",100);if(this.defaults={debugShowBody:h(e,"debugShowBody",!0),debugShowVelocity:h(e,"debugShowVelocity",!0),bodyDebugColor:h(e,"debugBodyColor",16711935),velocityDebugColor:h(e,"debugVelocityColor",65280),maxVelocityX:h(e,"maxVelocityX",i),maxVelocityY:h(e,"maxVelocityY",i),minBounceVelocity:h(e,"minBounceVelocity",40),gravityFactor:h(e,"gravityFactor",1),bounciness:h(e,"bounciness",0)},this.walls={left:null,right:null,top:null,bottom:null},this.delta=0,this._lastId=0,h(e,"setBounds",!1)){var n=e.setBounds;if("boolean"==typeof n)this.setBounds();else{var r=h(n,"x",0),s=h(n,"y",0),u=h(n,"width",t.sys.game.config.width),l=h(n,"height",t.sys.game.config.height),f=h(n,"thickness",64),d=h(n,"left",!0),p=h(n,"right",!0),g=h(n,"top",!0),v=h(n,"bottom",!0);this.setBounds(r,s,u,l,f,d,p,g,v)}}this.drawDebug&&this.createDebugGraphic()},setCollisionMap:function(t,e){if("string"==typeof t){var i=this.scene.cache.tilemap.get(t);if(!i||i.format!==f.WELTMEISTER)return console.warn("The specified key does not correspond to a Weltmeister tilemap: "+t),null;for(var n,r=i.data.layer,s=0;s<r.length;s++)if("collision"===r[s].name){n=r[s];break}void 0===e&&(e=n.tilesize),this.collisionMap=new o(e,n.data)}else Array.isArray(t)?this.collisionMap=new o(e,t):console.warn("Invalid Weltmeister collision map data: "+t);return this.collisionMap},setCollisionMapFromTilemapLayer:function(t,e){void 0===e&&(e={});for(var i=h(e,"slopeProperty",null),n=h(e,"slopeMap",null),r=h(e,"defaultCollidingSlope",null),s=h(e,"defaultNonCollidingSlope",0),a=t.layer,c=a.baseTileWidth,l=[],f=0;f<a.height;f++){l[f]=[];for(var d=0;d<a.width;d++){var p=a.data[f][d];p&&p.collides?null!==i&&u(p.properties,i)?l[f][d]=parseInt(p.properties[i],10):null!==n&&u(n,p.index)?l[f][d]=n[p.index]:l[f][d]=null!==r?r:p.index:l[f][d]=s}}return this.collisionMap=new o(c,l),this.collisionMap},setBounds:function(t,e,i,n,r,s,o,a,h){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=this.scene.sys.game.config.width),void 0===n&&(n=this.scene.sys.game.config.height),void 0===r&&(r=64),void 0===s&&(s=!0),void 0===o&&(o=!0),void 0===a&&(a=!0),void 0===h&&(h=!0),this.updateWall(s,"left",t-r,e,r,n),this.updateWall(o,"right",t+i,e,r,n),this.updateWall(a,"top",t,e-r,i,r),this.updateWall(h,"bottom",t,e+n,i,r),this},updateWall:function(t,e,i,n,r,o){var a=this.walls[e];t?a?a.resetSize(i,n,r,o):(this.walls[e]=this.create(i,n,r,o),this.walls[e].name=e,this.walls[e].gravityFactor=0,this.walls[e].collides=s.FIXED):(a&&this.bodies.remove(a),this.walls[e]=null)},createDebugGraphic:function(){var t=this.scene.sys.add.graphics({x:0,y:0});return t.setDepth(Number.MAX_VALUE),this.debugGraphic=t,this.drawDebug=!0,t},getNextID:function(){return this._lastId++},create:function(t,e,i,r){var s=new n(this,t,e,i,r);return this.bodies.set(s),s},remove:function(t){this.bodies.delete(t)},pause:function(){return this.enabled=!1,this.emit("pause"),this},resume:function(){return this.enabled=!0,this.emit("resume"),this},update:function(t,e){if(this.enabled&&0!==this.bodies.size){var i,n,r=Math.min(e/1e3,this.maxStep)*this.timeScale;this.delta=r;var s=this.bodies.entries,o=s.length,a={},h=this.cellSize;for(i=0;i<o;i++)(n=s[i]).enabled&&n.update(r);for(i=0;i<o;i++)(n=s[i])&&!n.skipHash()&&this.checkHash(n,a,h);if(this.drawDebug){var u=this.debugGraphic;for(u.clear(),i=0;i<o;i++)(n=s[i])&&n.willDrawDebug()&&n.drawDebug(u)}}},checkHash:function(t,e,i){for(var n={},r=Math.floor(t.pos.x/i),s=Math.floor(t.pos.y/i),o=Math.floor((t.pos.x+t.size.x)/i)+1,a=Math.floor((t.pos.y+t.size.y)/i)+1,h=r;h<o;h++)for(var u=s;u<a;u++)if(e[h])if(e[h][u]){for(var c=e[h][u],l=0;l<c.length;l++)t.touches(c[l])&&!n[c[l].id]&&(n[c[l].id]=!0,this.checkBodies(t,c[l]));c.push(t)}else e[h][u]=[t];else e[h]={},e[h][u]=[t]},checkBodies:function(t,e){t.collides===s.FIXED&&e.collides===s.FIXED||(t.checkAgainst&e.type&&t.check(e),e.checkAgainst&t.type&&e.check(t),t.collides&&e.collides&&t.collides+e.collides>s.ACTIVE&&l(this,t,e))},setCollidesNever:function(t){for(var e=0;e<t.length;e++)t[e].collides=s.NEVER;return this},setLite:function(t){for(var e=0;e<t.length;e++)t[e].collides=s.LITE;return this},setPassive:function(t){for(var e=0;e<t.length;e++)t[e].collides=s.PASSIVE;return this},setActive:function(t){for(var e=0;e<t.length;e++)t[e].collides=s.ACTIVE;return this},setFixed:function(t){for(var e=0;e<t.length;e++)t[e].collides=s.FIXED;return this},setTypeNone:function(t){for(var e=0;e<t.length;e++)t[e].type=d.NONE;return this},setTypeA:function(t){for(var e=0;e<t.length;e++)t[e].type=d.A;return this},setTypeB:function(t){for(var e=0;e<t.length;e++)t[e].type=d.B;return this},setAvsB:function(t){for(var e=0;e<t.length;e++)t[e].type=d.A,t[e].checkAgainst=d.B;return this},setBvsA:function(t){for(var e=0;e<t.length;e++)t[e].type=d.B,t[e].checkAgainst=d.A;return this},setCheckAgainstNone:function(t){for(var e=0;e<t.length;e++)t[e].checkAgainst=d.NONE;return this},setCheckAgainstA:function(t){for(var e=0;e<t.length;e++)t[e].checkAgainst=d.A;return this},setCheckAgainstB:function(t){for(var e=0;e<t.length;e++)t[e].checkAgainst=d.B;return this},shutdown:function(){this.removeAllListeners()},destroy:function(){this.removeAllListeners(),this.scene=null,this.bodies.clear(),this.bodies=null,this.collisionMap=null}});t.exports=p},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(53),r=i(0),s=i(420),o=i(82),a=i(991),h=i(421),u=i(422),c=i(199),l=i(1005),f=new r({initialize:function(t){this.world=t,this.scene=t.scene,this.sys=t.scene.sys},rectangle:function(t,e,i,r,s){var o=n.rectangle(t,e,i,r,s);return this.world.add(o),o},trapezoid:function(t,e,i,r,s,o){var a=n.trapezoid(t,e,i,r,s,o);return this.world.add(a),a},circle:function(t,e,i,r,s){var o=n.circle(t,e,i,r,s);return this.world.add(o),o},polygon:function(t,e,i,r,s){var o=n.polygon(t,e,i,r,s);return this.world.add(o),o},fromVertices:function(t,e,i,r,s,o,a){var h=n.fromVertices(t,e,i,r,s,o,a);return this.world.add(h),h},imageStack:function(t,e,i,n,r,o,a,u,c){void 0===a&&(a=0),void 0===u&&(u=0),void 0===c&&(c={});var l=this.world,f=this.sys.displayList;c.addToWorld=!1;var d=s.stack(i,n,r,o,a,u,function(i,n){var r=new h(l,i,n,t,e,c);return f.add(r),r.body});return l.add(d),d},stack:function(t,e,i,n,r,o,a){var h=s.stack(t,e,i,n,r,o,a);return this.world.add(h),h},pyramid:function(t,e,i,n,r,o,a){var h=s.pyramid(t,e,i,n,r,o,a);return this.world.add(h),h},chain:function(t,e,i,n,r,o){return s.chain(t,e,i,n,r,o)},mesh:function(t,e,i,n,r){return s.mesh(t,e,i,n,r)},newtonsCradle:function(t,e,i,n,r){var o=s.newtonsCradle(t,e,i,n,r);return this.world.add(o),o},car:function(t,e,i,n,r){var o=s.car(t,e,i,n,r);return this.world.add(o),o},softBody:function(t,e,i,n,r,o,a,h,u,c){var l=s.softBody(t,e,i,n,r,o,a,h,u,c);return this.world.add(l),l},joint:function(t,e,i,n,r){return this.constraint(t,e,i,n,r)},spring:function(t,e,i,n,r){return this.constraint(t,e,i,n,r)},constraint:function(t,e,i,n,r){void 0===n&&(n=1),void 0===r&&(r={}),r.bodyA="body"===t.type?t:t.body,r.bodyB="body"===e.type?e:e.body,r.length=i,r.stiffness=n;var s=o.create(r);return this.world.add(s),s},worldConstraint:function(t,e,i,n){void 0===i&&(i=1),void 0===n&&(n={}),n.bodyB="body"===t.type?t:t.body,n.length=e,n.stiffness=i;var r=o.create(n);return this.world.add(r),r},mouseSpring:function(t){return this.pointerConstraint(t)},pointerConstraint:function(t){void 0===t&&(t={}),t.hasOwnProperty("render")||(t.render={visible:!1});var e=new l(this.scene,this.world,t);return this.world.add(e.constraint),e},image:function(t,e,i,n,r){var s=new h(this.world,t,e,i,n,r);return this.sys.displayList.add(s),s},tileBody:function(t,e){return new c(this.world,t,e)},sprite:function(t,e,i,n,r){var s=new u(this.world,t,e,i,n,r);return this.sys.displayList.add(s),this.sys.updateList.add(s),s},gameObject:function(t,e){return a(this.world,t,e)},destroy:function(){this.world=null,this.scene=null,this.sys=null}});t.exports=f},function(t,e){function i(t,e,i){i=i||0;var n,r,s,o,a,h,u,c=[0,0];return n=t[1][1]-t[0][1],r=t[0][0]-t[1][0],s=n*t[0][0]+r*t[0][1],o=e[1][1]-e[0][1],a=e[0][0]-e[1][0],h=o*e[0][0]+a*e[0][1],w(u=n*a-o*r,0,i)||(c[0]=(a*s-r*h)/u,c[1]=(n*h-o*s)/u),c}function n(t,e,i,n){var r=e[0]-t[0],s=e[1]-t[1],o=n[0]-i[0],a=n[1]-i[1];if(o*s-a*r==0)return!1;var h=(r*(i[1]-t[1])+s*(t[0]-i[0]))/(o*s-a*r),u=(o*(t[1]-i[1])+a*(i[0]-t[0]))/(a*r-o*s);return h>=0&&h<=1&&u>=0&&u<=1}function r(t,e,i){return(e[0]-t[0])*(i[1]-t[1])-(i[0]-t[0])*(e[1]-t[1])}function s(t,e,i){return r(t,e,i)>0}function o(t,e,i){return r(t,e,i)>=0}function a(t,e,i){return r(t,e,i)<0}function h(t,e,i){return r(t,e,i)<=0}
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={decomp:function(t){var e=function t(e){var i=[],n=[],r=[],s=[];var o=Number.MAX_VALUE;for(var a=0;a<e.length;++a)if(g(e,a))for(var h=0;h<e.length;++h)if(m(e,a,h)){n=t(x(e,a,h,s)),r=t(x(e,h,a,s));for(var u=0;u<r.length;u++)n.push(r[u]);n.length<o&&(i=n,o=n.length,i.push([d(e,a),d(e,h)]))}return i}(t);return e.length>0?function t(e,i){if(0===i.length)return[e];if(i instanceof Array&&i.length&&i[0]instanceof Array&&2===i[0].length&&i[0][0]instanceof Array){for(var n=[e],r=0;r<i.length;r++)for(var s=i[r],o=0;o<n.length;o++){var a=n[o],h=t(a,s);if(h){n.splice(o,1),n.push(h[0],h[1]);break}}return n}var s=i,r=e.indexOf(s[0]),o=e.indexOf(s[1]);return-1!==r&&-1!==o&&[x(e,r,o),x(e,o,r)]}(t,e):[t]},quickDecomp:function t(e,i,n,r,u,c,l){c=c||100;l=l||0;u=u||25;i=void 0!==i?i:[];n=n||[];r=r||[];var v=[0,0],y=[0,0],m=[0,0];var x=0,w=0,T=0,S=0;var _=0,A=0,E=0;var I=[],C=[];var M=e,P=e;if(P.length<3)return i;l++;if(l>c)return console.warn("quickDecomp: max level ("+c+") reached."),i;for(var k=0;k<e.length;++k)if(g(M,k)){n.push(M[k]),x=w=Number.MAX_VALUE;for(var O=0;O<e.length;++O)s(d(M,k-1),d(M,k),d(M,O))&&h(d(M,k-1),d(M,k),d(M,O-1))&&(m=b(d(M,k-1),d(M,k),d(M,O),d(M,O-1)),a(d(M,k+1),d(M,k),m)&&(T=f(M[k],m))<w&&(w=T,y=m,A=O)),s(d(M,k+1),d(M,k),d(M,O+1))&&h(d(M,k+1),d(M,k),d(M,O))&&(m=b(d(M,k+1),d(M,k),d(M,O),d(M,O+1)),s(d(M,k-1),d(M,k),m)&&(T=f(M[k],m))<x&&(x=T,v=m,_=O));if(A===(_+1)%e.length)m[0]=(y[0]+v[0])/2,m[1]=(y[1]+v[1])/2,r.push(m),k<_?(p(I,M,k,_+1),I.push(m),C.push(m),0!==A&&p(C,M,A,M.length),p(C,M,0,k+1)):(0!==k&&p(I,M,k,M.length),p(I,M,0,_+1),I.push(m),C.push(m),p(C,M,A,k+1));else{if(A>_&&(_+=e.length),S=Number.MAX_VALUE,_<A)return i;for(var O=A;O<=_;++O)o(d(M,k-1),d(M,k),d(M,O))&&h(d(M,k+1),d(M,k),d(M,O))&&(T=f(d(M,k),d(M,O)))<S&&(S=T,E=O%e.length);k<E?(p(I,M,k,E+1),0!==E&&p(C,M,E,P.length),p(C,M,0,k+1)):(0!==k&&p(I,M,k,P.length),p(I,M,0,E+1),p(C,M,E,k+1))}return I.length<C.length?(t(I,i,n,r,u,c,l),t(C,i,n,r,u,c,l)):(t(C,i,n,r,u,c,l),t(I,i,n,r,u,c,l)),i}i.push(e);return i},isSimple:function(t){var e,i=t;for(e=0;e<i.length-1;e++)for(var r=0;r<e-1;r++)if(n(i[e],i[e+1],i[r],i[r+1]))return!1;for(e=1;e<i.length-2;e++)if(n(i[0],i[i.length-1],i[e],i[e+1]))return!1;return!0},removeCollinearPoints:function(t,e){for(var i=0,n=t.length-1;t.length>3&&n>=0;--n)l(d(t,n-1),d(t,n),d(t,n+1),e)&&(t.splice(n%t.length,1),i++);return i},makeCCW:function(t){for(var e=0,i=t,n=1;n<t.length;++n)(i[n][1]<i[e][1]||i[n][1]===i[e][1]&&i[n][0]>i[e][0])&&(e=n);s(d(t,e-1),d(t,e),d(t,e+1))||function(t){for(var e=[],i=t.length,n=0;n!==i;n++)e.push(t.pop());for(var n=0;n!==i;n++)t[n]=e[n]}(t)}};var u=[],c=[];function l(t,e,i,n){if(n){var s=u,o=c;s[0]=e[0]-t[0],s[1]=e[1]-t[1],o[0]=i[0]-e[0],o[1]=i[1]-e[1];var a=s[0]*o[0]+s[1]*o[1],h=Math.sqrt(s[0]*s[0]+s[1]*s[1]),l=Math.sqrt(o[0]*o[0]+o[1]*o[1]);return Math.acos(a/(h*l))<n}return 0===r(t,e,i)}function f(t,e){var i=e[0]-t[0],n=e[1]-t[1];return i*i+n*n}function d(t,e){var i=t.length;return t[e<0?e%i+i:e%i]}function p(t,e,i,n){for(var r=i;r<n;r++)t.push(e[r])}function g(t,e){return a(d(t,e-1),d(t,e),d(t,e+1))}var v=[],y=[];function m(t,e,n){var r,s,a=v,u=y;if(o(d(t,e+1),d(t,e),d(t,n))&&h(d(t,e-1),d(t,e),d(t,n)))return!1;s=f(d(t,e),d(t,n));for(var c=0;c!==t.length;++c)if((c+1)%t.length!==e&&c!==e&&o(d(t,e),d(t,n),d(t,c+1))&&h(d(t,e),d(t,n),d(t,c))&&(a[0]=d(t,e),a[1]=d(t,n),u[0]=d(t,c),u[1]=d(t,c+1),r=i(a,u),f(d(t,e),r)<s))return!1;return!0}function x(t,e,i,n){var r=n||[];if(function(t){t.length=0}(r),e<i)for(var s=e;s<=i;s++)r.push(t[s]);else{for(s=0;s<=i;s++)r.push(t[s]);for(s=e;s<t.length;s++)r.push(t[s])}return r}function b(t,e,i,n,r){r=r||0;var s=e[1]-t[1],o=t[0]-e[0],a=s*t[0]+o*t[1],h=n[1]-i[1],u=i[0]-n[0],c=h*i[0]+u*i[1],l=s*u-h*o;return w(l,0,r)?[0,0]:[(u*a-o*c)/l,(s*c-h*a)/l]}function w(t,e,i){return i=i||0,Math.abs(t-e)<i}},function(t,e,i){var n={};t.exports=n;var r=i(63),s=i(82),o=i(15),a=i(25),h=i(53);n.stack=function(t,e,i,n,s,o,h){for(var u,c=r.create({label:"Stack"}),l=t,f=e,d=0,p=0;p<n;p++){for(var g=0,v=0;v<i;v++){var y=h(l,f,v,p,u,d);if(y){var m=y.bounds.max.y-y.bounds.min.y,x=y.bounds.max.x-y.bounds.min.x;m>g&&(g=m),a.translate(y,{x:.5*x,y:.5*m}),l=y.bounds.max.x+s,r.addBody(c,y),u=y,d+=1}else l+=s}f+=g+o,l=t}return c},n.chain=function(t,e,i,n,a,h){for(var u=t.bodies,c=1;c<u.length;c++){var l=u[c-1],f=u[c],d=l.bounds.max.y-l.bounds.min.y,p=l.bounds.max.x-l.bounds.min.x,g=f.bounds.max.y-f.bounds.min.y,v={bodyA:l,pointA:{x:p*e,y:d*i},bodyB:f,pointB:{x:(f.bounds.max.x-f.bounds.min.x)*n,y:g*a}},y=o.extend(v,h);r.addConstraint(t,s.create(y))}return t.label+=" Chain",t},n.mesh=function(t,e,i,n,a){var h,u,c,l,f,d=t.bodies;for(h=0;h<i;h++){for(u=1;u<e;u++)c=d[u-1+h*e],l=d[u+h*e],r.addConstraint(t,s.create(o.extend({bodyA:c,bodyB:l},a)));if(h>0)for(u=0;u<e;u++)c=d[u+(h-1)*e],l=d[u+h*e],r.addConstraint(t,s.create(o.extend({bodyA:c,bodyB:l},a))),n&&u>0&&(f=d[u-1+(h-1)*e],r.addConstraint(t,s.create(o.extend({bodyA:f,bodyB:l},a)))),n&&u<e-1&&(f=d[u+1+(h-1)*e],r.addConstraint(t,s.create(o.extend({bodyA:f,bodyB:l},a))))}return t.label+=" Mesh",t},n.pyramid=function(t,e,i,r,s,o,h){return n.stack(t,e,i,r,s,o,function(e,n,o,u,c,l){var f=Math.min(r,Math.ceil(i/2)),d=c?c.bounds.max.x-c.bounds.min.x:0;if(!(u>f||o<(u=f-u)||o>i-1-u))return 1===l&&a.translate(c,{x:(o+(i%2==1?1:-1))*d,y:0}),h(t+(c?o*d:0)+o*s,n,o,u,c,l)})},n.newtonsCradle=function(t,e,i,n,o){for(var a=r.create({label:"Newtons Cradle"}),u=0;u<i;u++){var c=h.circle(t+u*(1.9*n),e+o,n,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),l=s.create({pointA:{x:t+u*(1.9*n),y:e},bodyB:c});r.addBody(a,c),r.addConstraint(a,l)}return a},n.car=function(t,e,i,n,o){var u=a.nextGroup(!0),c=.5*-i+20,l=.5*i-20,f=r.create({label:"Car"}),d=h.rectangle(t,e,i,n,{collisionFilter:{group:u},chamfer:{radius:.5*n},density:2e-4}),p=h.circle(t+c,e+0,o,{collisionFilter:{group:u},friction:.8}),g=h.circle(t+l,e+0,o,{collisionFilter:{group:u},friction:.8}),v=s.create({bodyB:d,pointB:{x:c,y:0},bodyA:p,stiffness:1,length:0}),y=s.create({bodyB:d,pointB:{x:l,y:0},bodyA:g,stiffness:1,length:0});return r.addBody(f,d),r.addBody(f,p),r.addBody(f,g),r.addConstraint(f,v),r.addConstraint(f,y),f},n.softBody=function(t,e,i,r,s,a,u,c,l,f){l=o.extend({inertia:1/0},l),f=o.extend({stiffness:.2,render:{type:"line",anchors:!1}},f);var d=n.stack(t,e,i,r,s,a,function(t,e){return h.circle(t,e,c,l)});return n.mesh(d,i,r,u,f),d.label="Soft Body",d}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(125),s=i(12),o=i(1),a=i(75),h=i(102),u=i(3),c=new n({Extends:a,Mixins:[r.Bounce,r.Collision,r.Force,r.Friction,r.Gravity,r.Mass,r.Sensor,r.SetBody,r.Sleep,r.Static,r.Transform,r.Velocity,h],initialize:function(t,e,i,n,r,a){s.call(this,t.scene,"Image"),this.setTexture(n,r),this.setSizeToFrame(),this.setOrigin(),this.world=t,this._tempVec2=new u(e,i);var h=o(a,"shape",null);h?this.setBody(h,a):this.setRectangle(this.width,this.height,a),this.setPosition(e,i),this.initPipeline("TextureTintPipeline")}});t.exports=c},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(235),r=i(0),s=i(125),o=i(12),a=i(1),h=i(102),u=i(45),c=i(3),l=new r({Extends:u,Mixins:[s.Bounce,s.Collision,s.Force,s.Friction,s.Gravity,s.Mass,s.Sensor,s.SetBody,s.Sleep,s.Static,s.Transform,s.Velocity,h],initialize:function(t,e,i,r,s,h){o.call(this,t.scene,"Image"),this.anims=new n(this),this.setTexture(r,s),this.setSizeToFrame(),this.setOrigin(),this.world=t,this._tempVec2=new c(e,i);var u=a(h,"shape",null);u?this.setBody(u,h):this.setRectangle(this.width,this.height,h),this.setPosition(e,i),this.initPipeline("TextureTintPipeline")}});t.exports=l},function(t,e,i){var n={};t.exports=n;var r=i(203),s=i(15);n.name="matter-js",n.version="0.14.2",n.uses=[],n.used=[],n.use=function(){r.use(n,Array.prototype.slice.call(arguments))},n.before=function(t,e){return t=t.replace(/^Matter./,""),s.chainPathBefore(n,t,e)},n.after=function(t,e){return t=t.replace(/^Matter./,""),s.chainPathAfter(n,t,e)}},function(t,e,i){var n={};t.exports=n;var r=i(126),s=i(200),o=i(15);n.create=function(t){var e={controller:n,detector:s.collisions,buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48};return o.extend(e,t)},n.update=function(t,e,i,r){var s,o,a,h,u,c=i.world,l=t.buckets,f=!1,d=i.metrics;for(d.broadphaseTests=0,s=0;s<e.length;s++){var p=e[s];if((!p.isSleeping||r)&&!(p.bounds.max.x<c.bounds.min.x||p.bounds.min.x>c.bounds.max.x||p.bounds.max.y<c.bounds.min.y||p.bounds.min.y>c.bounds.max.y)){var g=n._getRegion(t,p);if(!p.region||g.id!==p.region.id||r){d.broadphaseTests+=1,p.region&&!r||(p.region=g);var v=n._regionUnion(g,p.region);for(o=v.startCol;o<=v.endCol;o++)for(a=v.startRow;a<=v.endRow;a++){h=l[u=n._getBucketId(o,a)];var y=o>=g.startCol&&o<=g.endCol&&a>=g.startRow&&a<=g.endRow,m=o>=p.region.startCol&&o<=p.region.endCol&&a>=p.region.startRow&&a<=p.region.endRow;!y&&m&&m&&h&&n._bucketRemoveBody(t,h,p),(p.region===g||y&&!m||r)&&(h||(h=n._createBucket(l,u)),n._bucketAddBody(t,h,p))}p.region=g,f=!0}}}f&&(t.pairsList=n._createActivePairsList(t))},n.clear=function(t){t.buckets={},t.pairs={},t.pairsList=[]},n._regionUnion=function(t,e){var i=Math.min(t.startCol,e.startCol),r=Math.max(t.endCol,e.endCol),s=Math.min(t.startRow,e.startRow),o=Math.max(t.endRow,e.endRow);return n._createRegion(i,r,s,o)},n._getRegion=function(t,e){var i=e.bounds,r=Math.floor(i.min.x/t.bucketWidth),s=Math.floor(i.max.x/t.bucketWidth),o=Math.floor(i.min.y/t.bucketHeight),a=Math.floor(i.max.y/t.bucketHeight);return n._createRegion(r,s,o,a)},n._createRegion=function(t,e,i,n){return{id:t+","+e+","+i+","+n,startCol:t,endCol:e,startRow:i,endRow:n}},n._getBucketId=function(t,e){return"C"+t+"R"+e},n._createBucket=function(t,e){return t[e]=[]},n._bucketAddBody=function(t,e,i){for(var n=0;n<e.length;n++){var s=e[n];if(!(i.id===s.id||i.isStatic&&s.isStatic)){var o=r.id(i,s),a=t.pairs[o];a?a[2]+=1:t.pairs[o]=[i,s,1]}}e.push(i)},n._bucketRemoveBody=function(t,e,i){e.splice(o.indexOf(e,i),1);for(var n=0;n<e.length;n++){var s=e[n],a=r.id(i,s),h=t.pairs[a];h&&(h[2]-=1)}},n._createActivePairsList=function(t){var e,i,n=[];e=o.keys(t.pairs);for(var r=0;r<e.length;r++)(i=t.pairs[e[r]])[2]>0?n.push(i):delete t.pairs[e[r]];return n}},function(t,e,i){var n={};t.exports=n;var r=i(126),s=i(15);n._pairMaxIdleLife=1e3,n.create=function(t){return s.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},t)},n.update=function(t,e,i){var n,s,o,a,h=t.list,u=t.table,c=t.collisionStart,l=t.collisionEnd,f=t.collisionActive;for(c.length=0,l.length=0,f.length=0,a=0;a<h.length;a++)h[a].confirmedActive=!1;for(a=0;a<e.length;a++)(n=e[a]).collided&&((o=u[s=r.id(n.bodyA,n.bodyB)])?(o.isActive?f.push(o):c.push(o),r.update(o,n,i),o.confirmedActive=!0):(o=r.create(n,i),u[s]=o,c.push(o),h.push(o)));for(a=0;a<h.length;a++)(o=h[a]).isActive&&!o.confirmedActive&&(r.setActive(o,!1,i),l.push(o))},n.removeOld=function(t,e){var i,r,s,o,a=t.list,h=t.table,u=[];for(o=0;o<a.length;o++)(r=(i=a[o]).collision).bodyA.isSleeping||r.bodyB.isSleeping?i.timeUpdated=e:e-i.timeUpdated>n._pairMaxIdleLife&&u.push(o);for(o=0;o<u.length;o++)delete h[(i=a[s=u[o]-o]).id],a.splice(s,1)},n.clear=function(t){return t.table={},t.list.length=0,t.collisionStart.length=0,t.collisionActive.length=0,t.collisionEnd.length=0,t}},function(t,e,i){var n={};t.exports=n;var r=i(34),s=i(31),o=i(15),a=i(32);n._restingThresh=4,n._restingThreshTangent=6,n._positionDampen=.9,n._positionWarming=.8,n._frictionNormalMultiplier=5,n.preSolvePosition=function(t){var e,i,n;for(e=0;e<t.length;e++)(i=t[e]).isActive&&(n=i.activeContacts.length,i.collision.parentA.totalContacts+=n,i.collision.parentB.totalContacts+=n)},n.solvePosition=function(t,e,i){var r,s,o,a,h,u,c,l,f,d,p,g,v,y,m,x,b=i*n._positionDampen;for(r=0;r<e.length;r++){var w=e[r];w.previousPositionImpulse.x=w.positionImpulse.x,w.previousPositionImpulse.y=w.positionImpulse.y}for(r=0;r<t.length;r++)(a=t[r]).isActive&&!a.isSensor&&(u=(h=a.collision).parentA,c=h.parentB,l=h.normal,p=u.previousPositionImpulse,g=c.previousPositionImpulse,d=h.penetration,y=g.x-p.x+d.x,m=g.y-p.y+d.y,f=(s=l.x)*y+(o=l.y)*m,a.separation=f,x=(f-a.slop)*b,(u.isStatic||c.isStatic)&&(x*=2),u.isStatic||u.isSleeping||(v=x/u.totalContacts,u.positionImpulse.x+=s*v,u.positionImpulse.y+=o*v),c.isStatic||c.isSleeping||(v=x/c.totalContacts,c.positionImpulse.x-=s*v,c.positionImpulse.y-=o*v))},n.postSolvePosition=function(t){for(var e=0;e<t.length;e++){var i=t[e];if(i.totalContacts=0,0!==i.positionImpulse.x||0!==i.positionImpulse.y){for(var o=0;o<i.parts.length;o++){var h=i.parts[o];r.translate(h.vertices,i.positionImpulse),a.update(h.bounds,h.vertices,i.velocity),h.position.x+=i.positionImpulse.x,h.position.y+=i.positionImpulse.y}i.positionPrev.x+=i.positionImpulse.x,i.positionPrev.y+=i.positionImpulse.y,s.dot(i.positionImpulse,i.velocity)<0?(i.positionImpulse.x=0,i.positionImpulse.y=0):(i.positionImpulse.x*=n._positionWarming,i.positionImpulse.y*=n._positionWarming)}}},n.preSolveVelocity=function(t){var e,i,n,r,o,a,h,u,c,l,f,d,p,g,v=s._temp[0],y=s._temp[1];for(e=0;e<t.length;e++)if((n=t[e]).isActive&&!n.isSensor)for(r=n.activeContacts,a=(o=n.collision).parentA,h=o.parentB,u=o.normal,c=o.tangent,i=0;i<r.length;i++)f=(l=r[i]).vertex,d=l.normalImpulse,p=l.tangentImpulse,0===d&&0===p||(v.x=u.x*d+c.x*p,v.y=u.y*d+c.y*p,a.isStatic||a.isSleeping||(g=s.sub(f,a.position,y),a.positionPrev.x+=v.x*a.inverseMass,a.positionPrev.y+=v.y*a.inverseMass,a.anglePrev+=s.cross(g,v)*a.inverseInertia),h.isStatic||h.isSleeping||(g=s.sub(f,h.position,y),h.positionPrev.x-=v.x*h.inverseMass,h.positionPrev.y-=v.y*h.inverseMass,h.anglePrev-=s.cross(g,v)*h.inverseInertia))},n.solveVelocity=function(t,e){for(var i=e*e,r=s._temp[0],a=s._temp[1],h=s._temp[2],u=s._temp[3],c=s._temp[4],l=s._temp[5],f=0;f<t.length;f++){var d=t[f];if(d.isActive&&!d.isSensor){var p=d.collision,g=p.parentA,v=p.parentB,y=p.normal,m=p.tangent,x=d.activeContacts,b=1/x.length;g.velocity.x=g.position.x-g.positionPrev.x,g.velocity.y=g.position.y-g.positionPrev.y,v.velocity.x=v.position.x-v.positionPrev.x,v.velocity.y=v.position.y-v.positionPrev.y,g.angularVelocity=g.angle-g.anglePrev,v.angularVelocity=v.angle-v.anglePrev;for(var w=0;w<x.length;w++){var T=x[w],S=T.vertex,_=s.sub(S,g.position,a),A=s.sub(S,v.position,h),E=s.add(g.velocity,s.mult(s.perp(_),g.angularVelocity),u),I=s.add(v.velocity,s.mult(s.perp(A),v.angularVelocity),c),C=s.sub(E,I,l),M=s.dot(y,C),P=s.dot(m,C),k=Math.abs(P),O=o.sign(P),N=(1+d.restitution)*M,F=o.clamp(d.separation+M,0,1)*n._frictionNormalMultiplier,R=P,L=1/0;k>d.friction*d.frictionStatic*F*i&&(L=k,R=o.clamp(d.friction*O*i,-L,L));var D=s.cross(_,y),B=s.cross(A,y),U=b/(g.inverseMass+v.inverseMass+g.inverseInertia*D*D+v.inverseInertia*B*B);if(N*=U,R*=U,M<0&&M*M>n._restingThresh*i)T.normalImpulse=0;else{var X=T.normalImpulse;T.normalImpulse=Math.min(T.normalImpulse+N,0),N=T.normalImpulse-X}if(P*P>n._restingThreshTangent*i)T.tangentImpulse=0;else{var V=T.tangentImpulse;T.tangentImpulse=o.clamp(T.tangentImpulse+R,-L,L),R=T.tangentImpulse-V}r.x=y.x*N+m.x*R,r.y=y.y*N+m.y*R,g.isStatic||g.isSleeping||(g.positionPrev.x+=r.x*g.inverseMass,g.positionPrev.y+=r.y*g.inverseMass,g.anglePrev+=s.cross(_,r)*g.inverseInertia),v.isStatic||v.isSleeping||(v.positionPrev.x-=r.x*v.inverseMass,v.positionPrev.y-=r.y*v.inverseMass,v.anglePrev-=s.cross(A,r)*v.inverseInertia)}}}}},function(t,e,i){var n={};t.exports=n;var r=i(204),s=i(96),o=i(426),a=i(425),h=i(1007),u=i(424),c=i(81),l=i(63),f=i(82),d=i(15),p=i(25);n.create=function(t,e){e=(e=d.isElement(t)?e:t)||{},((t=d.isElement(t)?t:null)||e.render)&&d.warn("Engine.create: engine.render is deprecated (see docs)");var i={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},timing:{timestamp:0,timeScale:1},broadphase:{controller:u}},n=d.extend(i,e);if(t||n.render){var s={element:t,controller:Render};n.render=d.extend(s,n.render)}return n.render&&n.render.controller&&(n.render=n.render.controller.create(n.render)),n.render&&(n.render.engine=n),n.world=e.world||r.create(n.world),n.pairs=a.create(),n.broadphase=n.broadphase.controller.create(n.broadphase),n.metrics=n.metrics||{extended:!1},n.metrics=h.create(n.metrics),n},n.update=function(t,e,i){e=e||1e3/60,i=i||1;var r,u=t.world,d=t.timing,p=t.broadphase,g=[];d.timestamp+=e*d.timeScale;var v={timestamp:d.timestamp};c.trigger(t,"beforeUpdate",v);var y=l.allBodies(u),m=l.allConstraints(u);for(h.reset(t.metrics),t.enableSleeping&&s.update(y,d.timeScale),n._bodiesApplyGravity(y,u.gravity),n._bodiesUpdate(y,e,d.timeScale,i,u.bounds),f.preSolveAll(y),r=0;r<t.constraintIterations;r++)f.solveAll(m,d.timeScale);f.postSolveAll(y),p.controller?(u.isModified&&p.controller.clear(p),p.controller.update(p,y,t,u.isModified),g=p.pairsList):g=y,u.isModified&&l.setModified(u,!1,!1,!0);var x=p.detector(g,t),b=t.pairs,w=d.timestamp;for(a.update(b,x,w),a.removeOld(b,w),t.enableSleeping&&s.afterCollisions(b.list,d.timeScale),b.collisionStart.length>0&&c.trigger(t,"collisionStart",{pairs:b.collisionStart}),o.preSolvePosition(b.list),r=0;r<t.positionIterations;r++)o.solvePosition(b.list,y,d.timeScale);for(o.postSolvePosition(y),f.preSolveAll(y),r=0;r<t.constraintIterations;r++)f.solveAll(m,d.timeScale);for(f.postSolveAll(y),o.preSolveVelocity(b.list),r=0;r<t.velocityIterations;r++)o.solveVelocity(b.list,d.timeScale);return b.collisionActive.length>0&&c.trigger(t,"collisionActive",{pairs:b.collisionActive}),b.collisionEnd.length>0&&c.trigger(t,"collisionEnd",{pairs:b.collisionEnd}),h.update(t.metrics,t),n._bodiesClearForces(y),c.trigger(t,"afterUpdate",v),t},n.merge=function(t,e){if(d.extend(t,e),e.world){t.world=e.world,n.clear(t);for(var i=l.allBodies(t.world),r=0;r<i.length;r++){var o=i[r];s.set(o,!1),o.id=d.nextId()}}},n.clear=function(t){var e=t.world;a.clear(t.pairs);var i=t.broadphase;if(i.controller){var n=l.allBodies(e);i.controller.clear(i),i.controller.update(i,n,t,!0)}},n._bodiesClearForces=function(t){for(var e=0;e<t.length;e++){var i=t[e];i.force.x=0,i.force.y=0,i.torque=0}},n._bodiesApplyGravity=function(t,e){var i=void 0!==e.scale?e.scale:.001;if((0!==e.x||0!==e.y)&&0!==i)for(var n=0;n<t.length;n++){var r=t[n];r.ignoreGravity||r.isStatic||r.isSleeping||(r.force.y+=r.mass*e.y*i,r.force.x+=r.mass*e.x*i)}},n._bodiesUpdate=function(t,e,i,n,r){for(var s=0;s<t.length;s++){var o=t[s];o.isStatic||o.isSleeping||p.update(o,e,i,n)}}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(53),r=i(0),s=i(15),o=i(63),a=i(427),h=i(8),u=i(1),c=i(4),l=i(25),f=i(81),d=i(199),p=i(204),g=i(31),v=new r({Extends:h,initialize:function(t,e){h.call(this),this.scene=t,this.engine=a.create(e),this.localWorld=this.engine.world;var i=c(e,"gravity",null);if(i&&this.setGravity(i.x,i.y,i.scale),this.walls={left:null,right:null,top:null,bottom:null},u(e,"setBounds",!1)){var n=e.setBounds;if("boolean"==typeof n)this.setBounds();else{var r=u(n,"x",0),s=u(n,"y",0),o=u(n,"width",t.sys.game.config.width),l=u(n,"height",t.sys.game.config.height),f=u(n,"thickness",64),d=u(n,"left",!0),p=u(n,"right",!0),g=u(n,"top",!0),v=u(n,"bottom",!0);this.setBounds(r,s,o,l,f,d,p,g,v)}}this.enabled=c(e,"enabled",!0),this.correction=c(e,"correction",1),this.getDelta=c(e,"getDelta",this.update60Hz),this.autoUpdate=c(e,"autoUpdate",!0),this.drawDebug=c(e,"debug",!1),this.debugGraphic,this.defaults={debugShowBody:c(e,"debugShowBody",!0),debugShowStaticBody:c(e,"debugShowStaticBody",!0),debugShowVelocity:c(e,"debugShowVelocity",!0),bodyDebugColor:c(e,"debugBodyColor",16711935),staticBodyDebugColor:c(e,"debugBodyColor",255),velocityDebugColor:c(e,"debugVelocityColor",65280),debugShowJoint:c(e,"debugShowJoint",!0),jointDebugColor:c(e,"debugJointColor",0)},this.drawDebug&&this.createDebugGraphic(),this.setEventsProxy()},setEventsProxy:function(){var t=this,e=this.engine;f.on(e,"beforeUpdate",function(e){t.emit("beforeupdate",e)}),f.on(e,"afterUpdate",function(e){t.emit("afterupdate",e)}),f.on(e,"collisionStart",function(e){var i,n,r=e.pairs;r.length>0&&(i=r[0].bodyA,n=r[0].bodyB),t.emit("collisionstart",e,i,n)}),f.on(e,"collisionActive",function(e){var i,n,r=e.pairs;r.length>0&&(i=r[0].bodyA,n=r[0].bodyB),t.emit("collisionactive",e,i,n)}),f.on(e,"collisionEnd",function(e){var i,n,r=e.pairs;r.length>0&&(i=r[0].bodyA,n=r[0].bodyB),t.emit("collisionend",e,i,n)})},setBounds:function(t,e,i,n,r,s,o,a,h){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=this.scene.sys.game.config.width),void 0===n&&(n=this.scene.sys.game.config.height),void 0===r&&(r=128),void 0===s&&(s=!0),void 0===o&&(o=!0),void 0===a&&(a=!0),void 0===h&&(h=!0),this.updateWall(s,"left",t-r,e,r,n),this.updateWall(o,"right",t+i,e,r,n),this.updateWall(a,"top",t,e-r,i,r),this.updateWall(h,"bottom",t,e+n,i,r),this},updateWall:function(t,e,i,n,r,s){var o=this.walls[e];t?(o&&p.remove(this.localWorld,o),i+=r/2,n+=s/2,this.walls[e]=this.create(i,n,r,s,{isStatic:!0,friction:0,frictionStatic:0})):(o&&p.remove(this.localWorld,o),this.walls[e]=null)},createDebugGraphic:function(){var t=this.scene.sys.add.graphics({x:0,y:0});return t.setDepth(Number.MAX_VALUE),this.debugGraphic=t,this.drawDebug=!0,t},disableGravity:function(){return this.localWorld.gravity.x=0,this.localWorld.gravity.y=0,this.localWorld.gravity.scale=0,this},setGravity:function(t,e,i){return void 0===t&&(t=0),void 0===e&&(e=1),this.localWorld.gravity.x=t,this.localWorld.gravity.y=e,void 0!==i&&(this.localWorld.gravity.scale=i),this},create:function(t,e,i,r,s){var o=n.rectangle(t,e,i,r,s);return p.add(this.localWorld,o),o},add:function(t){return p.add(this.localWorld,t),this},remove:function(t,e){var i=t.body?t.body:t;return o.removeBody(this.localWorld,i,e),this},removeConstraint:function(t,e){return o.remove(this.localWorld,t,e),this},convertTilemapLayer:function(t,e){var i=t.layer,n=t.getTilesWithin(0,0,i.width,i.height,{isColliding:!0});return this.convertTiles(n,e),this},convertTiles:function(t,e){if(0===t.length)return this;for(var i=0;i<t.length;i++)new d(this,t[i],e);return this},nextGroup:function(t){return l.nextGroup(t)},nextCategory:function(){return l.nextCategory()},pause:function(){return this.enabled=!1,this.emit("pause"),this},resume:function(){return this.enabled=!0,this.emit("resume"),this},update:function(t,e){this.enabled&&this.autoUpdate&&a.update(this.engine,this.getDelta(t,e),this.correction)},step:function(t,e){a.update(this.engine,t,e)},update60Hz:function(){return 1e3/60},update30Hz:function(){return 1e3/30},postUpdate:function(){if(this.drawDebug){var t,e,i=this.debugGraphic,n=o.allBodies(this.localWorld);for(i.clear(),i.lineStyle(1,this.defaults.bodyDebugColor),i.beginPath(),t=0;t<n.length;t++){if(!n[t].render.visible)return;for(e=0;e<n[t].parts.length;e++){var r=n[t].parts[e].vertices;i.moveTo(r[0].x,r[0].y);for(var a=1;a<r.length;a++)i.lineTo(r[a].x,r[a].y);i.lineTo(r[0].x,r[0].y),i.strokePath()}}if(i.closePath(),this.defaults.debugShowJoint){i.lineStyle(2,this.defaults.jointDebugColor);var h=o.allConstraints(this.localWorld);for(t=0;t<h.length;t++){var u=h[t];if(u.render.visible&&u.pointA&&u.pointB){u.render.lineWidth&&i.lineStyle(u.render.lineWidth,s.colorToNumber(u.render.strokeStyle));var c,l,f=u.bodyA,d=u.bodyB;if(c=f?g.add(f.position,u.pointA):u.pointA,"pin"===u.render.type)i.beginPath(),i.arc(c.x,c.y,3,0,2*Math.PI),i.closePath();else{if(l=d?g.add(d.position,u.pointB):u.pointB,i.beginPath(),i.moveTo(c.x,c.y),"spring"===u.render.type){var p,v=g.sub(l,c),y=g.perp(g.normalise(v)),m=Math.ceil(s.clamp(u.length/5,12,20));for(e=1;e<m;e+=1)p=e%2==0?1:-1,i.lineTo(c.x+v.x*(e/m)+y.x*p*4,c.y+v.y*(e/m)+y.y*p*4)}i.lineTo(l.x,l.y)}u.render.lineWidth&&i.strokePath(),u.render.anchors&&(i.fillStyle(s.colorToNumber(u.render.strokeStyle)),i.beginPath(),i.arc(c.x,c.y,6,0,2*Math.PI),i.arc(l.x,l.y,6,0,2*Math.PI),i.closePath(),i.fillPath())}}}}},fromPath:function(t,e){void 0===e&&(e=[]);return t.replace(/L?\s*([\-\d\.e]+)[\s,]*([\-\d\.e]+)*/gi,function(t,i,n){e.push({x:parseFloat(i),y:parseFloat(n)})}),e},shutdown:function(){f.off(this.engine),this.removeAllListeners(),p.clear(this.localWorld,!1),a.clear(this.engine)},destroy:function(){this.shutdown()}});t.exports=v},function(t,e,i){
/**
* @author       Richard Davey <rich@photonstorm.com>
* @copyright    2018 Photon Storm Ltd.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/
var n=new(i(0))({initialize:function(t){this.pluginManager=t,this.game=t.game,this.scene,this.systems},init:function(){},start:function(){},stop:function(){},boot:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});t.exports=n},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(21);t.exports=function(t,e,i,r,s,o,a){for(var h=n(i,r,s,o,null,a),u=0;u<h.length;u++)h[u]&&h[u].index===t&&(h[u].index=e)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(97);t.exports=function(t,e,i){if(n(t,e,i)){var r=i.data[e][t];return null!==r&&r.index>-1}return!1}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(65),r=i(97),s=i(205);t.exports=function(t,e,i,o,a){if(void 0===i&&(i=!1),void 0===o&&(o=!0),!r(t,e,a))return null;var h=a.data[e][t];return null===h?null:(a.data[e][t]=i?null:new n(a,-1,t,e,h.width,h.height),o&&h&&h.collides&&s(t,e,a),h)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(30),r=i(208),s=i(434),o=i(435),a=i(440);t.exports=function(t,e,i,h,u,c){var l;switch(e){case n.ARRAY_2D:l=r(t,i,h,u,c);break;case n.CSV:l=s(t,i,h,u,c);break;case n.TILED_JSON:l=o(t,i,c);break;case n.WELTMEISTER:l=a(t,i,c);break;default:console.warn("Unrecognized tilemap data format: "+e),l=null}return l}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(30),r=i(208);t.exports=function(t,e,i,s,o){var a=e.trim().split("\n").map(function(t){return t.split(",")}),h=r(t,a,i,s,o);return h.format=n.CSV,h}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(30),r=i(99),s=i(1056),o=i(1058),a=i(1059),h=i(1061),u=i(1062),c=i(1063);t.exports=function(t,e,i){if("orthogonal"!==e.orientation)return console.warn("Only orthogonal map types are supported in this version of Phaser"),null;var l=new r({width:e.width,height:e.height,name:t,tileWidth:e.tilewidth,tileHeight:e.tileheight,orientation:e.orientation,format:n.TILED_JSON,version:e.version,properties:e.properties,renderOrder:e.renderorder});l.layers=s(e,i),l.images=o(e);var f=a(e);return l.tilesets=f.tilesets,l.imageCollections=f.imageCollections,l.objects=h(e),l.tiles=u(l),c(l),l}},function(t,e){t.exports=function(t){var e=Boolean(2147483648&t),i=Boolean(1073741824&t),n=Boolean(536870912&t);t&=536870911;var r=0,s=!1;return e&&i&&n?(r=Math.PI/2,s=!0):e&&i&&!n?(r=Math.PI,s=!1):e&&!i&&n?(r=Math.PI/2,s=!1):!e||i||n?!e&&i&&n?(r=3*Math.PI/2,s=!1):e||!i||n?e||i||!n?e||i||n||(r=0,s=!1):(r=3*Math.PI/2,s=!0):(r=Math.PI,s=!0):(r=0,s=!0),{gid:t,flippedHorizontal:e,flippedVertical:i,flippedAntiDiagonal:n,rotation:r,flipped:s}}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=new(i(0))({initialize:function(t,e,i,n,r,s,o){(void 0===i||i<=0)&&(i=32),(void 0===n||n<=0)&&(n=32),void 0===r&&(r=0),void 0===s&&(s=0),this.name=t,this.firstgid=0|e,this.imageWidth=0|i,this.imageHeight=0|n,this.imageMargin=0|r,this.imageSpacing=0|s,this.properties=o||{},this.images=[],this.total=0},containsImageIndex:function(t){return t>=this.firstgid&&t<this.firstgid+this.total},addImage:function(t,e){return this.images.push({gid:t,image:e}),this.total++,this}});t.exports=n},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(1060),r=i(436),s=function(t){return{x:t.x,y:t.y}},o=["id","name","type","rotation","properties","visible","x","y","width","height"];t.exports=function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=0);var a=n(t,o);if(a.x+=e,a.y+=i,t.gid){var h=r(t.gid);a.gid=h.gid,a.flippedHorizontal=h.flippedHorizontal,a.flippedVertical=h.flippedVertical,a.flippedAntiDiagonal=h.flippedAntiDiagonal}else t.polyline?a.polyline=t.polyline.map(s):t.polygon?a.polygon=t.polygon.map(s):t.ellipse?(a.ellipse=t.ellipse,a.width=t.width,a.height=t.height):t.text?(a.width=t.width,a.height=t.height,a.text=t.text):(a.rectangle=!0,a.width=t.width,a.height=t.height);return a}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(1),s=new n({initialize:function(t){void 0===t&&(t={}),this.name=r(t,"name","object layer"),this.opacity=r(t,"opacity",1),this.properties=r(t,"properties",{}),this.propertyTypes=r(t,"propertytypes",{}),this.type=r(t,"type","objectgroup"),this.visible=r(t,"visible",!0),this.objects=r(t,"objects",[])}});t.exports=s},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(30),r=i(99),s=i(1064),o=i(1065);t.exports=function(t,e,i){if(0===e.layer.length)return console.warn("No layers found in the Weltmeister map: "+t),null;for(var a=0,h=0,u=0;u<e.layer.length;u++)e.layer[u].width>a&&(a=e.layer[u].width),e.layer[u].height>h&&(h=e.layer[u].height);var c=new r({width:a,height:h,name:t,tileWidth:e.layer[0].tilesize,tileHeight:e.layer[0].tilesize,format:n.WELTMEISTER});return c.layers=s(e,i),c.tilesets=o(e),c}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(50),s=i(442),o=i(17),a=i(30),h=i(98),u=i(393),c=i(443),l=i(65),f=i(127),d=i(131),p=new n({initialize:function(t,e){this.scene=t,this.tileWidth=e.tileWidth,this.tileHeight=e.tileHeight,this.width=e.width,this.height=e.height,this.orientation=e.orientation,this.renderOrder=e.renderOrder,this.format=e.format,this.version=e.version,this.properties=e.properties,this.widthInPixels=e.widthInPixels,this.heightInPixels=e.heightInPixels,this.imageCollections=e.imageCollections,this.images=e.images,this.layers=e.layers,this.tilesets=e.tilesets,this.objects=e.objects,this.currentLayerIndex=0},setRenderOrder:function(t){var e=["right-down","left-down","right-up","left-up"];return"number"==typeof t&&(t=e[t]),e.indexOf(t)>-1&&(this.renderOrder=t),this},addTilesetImage:function(t,e,i,n,r,s,o){if(void 0===t)return null;if(null==e&&(e=t),!this.scene.sys.textures.exists(e))return console.warn('Invalid image key given for tileset: "'+e+'"'),null;var h=this.scene.sys.textures.get(e),u=this.getTilesetIndex(t);if(null===u&&this.format===a.TILED_JSON)return console.warn('No data found in the JSON tilemap from Tiled matching the tileset name: "'+t+'"'),null;if(this.tilesets[u])return this.tilesets[u].setTileSize(i,n),this.tilesets[u].setSpacing(r,s),this.tilesets[u].setImage(h),this.tilesets[u];void 0===i&&(i=this.tileWidth),void 0===n&&(n=this.tileHeight),void 0===r&&(r=0),void 0===s&&(s=0),void 0===o&&(o=0);var c=new d(t,o,i,n,r,s);return c.setImage(h),this.tilesets.push(c),c},convertLayerToStatic:function(t){if(null===(t=this.getLayer(t)))return null;var e=t.tilemapLayer;if(!(e&&e instanceof s))return null;var i=new c(e.scene,e.tilemap,e.layerIndex,e.tileset,e.x,e.y);return this.scene.sys.displayList.add(i),e.destroy(),i},copy:function(t,e,i,n,r,s,o,a){return a=this.getLayer(a),this._isStaticCall(a,"copy")?this:(null!==a&&f.Copy(t,e,i,n,r,s,o,a),this)},createBlankDynamicLayer:function(t,e,i,n,r,o,a,u){if(void 0===a&&(a=e.tileWidth),void 0===u&&(u=e.tileHeight),void 0===r&&(r=this.width),void 0===o&&(o=this.height),void 0===i&&(i=0),void 0===n&&(n=0),null!==this.getLayerIndex(t))return console.warn("Cannot create blank layer: layer with matching name already exists "+t),null;for(var c,f=new h({name:t,tileWidth:a,tileHeight:u,width:r,height:o}),d=0;d<o;d++){c=[];for(var p=0;p<r;p++)c.push(new l(f,-1,p,d,a,u,this.tileWidth,this.tileHeight));f.data.push(c)}this.layers.push(f),this.currentLayerIndex=this.layers.length-1;var g=new s(this.scene,this,this.currentLayerIndex,e,i,n);return g.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(g),g},createDynamicLayer:function(t,e,i,n){var r=this.getLayerIndex(t);if(null===r)return console.warn("Cannot create Tilemap Layer, invalid ID: "+t),null;var o=this.layers[r];if(o.tilemapLayer)return console.warn("Cannot create Tilemap Layer. ID: "+t+" already in use"),null;this.currentLayerIndex=r,o.tileWidth===e.tileWidth&&o.tileHeight===e.tileHeight||this.setLayerTileSize(e.tileWidth,e.tileHeight,r),void 0===i&&this.layers[r].x&&(i=this.layers[r].x),void 0===n&&this.layers[r].y&&(n=this.layers[r].y);var a=new s(this.scene,this,r,e,i,n);return a.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(a),a},createFromObjects:function(t,e,i,n){void 0===i&&(i={}),void 0===n&&(n=this.scene);var s=this.getObjectLayer(t);if(s){for(var a=s.objects,h=[],c=0;c<a.length;c++){var l=!1,f=a[c];if((void 0!==f.gid&&"number"==typeof e&&f.gid===e||void 0!==f.id&&"number"==typeof e&&f.id===e||void 0!==f.name&&"string"==typeof e&&f.name===e)&&(l=!0),l){var d=o({},i,f.properties);d.x=f.x,d.y=f.y;var p=this.scene.make.sprite(d);p.name=f.name,f.width&&(p.displayWidth=f.width),f.height&&(p.displayHeight=f.height);var g={x:p.originX*p.displayWidth,y:(p.originY-1)*p.displayHeight};if(f.rotation){var v=r(f.rotation);u(g,v),p.rotation=v}for(var y in p.x+=g.x,p.y+=g.y,void 0===f.flippedHorizontal&&void 0===f.flippedVertical||p.setFlip(f.flippedHorizontal,f.flippedVertical),f.visible||(p.visible=!1),f.properties)p.hasOwnProperty(y)||p.setData(y,f.properties[y]);h.push(p)}}return h}console.warn("Cannot create from object. Invalid objectgroup name given: "+t)},createFromTiles:function(t,e,i,n,r,s){return null===(s=this.getLayer(s))?null:f.CreateFromTiles(t,e,i,n,r,s)},createStaticLayer:function(t,e,i,n){var r=this.getLayerIndex(t);if(null===r)return console.warn("Cannot create tilemap layer, invalid layer ID given: "+t),null;var s=this.layers[r];if(s.tilemapLayer)return console.warn("Cannot create static tilemap layer since a static or dynamic tilemap layer exists for layer ID:"+t),null;this.currentLayerIndex=r,s.tileWidth===e.tileWidth&&s.tileHeight===e.tileHeight||this.setLayerTileSize(e.tileWidth,e.tileHeight,r),void 0===i&&this.layers[r].x&&(i=this.layers[r].x),void 0===n&&this.layers[r].y&&(n=this.layers[r].y);var o=new c(this.scene,this,r,e,i,n);return o.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(o),o},destroy:function(){this.removeAllLayers(),this.tilesets.length=0,this.objects.length=0,this.scene=void 0},fill:function(t,e,i,n,r,s,o){return o=this.getLayer(o),this._isStaticCall(o,"fill")?this:(null!==o&&f.Fill(t,e,i,n,r,s,o),this)},filterObjects:function(t,e,i){if("string"==typeof t){var n=t;if(!(t=this.getObjectLayer(t)))return console.warn("No object layer found with the name: "+n),null}return t.objects.filter(e,i)},filterTiles:function(t,e,i,n,r,s,o,a){return null===(a=this.getLayer(a))?null:f.FilterTiles(t,e,i,n,r,s,o,a)},findByIndex:function(t,e,i,n){return null===(n=this.getLayer(n))?null:f.FindByIndex(t,e,i,n)},findObject:function(t,e,i){if("string"==typeof t){var n=t;if(!(t=this.getObjectLayer(t)))return console.warn("No object layer found with the name: "+n),null}return t.objects.find(e,i)||null},findTile:function(t,e,i,n,r,s,o,a){return null===(a=this.getLayer(a))?null:f.FindTile(t,e,i,n,r,s,o,a)},forEachTile:function(t,e,i,n,r,s,o,a){return null!==(a=this.getLayer(a))&&f.ForEachTile(t,e,i,n,r,s,o,a),this},getImageIndex:function(t){return this.getIndex(this.images,t)},getIndex:function(t,e){for(var i=0;i<t.length;i++)if(t[i].name===e)return i;return null},getLayer:function(t){var e=this.getLayerIndex(t);return null!==e?this.layers[e]:null},getObjectLayer:function(t){var e=this.getIndex(this.objects,t);return null!==e?this.objects[e]:null},getLayerIndex:function(t){return void 0===t?this.currentLayerIndex:"string"==typeof t?this.getLayerIndexByName(t):"number"==typeof t&&t<this.layers.length?t:t instanceof c||t instanceof s?t.layerIndex:null},getLayerIndexByName:function(t){return this.getIndex(this.layers,t)},getTileAt:function(t,e,i,n){return null===(n=this.getLayer(n))?null:f.GetTileAt(t,e,i,n)},getTileAtWorldXY:function(t,e,i,n,r){return null===(r=this.getLayer(r))?null:f.GetTileAtWorldXY(t,e,i,n,r)},getTilesWithin:function(t,e,i,n,r,s){return null===(s=this.getLayer(s))?null:f.GetTilesWithin(t,e,i,n,r,s)},getTilesWithinShape:function(t,e,i,n){return null===(n=this.getLayer(n))?null:f.GetTilesWithinShape(t,e,i,n)},getTilesWithinWorldXY:function(t,e,i,n,r,s,o){return null===(o=this.getLayer(o))?null:f.GetTilesWithinWorldXY(t,e,i,n,r,s,o)},getTilesetIndex:function(t){return this.getIndex(this.tilesets,t)},hasTileAt:function(t,e,i){return null===(i=this.getLayer(i))?null:f.HasTileAt(t,e,i)},hasTileAtWorldXY:function(t,e,i,n){return null===(n=this.getLayer(n))?null:f.HasTileAtWorldXY(t,e,i,n)},layer:{get:function(){return this.layers[this.currentLayerIndex]},set:function(t){this.setLayer(t)}},putTileAt:function(t,e,i,n,r){return r=this.getLayer(r),this._isStaticCall(r,"putTileAt")?null:null===r?null:f.PutTileAt(t,e,i,n,r)},putTileAtWorldXY:function(t,e,i,n,r,s){return s=this.getLayer(s),this._isStaticCall(s,"putTileAtWorldXY")?null:null===s?null:f.PutTileAtWorldXY(t,e,i,n,r,s)},putTilesAt:function(t,e,i,n,r){return r=this.getLayer(r),this._isStaticCall(r,"putTilesAt")?this:(null!==r&&f.PutTilesAt(t,e,i,n,r),this)},randomize:function(t,e,i,n,r,s){return s=this.getLayer(s),this._isStaticCall(s,"randomize")?this:(null!==s&&f.Randomize(t,e,i,n,r,s),this)},calculateFacesAt:function(t,e,i){return null===(i=this.getLayer(i))?this:(f.CalculateFacesAt(t,e,i),this)},calculateFacesWithin:function(t,e,i,n,r){return null===(r=this.getLayer(r))?this:(f.CalculateFacesWithin(t,e,i,n,r),this)},removeAllLayers:function(){for(var t=0;t<this.layers.length;t++)this.layers[t].tilemapLayer&&this.layers[t].tilemapLayer.destroy();return this.layers.length=0,this.currentLayerIndex=0,this},removeTileAt:function(t,e,i,n,r){return r=this.getLayer(r),this._isStaticCall(r,"removeTileAt")?null:null===r?null:f.RemoveTileAt(t,e,i,n,r)},removeTileAtWorldXY:function(t,e,i,n,r,s){return s=this.getLayer(s),this._isStaticCall(s,"removeTileAtWorldXY")?null:null===s?null:f.RemoveTileAtWorldXY(t,e,i,n,r,s)},renderDebug:function(t,e,i){return null===(i=this.getLayer(i))?this:(f.RenderDebug(t,e,i),this)},replaceByIndex:function(t,e,i,n,r,s,o){return o=this.getLayer(o),this._isStaticCall(o,"replaceByIndex")?this:(null!==o&&f.ReplaceByIndex(t,e,i,n,r,s,o),this)},setCollision:function(t,e,i,n){return null===(n=this.getLayer(n))?this:(f.SetCollision(t,e,i,n),this)},setCollisionBetween:function(t,e,i,n,r){return null===(r=this.getLayer(r))?this:(f.SetCollisionBetween(t,e,i,n,r),this)},setCollisionByProperty:function(t,e,i,n){return null===(n=this.getLayer(n))?this:(f.SetCollisionByProperty(t,e,i,n),this)},setCollisionByExclusion:function(t,e,i,n){return null===(n=this.getLayer(n))?this:(f.SetCollisionByExclusion(t,e,i,n),this)},setCollisionFromCollisionGroup:function(t,e,i){return null===(i=this.getLayer(i))?this:(f.SetCollisionFromCollisionGroup(t,e,i),this)},setTileIndexCallback:function(t,e,i,n){return null===(n=this.getLayer(n))?this:(f.SetTileIndexCallback(t,e,i,n),this)},setTileLocationCallback:function(t,e,i,n,r,s,o){return null===(o=this.getLayer(o))?this:(f.SetTileLocationCallback(t,e,i,n,r,s,o),this)},setLayer:function(t){var e=this.getLayerIndex(t);return null!==e&&(this.currentLayerIndex=e),this},setBaseTileSize:function(t,e){this.tileWidth=t,this.tileHeight=e,this.widthInPixels=this.width*t,this.heightInPixels=this.height*e;for(var i=0;i<this.layers.length;i++){this.layers[i].baseWidth=t,this.layers[i].baseHeight=e;for(var n=this.layers[i].data,r=this.layers[i].width,s=this.layers[i].height,o=0;o<s;++o)for(var a=0;a<r;++a){var h=n[o][a];null!==h&&h.setSize(void 0,void 0,t,e)}}return this},setLayerTileSize:function(t,e,i){if(null===(i=this.getLayer(i)))return this;i.tileWidth=t,i.tileHeight=e;for(var n=i.data,r=i.width,s=i.height,o=0;o<s;++o)for(var a=0;a<r;++a){var h=n[o][a];null!==h&&h.setSize(t,e)}return this},shuffle:function(t,e,i,n,r){return r=this.getLayer(r),this._isStaticCall(r,"shuffle")?this:(null!==r&&f.Shuffle(t,e,i,n,r),this)},swapByIndex:function(t,e,i,n,r,s,o){return o=this.getLayer(o),this._isStaticCall(o,"swapByIndex")?this:(null!==o&&f.SwapByIndex(t,e,i,n,r,s,o),this)},tileToWorldX:function(t,e,i){return null===(i=this.getLayer(i))?null:f.TileToWorldX(t,e,i)},tileToWorldY:function(t,e,i){return null===(i=this.getLayer(i))?null:f.TileToWorldY(t,e,i)},tileToWorldXY:function(t,e,i,n,r){return null===(r=this.getLayer(r))?null:f.TileToWorldXY(t,e,i,n,r)},weightedRandomize:function(t,e,i,n,r,s){return s=this.getLayer(s),this._isStaticCall(s,"weightedRandomize")?this:(null!==s&&f.WeightedRandomize(t,e,i,n,r,s),this)},worldToTileX:function(t,e,i,n){return null===(n=this.getLayer(n))?null:f.WorldToTileX(t,e,i,n)},worldToTileY:function(t,e,i,n){return null===(n=this.getLayer(n))?null:f.WorldToTileY(t,e,i,n)},worldToTileXY:function(t,e,i,n,r,s){return null===(s=this.getLayer(s))?null:f.WorldToTileXY(t,e,i,n,r,s)},_isStaticCall:function(t,e){return t.tilemapLayer instanceof c&&(console.warn(e+": You cannot change the tiles in a static tilemap layer"),!0)}});t.exports=p},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(16),s=i(1066),o=i(12),a=i(127),h=new n({Extends:o,Mixins:[r.Alpha,r.BlendMode,r.ComputedSize,r.Depth,r.Flip,r.GetBounds,r.Origin,r.Pipeline,r.ScaleMode,r.Transform,r.Visible,r.ScrollFactor,s],initialize:function(t,e,i,n,r,s){o.call(this,t,"DynamicTilemapLayer"),this.isTilemap=!0,this.tilemap=e,this.layerIndex=i,this.layer=e.layers[i],this.layer.tilemapLayer=this,this.tileset=n,this.culledTiles=[],this.skipCull=!1,this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=a.CullTiles,this._renderOrder=0,this.setAlpha(this.layer.alpha),this.setPosition(r,s),this.setOrigin(),this.setSize(this.layer.tileWidth*this.layer.width,this.layer.tileHeight*this.layer.height),this.initPipeline("TextureTintPipeline")},setRenderOrder:function(t){return"string"==typeof t&&(t=["right-down","left-down","right-up","left-up"].indexOf(t)),t>=0&&t<4&&(this._renderOrder=t),this},calculateFacesAt:function(t,e){return a.CalculateFacesAt(t,e,this.layer),this},calculateFacesWithin:function(t,e,i,n){return a.CalculateFacesWithin(t,e,i,n,this.layer),this},createFromTiles:function(t,e,i,n,r){return a.CreateFromTiles(t,e,i,n,r,this.layer)},cull:function(t){return this.cullCallback(this.layer,t,this.culledTiles,this._renderOrder)},copy:function(t,e,i,n,r,s,o){return a.Copy(t,e,i,n,r,s,o,this.layer),this},destroy:function(){this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),this.tilemap=void 0,this.layer=void 0,this.tileset=void 0,this.culledTiles.length=0,this.cullCallback=null,o.prototype.destroy.call(this)},fill:function(t,e,i,n,r,s){return a.Fill(t,e,i,n,r,s,this.layer),this},filterTiles:function(t,e,i,n,r,s,o){return a.FilterTiles(t,e,i,n,r,s,o,this.layer)},findByIndex:function(t,e,i){return a.FindByIndex(t,e,i,this.layer)},findTile:function(t,e,i,n,r,s,o){return a.FindTile(t,e,i,n,r,s,o,this.layer)},forEachTile:function(t,e,i,n,r,s,o){return a.ForEachTile(t,e,i,n,r,s,o,this.layer),this},getTileAt:function(t,e,i){return a.GetTileAt(t,e,i,this.layer)},getTileAtWorldXY:function(t,e,i,n){return a.GetTileAtWorldXY(t,e,i,n,this.layer)},getTilesWithin:function(t,e,i,n,r){return a.GetTilesWithin(t,e,i,n,r,this.layer)},getTilesWithinShape:function(t,e,i){return a.GetTilesWithinShape(t,e,i,this.layer)},getTilesWithinWorldXY:function(t,e,i,n,r,s){return a.GetTilesWithinWorldXY(t,e,i,n,r,s,this.layer)},hasTileAt:function(t,e){return a.HasTileAt(t,e,this.layer)},hasTileAtWorldXY:function(t,e,i){return a.HasTileAtWorldXY(t,e,i,this.layer)},putTileAt:function(t,e,i,n){return a.PutTileAt(t,e,i,n,this.layer)},putTileAtWorldXY:function(t,e,i,n,r){return a.PutTileAtWorldXY(t,e,i,n,r,this.layer)},putTilesAt:function(t,e,i,n){return a.PutTilesAt(t,e,i,n,this.layer),this},randomize:function(t,e,i,n,r){return a.Randomize(t,e,i,n,r,this.layer),this},removeTileAt:function(t,e,i,n){return a.RemoveTileAt(t,e,i,n,this.layer)},removeTileAtWorldXY:function(t,e,i,n,r){return a.RemoveTileAtWorldXY(t,e,i,n,r,this.layer)},renderDebug:function(t,e){return a.RenderDebug(t,e,this.layer),this},replaceByIndex:function(t,e,i,n,r,s){return a.ReplaceByIndex(t,e,i,n,r,s,this.layer),this},setSkipCull:function(t){return void 0===t&&(t=!0),this.skipCull=t,this},setCullPadding:function(t,e){return void 0===t&&(t=1),void 0===e&&(e=1),this.cullPaddingX=t,this.cullPaddingY=e,this},setCollision:function(t,e,i){return a.SetCollision(t,e,i,this.layer),this},setCollisionBetween:function(t,e,i,n){return a.SetCollisionBetween(t,e,i,n,this.layer),this},setCollisionByProperty:function(t,e,i){return a.SetCollisionByProperty(t,e,i,this.layer),this},setCollisionByExclusion:function(t,e,i){return a.SetCollisionByExclusion(t,e,i,this.layer),this},setCollisionFromCollisionGroup:function(t,e){return a.SetCollisionFromCollisionGroup(t,e,this.layer),this},setTileIndexCallback:function(t,e,i){return a.SetTileIndexCallback(t,e,i,this.layer),this},setTileLocationCallback:function(t,e,i,n,r,s){return a.SetTileLocationCallback(t,e,i,n,r,s,this.layer),this},shuffle:function(t,e,i,n){return a.Shuffle(t,e,i,n,this.layer),this},swapByIndex:function(t,e,i,n,r,s){return a.SwapByIndex(t,e,i,n,r,s,this.layer),this},tileToWorldX:function(t,e){return a.TileToWorldX(t,e,this.layer)},tileToWorldY:function(t,e){return a.TileToWorldY(t,e,this.layer)},tileToWorldXY:function(t,e,i,n){return a.TileToWorldXY(t,e,i,n,this.layer)},weightedRandomize:function(t,e,i,n,r){return a.WeightedRandomize(t,e,i,n,r,this.layer),this},worldToTileX:function(t,e,i){return a.WorldToTileX(t,e,i,this.layer)},worldToTileY:function(t,e,i){return a.WorldToTileY(t,e,i,this.layer)},worldToTileXY:function(t,e,i,n,r){return a.WorldToTileXY(t,e,i,n,r,this.layer)}});t.exports=h},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(16),s=i(26),o=i(12),a=i(1069),h=i(127),u=i(19),c=new n({Extends:o,Mixins:[r.Alpha,r.BlendMode,r.ComputedSize,r.Depth,r.Flip,r.GetBounds,r.Origin,r.Pipeline,r.ScaleMode,r.Transform,r.Visible,r.ScrollFactor,a],initialize:function(t,e,i,n,r,a){o.call(this,t,"StaticTilemapLayer"),this.isTilemap=!0,this.tilemap=e,this.layerIndex=i,this.layer=e.layers[i],this.layer.tilemapLayer=this,this.tileset=n,this.culledTiles=[],this.skipCull=!1,this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=h.CullTiles,this.vertexBuffer=null,this.renderer=t.sys.game.renderer,this.bufferData=null,this.vertexViewF32=null,this.vertexViewU32=null,this.dirty=!0,this.vertexCount=0,this._renderOrder=0,this.setAlpha(this.layer.alpha),this.setPosition(r,a),this.setOrigin(),this.setSize(this.layer.tileWidth*this.layer.width,this.layer.tileHeight*this.layer.height),this.initPipeline("TextureTintPipeline"),t.sys.game.config.renderType===s.WEBGL&&t.sys.game.renderer.onContextRestored(function(){this.dirty=!0,this.vertexBuffer=null},this)},setRenderOrder:function(t){return"string"==typeof t&&(t=["right-down","left-down","right-up","left-up"].indexOf(t)),t>=0&&t<4&&(this._renderOrder=t,this.dirty=!0),this},upload:function(t){var e=this.renderer,i=e.gl,n=e.pipelines.TextureTintPipeline;if(this.dirty){var r,s,o,a=this.tileset,h=this.layer.width,u=this.layer.height,c=a.image.source[0].width,l=a.image.source[0].height,f=this.layer.data,d=this._renderOrder,p=this.vertexBuffer,g=this.bufferData,v=-1,y=h*u*n.vertexSize*6;if(this.vertexCount=0,null===g&&(g=new ArrayBuffer(y),this.bufferData=g,this.vertexViewF32=new Float32Array(g),this.vertexViewU32=new Uint32Array(g)),0===d)for(s=0;s<u;s++)for(o=0;o<h;o++)(r=f[s][o])&&-1!==r.index&&r.visible&&(v=this.batchTile(v,r,a,c,l,t));else if(1===d)for(s=0;s<u;s++)for(o=h-1;o>=0;o--)(r=f[s][o])&&-1!==r.index&&r.visible&&(v=this.batchTile(v,r,a,c,l,t));else if(2===d)for(s=u-1;s>=0;s--)for(o=0;o<h;o++)(r=f[s][o])&&-1!==r.index&&r.visible&&(v=this.batchTile(v,r,a,c,l,t));else if(3===d)for(s=u-1;s>=0;s--)for(o=h-1;o>=0;o--)(r=f[s][o])&&-1!==r.index&&r.visible&&(v=this.batchTile(v,r,a,c,l,t));this.dirty=!1,null===p?(p=e.createVertexBuffer(g,i.STATIC_DRAW),this.vertexBuffer=p):(e.setVertexBuffer(p),i.bufferSubData(i.ARRAY_BUFFER,0,g))}return n.modelIdentity(),n.modelTranslate(this.x-t.scrollX*this.scrollFactorX,this.y-t.scrollY*this.scrollFactorY,0),n.modelScale(this.scaleX,this.scaleY,1),n.viewLoad2D(t.matrix.matrix),this},batchTile:function(t,e,i,n,r,s){var o=e.pixelX,a=e.pixelY,h=o+e.width,c=a+e.height,l=i.getTileTextureCoordinates(e.index);if(l){var f=l.x/n,d=l.y/r,p=(l.x+e.width)/n,g=(l.y+e.height)/r,v=u.getTintAppendFloatAlpha(16777215,s.alpha*this.alpha*e.alpha),y=o,m=a,x=o,b=c,w=h,T=c,S=h,_=a;s.roundPixels&&(y|=0,m|=0,x|=0,b|=0,w|=0,T|=0,S|=0,_|=0);var A=this.vertexViewF32,E=this.vertexViewU32;return A[++t]=y,A[++t]=m,A[++t]=f,A[++t]=d,A[++t]=0,E[++t]=v,A[++t]=x,A[++t]=b,A[++t]=f,A[++t]=g,A[++t]=0,E[++t]=v,A[++t]=w,A[++t]=T,A[++t]=p,A[++t]=g,A[++t]=0,E[++t]=v,A[++t]=y,A[++t]=m,A[++t]=f,A[++t]=d,A[++t]=0,E[++t]=v,A[++t]=w,A[++t]=T,A[++t]=p,A[++t]=g,A[++t]=0,E[++t]=v,A[++t]=S,A[++t]=_,A[++t]=p,A[++t]=d,A[++t]=0,E[++t]=v,this.vertexCount+=6,t}},calculateFacesAt:function(t,e){return h.CalculateFacesAt(t,e,this.layer),this},calculateFacesWithin:function(t,e,i,n){return h.CalculateFacesWithin(t,e,i,n,this.layer),this},createFromTiles:function(t,e,i,n,r){return h.CreateFromTiles(t,e,i,n,r,this.layer)},cull:function(t){return this.cullCallback(this.layer,t,this.culledTiles)},setSkipCull:function(t){return void 0===t&&(t=!0),this.skipCull=t,this},setCullPadding:function(t,e){return void 0===t&&(t=1),void 0===e&&(e=1),this.cullPaddingX=t,this.cullPaddingY=e,this},findByIndex:function(t,e,i){return h.FindByIndex(t,e,i,this.layer)},findTile:function(t,e,i,n,r,s,o){return h.FindTile(t,e,i,n,r,s,o,this.layer)},filterTiles:function(t,e,i,n,r,s,o){return h.FilterTiles(t,e,i,n,r,s,o,this.layer)},forEachTile:function(t,e,i,n,r,s,o){return h.ForEachTile(t,e,i,n,r,s,o,this.layer),this},getTileAt:function(t,e,i){return h.GetTileAt(t,e,i,this.layer)},getTileAtWorldXY:function(t,e,i,n){return h.GetTileAtWorldXY(t,e,i,n,this.layer)},getTilesWithin:function(t,e,i,n,r){return h.GetTilesWithin(t,e,i,n,r,this.layer)},getTilesWithinWorldXY:function(t,e,i,n,r,s){return h.GetTilesWithinWorldXY(t,e,i,n,r,s,this.layer)},getTilesWithinShape:function(t,e,i){return h.GetTilesWithinShape(t,e,i,this.layer)},hasTileAt:function(t,e){return h.HasTileAt(t,e,this.layer)},hasTileAtWorldXY:function(t,e,i){return h.HasTileAtWorldXY(t,e,i,this.layer)},renderDebug:function(t,e){return h.RenderDebug(t,e,this.layer),this},setCollision:function(t,e,i){return h.SetCollision(t,e,i,this.layer),this},setCollisionBetween:function(t,e,i,n){return h.SetCollisionBetween(t,e,i,n,this.layer),this},setCollisionByProperty:function(t,e,i){return h.SetCollisionByProperty(t,e,i,this.layer),this},setCollisionByExclusion:function(t,e,i){return h.SetCollisionByExclusion(t,e,i,this.layer),this},setTileIndexCallback:function(t,e,i){return h.SetTileIndexCallback(t,e,i,this.layer),this},setCollisionFromCollisionGroup:function(t,e){return h.SetCollisionFromCollisionGroup(t,e,this.layer),this},setTileLocationCallback:function(t,e,i,n,r,s){return h.SetTileLocationCallback(t,e,i,n,r,s,this.layer),this},tileToWorldX:function(t,e){return h.TileToWorldX(t,e,this.layer)},tileToWorldY:function(t,e){return h.TileToWorldY(t,e,this.layer)},tileToWorldXY:function(t,e,i,n){return h.TileToWorldXY(t,e,i,n,this.layer)},worldToTileX:function(t,e,i){return h.WorldToTileX(t,e,i,this.layer)},worldToTileY:function(t,e,i){return h.WorldToTileY(t,e,i,this.layer)},worldToTileXY:function(t,e,i,n,r){return h.WorldToTileXY(t,e,i,n,r,this.layer)},destroy:function(){this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),this.tilemap=void 0,this.layer=void 0,this.tileset=void 0,this.culledTiles.length=0,this.cullCallback=null,o.prototype.destroy.call(this)}});t.exports=c},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(1),s=new n({initialize:function(t){this.delay=0,this.repeat=0,this.repeatCount=0,this.loop=!1,this.callback,this.callbackScope,this.args,this.timeScale=1,this.startAt=0,this.elapsed=0,this.paused=!1,this.hasDispatched=!1,this.reset(t)},reset:function(t){return this.delay=r(t,"delay",0),this.repeat=r(t,"repeat",0),this.loop=r(t,"loop",!1),this.callback=r(t,"callback",void 0),this.callbackScope=r(t,"callbackScope",this.callback),this.args=r(t,"args",[]),this.timeScale=r(t,"timeScale",1),this.startAt=r(t,"startAt",0),this.paused=r(t,"paused",!1),this.elapsed=this.startAt,this.hasDispatched=!1,this.repeatCount=-1===this.repeat||this.loop?999999999999:this.repeat,this},getProgress:function(){return this.elapsed/this.delay},getOverallProgress:function(){if(this.repeat>0){var t=this.delay+this.delay*this.repeat;return(this.elapsed+this.delay*(this.repeat-this.repeatCount))/t}return this.getProgress()},getRepeatCount:function(){return this.repeatCount},getElapsed:function(){return this.elapsed},getElapsedSeconds:function(){return.001*this.elapsed},remove:function(t){void 0===t&&(t=!1),this.elapsed=this.delay,this.hasDispatched=!t,this.repeatCount=0},destroy:function(){this.callback=void 0,this.callbackScope=void 0,this.args=[]}});t.exports=s},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(1078);t.exports=function(t){var e,i=[];if(t.hasOwnProperty("props"))for(e in t.props)"_"!==e.substr(0,1)&&i.push({key:e,value:t.props[e]});else for(e in t)-1===n.indexOf(e)&&"_"!==e.substr(0,1)&&i.push({key:e,value:t[e]});return i}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(4);t.exports=function(t){var e=n(t,"tweens",null);return null===e?[]:("function"==typeof e&&(e=e.call()),Array.isArray(e)||(e=[e]),e)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(212),r=i(11),s=i(92),o=i(91),a=i(132),h=i(4),u=i(211),c=i(213),l=i(214);t.exports=function(t,e,i){void 0===i&&(i=n);var f=h(e,"from",0),d=h(e,"to",1),p=[{value:f}],g=a(e,"delay",i.delay),v=a(e,"duration",i.duration),y=h(e,"easeParams",i.easeParams),m=o(h(e,"ease",i.ease),y),x=a(e,"hold",i.hold),b=a(e,"repeat",i.repeat),w=a(e,"repeatDelay",i.repeatDelay),T=s(e,"yoyo",i.yoyo),S=[],_=u("value",d),A=l(p[0],"value",_.getEnd,_.getStart,m,g,v,T,x,b,w,!1,!1);A.start=f,A.current=f,A.to=d,S.push(A);var E=new c(t,S,p);E.offset=r(e,"offset",null),E.completeDelay=r(e,"completeDelay",0),E.loop=Math.round(r(e,"loop",0)),E.loopDelay=Math.round(r(e,"loopDelay",0)),E.paused=s(e,"paused",!1),E.useFrames=s(e,"useFrames",!1);for(var I=h(e,"callbackScope",E),C=[E,null],M=c.TYPES,P=0;P<M.length;P++){var k=M[P],O=h(e,k,!1);if(O){var N=h(e,k+"Scope",I),F=h(e,k+"Params",[]);E.setCallback(k,O,C.concat(F),N)}}return E}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(59),r=i(212),s=i(11),o=i(92),a=i(91),h=i(132),u=i(210),c=i(446),l=i(4),f=i(449),d=i(133);t.exports=function(t,e){var i=new f(t),p=c(e);if(0===p.length)return i.paused=!0,i;var g=n(r);g.targets=u(e);var v=s(e,"totalDuration",0);g.duration=v>0?Math.floor(v/p.length):h(e,"duration",g.duration),g.delay=h(e,"delay",g.delay),g.easeParams=l(e,"easeParams",g.easeParams),g.ease=a(l(e,"ease",g.ease),g.easeParams),g.hold=h(e,"hold",g.hold),g.repeat=h(e,"repeat",g.repeat),g.repeatDelay=h(e,"repeatDelay",g.repeatDelay),g.yoyo=o(e,"yoyo",g.yoyo),g.flipX=o(e,"flipX",g.flipX),g.flipY=o(e,"flipY",g.flipY);for(var y=0;y<p.length;y++)i.queue(d(i,p[y],g));i.completeDelay=s(e,"completeDelay",0),i.loop=Math.round(s(e,"loop",0)),i.loopDelay=Math.round(s(e,"loopDelay",0)),i.paused=o(e,"paused",!1),i.useFrames=o(e,"useFrames",!1);var m=l(e,"callbackScope",i),x=[i],b=l(e,"onStart",!1);if(b){var w=l(e,"onStartScope",m),T=l(e,"onStartParams",[]);i.setCallback("onStart",b,x.concat(T),w)}var S=l(e,"onUpdate",!1);if(S){var _=l(e,"onUpdateScope",m),A=l(e,"onUpdateParams",[]);i.setCallback("onUpdate",S,x.concat(A),_)}var E=l(e,"onLoop",!1);if(E){var I=l(e,"onLoopScope",m),C=l(e,"onLoopParams",[]);i.setCallback("onLoop",E,x.concat(C),I)}var M=l(e,"onYoyo",!1);if(M){var P=l(e,"onYoyoScope",m),k=l(e,"onYoyoParams",[]);i.setCallback("onYoyo",M,x.concat(null,k),P)}var O=l(e,"onComplete",!1);if(O){var N=l(e,"onCompleteScope",m),F=l(e,"onCompleteParams",[]);i.setCallback("onComplete",O,x.concat(F),N)}return i}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(8),s=i(133),o=i(93),a=new n({Extends:r,initialize:function(t){r.call(this),this.manager=t,this.isTimeline=!0,this.data=[],this.totalData=0,this.useFrames=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.completeDelay=0,this.countdown=0,this.state=o.PENDING_ADD,this._pausedState=o.PENDING_ADD,this.paused=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0,this.callbacks={onComplete:null,onLoop:null,onStart:null,onUpdate:null,onYoyo:null},this.callbackScope},setTimeScale:function(t){return this.timeScale=t,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return this.state===o.ACTIVE},add:function(t){return this.queue(s(this,t))},queue:function(t){return this.isPlaying()||(t.parent=this,t.parentIsTimeline=!0,this.data.push(t),this.totalData=this.data.length),this},hasOffset:function(t){return null!==t.offset},isOffsetAbsolute:function(t){return"number"==typeof t},isOffsetRelative:function(t){if("string"===typeof t){var e=t[0];if("-"===e||"+"===e)return!0}return!1},getRelativeOffset:function(t,e){var i=t[0],n=parseFloat(t.substr(2)),r=e;switch(i){case"+":r+=n;break;case"-":r-=n}return Math.max(0,r)},calcDuration:function(){for(var t=0,e=0,i=0,n=0;n<this.totalData;n++){var r=this.data[n];r.init(),this.hasOffset(r)?this.isOffsetAbsolute(r.offset)?(r.calculatedOffset=r.offset,0===r.offset&&(i=0)):this.isOffsetRelative(r.offset)&&(r.calculatedOffset=this.getRelativeOffset(r.offset,t)):r.calculatedOffset=i,t=r.totalDuration+r.calculatedOffset,e+=r.totalDuration,i+=r.totalDuration}this.duration=e,this.loopCounter=-1===this.loop?999999999999:this.loop,this.loopCounter>0?this.totalDuration=this.duration+this.completeDelay+(this.duration+this.loopDelay)*this.loopCounter:this.totalDuration=this.duration+this.completeDelay},init:function(){return this.calcDuration(),this.progress=0,this.totalProgress=0,!this.paused||(this.state=o.PAUSED,!1)},resetTweens:function(t){for(var e=0;e<this.totalData;e++){this.data[e].play(t)}},setCallback:function(t,e,i,n){return-1!==a.TYPES.indexOf(t)&&(this.callbacks[t]={func:e,scope:n,params:i}),this},makeActive:function(t){return this.manager.makeActive(t)},play:function(){if(this.state!==o.ACTIVE){if(this.paused)return this.paused=!1,void this.manager.makeActive(this);this.resetTweens(!1),this.state=o.ACTIVE;var t=this.callbacks.onStart;t&&t.func.apply(t.scope,t.params),this.emit("start",this)}},nextState:function(){if(this.loopCounter>0){this.elapsed=0,this.progress=0,this.loopCounter--;var t=this.callbacks.onLoop;t&&t.func.apply(t.scope,t.params),this.emit("loop",this,this.loopCounter),this.resetTweens(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.state=o.LOOP_DELAY):this.state=o.ACTIVE}else if(this.completeDelay>0)this.countdown=this.completeDelay,this.state=o.COMPLETE_DELAY;else{var e=this.callbacks.onComplete;e&&e.func.apply(e.scope,e.params),this.emit("complete",this),this.state=o.PENDING_REMOVE}},update:function(t,e){if(this.state!==o.PAUSED){var i=e;switch(this.useFrames&&(e=1*this.manager.timeScale),e*=this.timeScale,this.elapsed+=e,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=e,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),this.state){case o.ACTIVE:for(var n=this.totalData,r=0;r<this.totalData;r++){this.data[r].update(t,i)&&n--}var s=this.callbacks.onUpdate;s&&s.func.apply(s.scope,s.params),this.emit("update",this),0===n&&this.nextState();break;case o.LOOP_DELAY:this.countdown-=e,this.countdown<=0&&(this.state=o.ACTIVE);break;case o.COMPLETE_DELAY:if(this.countdown-=e,this.countdown<=0){var a=this.callbacks.onComplete;a&&a.func.apply(a.scope,a.params),this.emit("complete",this),this.state=o.PENDING_REMOVE}}return this.state===o.PENDING_REMOVE}},stop:function(){this.state=o.PENDING_REMOVE},pause:function(){if(this.state!==o.PAUSED)return this.paused=!0,this._pausedState=this.state,this.state=o.PAUSED,this.emit("pause",this),this},resume:function(){return this.state===o.PAUSED&&(this.paused=!1,this.state=this._pausedState),this.emit("resume",this),this},hasTarget:function(t){for(var e=0;e<this.data.length;e++)if(this.data[e].hasTarget(t))return!0;return!1},destroy:function(){for(var t=0;t<this.data.length;t++)this.data[t].stop()}});a.TYPES=["onStart","onUpdate","onLoop","onComplete","onYoyo"],t.exports=a},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(215),r=i(0),s=new(i(80)),o=new r({Extends:n,initialize:function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=0),n.call(this,t),this.viewportWidth=e,this.viewportHeight=i,this._zoom=1,this.near=0,this.update()},setToOrtho:function(t,e,i){void 0===e&&(e=this.viewportWidth),void 0===i&&(i=this.viewportHeight);var n=this.zoom;return this.up.set(0,t?-1:1,0),this.direction.set(0,0,t?1:-1),this.position.set(n*e/2,n*i/2,0),this.viewportWidth=e,this.viewportHeight=i,this.update()},update:function(){var t=this.viewportWidth,e=this.viewportHeight,i=Math.abs(this.near),n=Math.abs(this.far),r=this.zoom;return 0===t||0===e?this:(this.projection.ortho(r*-t/2,r*t/2,r*-e/2,r*e/2,i,n),s.copy(this.position).add(this.direction),this.view.lookAt(this.position,s,this.up),this.combined.copy(this.projection).multiply(this.view),this.invProjectionView.copy(this.combined).invert(),this.billboardMatrixDirty=!0,this.updateChildren(),this)},zoom:{get:function(){return this._zoom},set:function(t){this._zoom=t,this.update()}}});t.exports=o},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(215),r=i(0),s=new(i(80)),o=new r({Extends:n,initialize:function(t,e,i,r){void 0===e&&(e=80),void 0===i&&(i=0),void 0===r&&(r=0),n.call(this,t),this.viewportWidth=i,this.viewportHeight=r,this.fieldOfView=e*Math.PI/180,this.update()},setFOV:function(t){return this.fieldOfView=t*Math.PI/180,this},update:function(){var t=this.viewportWidth/this.viewportHeight;return this.projection.perspective(this.fieldOfView,t,Math.abs(this.near),Math.abs(this.far)),s.copy(this.position).add(this.direction),this.view.lookAt(this.position,s,this.up),this.combined.copy(this.projection).multiply(this.view),this.invProjectionView.copy(this.combined).invert(),this.billboardMatrixDirty=!0,this.updateChildren(),this}});t.exports=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(135),r=i(217),s=function(){function t(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),o="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=o);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var i=new r.Deferred;this.instancesDeferred.set(e,i);try{var n=this.getOrInitializeService(e);n&&i.resolve(n)}catch(t){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=n.__assign({identifier:o,optional:!1},t),i=e.identifier,r=e.optional,s=this.normalizeInstanceIdentifier(i);try{var a=this.getOrInitializeService(s);if(!a){if(r)return null;throw Error("Service "+this.name+" is not available")}return a}catch(t){if(r)return null;throw t}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,i;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t))try{this.getOrInitializeService(o)}catch(t){}try{for(var r=n.__values(this.instancesDeferred.entries()),s=r.next();!s.done;s=r.next()){var a=n.__read(s.value,2),h=a[0],u=a[1],c=this.normalizeInstanceIdentifier(h);try{var l=this.getOrInitializeService(c);u.resolve(l)}catch(t){}}}catch(t){e={error:t}}finally{try{s&&!s.done&&(i=r.return)&&i.call(r)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=o),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return n.__awaiter(this,void 0,void 0,function(){var t;return n.__generator(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(n.__spread(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}),t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()})))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return t===o?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:o:t},t}();var h=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();e.Component=s,e.ComponentContainer=h,e.Provider=a},function(t,e,i){"use strict";
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
function n(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var n=Array(t),r=0;for(e=0;e<i;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,r++)n[r]=s[o];return n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var r;i.r(e),i.d(e,"LogLevel",function(){return s}),i.d(e,"Logger",function(){return l}),i.d(e,"setLogLevel",function(){return f}),i.d(e,"setUserLogHandler",function(){return d});var s,o=[];!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(s||(s={}));var a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},h=s.INFO,u=((r={})[s.DEBUG]="log",r[s.VERBOSE]="log",r[s.INFO]="info",r[s.WARN]="warn",r[s.ERROR]="error",r),c=function(t,e){for(var i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];if(!(e<t.logLevel)){var s=(new Date).toISOString(),o=u[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,n(["["+s+"]  "+t.name+":"],i))}},l=function(){function t(t){this.name=t,this._logLevel=h,this._logHandler=c,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,n([this,s.DEBUG],t)),this._logHandler.apply(this,n([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,n([this,s.VERBOSE],t)),this._logHandler.apply(this,n([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,n([this,s.INFO],t)),this._logHandler.apply(this,n([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,n([this,s.WARN],t)),this._logHandler.apply(this,n([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,n([this,s.ERROR],t)),this._logHandler.apply(this,n([this,s.ERROR],t))},t}();function f(t){o.forEach(function(e){e.setLogLevel(t)})}function d(t,e){for(var i=function(i){var n=null;e&&e.level&&(n=a[e.level]),i.userLogHandler=null===t?null:function(e,i){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];var a=r.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(t){return null}}).filter(function(t){return t}).join(" ");i>=(null!=n?n:e.logLevel)&&t({level:s[i].toLowerCase(),message:a,args:r,type:e.name})}},n=0,r=o;n<r.length;n++){i(r[n])}}},function(t,e,i){t.exports=i(1095)},function(t,e,i){i(456),i(457),i(458),i(459),i(460),i(461),i(462),i(463)},function(t,e){Array.prototype.forEach||(Array.prototype.forEach=function(t){"use strict";if(null==this)throw new TypeError;var e=Object(this),i=e.length>>>0;if("function"!=typeof t)throw new TypeError;for(var n=arguments.length>=2?arguments[1]:void 0,r=0;r<i;r++)r in e&&t.call(n,e[r],r,e)})},function(t,e){Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)})},function(t,e){!function(){function t(t){t&&(t.setTargetAtTime||(t.setTargetAtTime=t.setTargetValueAtTime))}window.hasOwnProperty("webkitAudioContext")&&!window.hasOwnProperty("AudioContext")&&(window.AudioContext=webkitAudioContext,AudioContext.prototype.hasOwnProperty("createGain")||(AudioContext.prototype.createGain=AudioContext.prototype.createGainNode),AudioContext.prototype.hasOwnProperty("createDelay")||(AudioContext.prototype.createDelay=AudioContext.prototype.createDelayNode),AudioContext.prototype.hasOwnProperty("createScriptProcessor")||(AudioContext.prototype.createScriptProcessor=AudioContext.prototype.createJavaScriptNode),AudioContext.prototype.hasOwnProperty("createPeriodicWave")||(AudioContext.prototype.createPeriodicWave=AudioContext.prototype.createWaveTable),AudioContext.prototype.internal_createGain=AudioContext.prototype.createGain,AudioContext.prototype.createGain=function(){var e=this.internal_createGain();return t(e.gain),e},AudioContext.prototype.internal_createDelay=AudioContext.prototype.createDelay,AudioContext.prototype.createDelay=function(e){var i=e?this.internal_createDelay(e):this.internal_createDelay();return t(i.delayTime),i},AudioContext.prototype.internal_createBufferSource=AudioContext.prototype.createBufferSource,AudioContext.prototype.createBufferSource=function(){var e=this.internal_createBufferSource();return e.start?(e.internal_start=e.start,e.start=function(t,i,n){void 0!==n?e.internal_start(t||0,i,n):e.internal_start(t||0,i||0)}):e.start=function(t,e,i){e||i?this.noteGrainOn(t||0,e,i):this.noteOn(t||0)},e.stop?(e.internal_stop=e.stop,e.stop=function(t){e.internal_stop(t||0)}):e.stop=function(t){this.noteOff(t||0)},t(e.playbackRate),e},AudioContext.prototype.internal_createDynamicsCompressor=AudioContext.prototype.createDynamicsCompressor,AudioContext.prototype.createDynamicsCompressor=function(){var e=this.internal_createDynamicsCompressor();return t(e.threshold),t(e.knee),t(e.ratio),t(e.reduction),t(e.attack),t(e.release),e},AudioContext.prototype.internal_createBiquadFilter=AudioContext.prototype.createBiquadFilter,AudioContext.prototype.createBiquadFilter=function(){var e=this.internal_createBiquadFilter();return t(e.frequency),t(e.detune),t(e.Q),t(e.gain),e},AudioContext.prototype.hasOwnProperty("createOscillator")&&(AudioContext.prototype.internal_createOscillator=AudioContext.prototype.createOscillator,AudioContext.prototype.createOscillator=function(){var e=this.internal_createOscillator();return e.start?(e.internal_start=e.start,e.start=function(t){e.internal_start(t||0)}):e.start=function(t){this.noteOn(t||0)},e.stop?(e.internal_stop=e.stop,e.stop=function(t){e.internal_stop(t||0)}):e.stop=function(t){this.noteOff(t||0)},e.setPeriodicWave||(e.setPeriodicWave=e.setWaveTable),t(e.frequency),t(e.detune),e})),window.hasOwnProperty("webkitOfflineAudioContext")&&!window.hasOwnProperty("OfflineAudioContext")&&(window.OfflineAudioContext=webkitOfflineAudioContext)}()},function(t,e){window.console||(window.console={},window.console.log=window.console.assert=function(){},window.console.warn=window.console.assert=function(){})},function(t,e){Math.trunc||(Math.trunc=function(t){return t<0?Math.ceil(t):Math.floor(t)})},function(t,e){!function(){if("performance"in window==!1&&(window.performance={}),Date.now=Date.now||function(){return(new Date).getTime()},"now"in window.performance==!1){var t=Date.now();performance.timing&&performance.timing.navigationStart&&(t=performance.timing.navigationStart),window.performance.now=function(){return Date.now()-t}}}()},function(t,e,i){(function(t){if(Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!t.performance||!t.performance.now){var e=Date.now();t.performance||(t.performance={}),t.performance.now=function(){return Date.now()-e}}for(var i=Date.now(),n=["ms","moz","webkit","o"],r=0;r<n.length&&!t.requestAnimationFrame;++r)t.requestAnimationFrame=t[n[r]+"RequestAnimationFrame"],t.cancelAnimationFrame=t[n[r]+"CancelAnimationFrame"]||t[n[r]+"CancelRequestAnimationFrame"];t.requestAnimationFrame||(t.requestAnimationFrame=function(t){if("function"!=typeof t)throw new TypeError(t+"is not a function");var e=Date.now(),n=16+i-e;return n<0&&(n=0),i=e,setTimeout(function(){i=Date.now(),t(performance.now())},n)}),t.cancelAnimationFrame||(t.cancelAnimationFrame=function(t){clearTimeout(t)})}).call(this,i(66))},function(t,e){if("function"!=typeof window.Uint32Array&&"object"!=typeof window.Uint32Array){var i=function(t){var e=new Array;window[t]=function(t){if("number"==typeof t){Array.call(this,t),this.length=t;for(var e=0;e<this.length;e++)this[e]=0}else{Array.call(this,t.length),this.length=t.length;for(e=0;e<this.length;e++)this[e]=t[e]}},window[t].prototype=e,window[t].constructor=window[t]};i("Float32Array"),i("Uint32Array"),i("Uint16Array"),i("Int16Array"),i("ArrayBuffer")}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(33);t.exports=function(t,e,i,r,s){return n(t,"angle",e,i,r,s)}},function(t,e){t.exports=function(t,e,i){for(var n=0;n<t.length;n++){var r=t[n];e.call(i,r)}return t}},function(t,e){t.exports=function(t,e,i){void 0===i&&(i=0);for(var n=i;n<t.length;n++){var r=t[n],s=!0;for(var o in e)r[o]!==e[o]&&(s=!1);if(s)return r}return null}},function(t,e){t.exports=function(t,e,i){void 0===i&&(i=0);for(var n=i;n<t.length;n++){var r=t[n],s=!0;for(var o in e)r[o]!==e[o]&&(s=!1);if(s)return r}return null}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(219),r=i(137),s=i(1),o=i(2),a=new(i(100))({sys:{queueDepthSort:o,events:{once:o}}},0,0,1,1);t.exports=function(t,e){void 0===e&&(e={});var i=s(e,"width",-1),o=s(e,"height",-1),h=s(e,"cellWidth",1),u=s(e,"cellHeight",h),c=s(e,"position",r.TOP_LEFT),l=s(e,"x",0),f=s(e,"y",0),d=0,p=0,g=i*h,v=o*u;a.setPosition(l,f),a.setSize(h,u);for(var y=0;y<t.length;y++)if(n(t[y],a,c),-1===i)p+=u,a.y+=u,p===v&&(p=0,a.x+=h,a.y=f);else if(-1===o)d+=h,a.x+=h,d===g&&(d=0,a.x=l,a.y+=u);else if(d+=h,a.x+=h,d===g&&(d=0,p+=u,a.x=l,a.y+=u,p===v))break;return t}},function(t,e){t.exports={width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.width},set:function(t){this.scaleX=t/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(t){this.scaleY=t/this.height}},setSize:function(t,e){return this.width=t,this.height=e,this},setDisplaySize:function(t,e){return this.displayWidth=t,this.displayHeight=e,this}}},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i={texture:null,frame:null,isCropped:!1,setCrop:function(t,e,i,n){if(void 0===t)this.isCropped=!1;else if(this.frame){if("number"==typeof t)this.frame.setCropUVs(this._crop,t,e,i,n,this.flipX,this.flipY);else{var r=t;this.frame.setCropUVs(this._crop,r.x,r.y,r.width,r.height,this.flipX,this.flipY)}this.isCropped=!0}return this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};t.exports=i},function(t,e){t.exports={flipX:!1,flipY:!1,toggleFlipX:function(){return this.flipX=!this.flipX,this},toggleFlipY:function(){return this.flipY=!this.flipY,this},setFlipX:function(t){return this.flipX=t,this},setFlipY:function(t){return this.flipY=t,this},setFlip:function(t,e){return this.flipX=t,this.flipY=e,this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this}}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(9),r=i(240),s=i(3),o={getCenter:function(t){return void 0===t&&(t=new s),t.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,t.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,t},getTopLeft:function(t,e){(t||(t=new s),void 0===e&&(e=!1),t.x=this.x-this.displayWidth*this.originX,t.y=this.y-this.displayHeight*this.originY,0!==this.rotation&&r(t,this.x,this.y,this.rotation),e&&this.parentContainer)&&this.parentContainer.getBoundsTransformMatrix().transformPoint(t.x,t.y,t);return t},getTopRight:function(t,e){(t||(t=new s),void 0===e&&(e=!1),t.x=this.x-this.displayWidth*this.originX+this.displayWidth,t.y=this.y-this.displayHeight*this.originY,0!==this.rotation&&r(t,this.x,this.y,this.rotation),e&&this.parentContainer)&&this.parentContainer.getBoundsTransformMatrix().transformPoint(t.x,t.y,t);return t},getBottomLeft:function(t,e){(t||(t=new s),void 0===e&&(e=!1),t.x=this.x-this.displayWidth*this.originX,t.y=this.y-this.displayHeight*this.originY+this.displayHeight,0!==this.rotation&&r(t,this.x,this.y,this.rotation),e&&this.parentContainer)&&this.parentContainer.getBoundsTransformMatrix().transformPoint(t.x,t.y,t);return t},getBottomRight:function(t,e){(t||(t=new s),void 0===e&&(e=!1),t.x=this.x-this.displayWidth*this.originX+this.displayWidth,t.y=this.y-this.displayHeight*this.originY+this.displayHeight,0!==this.rotation&&r(t,this.x,this.y,this.rotation),e&&this.parentContainer)&&this.parentContainer.getBoundsTransformMatrix().transformPoint(t.x,t.y,t);return t},getBounds:function(t){var e,i,r,s,o,a,h,u;if(void 0===t&&(t=new n),this.parentContainer){var c=this.parentContainer.getBoundsTransformMatrix();this.getTopLeft(t),c.transformPoint(t.x,t.y,t),e=t.x,i=t.y,this.getTopRight(t),c.transformPoint(t.x,t.y,t),r=t.x,s=t.y,this.getBottomLeft(t),c.transformPoint(t.x,t.y,t),o=t.x,a=t.y,this.getBottomRight(t),c.transformPoint(t.x,t.y,t),h=t.x,u=t.y}else this.getTopLeft(t),e=t.x,i=t.y,this.getTopRight(t),r=t.x,s=t.y,this.getBottomLeft(t),o=t.x,a=t.y,this.getBottomRight(t),h=t.x,u=t.y;return t.x=Math.min(e,r,o,h),t.y=Math.min(i,s,a,u),t.width=Math.max(e,r,o,h)-t.x,t.height=Math.max(i,s,a,u)-t.y,t}};t.exports=o},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i={_originComponent:!0,originX:.5,originY:.5,_displayOriginX:0,_displayOriginY:0,displayOriginX:{get:function(){return this._displayOriginX},set:function(t){this._displayOriginX=t,this.originX=t/this.width}},displayOriginY:{get:function(){return this._displayOriginY},set:function(t){this._displayOriginY=t,this.originY=t/this.height}},setOrigin:function(t,e){return void 0===t&&(t=.5),void 0===e&&(e=t),this.originX=t,this.originY=e,this.updateDisplayOrigin()},setOriginFromFrame:function(){return this.frame&&this.frame.customPivot?(this.originX=this.frame.pivotX,this.originY=this.frame.pivotY,this.updateDisplayOrigin()):this.setOrigin()},setDisplayOrigin:function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.displayOriginX=t,this.displayOriginY=e,this},updateDisplayOrigin:function(){return this._displayOriginX=Math.round(this.originX*this.width),this._displayOriginY=Math.round(this.originY*this.height),this}};t.exports=i},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(83),r={_scaleMode:n.DEFAULT,scaleMode:{get:function(){return this._scaleMode},set:function(t){t!==n.LINEAR&&t!==n.NEAREST||(this._scaleMode=t)}},setScaleMode:function(t){return this.scaleMode=t,this}};t.exports=r},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i={_sizeComponent:!0,width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.frame.realWidth},set:function(t){this.scaleX=t/this.frame.realWidth}},displayHeight:{get:function(){return this.scaleY*this.frame.realHeight},set:function(t){this.scaleY=t/this.frame.realHeight}},setSizeToFrame:function(t){return void 0===t&&(t=this.frame),this.width=t.realWidth,this.height=t.realHeight,this},setSize:function(t,e){return this.width=t,this.height=e,this},setDisplaySize:function(t,e){return this.displayWidth=t,this.displayHeight=e,this}};t.exports=i},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i={texture:null,frame:null,isCropped:!1,setTexture:function(t,e){return this.texture=this.scene.sys.textures.get(t),this.setFrame(e)},setFrame:function(t,e,i){return void 0===e&&(e=!0),void 0===i&&(i=!0),this.frame=this.texture.get(t),this.frame.cutWidth&&this.frame.cutHeight?this.renderFlags|=8:this.renderFlags&=-9,this._sizeComponent&&e&&this.setSizeToFrame(),this._originComponent&&i&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this}};t.exports=i},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i={texture:null,frame:null,isCropped:!1,setCrop:function(t,e,i,n){if(void 0===t)this.isCropped=!1;else if(this.frame){if("number"==typeof t)this.frame.setCropUVs(this._crop,t,e,i,n,this.flipX,this.flipY);else{var r=t;this.frame.setCropUVs(this._crop,r.x,r.y,r.width,r.height,this.flipX,this.flipY)}this.isCropped=!0}return this},setTexture:function(t,e){return this.texture=this.scene.sys.textures.get(t),this.setFrame(e)},setFrame:function(t,e,i){return void 0===e&&(e=!0),void 0===i&&(i=!0),this.frame=this.texture.get(t),this.frame.cutWidth&&this.frame.cutHeight?this.renderFlags|=8:this.renderFlags&=-9,this._sizeComponent&&e&&this.setSizeToFrame(),this._originComponent&&i&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this.isCropped&&this.frame.updateCropUVs(this._crop,this.flipX,this.flipY),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};t.exports=i},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=function(t){return(t>>16)+(65280&t)+((255&t)<<16)},n={_tintTL:16777215,_tintTR:16777215,_tintBL:16777215,_tintBR:16777215,_isTinted:!1,tintFill:!1,clearTint:function(){return this.setTint(16777215),this._isTinted=!1,this},setTint:function(t,e,n,r){return void 0===t&&(t=16777215),void 0===e&&(e=t,n=t,r=t),this._tintTL=i(t),this._tintTR=i(e),this._tintBL=i(n),this._tintBR=i(r),this._isTinted=!0,this.tintFill=!1,this},setTintFill:function(t,e,i,n){return this.setTint(t,e,i,n),this.tintFill=!0,this},tintTopLeft:{get:function(){return this._tintTL},set:function(t){this._tintTL=i(t),this._isTinted=!0}},tintTopRight:{get:function(){return this._tintTR},set:function(t){this._tintTR=i(t),this._isTinted=!0}},tintBottomLeft:{get:function(){return this._tintBL},set:function(t){this._tintBL=i(t),this._isTinted=!0}},tintBottomRight:{get:function(){return this._tintBR},set:function(t){this._tintBR=i(t),this._isTinted=!0}},tint:{set:function(t){this.setTint(t,t,t,t)}},isTinted:{get:function(){return this._isTinted}}};t.exports=n},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(33);t.exports=function(t,e,i,r,s){return n(t,"alpha",e,i,r,s)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(33);t.exports=function(t,e,i,r,s){return n(t,"x",e,i,r,s)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(33);t.exports=function(t,e,i,r,s,o,a){return null==i&&(i=e),n(t,"x",e,r,o,a),n(t,"y",i,s,o,a)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(33);t.exports=function(t,e,i,r,s){return n(t,"y",e,i,r,s)}},function(t,e){t.exports=function(t,e,i,n){void 0===i&&(i=0),void 0===n&&(n=6.28);for(var r=i,s=(n-i)/t.length,o=0;o<t.length;o++)t[o].x=e.x+e.radius*Math.cos(r),t[o].y=e.y+e.radius*Math.sin(r),r+=s;return t}},function(t,e){t.exports=function(t,e,i,n){void 0===i&&(i=0),void 0===n&&(n=6.28);for(var r=i,s=(n-i)/t.length,o=e.width/2,a=e.height/2,h=0;h<t.length;h++)t[h].x=e.x+o*Math.cos(r),t[h].y=e.y+a*Math.sin(r),r+=s;return t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(141);t.exports=function(t,e){for(var i=n(e,t.length),r=0;r<t.length;r++){var s=t[r],o=i[r];s.x=o.x,s.y=o.y}return t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(248),r=i(249),s=i(250);t.exports=function(t,e,i){void 0===i&&(i=0);var o=n(e,!1,t.length);i>0?r(o,i):i<0&&s(o,Math.abs(i));for(var a=0;a<t.length;a++)t[a].x=o[a].x,t[a].y=o[a].y;return t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(251);t.exports=function(t,e,i){var r=n({x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2},i),s=n({x1:e.x2,y1:e.y2,x2:e.x3,y2:e.y3},i),o=n({x1:e.x3,y1:e.y3,x2:e.x1,y2:e.y1},i);r.pop(),s.pop(),o.pop();for(var a=(r=r.concat(s,o)).length/t.length,h=0,u=0;u<t.length;u++){var c=t[u],l=r[Math.floor(h)];c.x=l.x,c.y=l.y,h+=a}return t}},function(t,e){t.exports=function(t,e,i){for(var n=0;n<t.length;n++)t[n].anims.play(e,i);return t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(139);t.exports=function(t,e){for(var i=0;i<t.length;i++)n(e,t[i]);return t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(146);t.exports=function(t,e){for(var i=0;i<t.length;i++)n(e,t[i]);return t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(142);t.exports=function(t,e){for(var i=0;i<t.length;i++)n(e,t[i]);return t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(143);t.exports=function(t,e){for(var i=0;i<t.length;i++)n(e,t[i]);return t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(147);t.exports=function(t,e){for(var i=0;i<t.length;i++)n(e,t[i]);return t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(33);t.exports=function(t,e,i,r,s){return n(t,"rotation",e,i,r,s)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(148),r=i(58);t.exports=function(t,e,i){for(var s=e.x,o=e.y,a=0;a<t.length;a++){var h=t[a];n(h,s,o,i,Math.max(1,r(h.x,h.y,s,o)))}return t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(148);t.exports=function(t,e,i,r){var s=e.x,o=e.y;if(0===r)return t;for(var a=0;a<t.length;a++)n(t[a],s,o,i,r);return t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(33);t.exports=function(t,e,i,r,s){return n(t,"scaleX",e,i,r,s)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(33);t.exports=function(t,e,i,r,s,o,a){return null==i&&(i=e),n(t,"scaleX",e,r,o,a),n(t,"scaleY",i,s,o,a)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(33);t.exports=function(t,e,i,r,s){return n(t,"scaleY",e,i,r,s)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(27);t.exports=function(t,e,i,r,s){return n(t,"alpha",e,i,r,s)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(27);t.exports=function(t,e,i,r){return n(t,"blendMode",e,0,i,r)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(27);t.exports=function(t,e,i,r,s){return n(t,"depth",e,i,r,s)}},function(t,e){t.exports=function(t,e,i){for(var n=0;n<t.length;n++)t[n].setInteractive(e,i);return t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(27);t.exports=function(t,e,i,r,s,o,a){return null==i&&(i=e),n(t,"originX",e,r,o,a),n(t,"originY",i,s,o,a)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(27);t.exports=function(t,e,i,r,s){return n(t,"rotation",e,i,r,s)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(27);t.exports=function(t,e,i,r,s,o,a){return null==i&&(i=e),n(t,"scaleX",e,r,o,a),n(t,"scaleY",i,s,o,a)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(27);t.exports=function(t,e,i,r,s){return n(t,"scaleX",e,i,r,s)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(27);t.exports=function(t,e,i,r,s){return n(t,"scaleY",e,i,r,s)}},function(t,e){t.exports=function(t,e,i,n,r){for(var s=0;s<t.length;s++)t[s].setTint(e,i,n,r);return t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(27);t.exports=function(t,e,i,r){return n(t,"visible",e,0,i,r)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(27);t.exports=function(t,e,i,r,s){return n(t,"x",e,i,r,s)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(27);t.exports=function(t,e,i,r,s,o,a){return null==i&&(i=e),n(t,"x",e,r,o,a),n(t,"y",i,s,o,a)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(27);t.exports=function(t,e,i,r,s){return n(t,"y",e,i,r,s)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(3);t.exports=function(t,e,i,r,s){var o,a,h,u,c,l;if(void 0===r&&(r=0),void 0===s&&(s=new n),t.length>1)if(0===r){var f=t.length-1;for(o=t[f].x,a=t[f].y,h=f-1;h>=0;h--)u=(l=t[h]).x,c=l.y,l.x=o,l.y=a,o=u,a=c;t[f].x=e,t[f].y=i}else{for(o=t[0].x,a=t[0].y,h=1;h<t.length;h++)u=(l=t[h]).x,c=l.y,l.x=o,l.y=a,o=u,a=c;t[0].x=e,t[0].y=i}else o=t[0].x,a=t[0].y,t[0].x=e,t[0].y=i;return s.x=o,s.y=a,s}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(103);t.exports=function(t){return n(t)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(149);t.exports=function(t,e,i,r,s){void 0===s&&(s=!1);var o,a=Math.abs(r-i)/t.length;if(s)for(o=0;o<t.length;o++)t[o][e]+=n(o*a,i,r);else for(o=0;o<t.length;o++)t[o][e]=n(o*a,i,r);return t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(150);t.exports=function(t,e,i,r,s){void 0===s&&(s=!1);var o,a=Math.abs(r-i)/t.length;if(s)for(o=0;o<t.length;o++)t[o][e]+=n(o*a,i,r);else for(o=0;o<t.length;o++)t[o][e]=n(o*a,i,r);return t}},function(t,e){t.exports=function(t,e,i,n,r){void 0===r&&(r=!1);var s,o=Math.abs(n-i)/t.length;if(r)for(s=0;s<t.length;s++)t[s][e]+=s*o;else for(s=0;s<t.length;s++)t[s][e]=s*o;return t}},function(t,e){t.exports=function(t){for(var e=0;e<t.length;e++)t[e].visible=!t[e].visible;return t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       samme <samme.npm@gmail.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(49);t.exports=function(t,e,i){void 0===i&&(i=0);for(var r=0;r<t.length;r++){var s=t[r];s.x=n(s.x,e.left-i,e.right+i),s.y=n(s.y,e.top-i,e.bottom+i)}return t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={Animation:i(252),AnimationFrame:i(254),AnimationManager:i(255)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={BaseCache:i(256),CacheManager:i(257)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={Controls:i(524),Scene2D:i(527)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={FixedKeyControl:i(525),SmoothedKeyControl:i(526)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(4),s=new n({initialize:function(t){this.camera=r(t,"camera",null),this.left=r(t,"left",null),this.right=r(t,"right",null),this.up=r(t,"up",null),this.down=r(t,"down",null),this.zoomIn=r(t,"zoomIn",null),this.zoomOut=r(t,"zoomOut",null),this.zoomSpeed=r(t,"zoomSpeed",.01),this.speedX=0,this.speedY=0;var e=r(t,"speed",null);"number"==typeof e?(this.speedX=e,this.speedY=e):(this.speedX=r(t,"speed.x",0),this.speedY=r(t,"speed.y",0)),this._zoom=0,this.active=null!==this.camera},start:function(){return this.active=null!==this.camera,this},stop:function(){return this.active=!1,this},setCamera:function(t){return this.camera=t,this},update:function(t){if(this.active){void 0===t&&(t=1);var e=this.camera;this.up&&this.up.isDown?e.scrollY-=this.speedY*t|0:this.down&&this.down.isDown&&(e.scrollY+=this.speedY*t|0),this.left&&this.left.isDown?e.scrollX-=this.speedX*t|0:this.right&&this.right.isDown&&(e.scrollX+=this.speedX*t|0),this.zoomIn&&this.zoomIn.isDown?(e.zoom-=this.zoomSpeed,e.zoom<.1&&(e.zoom=.1)):this.zoomOut&&this.zoomOut.isDown&&(e.zoom+=this.zoomSpeed)}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});t.exports=s},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(4),s=new n({initialize:function(t){this.camera=r(t,"camera",null),this.left=r(t,"left",null),this.right=r(t,"right",null),this.up=r(t,"up",null),this.down=r(t,"down",null),this.zoomIn=r(t,"zoomIn",null),this.zoomOut=r(t,"zoomOut",null),this.zoomSpeed=r(t,"zoomSpeed",.01),this.accelX=0,this.accelY=0;var e=r(t,"acceleration",null);"number"==typeof e?(this.accelX=e,this.accelY=e):(this.accelX=r(t,"acceleration.x",0),this.accelY=r(t,"acceleration.y",0)),this.dragX=0,this.dragY=0;var i=r(t,"drag",null);"number"==typeof i?(this.dragX=i,this.dragY=i):(this.dragX=r(t,"drag.x",0),this.dragY=r(t,"drag.y",0)),this.maxSpeedX=0,this.maxSpeedY=0;var n=r(t,"maxSpeed",null);"number"==typeof n?(this.maxSpeedX=n,this.maxSpeedY=n):(this.maxSpeedX=r(t,"maxSpeed.x",0),this.maxSpeedY=r(t,"maxSpeed.y",0)),this._speedX=0,this._speedY=0,this._zoom=0,this.active=null!==this.camera},start:function(){return this.active=null!==this.camera,this},stop:function(){return this.active=!1,this},setCamera:function(t){return this.camera=t,this},update:function(t){if(this.active){void 0===t&&(t=1);var e=this.camera;this._speedX>0?(this._speedX-=this.dragX*t,this._speedX<0&&(this._speedX=0)):this._speedX<0&&(this._speedX+=this.dragX*t,this._speedX>0&&(this._speedX=0)),this._speedY>0?(this._speedY-=this.dragY*t,this._speedY<0&&(this._speedY=0)):this._speedY<0&&(this._speedY+=this.dragY*t,this._speedY>0&&(this._speedY=0)),this.up&&this.up.isDown?(this._speedY+=this.accelY,this._speedY>this.maxSpeedY&&(this._speedY=this.maxSpeedY)):this.down&&this.down.isDown&&(this._speedY-=this.accelY,this._speedY<-this.maxSpeedY&&(this._speedY=-this.maxSpeedY)),this.left&&this.left.isDown?(this._speedX+=this.accelX,this._speedX>this.maxSpeedX&&(this._speedX=this.maxSpeedX)):this.right&&this.right.isDown&&(this._speedX-=this.accelX,this._speedX<-this.maxSpeedX&&(this._speedX=-this.maxSpeedX)),this.zoomIn&&this.zoomIn.isDown?this._zoom=-this.zoomSpeed:this.zoomOut&&this.zoomOut.isDown?this._zoom=this.zoomSpeed:this._zoom=0,0!==this._speedX&&(e.scrollX-=this._speedX*t|0),0!==this._speedY&&(e.scrollY-=this._speedY*t|0),0!==this._zoom&&(e.zoom+=this._zoom,e.zoom<.1&&(e.zoom=.1))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});t.exports=s},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={Camera:i(258),CameraManager:i(565),Effects:i(265)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(23),r=new(i(0))({initialize:function(t){this.camera=t,this.isRunning=!1,this.isComplete=!1,this.direction=!0,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(t,e,i,n,r,s,o,a){if(void 0===t&&(t=!0),void 0===e&&(e=1e3),void 0===i&&(i=0),void 0===n&&(n=0),void 0===r&&(r=0),void 0===s&&(s=!1),void 0===o&&(o=null),void 0===a&&(a=this.camera.scene),!s&&this.isRunning)return this.camera;this.isRunning=!0,this.isComplete=!1,this.duration=e,this.direction=t,this.progress=0,this.red=i,this.green=n,this.blue=r,this.alpha=t?Number.MIN_VALUE:1,this._elapsed=0,this._onUpdate=o,this._onUpdateScope=a;var h=t?"camerafadeoutstart":"camerafadeinstart";return this.camera.emit(h,this.camera,this,e,i,n,r),this.camera},update:function(t,e){this.isRunning&&(this._elapsed+=e,this.progress=n(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this.direction?this.progress:1-this.progress:this.effectComplete())},postRenderCanvas:function(t){if(!this.isRunning&&!this.isComplete)return!1;var e=this.camera;return t.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",t.fillRect(e._cx,e._cy,e._cw,e._ch),!0},postRenderWebGL:function(t,e){if(!this.isRunning&&!this.isComplete)return!1;var i=this.camera,n=this.red/255,r=this.blue/255,s=this.green/255;return t.drawFillRect(i._cx,i._cy,i._cw,i._ch,e(n,s,r,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.isComplete=!0;var t=this.direction?"camerafadeoutcomplete":"camerafadeincomplete";this.camera.emit(t,this.camera,this)},reset:function(){this.isRunning=!1,this.isComplete=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});t.exports=r},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(23),r=new(i(0))({initialize:function(t){this.camera=t,this.isRunning=!1,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(t,e,i,n,r,s,o){return void 0===t&&(t=250),void 0===e&&(e=255),void 0===i&&(i=255),void 0===n&&(n=255),void 0===r&&(r=!1),void 0===s&&(s=null),void 0===o&&(o=this.camera.scene),!r&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=t,this.progress=0,this.red=e,this.green=i,this.blue=n,this.alpha=1,this._elapsed=0,this._onUpdate=s,this._onUpdateScope=o,this.camera.emit("cameraflashstart",this.camera,this,t,e,i,n),this.camera)},update:function(t,e){this.isRunning&&(this._elapsed+=e,this.progress=n(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=1-this.progress:this.effectComplete())},postRenderCanvas:function(t){if(!this.isRunning)return!1;var e=this.camera;return t.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",t.fillRect(e._cx,e._cy,e._cw,e._ch),!0},postRenderWebGL:function(t,e){if(!this.isRunning)return!1;var i=this.camera,n=this.red/255,r=this.blue/255,s=this.green/255;return t.drawFillRect(i._cx,i._cy,i._cw,i._ch,e(n,s,r,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit("cameraflashcomplete",this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});t.exports=r},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(23),r=i(0),s=i(3),o=i(157),a=new r({initialize:function(t){this.camera=t,this.isRunning=!1,this.duration=0,this.source=new s,this.current=new s,this.destination=new s,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(t,e,i,n,r,s,a){void 0===i&&(i=1e3),void 0===n&&(n=o.Linear),void 0===r&&(r=!1),void 0===s&&(s=null),void 0===a&&(a=this.camera.scene);var h=this.camera;return!r&&this.isRunning?h:(this.isRunning=!0,this.duration=i,this.progress=0,this.source.set(h.scrollX,h.scrollY),this.destination.set(t,e),h.getScroll(t,e,this.current),"string"==typeof n&&o.hasOwnProperty(n)?this.ease=o[n]:"function"==typeof n&&(this.ease=n),this._elapsed=0,this._onUpdate=s,this._onUpdateScope=a,this.camera.emit("camerapanstart",this.camera,this,i,t,e),h)},update:function(t,e){if(this.isRunning){this._elapsed+=e;var i=n(this._elapsed/this.duration,0,1);this.progress=i;var r=this.camera;if(this._elapsed<this.duration){var s=this.ease(i);r.getScroll(this.destination.x,this.destination.y,this.current);var o=this.source.x+(this.current.x-this.source.x)*s,a=this.source.y+(this.current.y-this.source.y)*s;r.setScroll(o,a),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,r,i,o,a)}else r.centerOn(this.destination.x,this.destination.y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,r,i,r.scrollX,r.scrollY),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit("camerapancomplete",this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});t.exports=a},function(t,e){t.exports=function(t,e){return void 0===e&&(e=1.70158),t*t*((e+1)*t-e)}},function(t,e){t.exports=function(t,e){return void 0===e&&(e=1.70158),--t*t*((e+1)*t+e)+1}},function(t,e){t.exports=function(t,e){void 0===e&&(e=1.70158);var i=1.525*e;return(t*=2)<1?t*t*((i+1)*t-i)*.5:.5*((t-=2)*t*((i+1)*t+i)+2)}},function(t,e){t.exports=function(t){return(t=1-t)<1/2.75?1-7.5625*t*t:t<2/2.75?1-(7.5625*(t-=1.5/2.75)*t+.75):t<2.5/2.75?1-(7.5625*(t-=2.25/2.75)*t+.9375):1-(7.5625*(t-=2.625/2.75)*t+.984375)}},function(t,e){t.exports=function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}},function(t,e){t.exports=function(t){var e=!1;return t<.5?(t=1-2*t,e=!0):t=2*t-1,t<1/2.75?t*=7.5625*t:t=t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,e?.5*(1-t):.5*t+.5}},function(t,e){t.exports=function(t){return 1-Math.sqrt(1-t*t)}},function(t,e){t.exports=function(t){return Math.sqrt(1- --t*t)}},function(t,e){t.exports=function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},function(t,e){t.exports=function(t){return t*t*t}},function(t,e){t.exports=function(t){return--t*t*t+1}},function(t,e){t.exports=function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}},function(t,e){t.exports=function(t,e,i){if(void 0===e&&(e=.1),void 0===i&&(i=.1),0===t)return 0;if(1===t)return 1;var n=i/4;return e<1?e=1:n=i*Math.asin(1/e)/(2*Math.PI),-e*Math.pow(2,10*(t-=1))*Math.sin((t-n)*(2*Math.PI)/i)}},function(t,e){t.exports=function(t,e,i){if(void 0===e&&(e=.1),void 0===i&&(i=.1),0===t)return 0;if(1===t)return 1;var n=i/4;return e<1?e=1:n=i*Math.asin(1/e)/(2*Math.PI),e*Math.pow(2,-10*t)*Math.sin((t-n)*(2*Math.PI)/i)+1}},function(t,e){t.exports=function(t,e,i){if(void 0===e&&(e=.1),void 0===i&&(i=.1),0===t)return 0;if(1===t)return 1;var n=i/4;return e<1?e=1:n=i*Math.asin(1/e)/(2*Math.PI),(t*=2)<1?e*Math.pow(2,10*(t-=1))*Math.sin((t-n)*(2*Math.PI)/i)*-.5:e*Math.pow(2,-10*(t-=1))*Math.sin((t-n)*(2*Math.PI)/i)*.5+1}},function(t,e){t.exports=function(t){return Math.pow(2,10*(t-1))-.001}},function(t,e){t.exports=function(t){return 1-Math.pow(2,-10*t)}},function(t,e){t.exports=function(t){return(t*=2)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))}},function(t,e){t.exports=function(t){return t}},function(t,e){t.exports=function(t){return t*t}},function(t,e){t.exports=function(t){return t*(2-t)}},function(t,e){t.exports=function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}},function(t,e){t.exports=function(t){return t*t*t*t}},function(t,e){t.exports=function(t){return 1- --t*t*t*t}},function(t,e){t.exports=function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}},function(t,e){t.exports=function(t){return t*t*t*t*t}},function(t,e){t.exports=function(t){return--t*t*t*t*t+1}},function(t,e){t.exports=function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},function(t,e){t.exports=function(t){return 0===t?0:1===t?1:1-Math.cos(t*Math.PI/2)}},function(t,e){t.exports=function(t){return 0===t?0:1===t?1:Math.sin(t*Math.PI/2)}},function(t,e){t.exports=function(t){return 0===t?0:1===t?1:.5*(1-Math.cos(Math.PI*t))}},function(t,e){t.exports=function(t,e){return void 0===e&&(e=1),t<=0?0:t>=1?1:1/e*(1+(e*t|0))}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(23),r=i(0),s=i(3),o=new r({initialize:function(t){this.camera=t,this.isRunning=!1,this.duration=0,this.intensity=new s,this.progress=0,this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate,this._onUpdateScope},start:function(t,e,i,n,r){return void 0===t&&(t=100),void 0===e&&(e=.05),void 0===i&&(i=!1),void 0===n&&(n=null),void 0===r&&(r=this.camera.scene),!i&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=t,this.progress=0,"number"==typeof e?this.intensity.set(e):this.intensity.set(e.x,e.y),this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate=n,this._onUpdateScope=r,this.camera.emit("camerashakestart",this.camera,this,t,e),this.camera)},preRender:function(){this.isRunning&&this.camera.matrix.translate(this._offsetX,this._offsetY)},update:function(t,e){if(this.isRunning)if(this._elapsed+=e,this.progress=n(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration){var i=this.intensity,r=this.camera._cw,s=this.camera._ch,o=this.camera.zoom;this._offsetX=(Math.random()*i.x*r*2-i.x*r)*o,this._offsetY=(Math.random()*i.y*s*2-i.y*s)*o,this.camera.roundPixels&&(this._offsetX|=0,this._offsetY|=0)}else this.effectComplete()},effectComplete:function(){this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit("camerashakecomplete",this.camera,this)},reset:function(){this.isRunning=!1,this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.intensity=null}});t.exports=o},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(23),r=i(0),s=i(157),o=new r({initialize:function(t){this.camera=t,this.isRunning=!1,this.duration=0,this.source=1,this.destination=1,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(t,e,i,n,r,o){void 0===e&&(e=1e3),void 0===i&&(i=s.Linear),void 0===n&&(n=!1),void 0===r&&(r=null),void 0===o&&(o=this.camera.scene);var a=this.camera;return!n&&this.isRunning?a:(this.isRunning=!0,this.duration=e,this.progress=0,this.source=a.zoom,this.destination=t,"string"==typeof i&&s.hasOwnProperty(i)?this.ease=s[i]:"function"==typeof i&&(this.ease=i),this._elapsed=0,this._onUpdate=r,this._onUpdateScope=o,this.camera.emit("camerazoomstart",this.camera,this,e,t),a)},update:function(t,e){this.isRunning&&(this._elapsed+=e,this.progress=n(this._elapsed/this.duration,0,1),this._elapsed<this.duration?(this.camera.zoom=this.source+(this.destination-this.source)*this.ease(this.progress),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.camera.zoom)):(this.camera.zoom=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.destination),this.effectComplete()))},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit("camerazoomcomplete",this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});t.exports=o},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(258),r=i(0),s=i(1),o=i(13),a=i(44),h=new r({initialize:function(t){this.scene=t,this.systems=t.sys,this.roundPixels=t.sys.game.config.roundPixels,this.cameras=[],this.main,this.baseScale=1,t.sys.events.once("boot",this.boot,this),t.sys.events.on("start",this.start,this)},boot:function(){var t=this.systems;t.settings.cameras?this.fromJSON(t.settings.cameras):this.add(),this.main=this.cameras[0],this.systems.events.once("destroy",this.destroy,this)},start:function(){if(!this.main){var t=this.systems;t.settings.cameras?this.fromJSON(t.settings.cameras):this.add(),this.main=this.cameras[0]}var e=this.systems.events;e.on("update",this.update,this),e.once("shutdown",this.shutdown,this)},add:function(t,e,i,r,s,o){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=this.scene.sys.game.config.width),void 0===r&&(r=this.scene.sys.game.config.height),void 0===s&&(s=!1),void 0===o&&(o="");var a=new n(t,e,i,r);return a.setName(o),a.setScene(this.scene),a.setRoundPixels(this.roundPixels),a.id=this.getNextID(),this.cameras.push(a),s&&(this.main=a),a},addExisting:function(t,e){return void 0===e&&(e=!1),-1===this.cameras.indexOf(t)?(t.id=this.getNextID(),t.setRoundPixels(this.roundPixels),this.cameras.push(t),e&&(this.main=t),t):null},getNextID:function(){for(var t=this.cameras,e=1,i=0;i<32;i++){for(var n=!1,r=0;r<t.length;r++){var s=t[r];s&&s.id===e&&(n=!0)}if(!n)return e;e<<=1}return 0},getTotal:function(t){void 0===t&&(t=!1);for(var e=0,i=this.cameras,n=0;n<i.length;n++){var r=i[n];(!t||t&&r.visible)&&e++}return e},fromJSON:function(t){Array.isArray(t)||(t=[t]);for(var e=this.scene.sys.game.config.width,i=this.scene.sys.game.config.height,n=0;n<t.length;n++){var r=t[n],o=s(r,"x",0),a=s(r,"y",0),h=s(r,"width",e),u=s(r,"height",i),c=this.add(o,a,h,u);c.name=s(r,"name",""),c.zoom=s(r,"zoom",1),c.rotation=s(r,"rotation",0),c.scrollX=s(r,"scrollX",0),c.scrollY=s(r,"scrollY",0),c.roundPixels=s(r,"roundPixels",!1),c.visible=s(r,"visible",!0);var l=s(r,"backgroundColor",!1);l&&c.setBackgroundColor(l);var f=s(r,"bounds",null);if(f){var d=s(f,"x",0),p=s(f,"y",0),g=s(f,"width",e),v=s(f,"height",i);c.setBounds(d,p,g,v)}}return this},getCamera:function(t){for(var e=this.cameras,i=0;i<e.length;i++)if(e[i].name===t)return e[i];return null},getCamerasBelowPointer:function(t){for(var e=this.cameras,i=t.x,n=t.y,r=[],s=0;s<e.length;s++){var o=e[s];o.visible&&o.inputEnabled&&a(o,i,n)&&r.unshift(o)}return r},remove:function(t){Array.isArray(t)||(t=[t]);for(var e=0,i=this.cameras,n=0;n<t.length;n++){var r=i.indexOf(t[n]);-1!==r&&(i.splice(r,1),e++)}return this.main||(this.main=i[0]),e},render:function(t,e,i){for(var n=this.scene,r=this.cameras,s=this.baseScale,o=t.config.resolution,a=0;a<this.cameras.length;a++){var h=r[a];h.visible&&h.alpha>0&&(h.preRender(s,o),t.render(n,e,i,h))}},resetAll:function(){for(var t=0;t<this.cameras.length;t++)this.cameras[t].destroy();return this.cameras=[],this.main=this.add(),this.main},update:function(t,e){for(var i=0;i<this.cameras.length;i++)this.cameras[i].update(t,e)},resize:function(t,e){for(var i=0;i<this.cameras.length;i++)this.cameras[i].setSize(t,e)},shutdown:function(){this.main=void 0;for(var t=0;t<this.cameras.length;t++)this.cameras[t].destroy();this.cameras=[];var e=this.systems.events;e.off("update",this.update,this),e.off("shutdown",this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off("start",this.start,this),this.scene=null,this.systems=null}});o.register("CameraManager",h,"cameras"),t.exports=h},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={GenerateTexture:i(278),Palettes:i(567)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={ARNE16:i(279),C64:i(568),CGA:i(569),JMP:i(570),MSX:i(571)}},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"}},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"}},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"}},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={Path:i(573),CubicBezier:i(280),Curve:i(72),Ellipse:i(282),Line:i(283),QuadraticBezier:i(284),Spline:i(286)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(280),s=i(282),o=i(10),a=i(283),h=i(574),u=i(284),c=i(9),l=i(286),f=i(3),d=new n({initialize:function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.name="",this.curves=[],this.cacheLengths=[],this.autoClose=!1,this.startPoint=new f,this._tmpVec2A=new f,this._tmpVec2B=new f,"object"==typeof t?this.fromJSON(t):this.startPoint.set(t,e)},add:function(t){return this.curves.push(t),this},circleTo:function(t,e,i){return void 0===e&&(e=!1),this.ellipseTo(t,t,0,360,e,i)},closePath:function(){var t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);return t.equals(e)||this.curves.push(new a(e,t)),this},cubicBezierTo:function(t,e,i,n,s,o){var a,h,u,c=this.getEndPoint();return t instanceof f?(a=t,h=e,u=i):(a=new f(i,n),h=new f(s,o),u=new f(t,e)),this.add(new r(c,a,h,u))},quadraticBezierTo:function(t,e,i,n){var r,s,o=this.getEndPoint();return t instanceof f?(r=t,s=e):(r=new f(i,n),s=new f(t,e)),this.add(new u(o,r,s))},draw:function(t,e){for(var i=0;i<this.curves.length;i++){var n=this.curves[i];n.active&&n.draw(t,e)}return t},ellipseTo:function(t,e,i,n,r,o){var a=new s(0,0,t,e,i,n,r,o),h=this.getEndPoint(this._tmpVec2A),u=a.getStartPoint(this._tmpVec2B);return h.subtract(u),a.x=h.x,a.y=h.y,this.add(a)},fromJSON:function(t){this.curves=[],this.cacheLengths=[],this.startPoint.set(t.x,t.y),this.autoClose=t.autoClose;for(var e=0;e<t.curves.length;e++){var i=t.curves[e];switch(i.type){case"LineCurve":this.add(a.fromJSON(i));break;case"EllipseCurve":this.add(s.fromJSON(i));break;case"SplineCurve":this.add(l.fromJSON(i));break;case"CubicBezierCurve":this.add(r.fromJSON(i));break;case"QuadraticBezierCurve":this.add(u.fromJSON(i))}}return this},getBounds:function(t,e){void 0===t&&(t=new c),void 0===e&&(e=16),t.x=Number.MAX_VALUE,t.y=Number.MAX_VALUE;for(var i=new c,n=Number.MIN_SAFE_INTEGER,r=Number.MIN_SAFE_INTEGER,s=0;s<this.curves.length;s++){var o=this.curves[s];o.active&&(o.getBounds(i,e),t.x=Math.min(t.x,i.x),t.y=Math.min(t.y,i.y),n=Math.max(n,i.right),r=Math.max(r,i.bottom))}return t.right=n,t.bottom=r,t},getCurveLengths:function(){if(this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var t=[],e=0,i=0;i<this.curves.length;i++)e+=this.curves[i].getLength(),t.push(e);return this.cacheLengths=t,t},getEndPoint:function(t){return void 0===t&&(t=new f),this.curves.length>0?this.curves[this.curves.length-1].getPoint(1,t):t.copy(this.startPoint),t},getLength:function(){var t=this.getCurveLengths();return t[t.length-1]},getPoint:function(t,e){void 0===e&&(e=new f);for(var i=t*this.getLength(),n=this.getCurveLengths(),r=0;r<n.length;){if(n[r]>=i){var s=n[r]-i,o=this.curves[r],a=o.getLength(),h=0===a?0:1-s/a;return o.getPointAt(h,e)}r++}return null},getPoints:function(t){void 0===t&&(t=12);for(var e,i=[],n=0;n<this.curves.length;n++){var r=this.curves[n];if(r.active)for(var s=r.getResolution(t),o=r.getPoints(s),a=0;a<o.length;a++){var h=o[a];e&&e.equals(h)||(i.push(h),e=h)}}return this.autoClose&&i.length>1&&!i[i.length-1].equals(i[0])&&i.push(i[0]),i},getRandomPoint:function(t){return void 0===t&&(t=new f),this.getPoint(Math.random(),t)},getSpacedPoints:function(t){void 0===t&&(t=40);for(var e=[],i=0;i<=t;i++)e.push(this.getPoint(i/t));return this.autoClose&&e.push(e[0]),e},getStartPoint:function(t){return void 0===t&&(t=new f),t.copy(this.startPoint)},lineTo:function(t,e){t instanceof f?this._tmpVec2B.copy(t):this._tmpVec2B.set(t,e);var i=this.getEndPoint(this._tmpVec2A);return this.add(new a([i.x,i.y,this._tmpVec2B.x,this._tmpVec2B.y]))},splineTo:function(t){return t.unshift(this.getEndPoint()),this.add(new l(t))},moveTo:function(t,e){return this.add(new h(t,e))},toJSON:function(){for(var t=[],e=0;e<this.curves.length;e++)t.push(this.curves[e].toJSON());return{type:"Path",x:this.startPoint.x,y:this.startPoint.y,autoClose:this.autoClose,curves:t}},updateArcLengths:function(){this.cacheLengths=[],this.getCurveLengths()},destroy:function(){this.curves.length=0,this.cacheLengths.length=0,this.startPoint=void 0}});o.register("path",function(t,e){return new d(t,e)}),t.exports=d},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(3),s=new n({initialize:function(t,e){this.active=!1,this.p0=new r(t,e)},getPoint:function(t,e){return void 0===e&&(e=new r),e.copy(this.p0)},getPointAt:function(t,e){return this.getPoint(t,e)},getResolution:function(){return 1},getLength:function(){return 0},toJSON:function(){return{type:"MoveTo",points:[this.p0.x,this.p0.y]}}});t.exports=s},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={DataManager:i(86),DataManagerPlugin:i(576)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(86),s=i(13),o=new n({Extends:r,initialize:function(t){r.call(this,t,t.sys.events),this.scene=t,this.systems=t.sys,t.sys.events.once("boot",this.boot,this),t.sys.events.on("start",this.start,this)},boot:function(){this.events=this.systems.events,this.events.once("destroy",this.destroy,this)},start:function(){this.events.once("shutdown",this.shutdown,this)},shutdown:function(){this.systems.events.off("shutdown",this.shutdown,this)},destroy:function(){r.prototype.destroy.call(this),this.events.off("start",this.start,this),this.scene=null,this.systems=null}});s.register("DataManagerPlugin",o,"data"),t.exports=o},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={Align:i(578),Bounds:i(593),Canvas:i(596),Color:i(288),Masks:i(606)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(137),r=i(17),s={In:i(579),To:i(580)};s=r(!1,s,n),t.exports=s},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={BottomCenter:i(220),BottomLeft:i(221),BottomRight:i(222),Center:i(223),LeftCenter:i(225),QuickSet:i(219),RightCenter:i(226),TopCenter:i(227),TopLeft:i(228),TopRight:i(229)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={BottomCenter:i(581),BottomLeft:i(582),BottomRight:i(583),LeftBottom:i(584),LeftCenter:i(585),LeftTop:i(586),RightBottom:i(587),RightCenter:i(588),RightTop:i(589),TopCenter:i(590),TopLeft:i(591),TopRight:i(592)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(35),r=i(67),s=i(68),o=i(42);t.exports=function(t,e,i,a){return void 0===i&&(i=0),void 0===a&&(a=0),s(t,r(e)+i),o(t,n(e)+a),t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(35),r=i(37),s=i(38),o=i(42);t.exports=function(t,e,i,a){return void 0===i&&(i=0),void 0===a&&(a=0),s(t,r(e)-i),o(t,n(e)+a),t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(35),r=i(39),s=i(40),o=i(42);t.exports=function(t,e,i,a){return void 0===i&&(i=0),void 0===a&&(a=0),s(t,r(e)+i),o(t,n(e)+a),t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(35),r=i(37),s=i(36),o=i(40);t.exports=function(t,e,i,a){return void 0===i&&(i=0),void 0===a&&(a=0),o(t,r(e)-i),s(t,n(e)+a),t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(70),r=i(37),s=i(69),o=i(40);t.exports=function(t,e,i,a){return void 0===i&&(i=0),void 0===a&&(a=0),o(t,r(e)-i),s(t,n(e)+a),t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(37),r=i(41),s=i(40),o=i(42);t.exports=function(t,e,i,a){return void 0===i&&(i=0),void 0===a&&(a=0),s(t,n(e)-i),o(t,r(e)-a),t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(35),r=i(39),s=i(36),o=i(38);t.exports=function(t,e,i,a){return void 0===i&&(i=0),void 0===a&&(a=0),o(t,r(e)+i),s(t,n(e)+a),t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(70),r=i(39),s=i(69),o=i(38);t.exports=function(t,e,i,a){return void 0===i&&(i=0),void 0===a&&(a=0),o(t,r(e)+i),s(t,n(e)+a),t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(39),r=i(41),s=i(38),o=i(42);t.exports=function(t,e,i,a){return void 0===i&&(i=0),void 0===a&&(a=0),s(t,n(e)+i),o(t,r(e)-a),t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(67),r=i(41),s=i(36),o=i(68);t.exports=function(t,e,i,a){return void 0===i&&(i=0),void 0===a&&(a=0),o(t,n(e)+i),s(t,r(e)-a),t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(37),r=i(41),s=i(36),o=i(38);t.exports=function(t,e,i,a){return void 0===i&&(i=0),void 0===a&&(a=0),o(t,n(e)-i),s(t,r(e)-a),t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(39),r=i(41),s=i(36),o=i(40);t.exports=function(t,e,i,a){return void 0===i&&(i=0),void 0===a&&(a=0),o(t,n(e)+i),s(t,r(e)-a),t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={CenterOn:i(224),GetBottom:i(35),GetCenterX:i(67),GetCenterY:i(70),GetLeft:i(37),GetOffsetX:i(594),GetOffsetY:i(595),GetRight:i(39),GetTop:i(41),SetBottom:i(36),SetCenterX:i(68),SetCenterY:i(69),SetLeft:i(38),SetRight:i(40),SetTop:i(42)}},function(t,e){t.exports=function(t){return t.width*t.originX}},function(t,e){t.exports=function(t){return t.height*t.originY}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={CanvasInterpolation:i(287),CanvasPool:i(28),Smoothing:i(155),TouchAction:i(597),UserSelect:i(598)}},function(t,e){t.exports=function(t,e){return void 0===e&&(e="none"),t.style.msTouchAction=e,t.style["ms-touch-action"]=e,t.style["touch-action"]=e,t}},function(t,e){t.exports=function(t,e){void 0===e&&(e="none");return["-webkit-","-khtml-","-moz-","-ms-",""].forEach(function(i){t.style[i+"user-select"]=e}),t.style["-webkit-touch-callout"]=e,t.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",t}},function(t,e){t.exports=function(t){var e={r:t>>16&255,g:t>>8&255,b:255&t,a:255};return t>16777215&&(e.a=t>>>24),e}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(51),r=i(290);t.exports=function(t,e,i){var s=i,o=i,a=i;if(0!==e){var h=i<.5?i*(1+e):i+e-i*e,u=2*i-h;s=r(u,h,t+1/3),o=r(u,h,t),a=r(u,h,t-1/3)}return(new n).setGLTo(s,o,a,1)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(291);t.exports=function(t,e){void 0===t&&(t=1),void 0===e&&(e=1);for(var i=[],r=0;r<=359;r++)i.push(n(r/359,t,e));return i}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(105),r=function(t,e,i,r,s,o,a,h){void 0===a&&(a=100),void 0===h&&(h=0);var u=h/a;return{r:n(t,r,u),g:n(e,s,u),b:n(i,o,u)}};t.exports={RGBWithRGB:r,ColorWithRGB:function(t,e,i,n,s,o){return void 0===s&&(s=100),void 0===o&&(o=0),r(t.r,t.g,t.b,e,i,n,s,o)},ColorWithColor:function(t,e,i,n){return void 0===i&&(i=100),void 0===n&&(n=0),r(t.r,t.g,t.b,e.r,e.g,e.b,i,n)}}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(161),r=i(51);t.exports=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=255),new r(n(t,e),n(t,e),n(t,e))}},function(t,e){t.exports=function(t,e,i){t/=255,e/=255,i/=255;var n=Math.min(t,e,i),r=Math.max(t,e,i),s=r-n,o=0;return r!==n&&(r===t?o=(e-i)/s+(e<i?6:0):r===e?o=(i-t)/s+2:r===i&&(o=(t-e)/s+4),o/=6),{h:o,s:0===r?0:s/r,v:r}}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(289);t.exports=function(t,e,i,r,s){return void 0===r&&(r=255),void 0===s&&(s="#"),"#"===s?"#"+((1<<24)+(t<<16)+(e<<8)+i).toString(16).slice(1):"0x"+n(r)+n(t)+n(e)+n(i)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={BitmapMask:i(242),GeometryMask:i(243)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={AddToDOM:i(106),DOMContentLoaded:i(292),ParseXML:i(294),RemoveFromDOM:i(162),RequestAnimationFrame:i(295)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={EventEmitter:i(609)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(8),s=i(13),o=new n({Extends:r,initialize:function(){r.call(this)},shutdown:function(){this.removeAllListeners()},destroy:function(){this.removeAllListeners()}});s.register("EventEmitter",o,"events"),t.exports=o},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(106),r=i(255),s=i(257),o=i(28),a=i(0),h=i(611),u=i(616),c=i(86),l=i(623),f=i(296),d=i(292),p=i(8),g=i(305),v=i(13),y=i(312),m=i(314),x=i(318),b=i(325),w=i(636),T=i(637),S=i(638),_=i(639),A=i(328),E=new a({initialize:function(t){this.config=new h(t),this.renderer=null,this.domContainer=null,this.canvas=null,this.context=null,this.isBooted=!1,this.isRunning=!1,this.events=new p,this.anims=new r(this),this.textures=new b(this),this.cache=new s(this),this.registry=new c(this),this.input=new g(this,this.config),this.scene=new m(this,this.config.sceneConfig),this.device=f,this.scaleManager=new _(this,this.config),this.sound=x.create(this),this.loop=new w(this,this.config.fps),this.plugins=new y(this,this.config),this.facebook=new A(this),this.pendingDestroy=!1,this.removeCanvas=!1,this.noReturn=!1,this.hasFocus=!1,this.isOver=!0,d(this.boot.bind(this))},boot:function(){v.hasCore("EventEmitter")?(this.isBooted=!0,this.config.preBoot(this),u(this),S(this),l(this),n(this.canvas,this.config.parent),this.events.emit("boot"),this.events.once("texturesready",this.texturesReady,this)):console.warn("Core Phaser Plugins missing. Cannot start.")},texturesReady:function(){this.events.emit("ready"),this.start()},start:function(){this.isRunning=!0,this.config.postBoot(this),this.renderer?this.loop.start(this.step.bind(this)):this.loop.start(this.headlessStep.bind(this)),T(this);var t=this.events;t.on("hidden",this.onHidden,this),t.on("visible",this.onVisible,this),t.on("blur",this.onBlur,this),t.on("focus",this.onFocus,this)},step:function(t,e){if(this.pendingDestroy)return this.runDestroy();var i=this.events;i.emit("prestep",t,e),i.emit("step",t,e),this.scene.update(t,e),i.emit("poststep",t,e);var n=this.renderer;n.preRender(),i.emit("prerender",n,t,e),this.scene.render(n),n.postRender(),i.emit("postrender",n,t,e)},headlessStep:function(t,e){var i=this.events;i.emit("prestep",t,e),i.emit("step",t,e),this.scene.update(t,e),i.emit("poststep",t,e),i.emit("prerender"),i.emit("postrender")},onHidden:function(){this.loop.pause(),this.events.emit("pause")},onVisible:function(){this.loop.resume(),this.events.emit("resume")},onBlur:function(){this.hasFocus=!1,this.loop.blur()},onFocus:function(){this.hasFocus=!0,this.loop.focus()},resize:function(t,e){this.config.width=t,this.config.height=e,this.domContainer&&(this.domContainer.style.width=t+"px",this.domContainer.style.height=e+"px"),this.renderer.resize(t,e),this.input.resize(),this.scene.resize(t,e),this.events.emit("resize",t,e)},destroy:function(t,e){void 0===e&&(e=!1),this.pendingDestroy=!0,this.removeCanvas=t,this.noReturn=e},runDestroy:function(){this.events.emit("destroy"),this.events.removeAllListeners(),this.scene.destroy(),this.renderer&&this.renderer.destroy(),this.removeCanvas&&this.canvas&&(o.remove(this.canvas),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)),this.domContainer&&this.domContainer.parentNode.removeChild(this.domContainer),this.loop.destroy(),this.pendingDestroy=!1}});t.exports=E},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(26),s=i(296),o=i(1),a=i(4),h=i(6),u=i(18),c=i(2),l=i(164),f=i(153),d=new n({initialize:function(t){void 0===t&&(t={});this.width=a(t,"width",1024),this.height=a(t,"height",768),this.zoom=a(t,"zoom",1),this.resolution=a(t,"resolution",1),this.parent=a(t,"parent",null),this.scaleMode=a(t,"scaleMode",0);var e=a(t,"scale",null);e&&(this.width=a(e,"width",this.width),this.height=a(e,"height",this.height),this.zoom=a(e,"zoom",this.zoom),this.resolution=a(e,"resolution",this.resolution),this.parent=a(e,"parent",this.parent),this.scaleMode=a(e,"mode",this.scaleMode)),this.renderType=a(t,"type",r.AUTO),this.canvas=a(t,"canvas",null),this.context=a(t,"context",null),this.canvasStyle=a(t,"canvasStyle",null),this.sceneConfig=a(t,"scene",null),this.seed=a(t,"seed",[(Date.now()*Math.random()).toString()]),u.RND.init(this.seed),this.gameTitle=a(t,"title",""),this.gameURL=a(t,"url","https://phaser.io"),this.gameVersion=a(t,"version",""),this.autoFocus=a(t,"autoFocus",!0),this.domCreateContainer=a(t,"dom.createContainer",!1),this.domBehindCanvas=a(t,"dom.behindCanvas",!1),this.inputKeyboard=a(t,"input.keyboard",!0),this.inputKeyboardEventTarget=a(t,"input.keyboard.target",window),this.inputMouse=a(t,"input.mouse",!0),this.inputMouseEventTarget=a(t,"input.mouse.target",null),this.inputMouseCapture=a(t,"input.mouse.capture",!0),this.inputTouch=a(t,"input.touch",s.input.touch),this.inputTouchEventTarget=a(t,"input.touch.target",null),this.inputTouchCapture=a(t,"input.touch.capture",!0),this.inputActivePointers=a(t,"input.activePointers",1),this.inputGamepad=a(t,"input.gamepad",!1),this.inputGamepadEventTarget=a(t,"input.gamepad.target",window),this.disableContextMenu=a(t,"disableContextMenu",!1),this.audio=a(t,"audio"),this.hideBanner=!1===a(t,"banner",null),this.hidePhaser=a(t,"banner.hidePhaser",!1),this.bannerTextColor=a(t,"banner.text","#ffffff"),this.bannerBackgroundColor=a(t,"banner.background",["#ff0000","#ffff00","#00ff00","#00ffff","#000000"]),""===this.gameTitle&&this.hidePhaser&&(this.hideBanner=!0),this.fps=a(t,"fps",null);var i=a(t,"render",t);this.autoResize=a(i,"autoResize",!0),this.antialias=a(i,"antialias",!0),this.roundPixels=a(i,"roundPixels",!1),this.pixelArt=a(i,"pixelArt",!1),this.pixelArt&&(this.antialias=!1,this.roundPixels=!0),this.transparent=a(i,"transparent",!1),this.clearBeforeRender=a(i,"clearBeforeRender",!0),this.premultipliedAlpha=a(i,"premultipliedAlpha",!0),this.preserveDrawingBuffer=a(i,"preserveDrawingBuffer",!1),this.failIfMajorPerformanceCaveat=a(i,"failIfMajorPerformanceCaveat",!1),this.powerPreference=a(i,"powerPreference","default"),this.batchSize=a(i,"batchSize",2e3);var n=a(t,"backgroundColor",0);this.backgroundColor=f(n),0===n&&this.transparent&&(this.backgroundColor.alpha=0),this.preBoot=a(t,"callbacks.preBoot",c),this.postBoot=a(t,"callbacks.postBoot",c),this.physics=a(t,"physics",{}),this.defaultPhysicsSystem=a(this.physics,"default",!1),this.loaderBaseURL=a(t,"loader.baseURL",""),this.loaderPath=a(t,"loader.path",""),this.loaderMaxParallelDownloads=a(t,"loader.maxParallelDownloads",32),this.loaderCrossOrigin=a(t,"loader.crossOrigin",void 0),this.loaderResponseType=a(t,"loader.responseType",""),this.loaderAsync=a(t,"loader.async",!0),this.loaderUser=a(t,"loader.user",""),this.loaderPassword=a(t,"loader.password",""),this.loaderTimeout=a(t,"loader.timeout",0),this.installGlobalPlugins=[],this.installScenePlugins=[];var d=a(t,"plugins",null),p=l.DefaultScene;d&&(Array.isArray(d)?this.defaultPlugins=d:h(d)&&(this.installGlobalPlugins=o(d,"global",[]),this.installScenePlugins=o(d,"scene",[]),Array.isArray(d.default)?p=d.default:Array.isArray(d.defaultMerge)&&(p=p.concat(d.defaultMerge)))),this.defaultPlugins=p;var g="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAg";this.defaultImage=a(t,"images.default",g+"AQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg=="),this.missingImage=a(t,"images.missing",g+"CAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg=="),window&&(window.FORCE_WEBGL?this.renderType=r.WEBGL:window.FORCE_CANVAS&&(this.renderType=r.CANVAS))}});t.exports=d},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(87),r=i(107),s={gamepads:!1,mspointer:!1,touch:!1,wheelEvent:null};t.exports=(("ontouchstart"in document.documentElement||navigator.maxTouchPoints&&navigator.maxTouchPoints>=1)&&(s.touch=!0),(navigator.msPointerEnabled||navigator.pointerEnabled)&&(s.mspointer=!0),navigator.getGamepads&&(s.gamepads=!0),n.cocoonJS||("onwheel"in window||r.ie&&"WheelEvent"in window?s.wheelEvent="wheel":"onmousewheel"in window?s.wheelEvent="mousewheel":r.firefox&&"MouseScrollEvent"in window&&(s.wheelEvent="DOMMouseScroll")),s)},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(107),r={audioData:!1,dolby:!1,m4a:!1,mp3:!1,ogg:!1,opus:!1,wav:!1,webAudio:!1,webm:!1};t.exports=function(){r.audioData=!!window.Audio,r.webAudio=!(!window.AudioContext&&!window.webkitAudioContext);var t=document.createElement("audio"),e=!!t.canPlayType;try{if(e&&(t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,"")&&(r.ogg=!0),(t.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,"")||t.canPlayType("audio/opus;").replace(/^no$/,""))&&(r.opus=!0),t.canPlayType("audio/mpeg;").replace(/^no$/,"")&&(r.mp3=!0),t.canPlayType('audio/wav; codecs="1"').replace(/^no$/,"")&&(r.wav=!0),(t.canPlayType("audio/x-m4a;")||t.canPlayType("audio/aac;").replace(/^no$/,""))&&(r.m4a=!0),t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")&&(r.webm=!0),""!==t.canPlayType('audio/mp4;codecs="ec-3"')))if(n.edge)r.dolby=!0;else if(n.safari&&n.safariVersion>=9&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)){var i=parseInt(RegExp.$1,10),s=parseInt(RegExp.$2,10);(10===i&&s>=11||i>10)&&(r.dolby=!0)}}catch(t){}return r}()},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i={h264Video:!1,hlsVideo:!1,mp4Video:!1,oggVideo:!1,vp9Video:!1,webmVideo:!1};t.exports=function(){var t=document.createElement("video"),e=!!t.canPlayType;try{e&&(t.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,"")&&(i.oggVideo=!0),t.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,"")&&(i.h264Video=!0,i.mp4Video=!0),t.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,"")&&(i.webmVideo=!0),t.canPlayType('video/webm; codecs="vp9"').replace(/^no$/,"")&&(i.vp9Video=!0),t.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(/^no$/,"")&&(i.hlsVideo=!0))}catch(t){}return i}()},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i={available:!1,cancel:"",keyboard:!1,request:""};t.exports=function(){var t,e=["requestFullscreen","requestFullScreen","webkitRequestFullscreen","webkitRequestFullScreen","msRequestFullscreen","msRequestFullScreen","mozRequestFullScreen","mozRequestFullscreen"],n=document.createElement("div");for(t=0;t<e.length;t++)if(n[e[t]]){i.available=!0,i.request=e[t];break}var r=["cancelFullScreen","exitFullscreen","webkitCancelFullScreen","webkitExitFullscreen","msCancelFullScreen","msExitFullscreen","mozCancelFullScreen","mozExitFullscreen"];if(i.available)for(t=0;t<r.length;t++)if(document[r[t]]){i.cancel=r[t];break}return window.Element&&Element.ALLOW_KEYBOARD_INPUT&&(i.keyboard=!0),i}()},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(287),r=i(28),s=i(26),o=i(163);t.exports=function(t){var e,a,h=t.config;if(h.renderType!==s.HEADLESS)if(h.renderType===s.CANVAS||h.renderType!==s.CANVAS&&!o.webGL){if(!o.canvas)throw new Error("Cannot create Canvas or WebGL context, aborting.");h.renderType=s.CANVAS}else h.renderType=s.WEBGL;h.antialias||r.disableSmoothing(),h.canvas?t.canvas=h.canvas:t.canvas=r.create(t,h.width*h.resolution,h.height*h.resolution,h.renderType),h.canvasStyle&&(t.canvas.style=h.canvasStyle),h.antialias||n.setCrisp(t.canvas),t.canvas.style.width=(h.width*h.zoom).toString()+"px",t.canvas.style.height=(h.height*h.zoom).toString()+"px",h.renderType!==s.HEADLESS&&(e=i(298),a=i(301),h.renderType===s.WEBGL?(t.renderer=new a(t),t.context=null):(t.renderer=new e(t),t.context=t.renderer.gameContext))}},function(t,e){t.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_FS","","precision mediump float;","","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uMaskSampler;","uniform bool uInvertMaskAlpha;","","void main()","{","    vec2 uv = gl_FragCoord.xy / uResolution;","    vec4 mainColor = texture2D(uMainSampler, uv);","    vec4 maskColor = texture2D(uMaskSampler, uv);","    float alpha = mainColor.a;","","    if (!uInvertMaskAlpha)","    {","        alpha *= (maskColor.a);","    }","    else","    {","        alpha *= (1.0 - maskColor.a);","    }","","    gl_FragColor = vec4(mainColor.rgb * alpha, alpha);","}",""].join("\n")},function(t,e){t.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_VS","","precision mediump float;","","attribute vec2 inPosition;","","void main()","{","    gl_Position = vec4(inPosition, 0.0, 1.0);","}",""].join("\n")},function(t,e){t.exports=["#define SHADER_NAME PHASER_FORWARD_DIFFUSE_FS","","precision mediump float;","","struct Light","{","    vec2 position;","    vec3 color;","    float intensity;","    float radius;","};","","const int kMaxLights = %LIGHT_COUNT%;","","uniform vec4 uCamera; /* x, y, rotation, zoom */","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uNormSampler;","uniform vec3 uAmbientLightColor;","uniform Light uLights[kMaxLights];","","varying vec2 outTexCoord;","varying vec4 outTint;","","void main()","{","    vec3 finalColor = vec3(0.0, 0.0, 0.0);","    vec4 color = texture2D(uMainSampler, outTexCoord) * vec4(outTint.rgb * outTint.a, outTint.a);","    vec3 normalMap = texture2D(uNormSampler, outTexCoord).rgb;","    vec3 normal = normalize(vec3(normalMap * 2.0 - 1.0));","    vec2 res = vec2(min(uResolution.x, uResolution.y)) * uCamera.w;","","    for (int index = 0; index < kMaxLights; ++index)","    {","        Light light = uLights[index];","        vec3 lightDir = vec3((light.position.xy / res) - (gl_FragCoord.xy / res), 0.1);","        vec3 lightNormal = normalize(lightDir);","        float distToSurf = length(lightDir) * uCamera.w;","        float diffuseFactor = max(dot(normal, lightNormal), 0.0);","        float radius = (light.radius / res.x * uCamera.w) * uCamera.w;","        float attenuation = clamp(1.0 - distToSurf * distToSurf / (radius * radius), 0.0, 1.0);","        vec3 diffuse = light.color * diffuseFactor;","        finalColor += (attenuation * diffuse) * light.intensity;","    }","","    vec4 colorOutput = vec4(uAmbientLightColor + finalColor, 1.0);","    gl_FragColor = color * vec4(colorOutput.rgb * colorOutput.a, colorOutput.a);","","}",""].join("\n")},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i={modelMatrixDirty:!1,viewMatrixDirty:!1,projectionMatrixDirty:!1,modelMatrix:null,viewMatrix:null,projectionMatrix:null,mvpInit:function(){return this.modelMatrixDirty=!0,this.viewMatrixDirty=!0,this.projectionMatrixDirty=!0,this.modelMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this},mvpUpdate:function(){var t=this.program;return this.modelMatrixDirty&&(this.renderer.setMatrix4(t,"uModelMatrix",!1,this.modelMatrix),this.modelMatrixDirty=!1),this.viewMatrixDirty&&(this.renderer.setMatrix4(t,"uViewMatrix",!1,this.viewMatrix),this.viewMatrixDirty=!1),this.projectionMatrixDirty&&(this.renderer.setMatrix4(t,"uProjectionMatrix",!1,this.projectionMatrix),this.projectionMatrixDirty=!1),this},modelIdentity:function(){var t=this.modelMatrix;return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this.modelMatrixDirty=!0,this},modelScale:function(t,e,i){var n=this.modelMatrix;return n[0]=n[0]*t,n[1]=n[1]*t,n[2]=n[2]*t,n[3]=n[3]*t,n[4]=n[4]*e,n[5]=n[5]*e,n[6]=n[6]*e,n[7]=n[7]*e,n[8]=n[8]*i,n[9]=n[9]*i,n[10]=n[10]*i,n[11]=n[11]*i,this.modelMatrixDirty=!0,this},modelTranslate:function(t,e,i){var n=this.modelMatrix;return n[12]=n[0]*t+n[4]*e+n[8]*i+n[12],n[13]=n[1]*t+n[5]*e+n[9]*i+n[13],n[14]=n[2]*t+n[6]*e+n[10]*i+n[14],n[15]=n[3]*t+n[7]*e+n[11]*i+n[15],this.modelMatrixDirty=!0,this},modelRotateX:function(t){var e=this.modelMatrix,i=Math.sin(t),n=Math.cos(t),r=e[4],s=e[5],o=e[6],a=e[7],h=e[8],u=e[9],c=e[10],l=e[11];return e[4]=r*n+h*i,e[5]=s*n+u*i,e[6]=o*n+c*i,e[7]=a*n+l*i,e[8]=h*n-r*i,e[9]=u*n-s*i,e[10]=c*n-o*i,e[11]=l*n-a*i,this.modelMatrixDirty=!0,this},modelRotateY:function(t){var e=this.modelMatrix,i=Math.sin(t),n=Math.cos(t),r=e[0],s=e[1],o=e[2],a=e[3],h=e[8],u=e[9],c=e[10],l=e[11];return e[0]=r*n-h*i,e[1]=s*n-u*i,e[2]=o*n-c*i,e[3]=a*n-l*i,e[8]=r*i+h*n,e[9]=s*i+u*n,e[10]=o*i+c*n,e[11]=a*i+l*n,this.modelMatrixDirty=!0,this},modelRotateZ:function(t){var e=this.modelMatrix,i=Math.sin(t),n=Math.cos(t),r=e[0],s=e[1],o=e[2],a=e[3],h=e[4],u=e[5],c=e[6],l=e[7];return e[0]=r*n+h*i,e[1]=s*n+u*i,e[2]=o*n+c*i,e[3]=a*n+l*i,e[4]=h*n-r*i,e[5]=u*n-s*i,e[6]=c*n-o*i,e[7]=l*n-a*i,this.modelMatrixDirty=!0,this},viewIdentity:function(){var t=this.viewMatrix;return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this.viewMatrixDirty=!0,this},viewScale:function(t,e,i){var n=this.viewMatrix;return n[0]=n[0]*t,n[1]=n[1]*t,n[2]=n[2]*t,n[3]=n[3]*t,n[4]=n[4]*e,n[5]=n[5]*e,n[6]=n[6]*e,n[7]=n[7]*e,n[8]=n[8]*i,n[9]=n[9]*i,n[10]=n[10]*i,n[11]=n[11]*i,this.viewMatrixDirty=!0,this},viewTranslate:function(t,e,i){var n=this.viewMatrix;return n[12]=n[0]*t+n[4]*e+n[8]*i+n[12],n[13]=n[1]*t+n[5]*e+n[9]*i+n[13],n[14]=n[2]*t+n[6]*e+n[10]*i+n[14],n[15]=n[3]*t+n[7]*e+n[11]*i+n[15],this.viewMatrixDirty=!0,this},viewRotateX:function(t){var e=this.viewMatrix,i=Math.sin(t),n=Math.cos(t),r=e[4],s=e[5],o=e[6],a=e[7],h=e[8],u=e[9],c=e[10],l=e[11];return e[4]=r*n+h*i,e[5]=s*n+u*i,e[6]=o*n+c*i,e[7]=a*n+l*i,e[8]=h*n-r*i,e[9]=u*n-s*i,e[10]=c*n-o*i,e[11]=l*n-a*i,this.viewMatrixDirty=!0,this},viewRotateY:function(t){var e=this.viewMatrix,i=Math.sin(t),n=Math.cos(t),r=e[0],s=e[1],o=e[2],a=e[3],h=e[8],u=e[9],c=e[10],l=e[11];return e[0]=r*n-h*i,e[1]=s*n-u*i,e[2]=o*n-c*i,e[3]=a*n-l*i,e[8]=r*i+h*n,e[9]=s*i+u*n,e[10]=o*i+c*n,e[11]=a*i+l*n,this.viewMatrixDirty=!0,this},viewRotateZ:function(t){var e=this.viewMatrix,i=Math.sin(t),n=Math.cos(t),r=e[0],s=e[1],o=e[2],a=e[3],h=e[4],u=e[5],c=e[6],l=e[7];return e[0]=r*n+h*i,e[1]=s*n+u*i,e[2]=o*n+c*i,e[3]=a*n+l*i,e[4]=h*n-r*i,e[5]=u*n-s*i,e[6]=c*n-o*i,e[7]=l*n-a*i,this.viewMatrixDirty=!0,this},viewLoad2D:function(t){var e=this.viewMatrix;return e[0]=t[0],e[1]=t[1],e[2]=0,e[3]=0,e[4]=t[2],e[5]=t[3],e[6]=0,e[7]=0,e[8]=t[4],e[9]=t[5],e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this.viewMatrixDirty=!0,this},viewLoad:function(t){var e=this.viewMatrix;return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],this.viewMatrixDirty=!0,this},projIdentity:function(){var t=this.projectionMatrix;return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this.projectionMatrixDirty=!0,this},projOrtho:function(t,e,i,n,r,s){var o=this.projectionMatrix,a=1/(t-e),h=1/(i-n),u=1/(r-s);return o[0]=-2*a,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=-2*h,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=2*u,o[11]=0,o[12]=(t+e)*a,o[13]=(n+i)*h,o[14]=(s+r)*u,o[15]=1,this.projectionMatrixDirty=!0,this},projPersp:function(t,e,i,n){var r=this.projectionMatrix,s=1/Math.tan(t/2),o=1/(i-n);return r[0]=s/e,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=s,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=(n+i)*o,r[11]=-1,r[12]=0,r[13]=0,r[14]=2*n*i*o,r[15]=0,this.projectionMatrixDirty=!0,this}};t.exports=i},function(t,e){t.exports=["#define SHADER_NAME PHASER_TEXTURE_TINT_FS","","precision mediump float;","","uniform sampler2D uMainSampler;","","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","","void main()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 texel = vec4(outTint.rgb * outTint.a, outTint.a);","    vec4 color = texture;","","    if (outTintEffect == 0.0)","    {","        //  Multiply texture tint","        color = texture * texel;","    }","    else if (outTintEffect == 1.0)","    {","        //  Solid color + texture alpha","        color.rgb = mix(texture.rgb, outTint.rgb * outTint.a, texture.a);","        color.a = texture.a * texel.a;","    }","    else if (outTintEffect == 2.0)","    {","        //  Solid color, no texture","        color = texel;","    }","","    gl_FragColor = color;","}",""].join("\n")},function(t,e){t.exports=["#define SHADER_NAME PHASER_TEXTURE_TINT_VS","","precision mediump float;","","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform mat4 uModelMatrix;","","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTintEffect;","attribute vec4 inTint;","","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","","void main ()","{","    gl_Position = uProjectionMatrix * uViewMatrix * uModelMatrix * vec4(inPosition, 1.0, 1.0);","","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}","",""].join("\n")},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(26);t.exports=function(t){var e=t.config;if(!e.hideBanner){var i="WebGL";e.renderType===n.CANVAS?i="Canvas":e.renderType===n.HEADLESS&&(i="Headless");var r,s=e.audio,o=t.device.audio;if(r=!o.webAudio||s&&s.disableWebAudio?s&&s.noAudio||!o.webAudio&&!o.audioData?"No Audio":"HTML5 Audio":"Web Audio",t.device.browser.ie)window.console&&console.log("Phaser v"+n.VERSION+" / https://phaser.io");else{var a,h="",u=[h];Array.isArray(e.bannerBackgroundColor)?(e.bannerBackgroundColor.forEach(function(t){h=h.concat("%c "),u.push("background: "+t),a=t}),u[u.length-1]="color: "+e.bannerTextColor+"; background: "+a):(h=h.concat("%c "),u.push("color: "+e.bannerTextColor+"; background: "+e.bannerBackgroundColor)),u.push("background: #fff"),e.gameTitle&&(h=h.concat(e.gameTitle),e.gameVersion&&(h=h.concat(" v"+e.gameVersion)),e.hidePhaser||(h=h.concat(" / "))),e.hidePhaser||(h=h.concat("Phaser v"+n.VERSION+" ("+i+" | "+r+")")),h=h.concat(" %c "+e.gameURL),u[0]=h,console.log.apply(console,u)}}}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(1),r=i(316);t.exports=function(t){var e=t.game.config.defaultPhysicsSystem,i=n(t.settings,"physics",!1);if(e||i){var s=[];if(e&&s.push(r(e+"Physics")),i)for(var o in i)o=r(o.concat("Physics")),-1===s.indexOf(o)&&s.push(o);return s}}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(1);t.exports=function(t){var e=t.plugins.getDefaultScenePlugins(),i=n(t.settings,"plugins",!1);return Array.isArray(i)?i:e||[]}},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i={game:"game",anims:"anims",cache:"cache",plugins:"plugins",registry:"registry",sound:"sound",textures:"textures",events:"events",cameras:"cameras",add:"add",make:"make",scenePlugin:"scene",displayList:"children",lights:"lights",data:"data",input:"input",load:"load",time:"time",tweens:"tweens",arcadePhysics:"physics",impactPhysics:"impact",matterPhysics:"matter",cameras3d:"cameras3d",facebook:"facebook"};t.exports=i},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(108),s=i(169),o=new n({Extends:s,initialize:function(t,e,i,n,r){s.call(this,t,e,i,n,r),this.add("__BASE",0,0,0,n,r),this._source=this.frames.__BASE.source,this.canvas=this._source.image,this.context=this.canvas.getContext("2d"),this.width=n,this.height=r},refresh:function(){return this._source.update(),this},getCanvas:function(){return this.canvas},getContext:function(){return this.context},clear:function(){return this.context.clearRect(0,0,this.width,this.height),this},setSize:function(t,e){return void 0===e&&(e=t),t===this.width&&e===this.height||(this.canvas.width=t,this.canvas.height=e,this._source.width=t,this._source.height=e,this._source.isPowerOf2=r(t,e),this.frames.__BASE.setSize(t,e,0,0),this.refresh()),this}});t.exports=o},function(t,e){t.exports=function(t,e,i){if(i.getElementsByTagName("TextureAtlas")){var n=t.source[e];t.add("__BASE",e,0,0,n.width,n.height);for(var r,s=i.getElementsByTagName("SubTexture"),o=0;o<s.length;o++){var a=s[o].attributes,h=a.name.value,u=parseInt(a.x.value,10),c=parseInt(a.y.value,10),l=parseInt(a.width.value,10),f=parseInt(a.height.value,10);if(r=t.add(h,e,u,c,l,f),a.frameX){var d=Math.abs(parseInt(a.frameX.value,10)),p=Math.abs(parseInt(a.frameY.value,10)),g=parseInt(a.frameWidth.value,10),v=parseInt(a.frameHeight.value,10);r.setTrim(l,f,d,p,g,v)}}return t}console.warn("Invalid Texture Atlas XML given")}},function(t,e){t.exports=function(t,e){var i=t.source[e];return t.add("__BASE",e,0,0,i.width,i.height),t}},function(t,e){t.exports=function(t,e){var i=t.source[e];return t.add("__BASE",e,0,0,i.width,i.height),t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(59);t.exports=function(t,e,i){if(i.frames||i.textures){var r=t.source[e];t.add("__BASE",e,0,0,r.width,r.height);for(var s,o=Array.isArray(i.textures)?i.textures[e].frames:i.frames,a=0;a<o.length;a++){var h=o[a];s=t.add(h.filename,e,h.frame.x,h.frame.y,h.frame.w,h.frame.h),h.trimmed&&s.setTrim(h.sourceSize.w,h.sourceSize.h,h.spriteSourceSize.x,h.spriteSourceSize.y,h.spriteSourceSize.w,h.spriteSourceSize.h),h.rotated&&(s.rotated=!0,s.updateUVsInverted()),h.anchor&&(s.customPivot=!0,s.pivotX=h.anchor.x,s.pivotY=h.anchor.y),s.customData=n(h)}for(var u in i)"frames"!==u&&(Array.isArray(i[u])?t.customData[u]=i[u].slice(0):t.customData[u]=i[u]);return t}console.warn("Invalid Texture Atlas JSON Array")}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(59);t.exports=function(t,e,i){if(i.frames){var r=t.source[e];t.add("__BASE",e,0,0,r.width,r.height);var s,o=i.frames;for(var a in o){var h=o[a];s=t.add(a,e,h.frame.x,h.frame.y,h.frame.w,h.frame.h),h.trimmed&&s.setTrim(h.sourceSize.w,h.sourceSize.h,h.spriteSourceSize.x,h.spriteSourceSize.y,h.spriteSourceSize.w,h.spriteSourceSize.h),h.rotated&&(s.rotated=!0,s.updateUVsInverted()),s.customData=n(h)}for(var u in i)"frames"!==u&&(Array.isArray(i[u])?t.customData[u]=i[u].slice(0):t.customData[u]=i[u]);return t}console.warn("Invalid Texture Atlas JSON Hash given, missing 'frames' Object")}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(1);t.exports=function(t,e,i,r,s,o,a){var h=n(a,"frameWidth",null),u=n(a,"frameHeight",h);if(null===h)throw new Error("TextureManager.SpriteSheet: Invalid frameWidth given.");var c=t.source[e];t.add("__BASE",e,0,0,c.width,c.height);var l=n(a,"startFrame",0),f=n(a,"endFrame",-1),d=n(a,"margin",0),p=n(a,"spacing",0),g=Math.floor((s-d+p)/(h+p))*Math.floor((o-d+p)/(u+p));0===g&&console.warn("SpriteSheet frame dimensions will result in zero frames."),(l>g||l<-g)&&(l=0),l<0&&(l=g+l),-1!==f&&(g=l+(f+1));for(var v=d,y=d,m=0,x=0,b=0;b<g;b++){m=0,x=0;var w=v+h,T=y+u;w>s&&(m=w-s),T>o&&(x=T-o),t.add(b,e,i+v,r+y,h-m,u-x),(v+=h+p)+h>s&&(v=d,y+=u+p)}return t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(1);t.exports=function(t,e,i){var r=n(i,"frameWidth",null),s=n(i,"frameHeight",r);if(!r)throw new Error("TextureManager.SpriteSheetFromAtlas: Invalid frameWidth given.");var o,a=n(i,"startFrame",0),h=n(i,"endFrame",-1),u=n(i,"margin",0),c=n(i,"spacing",0),l=e.cutX,f=e.cutY,d=e.cutWidth,p=e.cutHeight,g=e.realWidth,v=e.realHeight,y=Math.floor((g-u+c)/(r+c)),m=Math.floor((v-u+c)/(s+c)),x=y*m,b=e.x,w=r-b,T=r-(g-d-b),S=e.y,_=s-S,A=s-(v-p-S);(a>x||a<-x)&&(a=0),a<0&&(a=x+a),-1!==h&&(x=a+(h+1));for(var E=u,I=u,C=0,M=e.sourceIndex,P=0;P<m;P++){for(var k=0===P,O=P===m-1,N=0;N<y;N++){var F=0===N,R=N===y-1;if(o=t.add(C,M,l+E,f+I,r,s),F||k||R||O){var L=F?b:0,D=k?S:0,B=r,U=s;F?B=w:R&&(B=T),k?U=_:O&&(U=A),o.cutWidth=B,o.cutHeight=U,o.setTrim(r,s,L,D,B,U)}E+=c,E+=F?w:R||r,C++}E=u,I+=c,I+=k?_:O?A:s}return t}},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=0,n=function(t,e,n,r){var s=i-r.y-r.height;t.add(n,e,r.x,s,r.width,r.height)};t.exports=function(t,e,r){var s=t.source[e];t.add("__BASE",e,0,0,s.width,s.height),i=s.height;for(var o=r.split("\n"),a=/^[ ]*(- )*(\w+)+[: ]+(.*)/,h="",u="",c={x:0,y:0,width:0,height:0},l=0;l<o.length;l++){var f=o[l].match(a);if(f){var d="- "===f[1],p=f[2],g=f[3];if(d&&(u!==h&&(n(t,e,u,c),h=u),c={x:0,y:0,width:0,height:0}),"name"!==p)switch(p){case"x":case"y":case"width":case"height":c[p]=parseInt(g,10)}else u=g}}return u!==h&&n(t,e,u,c),t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(4),s=i(2),o=i(295),a=new n({initialize:function(t,e){this.game=t,this.raf=new o,this.started=!1,this.running=!1,this.minFps=r(e,"min",5),this.targetFps=r(e,"target",60),this._min=1e3/this.minFps,this._target=1e3/this.targetFps,this.actualFps=this.targetFps,this.nextFpsUpdate=0,this.framesThisSecond=0,this.callback=s,this.forceSetTimeOut=r(e,"forceSetTimeOut",!1),this.time=0,this.startTime=0,this.lastTime=0,this.frame=0,this.inFocus=!0,this._pauseTime=0,this._coolDown=0,this.delta=0,this.deltaIndex=0,this.deltaHistory=[],this.deltaSmoothingMax=r(e,"deltaHistory",10),this.panicMax=r(e,"panicMax",120),this.rawDelta=0},blur:function(){this.inFocus=!1},focus:function(){this.inFocus=!0,this.resetDelta()},pause:function(){this._pauseTime=window.performance.now()},resume:function(){this.resetDelta(),this.startTime+=this.time-this._pauseTime},resetDelta:function(){var t=window.performance.now();this.time=t,this.lastTime=t,this.nextFpsUpdate=t+1e3,this.framesThisSecond=0,this.frame=0;for(var e=0;e<this.deltaSmoothingMax;e++)this.deltaHistory[e]=Math.min(this._target,this.deltaHistory[e]);this.delta=0,this.deltaIndex=0,this._coolDown=this.panicMax},start:function(t){if(this.started)return this;this.started=!0,this.running=!0;for(var e=0;e<this.deltaSmoothingMax;e++)this.deltaHistory[e]=this._target;this.resetDelta(),this.startTime=window.performance.now(),this.callback=t,this.raf.start(this.step.bind(this),this.forceSetTimeOut)},step:function(t){this.frame++;var e=t-this.lastTime;e<0&&(e=0),this.rawDelta=e;var i=this.deltaIndex,n=this.deltaHistory,r=this.deltaSmoothingMax,s=e;(this._coolDown>0||!this.inFocus)&&(this._coolDown--,s=Math.min(s,this._target)),s>this._min&&(s=n[i],s=Math.min(s,this._min)),n[i]=s,this.deltaIndex++,this.deltaIndex>r&&(this.deltaIndex=0);for(var o=0,a=0;a<r;a++)o+=n[a];o/=r,this.delta=o,this.time+=this.rawDelta,t>this.nextFpsUpdate&&(this.actualFps=.25*this.framesThisSecond+.75*this.actualFps,this.nextFpsUpdate=t+1e3,this.framesThisSecond=0),this.framesThisSecond++;var h=o/this._target;this.callback(t,o,h),this.lastTime=t},tick:function(){this.step(window.performance.now())},sleep:function(){this.running&&(this.raf.stop(),this.running=!1)},wake:function(t){this.running?this.sleep():t&&(this.startTime+=-this.lastTime+(this.lastTime=window.performance.now())),this.raf.start(this.step.bind(this),this.useRAF),this.running=!0,this.step(window.performance.now())},stop:function(){return this.running=!1,this.started=!1,this.raf.stop(),this},destroy:function(){this.stop(),this.callback=s,this.raf=null,this.game=null}});t.exports=a},function(t,e){t.exports=function(t){var e,i=t.events;void 0!==document.hidden?e="visibilitychange":["webkit","moz","ms"].forEach(function(t){void 0!==document[t+"Hidden"]&&(document.hidden=function(){return document[t+"Hidden"]},e=t+"visibilitychange")});e&&document.addEventListener(e,function(t){document.hidden||"pause"===t.type?i.emit("hidden"):i.emit("visible")},!1),window.onblur=function(){i.emit("blur")},window.onfocus=function(){i.emit("focus")},window.focus&&t.config.autoFocus&&(window.focus(),t.canvas.addEventListener("mousedown",function(){window.focus()},{passive:!0})),t.canvas&&(t.canvas.onmouseout=function(){t.isOver=!1,i.emit("mouseout")},t.canvas.onmouseover=function(){t.isOver=!0,i.emit("mouseover")})}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(106);t.exports=function(t){var e=t.config;if(e.parent&&e.domCreateContainer){var i=document.createElement("div");i.style=["display: block;","width: "+t.canvas.width+"px;","height: "+t.canvas.height+"px;","padding: 0; margin: 0;","position: absolute;","overflow: hidden;","pointer-events: none;"].join(" "),t.domContainer=i,n(i,e.parent)}}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(3),s=new n({initialize:function(t,e){this.game=t,this.config=e,this.width=0,this.height=0,this.zoom=0,this.resolution=1,this.parent=null,this.scaleMode=0,this.minWidth=null,this.minHeight=null,this.maxWidth=null,this.maxHeight=null,this.scaleFactor=new r(1,1),this.scaleFactorInversed=new r(1,1),this.aspectRatio=0,this.sourceAspectRatio=0,this.parentIsWindow=!1,this.parentNode=null,this.parentScaleFactor=new r(1,1),this._lastParentWidth=0,this._lastParentHeight=0,this._innerHeight=0,this.init()},init:function(){this._innerHeight=this.getInnerHeight()},centerDisplay:function(){var t=this.height;this.parentNode.style.display="flex",this.parentNode.style.height=t+"px",this.canvas.style.margin="auto",this.canvas.style.width="0px",this.canvas.style.height="0px"},resizeHandler:function(){},getInnerHeight:function(){if(!this.game.device.os.iOS)return window.innerHeight;var t=Math.abs(window.orientation),e={w:0,h:0},i=document.createElement("div");return i.setAttribute("style","position: fixed; height: 100vh; width: 0; top: 0"),document.documentElement.appendChild(i),e.w=90===t?i.offsetHeight:window.innerWidth,e.h=90===t?window.innerWidth:i.offsetHeight,document.documentElement.removeChild(i),i=null,90!==Math.abs(window.orientation)?e.h:e.w},destroy:function(){this.game=null}});t.exports=s},function(t,e){t.exports=function(t,e){return{instance:t,placementID:t.getPlacementID(),shown:!1,video:e}}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(8),s=i(642),o=new n({Extends:r,initialize:function(t,e){r.call(this),this.plugin=t,this.ref=e,this.name=e.getName(),this.contextID=e.getContextID(),this.entryCount=0,this.playerScore=null,this.scores=[],this.getEntryCount()},getEntryCount:function(){var t=this;this.ref.getEntryCountAsync().then(function(e){console.log("entry count",e),t.entryCount=e,t.emit("getentrycount",e,t.name)}).catch(function(t){console.warn(t)})},setScore:function(t,e){void 0===e&&(e="");var i=this;this.ref.setScoreAsync(t,e).then(function(t){console.log("set score",t),i.emit("setscore",t.getScore(),t.getExtraData(),i.name)}).catch(function(t){console.warn(t)})},getPlayerScore:function(){var t=this;this.ref.getPlayerEntryAsync().then(function(e){console.log("get player score");var i=s(e);console.log(i),t.playerScore=i,t.emit("getplayerscore",i,t.name)}).catch(function(t){console.warn(t)})},getScores:function(t,e){void 0===t&&(t=10),void 0===e&&(e=0);var i=this;this.ref.getEntriesAsync().then(function(t){console.log("get scores",t),i.scores=[],t.forEach(function(t){i.scores.push(s(t))}),i.emit("getscores",i.scores,i.name)}).catch(function(t){console.warn(t)})}});t.exports=o},function(t,e){t.exports=function(t){return{score:t.getScore(),scoreFormatted:t.getFormattedScore(),timestamp:t.getTimestamp(),rank:t.getRank(),data:t.getExtraData(),playerName:t.getPlayer().getName(),playerPhotoURL:t.getPlayer().getPhoto(),playerID:t.getPlayer().getID()}}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(1);t.exports=function(t){return{title:n(t,"title",""),productID:n(t,"productID",""),description:n(t,"description",""),imageURI:n(t,"imageURI",""),price:n(t,"price",""),priceCurrencyCode:n(t,"priceCurrencyCode","")}}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(1);t.exports=function(t){return{developerPayload:n(t,"developerPayload",""),paymentID:n(t,"paymentID",""),productID:n(t,"productID",""),purchaseTime:n(t,"purchaseTime",""),purchaseToken:n(t,"purchaseToken",""),signedRequest:n(t,"signedRequest","")}}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n={DisplayList:i(646),GameObjectCreator:i(14),GameObjectFactory:i(10),UpdateList:i(674),Components:i(16),BuildGameObject:i(29),BuildGameObjectAnimation:i(173),GameObject:i(12),BitmapText:i(116),Blitter:i(174),Container:i(175),DynamicBitmapText:i(176),Graphics:i(177),Group:i(90),Image:i(75),Particles:i(698),PathFollower:i(347),RenderTexture:i(181),RetroFont:i(707),Sprite:i(45),Text:i(182),TileSprite:i(183),Zone:i(100),Factories:{Blitter:i(719),Container:i(720),DynamicBitmapText:i(721),Graphics:i(722),Group:i(723),Image:i(724),Particles:i(725),PathFollower:i(726),RenderTexture:i(727),Sprite:i(728),StaticBitmapText:i(729),Text:i(730),TileSprite:i(731),Zone:i(732)},Creators:{Blitter:i(733),Container:i(734),DynamicBitmapText:i(735),Graphics:i(736),Group:i(737),Image:i(738),Particles:i(739),RenderTexture:i(740),Sprite:i(741),StaticBitmapText:i(742),Text:i(743),TileSprite:i(744),Zone:i(745)}};n.DOMElement=i(350),n.Factories.DOMElement=i(748),n.Mesh=i(120),n.Quad=i(184),n.Factories.Mesh=i(752),n.Factories.Quad=i(753),n.Creators.Mesh=i(754),n.Creators.Quad=i(755),n.Light=i(352),i(353),i(756),t.exports=n},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(113),s=i(13),o=i(115),a=new n({Extends:r,initialize:function(t){r.call(this,t),this.sortChildrenFlag=!1,this.scene=t,this.systems=t.sys,t.sys.events.once("boot",this.boot,this),t.sys.events.on("start",this.start,this)},boot:function(){this.systems.events.once("destroy",this.destroy,this)},start:function(){this.systems.events.once("shutdown",this.shutdown,this)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(o.inplace(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(t,e){return t._depth-e._depth},sortGameObjects:function(t){return void 0===t&&(t=this.list),this.scene.sys.depthSort(),t.sort(this.sortIndexHandler.bind(this))},getTopGameObject:function(t){return this.sortGameObjects(t),t[t.length-1]},getChildren:function(){return this.list},shutdown:function(){this.removeAll(),this.systems.events.off("shutdown",this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off("start",this.start,this),this.scene=null,this.systems=null}});s.register("DisplayList",a,"displayList"),t.exports=a},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={CheckMatrix:i(171),MatrixToString:i(648),ReverseColumns:i(649),ReverseRows:i(650),Rotate180:i(651),RotateLeft:i(652),RotateMatrix:i(114),RotateRight:i(653),TransposeMatrix:i(329)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(152),r=i(171);t.exports=function(t){var e="";if(!r(t))return e;for(var i=0;i<t.length;i++){for(var s=0;s<t[i].length;s++){var o=t[i][s].toString();e+="undefined"!==o?n(o,2):"?",s<t[i].length-1&&(e+=" |")}if(i<t.length-1){e+="\n";for(var a=0;a<t[i].length;a++)e+="---",a<t[i].length-1&&(e+="+");e+="\n"}}return e}},function(t,e){t.exports=function(t){for(var e=0;e<t.length;e++)t[e].reverse();return t}},function(t,e){t.exports=function(t){return t.reverse()}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(114);t.exports=function(t){return n(t,180)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(114);t.exports=function(t){return n(t,90)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(114);t.exports=function(t){return n(t,-90)}},function(t,e){t.exports=function(t,e,i,n,r){if(void 0===r&&(r=t),i>0){var s=i-t.length;if(s<=0)return null}if(!Array.isArray(e))return-1===t.indexOf(e)?(t.push(e),n&&n.call(r,e),e):null;for(var o=e.length-1;o>=0;)-1!==t.indexOf(e[o])&&e.pop(),o--;if(0===(o=e.length))return null;i>0&&o>s&&(e.splice(s),o=s);for(var a=0;a<o;a++){var h=e[a];t.push(h),n&&n.call(r,h)}return e}},function(t,e){t.exports=function(t,e,i,n,r,s){if(void 0===i&&(i=0),void 0===s&&(s=t),n>0){var o=n-t.length;if(o<=0)return null}if(!Array.isArray(e))return-1===t.indexOf(e)?(t.splice(i,0,e),r&&r.call(s,e),e):null;for(var a=e.length-1;a>=0;)-1!==t.indexOf(e[a])&&e.pop(),a--;if(0===(a=e.length))return null;n>0&&a>o&&(e.splice(o),a=o);for(var h=a-1;h>=0;h--){var u=e[h];t.splice(i,0,u),r&&r.call(s,u)}return e}},function(t,e){t.exports=function(t,e){var i=t.indexOf(e);return-1!==i&&i<t.length&&(t.splice(i,1),t.push(e)),e}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(60);t.exports=function(t,e,i,r,s){void 0===r&&(r=0),void 0===s&&(s=t.length);var o=0;if(n(t,r,s))for(var a=r;a<s;a++)t[a][e]===i&&o++;return o}},function(t,e){t.exports=function(t,e,i){var n,r=[null];for(n=3;n<arguments.length;n++)r.push(arguments[n]);for(n=0;n<t.length;n++)r[0]=t[n],e.apply(i,r);return t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(60);t.exports=function(t,e,i,r,s){if(void 0===r&&(r=0),void 0===s&&(s=t.length),n(t,r,s)){var o,a=[null];for(o=5;o<arguments.length;o++)a.push(arguments[o]);for(o=r;o<s;o++)a[0]=t[o],e.apply(i,a)}return t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(60);t.exports=function(t,e,i,r,s){void 0===r&&(r=0),void 0===s&&(s=t.length);var o=[];if(n(t,r,s))for(var a=r;a<s;a++){var h=t[a];(!e||e&&void 0===i&&h.hasOwnProperty(e)||e&&void 0!==i&&h[e]===i)&&o.push(h)}return o}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(60);t.exports=function(t,e,i,r,s){if(void 0===r&&(r=0),void 0===s&&(s=t.length),n(t,r,s))for(var o=r;o<s;o++){var a=t[o];if(!e||e&&void 0===i&&a.hasOwnProperty(e)||e&&void 0!==i&&a[e]===i)return a}return null}},function(t,e){t.exports=function(t,e){var i=t.indexOf(e);if(i>0){var n=t[i-1],r=t.indexOf(n);t[i]=n,t[r]=e}return t}},function(t,e){t.exports=function(t,e,i){var n=t.indexOf(e);if(-1===n||i<0||i>=t.length)throw new Error("Supplied index out of bounds");return n!==i&&(t.splice(n,1),t.splice(i,0,e)),e}},function(t,e){t.exports=function(t,e){var i=t.indexOf(e);if(-1!==i&&i<t.length-2){var n=t[i+1],r=t.indexOf(n);t[i]=n,t[r]=e}return t}},function(t,e){t.exports=function(t,e,i,n){for(var r=[],s=t;s<=e;s++)if(i||n){var o=i?i+s.toString():s.toString();n&&(o=o.concat(n)),r.push(o)}else r.push(s);return r}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(330);t.exports=function(t,e,i){void 0===t&&(t=0),void 0===e&&(e=null),void 0===i&&(i=1),null===e&&(e=t,t=0);for(var r=[],s=Math.max(n((e-t)/(i||1)),0),o=0;o<s;o++)r.push(t),t+=i;return r}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(88);t.exports=function(t,e,i,r){if(void 0===r&&(r=t),e<0||e>t.length-1)throw new Error("Index out of bounds");var s=n(t,e);return i&&i.call(r,s),s}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(60);t.exports=function(t,e,i,r,s){if(void 0===e&&(e=0),void 0===i&&(i=t.length),void 0===s&&(s=t),n(t,e,i)){var o=i-e,a=t.splice(e,o);if(r)for(var h=0;h<a.length;h++){var u=a[h];r.call(s,u)}return a}return[]}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(88);t.exports=function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=t.length);var r=e+Math.floor(Math.random()*i);return n(t,r)}},function(t,e){t.exports=function(t,e,i){var n=t.indexOf(e),r=t.indexOf(i);return-1!==n&&-1===r&&(t[n]=i,!0)}},function(t,e){t.exports=function(t,e){var i=t.indexOf(e);return-1!==i&&i>0&&(t.splice(i,1),t.unshift(e)),e}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(60);t.exports=function(t,e,i,r,s){if(void 0===r&&(r=0),void 0===s&&(s=t.length),n(t,r,s))for(var o=r;o<s;o++){var a=t[o];a.hasOwnProperty(e)&&(a[e]=i)}return t}},function(t,e){t.exports=function(t,e,i){if(e!==i){var n=t.indexOf(e),r=t.indexOf(i);if(n<0||r<0)throw new Error("Supplied items must be elements of the same array");return t[n]=i,t[r]=e,t}}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(13),s=new n({initialize:function(t){this.scene=t,this.systems=t.sys,this._list=[],this._pendingInsertion=[],this._pendingRemoval=[],t.sys.events.once("boot",this.boot,this),t.sys.events.on("start",this.start,this)},boot:function(){this.systems.events.once("destroy",this.destroy,this)},start:function(){var t=this.systems.events;t.on("preupdate",this.preUpdate,this),t.on("update",this.update,this),t.once("shutdown",this.shutdown,this)},add:function(t){return-1===this._list.indexOf(t)&&-1===this._pendingInsertion.indexOf(t)&&this._pendingInsertion.push(t),t},preUpdate:function(){var t=this._pendingRemoval.length,e=this._pendingInsertion.length;if(0!==t||0!==e){var i,n;for(i=0;i<t;i++){n=this._pendingRemoval[i];var r=this._list.indexOf(n);r>-1&&this._list.splice(r,1)}this._list=this._list.concat(this._pendingInsertion.splice(0)),this._pendingRemoval.length=0,this._pendingInsertion.length=0}},update:function(t,e){for(var i=0;i<this._list.length;i++){var n=this._list[i];n.active&&n.preUpdate.call(n,t,e)}},remove:function(t){var e=this._list.indexOf(t);return-1!==e&&this._list.splice(e,1),t},removeAll:function(){for(var t=this._list.length;t--;)this.remove(this._list[t]);return this},shutdown:function(){this.removeAll(),this._list.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0;var t=this.systems.events;t.off("preupdate",this.preUpdate,this),t.off("update",this.update,this),t.off("shutdown",this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off("start",this.start,this),this.scene=null,this.systems=null},length:{get:function(){return this._list.length}}});r.register("UpdateList",s,"updateList"),t.exports=s},function(t,e){t.exports=function(t,e,i){void 0===i&&(i={local:{x:0,y:0,width:0,height:0},global:{x:0,y:0,width:0,height:0},lines:{shortest:0,longest:0,lengths:null}});for(var n=t.text,r=n.length,s=Number.MAX_VALUE,o=Number.MAX_VALUE,a=0,h=0,u=t.fontData.chars,c=t.fontData.lineHeight,l=t.letterSpacing,f=0,d=0,p=0,g=null,v=0,y=0,m=t.fontSize/t.fontData.size,x=m*t.scaleX,b=m*t.scaleY,w=null,T=0,S=[],_=Number.MAX_VALUE,A=0,E=0,I=0,C=0;C<r;C++)if(10!==(p=n.charCodeAt(C))){if(g=u[p]){if(v=f,y=d,null!==w){var M=g.kerning[T];v+=void 0!==M?M:0}s>v&&(s=v),o>y&&(o=y);var P=v+g.xAdvance,k=y+c;a<P&&(a=P),h<k&&(h=k),f+=g.xAdvance+l,w=g,T=p,I=P*m}}else f=0,d+=c,w=null,S[E]=I,I>A&&(A=I),I<_&&(_=I),E++,I=0;S[E]=I,I>A&&(A=I),I<_&&(_=I);var O=i.local,N=i.global,F=i.lines;return O.x=s*m,O.y=o*m,O.width=a*m,O.height=h*m,N.x=t.x-t.displayOriginX+s*x,N.y=t.y-t.displayOriginY+o*b,N.width=a*x,N.height=h*b,F.shortest=_,F.longest=A,F.lengths=S,e&&(O.x=Math.round(O.x),O.y=Math.round(O.y),O.width=Math.round(O.width),O.height=Math.round(O.height),N.x=Math.round(N.x),N.y=Math.round(N.y),N.width=Math.round(N.width),N.height=Math.round(N.height),F.shortest=Math.round(_),F.longest=Math.round(A)),i}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(333);t.exports=function(t,e,i,r,s,o,a){var h=t.sys.textures.getFrame(i,r),u=t.sys.cache.xml.get(s);if(h&&u){var c=n(u,o,a,h);return t.sys.cache.bitmapFont.add(e,{data:c,texture:i,frame:r}),!0}return!1}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(2),r=i(2);n=i(678),r=i(679),t.exports={renderWebGL:n,renderCanvas:r}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(19);t.exports=function(t,e,i,r,s){var o=e._text,a=o.length;if(0!==a){var h=this.pipeline;t.setPipeline(h,e);var u=h._tempMatrix1,c=h._tempMatrix2,l=h._tempMatrix3;c.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY),u.copyFrom(r.matrix),s?(u.multiplyWithOffset(s,-r.scrollX*e.scrollFactorX,-r.scrollY*e.scrollFactorY),c.e=e.x,c.f=e.y,u.multiply(c,l)):(c.e-=r.scrollX*e.scrollFactorX,c.f-=r.scrollY*e.scrollFactorY,u.multiply(c,l));var f=e.frame,d=f.glTexture,p=f.cutX,g=f.cutY,v=d.width,y=d.height,m=e._isTinted&&e.tintFill,x=n.getTintAppendFloatAlpha(e._tintTL,r.alpha*e._alphaTL),b=n.getTintAppendFloatAlpha(e._tintTR,r.alpha*e._alphaTR),w=n.getTintAppendFloatAlpha(e._tintBL,r.alpha*e._alphaBL),T=n.getTintAppendFloatAlpha(e._tintBR,r.alpha*e._alphaBR);h.setTexture2D(d,0);var S,_,A=0,E=0,I=0,C=0,M=e._letterSpacing,P=0,k=0,O=0,N=0,F=e.fontData,R=F.chars,L=F.lineHeight,D=e._fontSize/F.size,B=e._align,U=0,X=0;e.getTextBounds(!1);var V=e._bounds.lines;1===B?X=(V.longest-V.lengths[0])/2:2===B&&(X=V.longest-V.lengths[0]);for(var z=r.roundPixels,Y=0;Y<a;Y++)if(10!==(I=o.charCodeAt(Y))){if(S=R[I]){P=p+S.x,k=g+S.y,O=S.width,N=S.height;var j=S.xOffset+A,G=S.yOffset+E;if(null!==_){var W=S.kerning[C];j+=void 0!==W?W:0}if(A+=S.xAdvance+M,_=S,C=I,0!==O&&0!==N&&32!==I){j*=D,G*=D,j-=e.displayOriginX;var H=P/v,q=k/y,K=(P+O)/v,J=(k+N)/y,Q=(j+=X)+O*D,Z=(G-=e.displayOriginY)+N*D,$=l.getX(j,G),tt=l.getY(j,G),et=l.getX(j,Z),it=l.getY(j,Z),nt=l.getX(Q,Z),rt=l.getY(Q,Z),st=l.getX(Q,G),ot=l.getY(Q,G);z&&($|=0,tt|=0,et|=0,it|=0,nt|=0,rt|=0,st|=0,ot|=0),h.batchQuad($,tt,et,it,nt,rt,st,ot,H,q,K,J,x,b,w,T,m)}}}else U++,1===B?X=(V.longest-V.lengths[U])/2:2===B&&(X=V.longest-V.lengths[U]),A=0,E+=L,_=null}}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(117);t.exports=function(t,e,i,r,s){var o=e._text,a=o.length,h=t.currentContext;if(0!==a&&n(t,h,e,r,s)){var u=e.frame,c=e.fontData.chars,l=e.fontData.lineHeight,f=e._letterSpacing,d=0,p=0,g=0,v=null,y=0,m=0,x=0,b=0,w=0,T=0,S=null,_=0,A=e.frame.source.image,E=u.cutX,I=u.cutY,C=e._fontSize/e.fontData.size,M=e._align,P=0,k=0;e.getTextBounds(!1);var O=e._bounds.lines;1===M?k=(O.longest-O.lengths[0])/2:2===M&&(k=O.longest-O.lengths[0]),h.translate(-e.displayOriginX,-e.displayOriginY);for(var N=r.roundPixels,F=0;F<a;F++)if(10!==(g=o.charCodeAt(F))){if(v=c[g]){if(y=E+v.x,m=I+v.y,x=v.width,b=v.height,w=v.xOffset+d,T=v.yOffset+p,null!==S){var R=v.kerning[_];w+=void 0!==R?R:0}w*=C,T*=C,w+=k,d+=v.xAdvance+f,S=v,_=g,0!==x&&0!==b&&32!==g&&(N&&(w|=0,T|=0),h.save(),h.translate(w,T),h.scale(C,C),h.drawImage(A,y,m,x,b,0,0,x,b),h.restore())}}else P++,1===M?k=(O.longest-O.lengths[P])/2:2===M&&(k=O.longest-O.lengths[P]),d=0,p+=l,S=null;h.restore()}}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(2),r=i(2);n=i(681),r=i(682),t.exports={renderWebGL:n,renderCanvas:r}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(19);t.exports=function(t,e,i,r,s){var o=e.getRenderList();if(0!==o.length){var a=this.pipeline;t.setPipeline(a,e);var h=r.scrollX*e.scrollFactorX,u=r.scrollY*e.scrollFactorY,c=a._tempMatrix1;c.copyFrom(r.matrix),s&&(c.multiplyWithOffset(s,-h,-u),h=0,u=0);for(var l=e.x-h,f=e.y-u,d=-1,p=r.alpha*e.alpha,g=r.roundPixels,v=0;v<o.length;v++){var y=o[v],m=y.frame,x=y.alpha*p;if(0!==x){var b=m.width,w=m.height,T=l+y.x+m.x,S=f+y.y+m.y;y.flipX&&(b*=-1,T+=m.width),y.flipY&&(w*=-1,S+=m.height);var _=T+b,A=S+w,E=c.getX(T,S),I=c.getY(T,S),C=c.getX(_,A),M=c.getY(_,A),P=n.getTintAppendFloatAlpha(16777215,x);m.sourceIndex!==d&&(a.setTexture2D(m.glTexture,0),d=m.sourceIndex),g&&(E|=0,I|=0,C|=0,M|=0),a.batchQuad(E,I,E,M,C,M,C,I,m.u0,m.v0,m.u1,m.v1,P,P,P,P,!1)&&(d=-1)}}}}},function(t,e){t.exports=function(t,e,i,n,r){var s=e.getRenderList();if(0!==s.length){var o=t.currentContext,a=n.alpha*e.alpha;if(0!==a){o.globalCompositeOperation=t.blendModes[e.blendMode];var h=e.x-n.scrollX*e.scrollFactorX,u=e.y-n.scrollY*e.scrollFactorY;o.save(),r&&r.copyToContext(o);for(var c=n.roundPixels,l=0;l<s.length;l++){var f=s[l],d=f.flipX||f.flipY,p=f.frame,g=p.canvasData,v=p.x,y=p.y,m=1,x=1,b=f.alpha*a;0!==b&&(o.globalAlpha=b,d?(f.flipX&&(m=-1,v-=g.width),f.flipY&&(x=-1,y-=g.height),o.save(),o.translate(f.x+h,f.y+u),o.scale(m,x),o.drawImage(p.source.image,g.x,g.y,g.width,g.height,v,y,g.width,g.height),o.restore()):(c&&(v|=0,y|=0),o.drawImage(p.source.image,g.x,g.y,g.width,g.height,v+f.x+h,y+f.y+u,g.width,g.height)))}o.restore()}}}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=new(i(0))({initialize:function(t,e,i,n,r){this.parent=t,this.x=e,this.y=i,this.frame=n,this.data={},this._visible=r,this._alpha=1,this.flipX=!1,this.flipY=!1},setFrame:function(t){return this.frame=void 0===t?this.parent.frame:this.parent.texture.get(t),this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this},reset:function(t,e,i){return this.x=t,this.y=e,this.flipX=!1,this.flipY=!1,this._alpha=1,this._visible=!0,this.parent.dirty=!0,i&&this.setFrame(i),this},setFlipX:function(t){return this.flipX=t,this},setFlipY:function(t){return this.flipY=t,this},setFlip:function(t,e){return this.flipX=t,this.flipY=e,this},setVisible:function(t){return this.visible=t,this},setAlpha:function(t){return this.alpha=t,this},destroy:function(){this.parent.dirty=!0,this.parent.children.remove(this),this.parent=void 0,this.frame=void 0,this.data=void 0},visible:{get:function(){return this._visible},set:function(t){this._visible=t,this.parent.dirty=!0}},alpha:{get:function(){return this._alpha},set:function(t){this._alpha=t,this.parent.dirty=!0}}});t.exports=n},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(2),r=i(2);n=i(685),r=i(686),t.exports={renderWebGL:n,renderCanvas:r}},function(t,e){t.exports=function(t,e,i,n,r){var s=e.list;if(0!==s.length){var o=e.localTransform;r?(o.loadIdentity(),o.multiply(r),o.translate(e.x,e.y),o.rotate(e.rotation),o.scale(e.scaleX,e.scaleY)):o.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY);var a=-1!==e.blendMode;a||t.setBlendMode(0);for(var h=e._alpha,u=e.scrollFactorX,c=e.scrollFactorY,l=0;l<s.length;l++){var f=s[l];if(f.willRender(n)){var d=f._alpha,p=f.scrollFactorX,g=f.scrollFactorY;a||f.blendMode===t.currentBlendMode||t.setBlendMode(f.blendMode),f.setScrollFactor(p*u,g*c),f.setAlpha(d*h),f.renderWebGL(t,f,i,n,o),f.setAlpha(d),f.setScrollFactor(p,g)}}}}},function(t,e){t.exports=function(t,e,i,n,r){var s=e.list;if(0!==s.length){var o=e.localTransform;r?(o.loadIdentity(),o.multiply(r),o.translate(e.x,e.y),o.rotate(e.rotation),o.scale(e.scaleX,e.scaleY)):o.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY);var a=-1!==e.blendMode;a||t.setBlendMode(0);for(var h=e._alpha,u=e.scrollFactorX,c=e.scrollFactorY,l=0;l<s.length;l++){var f=s[l];if(f.willRender(n)){var d=f._alpha,p=f._blendMode,g=f.scrollFactorX,v=f.scrollFactorY;f.setScrollFactor(g*u,v*c),f.setAlpha(d*h),a&&f.setBlendMode(e._blendMode),f.renderCanvas(t,f,i,n,o),f.setAlpha(d),f.setScrollFactor(g,v),f.setBlendMode(p)}}}}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(2),r=i(2);n=i(688),r=i(689),t.exports={renderWebGL:n,renderCanvas:r}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(19);t.exports=function(t,e,i,r,s){var o=e.text,a=o.length;if(0!==a){var h=this.pipeline;t.setPipeline(h,e);var u=e.cropWidth>0||e.cropHeight>0;u&&(h.flush(),t.pushScissor(e.x,e.y,e.cropWidth*e.scaleX,e.cropHeight*e.scaleY));var c=h._tempMatrix1,l=h._tempMatrix2,f=h._tempMatrix3,d=h._tempMatrix4;l.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY),c.copyFrom(r.matrix),s?(c.multiplyWithOffset(s,-r.scrollX*e.scrollFactorX,-r.scrollY*e.scrollFactorY),l.e=e.x,l.f=e.y,c.multiply(l,f)):(l.e-=r.scrollX*e.scrollFactorX,l.f-=r.scrollY*e.scrollFactorY,c.multiply(l,f));var p=e.frame,g=p.glTexture,v=p.cutX,y=p.cutY,m=g.width,x=g.height,b=e._isTinted&&e.tintFill,w=n.getTintAppendFloatAlpha(e._tintTL,r.alpha*e._alphaTL),T=n.getTintAppendFloatAlpha(e._tintTR,r.alpha*e._alphaTR),S=n.getTintAppendFloatAlpha(e._tintBL,r.alpha*e._alphaBL),_=n.getTintAppendFloatAlpha(e._tintBR,r.alpha*e._alphaBR);h.setTexture2D(g,0);var A,E,I=0,C=0,M=0,P=0,k=e.letterSpacing,O=0,N=0,F=0,R=0,L=e.scrollX,D=e.scrollY,B=e.fontData,U=B.chars,X=B.lineHeight,V=e.fontSize/B.size,z=0,Y=e._align,j=0,G=0;e.getTextBounds(!1);var W=e._bounds.lines;1===Y?G=(W.longest-W.lengths[0])/2:2===Y&&(G=W.longest-W.lengths[0]);for(var H=r.roundPixels,q=e.displayCallback,K=e.callbackData,J=0;J<a;J++)if(10!==(M=o.charCodeAt(J))){if(A=U[M]){O=v+A.x,N=y+A.y,F=A.width,R=A.height;var Q=A.xOffset+I-L,Z=A.yOffset+C-D;if(null!==E){var $=A.kerning[P];Q+=void 0!==$?$:0}if(I+=A.xAdvance+k,E=A,P=M,0!==F&&0!==R&&32!==M){if(V=e.fontSize/e.fontData.size,z=0,q){K.color=0,K.tint.topLeft=w,K.tint.topRight=T,K.tint.bottomLeft=S,K.tint.bottomRight=_,K.index=J,K.charCode=M,K.x=Q,K.y=Z,K.scale=V,K.rotation=z,K.data=A.data;var tt=q(K);Q=tt.x,Z=tt.y,V=tt.scale,z=tt.rotation,tt.color?(w=tt.color,T=tt.color,S=tt.color,_=tt.color):(w=tt.tint.topLeft,T=tt.tint.topRight,S=tt.tint.bottomLeft,_=tt.tint.bottomRight),w=n.getTintAppendFloatAlpha(w,r.alpha*e._alphaTL),T=n.getTintAppendFloatAlpha(T,r.alpha*e._alphaTR),S=n.getTintAppendFloatAlpha(S,r.alpha*e._alphaBL),_=n.getTintAppendFloatAlpha(_,r.alpha*e._alphaBR)}Q*=V,Z*=V,Q-=e.displayOriginX,Z-=e.displayOriginY,Q+=G,d.applyITRS(Q,Z,z,V,V),f.multiply(d,l);var et=O/m,it=N/x,nt=(O+F)/m,rt=(N+R)/x,st=F,ot=R,at=l.e,ht=l.f,ut=ot*l.c+l.e,ct=ot*l.d+l.f,lt=st*l.a+ot*l.c+l.e,ft=st*l.b+ot*l.d+l.f,dt=st*l.a+l.e,pt=st*l.b+l.f;H&&(at|=0,ht|=0,ut|=0,ct|=0,lt|=0,ft|=0,dt|=0,pt|=0),h.batchQuad(at,ht,ut,ct,lt,ft,dt,pt,et,it,nt,rt,w,T,S,_,b)}}}else j++,1===Y?G=(W.longest-W.lengths[j])/2:2===Y&&(G=W.longest-W.lengths[j]),I=0,C+=X,E=null;u&&(h.flush(),t.popScissor())}}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(117);t.exports=function(t,e,i,r,s){var o=e.text,a=o.length,h=t.currentContext;if(0!==a&&n(t,h,e,r,s)){var u=e.frame,c=e.displayCallback,l=r.scrollX*e.scrollFactorX,f=r.scrollY*e.scrollFactorY,d=e.fontData.chars,p=e.fontData.lineHeight,g=0,v=0,y=0,m=0,x=null,b=0,w=0,T=0,S=0,_=0,A=0,E=null,I=0,C=e.frame.source.image,M=u.cutX,P=u.cutY,k=0,O=e.fontSize/e.fontData.size;e.cropWidth>0&&e.cropHeight>0&&(h.save(),h.beginPath(),h.rect(0,0,e.cropWidth,e.cropHeight),h.clip());for(var N=0;N<a;++N)if(O=e.fontSize/e.fontData.size,k=0,10!==(m=o.charCodeAt(N))){if(x=d[m]){if(b=M+x.x,w=P+x.y,T=x.width,S=x.height,_=y+x.xOffset+g-e.scrollX,A=x.yOffset+v-e.scrollY,null!==E){var F=x.kerning[I];_+=void 0!==F?F:0}if(c){var R=c({tint:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},index:N,charCode:m,x:_,y:A,scale:O,rotation:0,data:x.data});_=R.x,A=R.y,O=R.scale,k=R.rotation}_*=O,A*=O,_-=l,A-=f,r.roundPixels&&(_|=0,A|=0),h.save(),h.translate(_,A),h.rotate(k),h.scale(O,O),h.drawImage(C,b,w,T,S,0,0,T,S),h.restore(),g+=x.xAdvance,y+=1,E=x,I=m}}else g=0,y=0,v+=p,E=null;e.cropWidth>0&&e.cropHeight>0&&h.restore(),h.restore()}}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(2),r=i(2);n=i(691),r=i(338),r=i(338),t.exports={renderWebGL:n,renderCanvas:r}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(178),r=i(19),s=function(t,e,i){this.x=t,this.y=e,this.width=i},o=function(t,e,i){this.points=[],this.pointsLength=1,this.points[0]=new s(t,e,i)},a=[];t.exports=function(t,e,i,h,u){if(0!==e.commandBuffer.length){var c=this.pipeline,l=c._tempMatrix1,f=c._tempMatrix2,d=c._tempMatrix4;t.setPipeline(c),d.loadIdentity(),f.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY),l.copyFrom(h.matrix),u?(l.multiplyWithOffset(u,-h.scrollX*e.scrollFactorX,-h.scrollY*e.scrollFactorY),f.e=e.x,f.f=e.y,l.multiply(f)):(f.e-=h.scrollX*e.scrollFactorX,f.f-=h.scrollY*e.scrollFactorY,l.multiply(f));for(var p=e.commandBuffer,g=h.alpha*e.alpha,v=1,y=c.fillTint,m=c.strokeTint,x=0,b=0,w=0,T=2*Math.PI,S=[],_=0,A=!1,E=null,I=r.getTintAppendFloatAlphaAndSwap,C=0;C<p.length;C++)switch(p[C]){case n.BEGIN_PATH:S.length=0,E=null,A=!0;break;case n.CLOSE_PATH:A=!1,E&&E.points.length&&E.points.push(E.points[0]);break;case n.FILL_PATH:for(_=0;_<S.length;_++)c.batchFillPath(S[_].points,d,l);break;case n.STROKE_PATH:for(_=0;_<S.length;_++)c.batchStrokePath(S[_].points,v,A,d,l);break;case n.LINE_STYLE:v=p[++C];var M=I(p[++C],p[++C]*g);m.TL=M,m.TR=M,m.BL=M,m.BR=M;break;case n.FILL_STYLE:var P=I(p[++C],p[++C]*g);y.TL=P,y.TR=P,y.BL=P,y.BR=P;break;case n.GRADIENT_FILL_STYLE:var k=p[++C]*g;y.TL=I(p[++C],k),y.TR=I(p[++C],k),y.BL=I(p[++C],k),y.BR=I(p[++C],k);break;case n.GRADIENT_LINE_STYLE:v=p[++C];var O=p[++C]*g;m.TL=I(p[++C],O),m.TR=I(p[++C],O),m.BL=I(p[++C],O),m.BR=I(p[++C],O);break;case n.ARC:var N=0,F=p[++C],R=p[++C],L=p[++C],D=p[++C],B=p[++C],U=p[++C],X=p[++C];for(B-=D,U?B<-T?B=-T:B>0&&(B=B%T-T):B>T?B=T:B<0&&(B=T+B%T),null===E&&(E=new o(F+Math.cos(D)*L,R+Math.sin(D)*L,v),S.push(E),N+=.01);N<1+X;)w=B*N+D,x=F+Math.cos(w)*L,b=R+Math.sin(w)*L,E.points.push(new s(x,b,v)),N+=.01;w=B+D,x=F+Math.cos(w)*L,b=R+Math.sin(w)*L,E.points.push(new s(x,b,v));break;case n.FILL_RECT:c.batchFillRect(p[++C],p[++C],p[++C],p[++C],d,l);break;case n.FILL_TRIANGLE:c.batchFillTriangle(p[++C],p[++C],p[++C],p[++C],p[++C],p[++C],d,l);break;case n.STROKE_TRIANGLE:c.batchStrokeTriangle(p[++C],p[++C],p[++C],p[++C],p[++C],p[++C],v,d,l);break;case n.LINE_TO:null!==E?E.points.push(new s(p[++C],p[++C],v)):(E=new o(p[++C],p[++C],v),S.push(E));break;case n.MOVE_TO:E=new o(p[++C],p[++C],v),S.push(E);break;case n.SAVE:a.push(d.copyToArray());break;case n.RESTORE:d.copyFromArray(a.pop());break;case n.TRANSLATE:F=p[++C],R=p[++C],d.translate(F,R);break;case n.SCALE:F=p[++C],R=p[++C],d.scale(F,R);break;case n.ROTATE:d.rotate(p[++C]);break;case n.SET_TEXTURE:var V=p[++C],z=p[++C];c.currentFrame=V,t.setTexture2D(V.glTexture,0),c.tintEffect=z;break;case n.CLEAR_TEXTURE:c.currentFrame=t.blankTexture,t.setTexture2D(t.blankTexture.glTexture,0),c.tintEffect=2}}}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(2),r=i(2);n=i(693),r=i(694),t.exports={renderWebGL:n,renderCanvas:r}},function(t,e){t.exports=function(t,e,i,n,r){this.pipeline.batchSprite(e,n,r)}},function(t,e){t.exports=function(t,e,i,n,r){t.batchSprite(e,e.frame,n,r)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(2),r=i(2);n=i(696),r=i(697),t.exports={renderWebGL:n,renderCanvas:r}},function(t,e){t.exports=function(t,e,i,n,r){this.pipeline.batchSprite(e,n,r)}},function(t,e){t.exports=function(t,e,i,n,r){t.batchSprite(e,e.frame,n,r)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={GravityWell:i(339),Particle:i(340),ParticleEmitter:i(341),ParticleEmitterManager:i(180),Zones:i(703)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(344),s=i(91),o=i(1),a=i(49),h=new n({initialize:function(t,e,i,n){void 0===n&&(n=!1),this.propertyKey=e,this.propertyValue=i,this.defaultValue=i,this.steps=0,this.counter=0,this.start=0,this.end=0,this.ease,this.emitOnly=n,this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,this.loadConfig(t)},loadConfig:function(t,e){void 0===t&&(t={}),e&&(this.propertyKey=e),this.propertyValue=o(t,this.propertyKey,this.defaultValue),this.setMethods(),this.emitOnly&&(this.onUpdate=this.defaultUpdate)},toJSON:function(){return this.propertyValue},onChange:function(t){return this.propertyValue=t,this.setMethods()},setMethods:function(){var t=this.propertyValue,e=typeof t;if("number"===e)this.onEmit=this.staticValueEmit,this.onUpdate=this.staticValueUpdate;else if(Array.isArray(t))this.onEmit=this.randomStaticValueEmit;else if("function"===e)this.emitOnly?this.onEmit=t:this.onUpdate=t;else if("object"===e&&(this.has(t,"random")||this.hasBoth(t,"start","end")||this.hasBoth(t,"min","max"))){this.start=this.has(t,"start")?t.start:t.min,this.end=this.has(t,"end")?t.end:t.max;var i=this.hasBoth(t,"min","max")||this.has(t,"random");if(i){var n=t.random;Array.isArray(n)&&(this.start=n[0],this.end=n[1]),this.onEmit=this.randomRangedValueEmit}if(this.has(t,"steps"))this.steps=t.steps,this.counter=this.start,this.onEmit=this.steppedEmit;else{var r=this.has(t,"ease")?t.ease:"Linear";this.ease=s(r),i||(this.onEmit=this.easedValueEmit),this.onUpdate=this.easeValueUpdate}}else"object"===e&&this.hasEither(t,"onEmit","onUpdate")&&(this.has(t,"onEmit")&&(this.onEmit=t.onEmit),this.has(t,"onUpdate")&&(this.onUpdate=t.onUpdate));return this},has:function(t,e){return t.hasOwnProperty(e)},hasBoth:function(t,e,i){return t.hasOwnProperty(e)&&t.hasOwnProperty(i)},hasEither:function(t,e,i){return t.hasOwnProperty(e)||t.hasOwnProperty(i)},defaultEmit:function(t,e,i){return i},defaultUpdate:function(t,e,i,n){return n},staticValueEmit:function(){return this.propertyValue},staticValueUpdate:function(){return this.propertyValue},randomStaticValueEmit:function(){var t=Math.floor(Math.random()*this.propertyValue.length);return this.propertyValue[t]},randomRangedValueEmit:function(t,e){var i=r(this.start,this.end);return t&&t.data[e]&&(t.data[e].min=i),i},steppedEmit:function(){var t=this.counter,e=this.counter+(this.end-this.start)/this.steps;return this.counter=a(e,this.start,this.end),t},easedValueEmit:function(t,e){if(t&&t.data[e]){var i=t.data[e];i.min=this.start,i.max=this.end}return this.start},easeValueUpdate:function(t,e,i){var n=t.data[e];return(n.max-n.min)*this.ease(i)+n.min}});t.exports=h},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(2),r=i(2);n=i(701),r=i(702),t.exports={renderWebGL:n,renderCanvas:r}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(19);t.exports=function(t,e,i,r,s){var o=e.emitters.list,a=o.length;if(0!==a){var h=this.pipeline,u=h._tempMatrix1.copyFrom(r.matrix),c=h._tempMatrix2,l=h._tempMatrix3,f=h._tempMatrix4.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY);u.multiply(f),t.setPipeline(h);var d=r.roundPixels,p=e.defaultFrame.glTexture,g=n.getTintAppendFloatAlphaAndSwap;h.setTexture2D(p,0);for(var v=0;v<a;v++){var y=o[v],m=y.alive,x=m.length;if(y.visible&&0!==x){var b=r.scrollX*y.scrollFactorX,w=r.scrollY*y.scrollFactorY;s&&(u.multiplyWithOffset(s,-b,-w),b=0,w=0),t.setBlendMode(y.blendMode)&&h.setTexture2D(p,0);for(var T=0;T<x;T++){var S=m[T],_=S.alpha*r.alpha;if(!(_<=0)){var A=S.frame,E=-A.halfWidth,I=-A.halfHeight,C=E+A.width,M=I+A.height;l.applyITRS(0,0,S.rotation,S.scaleX,S.scaleY),l.e=S.x-b,l.f=S.y-w,u.multiply(l,c);var P=c.getX(E,I),k=c.getY(E,I),O=c.getX(E,M),N=c.getY(E,M),F=c.getX(C,M),R=c.getY(C,M),L=c.getX(C,I),D=c.getY(C,I);d&&(P|=0,k|=0,O|=0,N|=0,F|=0,R|=0,L|=0,D|=0);var B=g(S.tint,_);h.batchQuad(P,k,O,N,F,R,L,D,A.u0,A.v0,A.u1,A.v1,B,B,B,B,0)&&h.setTexture2D(p,0)}}}}}}},function(t,e){t.exports=function(t,e,i,n,r){var s=e.emitters.list,o=s.length;if(0!==o){var a=t._tempMatrix1.copyFrom(n.matrix),h=t._tempMatrix2,u=t._tempMatrix3,c=t._tempMatrix4.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY);a.multiply(c);var l=n.roundPixels,f=t.currentContext;f.save();for(var d=0;d<o;d++){var p=s[d],g=p.alive,v=g.length;if(p.visible&&0!==v){var y=n.scrollX*p.scrollFactorX,m=n.scrollY*p.scrollFactorY;r&&(a.multiplyWithOffset(r,-y,-m),y=0,m=0),f.globalCompositeOperation=t.blendModes[p.blendMode];for(var x=0;x<v;x++){var b=g[x],w=b.alpha*n.alpha;if(!(w<=0)){var T=b.frame,S=T.canvasData,_=-T.halfWidth,A=-T.halfHeight;u.applyITRS(0,0,b.rotation,b.scaleX,b.scaleY),u.e=b.x-y,u.f=b.y-m,a.multiply(u,h),f.globalAlpha=w,f.save(),h.copyToContext(f),l&&(_|=0,A|=0),f.drawImage(T.source.image,S.x,S.y,S.width,S.height,_,A,S.width,S.height),f.restore()}}}}f.restore()}}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={DeathZone:i(342),EdgeZone:i(343),RandomZone:i(346)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(2),r=i(2);n=i(705),r=i(706),t.exports={renderWebGL:n,renderCanvas:r}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(19);t.exports=function(t,e,i,r,s){var o=e.frame,a=o.width,h=o.height,u=n.getTintAppendFloatAlpha;this.pipeline.batchTexture(e,o.glTexture,a,h,e.x,e.y,a,h,e.scaleX,e.scaleY,e.rotation,e.flipX,!e.flipY,e.scrollFactorX,e.scrollFactorY,e.displayOriginX,e.displayOriginY,0,0,a,h,u(e._tintTL,r.alpha*e._alphaTL),u(e._tintTR,r.alpha*e._alphaTR),u(e._tintBL,r.alpha*e._alphaBL),u(e._tintBR,r.alpha*e._alphaBR),e._isTinted&&e.tintFill,0,0,r,s),t.setBlankTexture(!0)}},function(t,e){t.exports=function(t,e,i,n,r){t.batchSprite(e,e.frame,n,r)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(708),r=i(17),s={Parse:i(709)};s=r(!1,s,n),t.exports=s},function(t,e){t.exports={TEXT_SET1:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",TEXT_SET2:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET3:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",TEXT_SET4:"ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",TEXT_SET5:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",TEXT_SET6:"ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789\"(),-.' ",TEXT_SET7:"AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW\")28FLRX-'39",TEXT_SET8:"0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET9:"ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'\"?!",TEXT_SET10:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET11:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,\"-+!?()':;0123456789"}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(4);t.exports=function(t,e){var i=e.width,r=e.height,s=Math.floor(i/2),o=Math.floor(r/2),a=n(e,"chars","");if(""!==a){var h=n(e,"image",""),u=n(e,"offset.x",0),c=n(e,"offset.y",0),l=n(e,"spacing.x",0),f=n(e,"spacing.y",0),d=n(e,"lineSpacing",0),p=n(e,"charsPerRow",null);null===p&&(p=t.sys.textures.getFrame(h).width/i)>a.length&&(p=a.length);for(var g=u,v=c,y={retroFont:!0,font:h,size:i,lineHeight:r+d,chars:{}},m=0,x=0;x<a.length;x++){var b=a.charCodeAt(x);y.chars[b]={x:g,y:v,width:i,height:r,centerX:s,centerY:o,xOffset:0,yOffset:0,xAdvance:i,data:{},kerning:{}},++m===p?(m=0,g=u,v+=r+f):g+=i+l}return{data:y,frame:null,texture:h}}}},function(t,e){t.exports=function(t,e,i){var n=t.canvas,r=t.context,s=t.style,o=[],a=0,h=i.length;s.maxLines>0&&s.maxLines<i.length&&(h=s.maxLines),s.syncFont(n,r);for(var u=0;u<h;u++){var c=s.strokeThickness;c+=r.measureText(i[u]).width,s.wordWrap&&(c-=r.measureText(" ").width),o[u]=Math.ceil(c),a=Math.max(a,o[u])}var l=e.fontSize+s.strokeThickness,f=l*h,d=t._lineSpacing||0;return d<0&&Math.abs(d)>l&&(d=-l),0!==d&&(f+=d>0?d*i.length:d*(i.length-1)),{width:a,height:f,lines:h,lineWidths:o,lineSpacing:d,lineHeight:l}}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(2),r=i(2);n=i(712),r=i(713),t.exports={renderWebGL:n,renderCanvas:r}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(19);t.exports=function(t,e,i,r,s){if(""!==e.text){var o=e.frame,a=o.width,h=o.height,u=n.getTintAppendFloatAlpha;this.pipeline.batchTexture(e,o.glTexture,a,h,e.x,e.y,a/e.style.resolution,h/e.style.resolution,e.scaleX,e.scaleY,e.rotation,e.flipX,e.flipY,e.scrollFactorX,e.scrollFactorY,e.displayOriginX,e.displayOriginY,0,0,a,h,u(e._tintTL,r.alpha*e._alphaTL),u(e._tintTR,r.alpha*e._alphaTR),u(e._tintBL,r.alpha*e._alphaBL),u(e._tintBR,r.alpha*e._alphaBR),e._isTinted&&e.tintFill,0,0,r,s)}}},function(t,e){t.exports=function(t,e,i,n,r){""!==e.text&&t.batchSprite(e,e.frame,n,r)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(11),s=i(4),o=i(715),a={fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],backgroundColor:["backgroundColor",null],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],align:["align","left"],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],rtl:["rtl",!1],testString:["testString","|MÃ‰qgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wordWrapWidth:["wordWrap.width",null],wordWrapCallback:["wordWrap.callback",null],wordWrapCallbackScope:["wordWrap.callbackScope",null],wordWrapUseAdvanced:["wordWrap.useAdvancedWrap",!1]},h=new n({initialize:function(t,e){this.parent=t,this.fontFamily,this.fontSize,this.fontStyle,this.backgroundColor,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.align,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.rtl,this.testString,this.baselineX,this.baselineY,this._font,this.setStyle(e,!1);var i=s(e,"metrics",!1);this.metrics=i?{ascent:s(i,"ascent",0),descent:s(i,"descent",0),fontSize:s(i,"fontSize",0)}:o(this)},setStyle:function(t,e){for(var i in void 0===e&&(e=!0),t&&t.hasOwnProperty("fontSize")&&"number"==typeof t.fontSize&&(t.fontSize=t.fontSize.toString()+"px"),a)this[i]="wordWrapCallback"===i||"wordWrapCallbackScope"===i?s(t,a[i][0],a[i][1]):r(t,a[i][0],a[i][1]);var n=s(t,"font",null);this._font=null===n?[this.fontStyle,this.fontSize,this.fontFamily].join(" "):n;var o=s(t,"fill",null);return null!==o&&(this.color=o),e?this.update(!0):this.parent},syncFont:function(t,e){e.font=this._font},syncStyle:function(t,e){e.textBaseline="alphabetic",e.fillStyle=this.color,e.strokeStyle=this.stroke,e.lineWidth=this.strokeThickness,e.lineCap="round",e.lineJoin="round"},syncShadow:function(t,e){e?(t.shadowOffsetX=this.shadowOffsetX,t.shadowOffsetY=this.shadowOffsetY,t.shadowColor=this.shadowColor,t.shadowBlur=this.shadowBlur):(t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowColor=0,t.shadowBlur=0)},update:function(t){return t&&(this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" "),this.metrics=o(this)),this.parent.updateText()},setFont:function(t){return"string"==typeof t?(this.fontFamily=t,this.fontSize="",this.fontStyle=""):(this.fontFamily=s(t,"fontFamily","Courier"),this.fontSize=s(t,"fontSize","16px"),this.fontStyle=s(t,"fontStyle","")),this.update(!0)},setFontFamily:function(t){return this.fontFamily=t,this.update(!0)},setFontStyle:function(t){return this.fontStyle=t,this.update(!0)},setFontSize:function(t){return"number"==typeof t&&(t=t.toString()+"px"),this.fontSize=t,this.update(!0)},setTestString:function(t){return this.testString=t,this.update(!0)},setFixedSize:function(t,e){return this.fixedWidth=t,this.fixedHeight=e,t&&(this.parent.width=t),e&&(this.parent.height=e),this.update(!1)},setBackgroundColor:function(t){return this.backgroundColor=t,this.update(!1)},setFill:function(t){return this.color=t,this.update(!1)},setColor:function(t){return this.color=t,this.update(!1)},setResolution:function(t){return this.resolution=t,this.update(!1)},setStroke:function(t,e){return void 0===t?this.strokeThickness=0:(void 0===e&&(e=this.strokeThickness),this.stroke=t,this.strokeThickness=e),this.update(!0)},setShadow:function(t,e,i,n,r,s){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i="#000"),void 0===n&&(n=0),void 0===r&&(r=!1),void 0===s&&(s=!0),this.shadowOffsetX=t,this.shadowOffsetY=e,this.shadowColor=i,this.shadowBlur=n,this.shadowStroke=r,this.shadowFill=s,this.update(!1)},setShadowOffset:function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.shadowOffsetX=t,this.shadowOffsetY=e,this.update(!1)},setShadowColor:function(t){return void 0===t&&(t="#000"),this.shadowColor=t,this.update(!1)},setShadowBlur:function(t){return void 0===t&&(t=0),this.shadowBlur=t,this.update(!1)},setShadowStroke:function(t){return this.shadowStroke=t,this.update(!1)},setShadowFill:function(t){return this.shadowFill=t,this.update(!1)},setWordWrapWidth:function(t,e){return void 0===e&&(e=!1),this.wordWrapWidth=t,this.wordWrapUseAdvanced=e,this.update(!1)},setWordWrapCallback:function(t,e){return void 0===e&&(e=null),this.wordWrapCallback=t,this.wordWrapCallbackScope=e,this.update(!1)},setAlign:function(t){return void 0===t&&(t="left"),this.align=t,this.update(!1)},setMaxLines:function(t){return void 0===t&&(t=0),this.maxLines=t,this.update(!1)},getTextMetrics:function(){var t=this.metrics;return{ascent:t.ascent,descent:t.descent,fontSize:t.fontSize}},toJSON:function(){var t={};for(var e in a)t[e]=this[e];return t.metrics=this.getTextMetrics(),t},destroy:function(){this.parent=void 0}});t.exports=h},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(28);t.exports=function(t){var e=n.create(this),i=e.getContext("2d");t.syncFont(e,i);var r=Math.ceil(i.measureText(t.testString).width*t.baselineX),s=r,o=2*s;s=s*t.baselineY|0,e.width=r,e.height=o,i.fillStyle="#f00",i.fillRect(0,0,r,o),i.font=t._font,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(t.testString,0,s);var a={ascent:0,descent:0,fontSize:0};if(!i.getImageData(0,0,r,o))return a.ascent=s,a.descent=s+6,a.fontSize=a.ascent+a.descent,n.remove(e),a;var h,u,c=i.getImageData(0,0,r,o).data,l=c.length,f=4*r,d=0,p=!1;for(h=0;h<s;h++){for(u=0;u<f;u+=4)if(255!==c[d+u]){p=!0;break}if(p)break;d+=f}for(a.ascent=s-h,d=l-f,p=!1,h=o;h>s;h--){for(u=0;u<f;u+=4)if(255!==c[d+u]){p=!0;break}if(p)break;d-=f}return a.descent=h-s,a.fontSize=a.ascent+a.descent,n.remove(e),a}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(2),r=i(2);n=i(717),r=i(718),t.exports={renderWebGL:n,renderCanvas:r}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(19);t.exports=function(t,e,i,r,s){e.updateCanvas();var o=n.getTintAppendFloatAlpha;this.pipeline.batchTexture(e,e.fillPattern,e.displayFrame.width*e.tileScaleX,e.displayFrame.height*e.tileScaleY,e.x,e.y,e.width,e.height,e.scaleX,e.scaleY,e.rotation,e.flipX,e.flipY,e.scrollFactorX,e.scrollFactorY,e.originX*e.width,e.originY*e.height,0,0,e.width,e.height,o(e._tintTL,r.alpha*e._alphaTL),o(e._tintTR,r.alpha*e._alphaTR),o(e._tintBL,r.alpha*e._alphaBL),o(e._tintBR,r.alpha*e._alphaBR),e._isTinted&&e.tintFill,e.tilePositionX%e.displayFrame.width/e.displayFrame.width,e.tilePositionY%e.displayFrame.height/e.displayFrame.height,r,s)}},function(t,e){t.exports=function(t,e,i,n,r){e.updateCanvas(),t.batchSprite(e,e.frame,n,r)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(174);i(10).register("blitter",function(t,e,i,r){return this.displayList.add(new n(this.scene,t,e,i,r))})},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(175);i(10).register("container",function(t,e,i){return this.displayList.add(new n(this.scene,t,e,i))})},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(176);i(10).register("dynamicBitmapText",function(t,e,i,r,s){return this.displayList.add(new n(this.scene,t,e,i,r,s))})},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(177);i(10).register("graphics",function(t){return this.displayList.add(new n(this.scene,t))})},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(90);i(10).register("group",function(t,e){return this.updateList.add(new n(this.scene,t,e))})},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(75);i(10).register("image",function(t,e,i,r){return this.displayList.add(new n(this.scene,t,e,i,r))})},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(10),r=i(180);n.register("particles",function(t,e,i){var n=new r(this.scene,t,e,i);return this.displayList.add(n),this.updateList.add(n),n})},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(10),r=i(347);n.register("follower",function(t,e,i,n,s){var o=new r(this.scene,t,e,i,n,s);return this.displayList.add(o),this.updateList.add(o),o})},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(10),r=i(181);n.register("renderTexture",function(t,e,i,n){return this.displayList.add(new r(this.scene,t,e,i,n))})},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(10),r=i(45);n.register("sprite",function(t,e,i,n){var s=new r(this.scene,t,e,i,n);return this.displayList.add(s),this.updateList.add(s),s})},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(116);i(10).register("bitmapText",function(t,e,i,r,s,o){return this.displayList.add(new n(this.scene,t,e,i,r,s,o))})},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(182);i(10).register("text",function(t,e,i,r){return this.displayList.add(new n(this.scene,t,e,i,r))})},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(183);i(10).register("tileSprite",function(t,e,i,r,s,o){return this.displayList.add(new n(this.scene,t,e,i,r,s,o))})},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(100);i(10).register("zone",function(t,e,i,r){return this.displayList.add(new n(this.scene,t,e,i,r))})},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(174),r=i(29),s=i(14),o=i(11);s.register("blitter",function(t,e){void 0===t&&(t={});var i=o(t,"key",null),s=o(t,"frame",null),a=new n(this.scene,0,0,i,s);return void 0!==e&&(t.add=e),r(this.scene,a,t),a})},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(29),r=i(175),s=i(14),o=i(11);s.register("container",function(t,e){void 0===t&&(t={});var i=o(t,"x",0),s=o(t,"y",0),a=new r(this.scene,i,s);return void 0!==e&&(t.add=e),n(this.scene,a,t),a})},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(176),r=i(29),s=i(14),o=i(11);s.register("dynamicBitmapText",function(t,e){void 0===t&&(t={});var i=o(t,"font",""),s=o(t,"text",""),a=o(t,"size",!1),h=new n(this.scene,0,0,i,s,a);return void 0!==e&&(t.add=e),r(this.scene,h,t),h})},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(14),r=i(177);n.register("graphics",function(t,e){void 0===t&&(t={}),void 0!==e&&(t.add=e);var i=new r(this.scene,t);return t.add&&this.scene.sys.displayList.add(i),i})},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(14),r=i(90);n.register("group",function(t){return new r(this.scene,null,t)})},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(29),r=i(14),s=i(11),o=i(75);r.register("image",function(t,e){void 0===t&&(t={});var i=s(t,"key",null),r=s(t,"frame",null),a=new o(this.scene,0,0,i,r);return void 0!==e&&(t.add=e),n(this.scene,a,t),a})},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(14),r=i(11),s=i(1),o=i(180);n.register("particles",function(t,e){void 0===t&&(t={});var i=r(t,"key",null),n=r(t,"frame",null),a=s(t,"emitters",null),h=new o(this.scene,i,n,a);return void 0!==e&&(t.add=e),s(t,"add",!1)&&this.displayList.add(h),this.updateList.add(h),h})},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(29),r=i(14),s=i(11),o=i(181);r.register("renderTexture",function(t,e){void 0===t&&(t={});var i=s(t,"x",0),r=s(t,"y",0),a=s(t,"width",32),h=s(t,"height",32),u=new o(this.scene,i,r,a,h);return void 0!==e&&(t.add=e),n(this.scene,u,t),u})},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(29),r=i(173),s=i(14),o=i(11),a=i(45);s.register("sprite",function(t,e){void 0===t&&(t={});var i=o(t,"key",null),s=o(t,"frame",null),h=new a(this.scene,0,0,i,s);return void 0!==e&&(t.add=e),n(this.scene,h,t),r(h,t),h})},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(116),r=i(29),s=i(14),o=i(11),a=i(4);s.register("bitmapText",function(t,e){void 0===t&&(t={});var i=a(t,"font",""),s=o(t,"text",""),h=o(t,"size",!1),u=a(t,"align",0),c=new n(this.scene,0,0,i,s,h,u);return void 0!==e&&(t.add=e),r(this.scene,c,t),c})},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(29),r=i(14),s=i(11),o=i(182);r.register("text",function(t,e){void 0===t&&(t={});var i=s(t,"text",""),r=s(t,"style",null),a=s(t,"padding",null);null!==a&&(r.padding=a);var h=new o(this.scene,0,0,i,r);return void 0!==e&&(t.add=e),n(this.scene,h,t),h.autoRound=s(t,"autoRound",!0),h.resolution=s(t,"resolution",1),h})},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(29),r=i(14),s=i(11),o=i(183);r.register("tileSprite",function(t,e){void 0===t&&(t={});var i=s(t,"x",0),r=s(t,"y",0),a=s(t,"width",512),h=s(t,"height",512),u=s(t,"key",""),c=s(t,"frame",""),l=new o(this.scene,i,r,a,h,u,c);return void 0!==e&&(t.add=e),n(this.scene,l,t),l})},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(14),r=i(11),s=i(100);n.register("zone",function(t){var e=r(t,"x",0),i=r(t,"y",0),n=r(t,"width",1),o=r(t,"height",n);return new s(this.scene,e,i,n,o)})},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(2),r=i(2);n=i(351),r=i(351),t.exports={renderWebGL:n,renderCanvas:r}},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports=["normal","multiply","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(350);i(10).register("dom",function(t,e,i){return this.displayList.add(new n(this.scene,t,e,i))})},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(2),r=i(2);n=i(750),r=i(751),t.exports={renderWebGL:n,renderCanvas:r}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(19);t.exports=function(t,e,i,r,s){var o=this.pipeline;t.setPipeline(o,e);var a=o._tempMatrix1,h=o._tempMatrix2,u=o._tempMatrix3;h.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY),a.copyFrom(r.matrix),s?(a.multiplyWithOffset(s,-r.scrollX*e.scrollFactorX,-r.scrollY*e.scrollFactorY),h.e=e.x,h.f=e.y,a.multiply(h,u)):(h.e-=r.scrollX*e.scrollFactorX,h.f-=r.scrollY*e.scrollFactorY,a.multiply(h,u));var c=e.frame.glTexture,l=e.vertices,f=e.uv,d=e.colors,p=e.alphas,g=l.length,v=Math.floor(.5*g);o.vertexCount+v>=o.vertexCapacity&&o.flush(),o.setTexture2D(c,0);for(var y=o.vertexViewF32,m=o.vertexViewU32,x=o.vertexCount*o.vertexComponentCount-1,b=0,w=e.tintFill,T=0;T<g;T+=2){var S=l[T+0],_=l[T+1],A=S*u.a+_*u.c+u.e,E=S*u.b+_*u.d+u.f;r.roundPixels&&(A|=0,E|=0),y[++x]=A,y[++x]=E,y[++x]=f[T+0],y[++x]=f[T+1],y[++x]=w,m[++x]=n.getTintAppendFloatAlpha(d[b],r.alpha*p[b]),b++}o.vertexCount+=v}},function(t,e){t.exports=function(){}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(120);i(10).register("mesh",function(t,e,i,r,s,o,a,h){return this.displayList.add(new n(this.scene,t,e,i,r,s,o,a,h))})},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(184);i(10).register("quad",function(t,e,i,r){return this.displayList.add(new n(this.scene,t,e,i,r))})},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(29),r=i(14),s=i(11),o=i(4),a=i(120);r.register("mesh",function(t,e){void 0===t&&(t={});var i=s(t,"key",null),r=s(t,"frame",null),h=o(t,"vertices",[]),u=o(t,"colors",[]),c=o(t,"alphas",[]),l=o(t,"uv",[]),f=new a(this.scene,0,0,h,l,u,c,i,r);return void 0!==e&&(t.add=e),n(this.scene,f,t),f})},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(29),r=i(14),s=i(11),o=i(184);r.register("quad",function(t,e){void 0===t&&(t={});var i=s(t,"x",0),r=s(t,"y",0),a=s(t,"key",null),h=s(t,"frame",null),u=new o(this.scene,i,r,a,h);return void 0!==e&&(t.add=e),n(this.scene,u,t),u})},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(353),s=i(13),o=new n({Extends:r,initialize:function(t){this.scene=t,this.systems=t.sys,t.sys.settings.isBooted||t.sys.events.once("boot",this.boot,this),r.call(this)},boot:function(){var t=this.systems.events;t.on("shutdown",this.shutdown,this),t.on("destroy",this.destroy,this)},destroy:function(){this.shutdown(),this.scene=void 0,this.systems=void 0}});s.register("LightsPlugin",o,"lights"),t.exports=o},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(84);n.Area=i(758),n.Circumference=i(233),n.CircumferencePoint=i(138),n.Clone=i(759),n.Contains=i(43),n.ContainsPoint=i(760),n.ContainsRect=i(761),n.CopyFrom=i(762),n.Equals=i(763),n.GetBounds=i(764),n.GetPoint=i(230),n.GetPoints=i(232),n.Offset=i(765),n.OffsetPoint=i(766),n.Random=i(139),t.exports=n},function(t,e){t.exports=function(t){return t.radius>0?Math.PI*t.radius*t.radius:0}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(84);t.exports=function(t){return new n(t.x,t.y,t.radius)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(43);t.exports=function(t,e){return n(t,e.x,e.y)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(43);t.exports=function(t,e){return n(t,e.x,e.y)&&n(t,e.right,e.y)&&n(t,e.x,e.bottom)&&n(t,e.right,e.bottom)}},function(t,e){t.exports=function(t,e){return e.setTo(t.x,t.y,t.radius)}},function(t,e){t.exports=function(t,e){return t.x===e.x&&t.y===e.y&&t.radius===e.radius}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(9);t.exports=function(t,e){return void 0===e&&(e=new n),e.x=t.left,e.y=t.top,e.width=t.diameter,e.height=t.diameter,e}},function(t,e){t.exports=function(t,e,i){return t.x+=e,t.y+=i,t}},function(t,e){t.exports=function(t,e){return t.x+=e.x,t.y+=e.y,t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(118);n.Area=i(768),n.Circumference=i(337),n.CircumferencePoint=i(179),n.Clone=i(769),n.Contains=i(89),n.ContainsPoint=i(770),n.ContainsRect=i(771),n.CopyFrom=i(772),n.Equals=i(773),n.GetBounds=i(774),n.GetPoint=i(335),n.GetPoints=i(336),n.Offset=i(775),n.OffsetPoint=i(776),n.Random=i(146),t.exports=n},function(t,e){t.exports=function(t){return t.isEmpty()?0:t.getMajorRadius()*t.getMinorRadius()*Math.PI}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(118);t.exports=function(t){return new n(t.x,t.y,t.width,t.height)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(89);t.exports=function(t,e){return n(t,e.x,e.y)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(89);t.exports=function(t,e){return n(t,e.x,e.y)&&n(t,e.right,e.y)&&n(t,e.x,e.bottom)&&n(t,e.right,e.bottom)}},function(t,e){t.exports=function(t,e){return e.setTo(t.x,t.y,t.width,t.height)}},function(t,e){t.exports=function(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(9);t.exports=function(t,e){return void 0===e&&(e=new n),e.x=t.left,e.y=t.top,e.width=t.width,e.height=t.height,e}},function(t,e){t.exports=function(t,e,i){return t.x+=e,t.y+=i,t}},function(t,e){t.exports=function(t,e){return t.x+=e.x,t.y+=e.y,t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(58);t.exports=function(t,e){return n(t.x,t.y,e.x,e.y)<=t.radius+e.radius}},function(t,e){t.exports=function(t,e){var i=e.width/2,n=e.height/2,r=Math.abs(t.x-e.x-i),s=Math.abs(t.y-e.y-n),o=i+t.radius,a=n+t.radius;if(r>o||s>a)return!1;if(r<=i||s<=n)return!0;var h=r-i,u=s-n;return h*h+u*u<=t.radius*t.radius}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(9),r=i(185);t.exports=function(t,e,i){return void 0===i&&(i=new n),r(t,e)&&(i.x=Math.max(t.x,e.x),i.y=Math.max(t.y,e.y),i.width=Math.min(t.right,e.right)-i.x,i.height=Math.min(t.bottom,e.bottom)-i.y),i}},function(t,e){t.exports=function(t,e){var i=t.x1,n=t.y1,r=t.x2,s=t.y2,o=e.x,a=e.y,h=e.right,u=e.bottom,c=0;if(i>=o&&i<=h&&n>=a&&n<=u||r>=o&&r<=h&&s>=a&&s<=u)return!0;if(i<o&&r>=o){if((c=n+(s-n)*(o-i)/(r-i))>a&&c<=u)return!0}else if(i>h&&r<=h&&(c=n+(s-n)*(h-i)/(r-i))>=a&&c<=u)return!0;if(n<a&&s>=a){if((c=i+(r-i)*(a-n)/(s-n))>=o&&c<=h)return!0}else if(n>u&&s<=u&&(c=i+(r-i)*(u-n)/(s-n))>=o&&c<=h)return!0;return!1}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(357);t.exports=function(t,e){if(!n(t,e))return!1;var i=Math.min(e.x1,e.x2),r=Math.max(e.x1,e.x2),s=Math.min(e.y1,e.y2),o=Math.max(e.y1,e.y2);return t.x>=i&&t.x<=r&&t.y>=s&&t.y<=o}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(121),r=i(44),s=i(186),o=i(358);t.exports=function(t,e){if(e.left>t.right||e.right<t.left||e.top>t.bottom||e.bottom<t.top)return!1;var i=e.getLineA(),a=e.getLineB(),h=e.getLineC();if(r(t,i.x1,i.y1)||r(t,i.x2,i.y2))return!0;if(r(t,a.x1,a.y1)||r(t,a.x2,a.y2))return!0;if(r(t,h.x1,h.y1)||r(t,h.x2,h.y2))return!0;var u=t.getLineA(),c=t.getLineB(),l=t.getLineC(),f=t.getLineD();if(n(i,u)||n(i,c)||n(i,l)||n(i,f))return!0;if(n(a,u)||n(a,c)||n(a,l)||n(a,f))return!0;if(n(h,u)||n(h,c)||n(h,l)||n(h,f))return!0;var d=o(t);return s(e,d,!0).length>0}},function(t,e){t.exports=function(t,e,i,n,r,s){return void 0===s&&(s=0),!(e>t.right+s||i<t.left-s||n>t.bottom+s||r<t.top-s)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(356),r=i(77);t.exports=function(t,e){return!(t.left>e.right||t.right<e.left||t.top>e.bottom||t.bottom<e.top||!r(t,e.x,e.y)&&!n(t.getLineA(),e)&&!n(t.getLineB(),e)&&!n(t.getLineC(),e))}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(77),r=i(121);t.exports=function(t,e){return!!(n(t,e.getPointA())||n(t,e.getPointB())||r(t.getLineA(),e)||r(t.getLineB(),e)||r(t.getLineC(),e))}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(186),r=i(359),s=i(121);t.exports=function(t,e){if(t.left>e.right||t.right<e.left||t.top>e.bottom||t.bottom<e.top)return!1;var i=t.getLineA(),o=t.getLineB(),a=t.getLineC(),h=e.getLineA(),u=e.getLineB(),c=e.getLineC();if(s(i,h)||s(i,u)||s(i,c))return!0;if(s(o,h)||s(o,u)||s(o,c))return!0;if(s(a,h)||s(a,u)||s(a,c))return!0;var l=r(t),f=n(e,l,!0);return f.length>0||(l=r(e),(f=n(t,l,!0)).length>0)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(71);n.Angle=i(78),n.BresenhamPoints=i(251),n.CenterOn=i(788),n.Clone=i(789),n.CopyFrom=i(790),n.Equals=i(791),n.GetMidPoint=i(792),n.GetNormal=i(793),n.GetPoint=i(239),n.GetPoints=i(141),n.Height=i(794),n.Length=i(57),n.NormalAngle=i(360),n.NormalX=i(795),n.NormalY=i(796),n.Offset=i(797),n.PerpSlope=i(798),n.Random=i(142),n.ReflectAngle=i(799),n.Rotate=i(800),n.RotateAroundPoint=i(801),n.RotateAroundXY=i(187),n.SetToAngle=i(802),n.Slope=i(803),n.Width=i(804),t.exports=n},function(t,e){t.exports=function(t,e,i){var n=e-(t.x1+t.x2)/2,r=i-(t.y1+t.y2)/2;return t.x1+=n,t.y1+=r,t.x2+=n,t.y2+=r,t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(71);t.exports=function(t){return new n(t.x1,t.y1,t.x2,t.y2)}},function(t,e){t.exports=function(t,e){return e.setTo(t.x1,t.y1,t.x2,t.y2)}},function(t,e){t.exports=function(t,e){return t.x1===e.x1&&t.y1===e.y1&&t.x2===e.x2&&t.y2===e.y2}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(5);t.exports=function(t,e){return void 0===e&&(e=new n),e.x=(t.x1+t.x2)/2,e.y=(t.y1+t.y2)/2,e}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(18),r=i(78),s=i(5);t.exports=function(t,e){void 0===e&&(e=new s);var i=r(t)-n.TAU;return e.x=Math.cos(i),e.y=Math.sin(i),e}},function(t,e){t.exports=function(t){return Math.abs(t.y1-t.y2)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(18),r=i(78);t.exports=function(t){return Math.cos(r(t)-n.TAU)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(18),r=i(78);t.exports=function(t){return Math.sin(r(t)-n.TAU)}},function(t,e){t.exports=function(t,e,i){return t.x1+=e,t.y1+=i,t.x2+=e,t.y2+=i,t}},function(t,e){t.exports=function(t){return-(t.x2-t.x1)/(t.y2-t.y1)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(78),r=i(360);t.exports=function(t,e){return 2*r(e)-Math.PI-n(t)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(187);t.exports=function(t,e){var i=(t.x1+t.x2)/2,r=(t.y1+t.y2)/2;return n(t,i,r,e)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(187);t.exports=function(t,e,i){return n(t,e.x,e.y,i)}},function(t,e){t.exports=function(t,e,i,n,r){return t.x1=e,t.y1=i,t.x2=e+Math.cos(n)*r,t.y2=i+Math.sin(n)*r,t}},function(t,e){t.exports=function(t){return(t.y2-t.y1)/(t.x2-t.x1)}},function(t,e){t.exports=function(t){return Math.abs(t.x1-t.x2)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(5);n.Ceil=i(806),n.Clone=i(807),n.CopyFrom=i(808),n.Equals=i(809),n.Floor=i(810),n.GetCentroid=i(811),n.GetMagnitude=i(361),n.GetMagnitudeSq=i(362),n.GetRectangleFromPoints=i(812),n.Interpolate=i(813),n.Invert=i(814),n.Negative=i(815),n.Project=i(816),n.ProjectUnit=i(817),n.SetMagnitude=i(818),t.exports=n},function(t,e){t.exports=function(t){return t.setTo(Math.ceil(t.x),Math.ceil(t.y))}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(5);t.exports=function(t){return new n(t.x,t.y)}},function(t,e){t.exports=function(t,e){return e.setTo(t.x,t.y)}},function(t,e){t.exports=function(t,e){return t.x===e.x&&t.y===e.y}},function(t,e){t.exports=function(t){return t.setTo(Math.floor(t.x),Math.floor(t.y))}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(5);t.exports=function(t,e){if(void 0===e&&(e=new n),!Array.isArray(t))throw new Error("GetCentroid points argument must be an array");var i=t.length;if(i<1)throw new Error("GetCentroid points array must not be empty");if(1===i)e.x=t[0].x,e.y=t[0].y;else{for(var r=0;r<i;r++)e.x+=t[r].x,e.y+=t[r].y;e.x/=i,e.y/=i}return e}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(9);t.exports=function(t,e){void 0===e&&(e=new n);for(var i=Number.NEGATIVE_INFINITY,r=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY,a=0;a<t.length;a++){var h=t[a];h.x>i&&(i=h.x),h.x<r&&(r=h.x),h.y>s&&(s=h.y),h.y<o&&(o=h.y)}return e.x=r,e.y=o,e.width=i-r,e.height=s-o,e}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(5);t.exports=function(t,e,i,r){return void 0===i&&(i=0),void 0===r&&(r=new n),r.x=t.x+(e.x-t.x)*i,r.y=t.y+(e.y-t.y)*i,r}},function(t,e){t.exports=function(t){return t.setTo(t.y,t.x)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(5);t.exports=function(t,e){return void 0===e&&(e=new n),e.setTo(-t.x,-t.y)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(5),r=i(362);t.exports=function(t,e,i){void 0===i&&(i=new n);var s=(t.x*e.x+t.y*e.y)/r(e);return 0!==s&&(i.x=s*e.x,i.y=s*e.y),i}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(5);t.exports=function(t,e,i){void 0===i&&(i=new n);var r=t.x*e.x+t.y*e.y;return 0!==r&&(i.x=r*e.x,i.y=r*e.y),i}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(361);t.exports=function(t,e){if(0!==t.x||0!==t.y){var i=n(t);t.x/=i,t.y/=i}return t.x*=e,t.y*=e,t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(363);n.Clone=i(820),n.Contains=i(188),n.ContainsPoint=i(821),n.GetAABB=i(822),n.GetNumberArray=i(823),n.GetPoints=i(364),n.Perimeter=i(365),t.exports=n},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(363);t.exports=function(t){return new n(t.points)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(188);t.exports=function(t,e){return n(t,e.x,e.y)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(9);t.exports=function(t,e){void 0===e&&(e=new n);for(var i,r=1/0,s=1/0,o=-r,a=-s,h=0;h<t.points.length;h++)i=t.points[h],r=Math.min(r,i.x),s=Math.min(s,i.y),o=Math.max(o,i.x),a=Math.max(a,i.y);return e.x=r,e.y=s,e.width=o-r,e.height=a-s,e}},function(t,e){t.exports=function(t,e){void 0===e&&(e=[]);for(var i=0;i<t.points.length;i++)e.push(t.points[i].x),e.push(t.points[i].y);return e}},function(t,e){t.exports=function(t){return t.width*t.height}},function(t,e){t.exports=function(t){return t.x=Math.ceil(t.x),t.y=Math.ceil(t.y),t}},function(t,e){t.exports=function(t){return t.x=Math.ceil(t.x),t.y=Math.ceil(t.y),t.width=Math.ceil(t.width),t.height=Math.ceil(t.height),t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(9);t.exports=function(t){return new n(t.x,t.y,t.width,t.height)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(44);t.exports=function(t,e){return n(t,e.x,e.y)}},function(t,e){t.exports=function(t,e){return e.setTo(t.x,t.y,t.width,t.height)}},function(t,e){t.exports=function(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(189);t.exports=function(t,e){var i=n(t);return i<n(e)?t.setSize(e.height*i,e.height):t.setSize(e.width,e.width/i),t.setPosition(e.centerX-t.width/2,e.centerY-t.height/2)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(189);t.exports=function(t,e){var i=n(t);return i>n(e)?t.setSize(e.height*i,e.height):t.setSize(e.width,e.width/i),t.setPosition(e.centerX-t.width/2,e.centerY-t.height/2)}},function(t,e){t.exports=function(t){return t.x=Math.floor(t.x),t.y=Math.floor(t.y),t}},function(t,e){t.exports=function(t){return t.x=Math.floor(t.x),t.y=Math.floor(t.y),t.width=Math.floor(t.width),t.height=Math.floor(t.height),t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(5);t.exports=function(t,e){return void 0===e&&(e=new n),e.x=t.centerX,e.y=t.centerY,e}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(5);t.exports=function(t,e){return void 0===e&&(e=new n),e.x=t.width,e.y=t.height,e}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(156);t.exports=function(t,e,i){var r=t.centerX,s=t.centerY;return t.setSize(t.width+2*e,t.height+2*i),n(t,r,s)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(9),r=i(185);t.exports=function(t,e,i){return void 0===i&&(i=new n),r(t,e)?(i.x=Math.max(t.x,e.x),i.y=Math.max(t.y,e.y),i.width=Math.min(t.right,e.right)-i.x,i.height=Math.min(t.bottom,e.bottom)-i.y):i.setEmpty(),i}},function(t,e){t.exports=function(t,e){for(var i=t.x,n=t.right,r=t.y,s=t.bottom,o=0;o<e.length;o++)i=Math.min(i,e[o].x),n=Math.max(n,e[o].x),r=Math.min(r,e[o].y),s=Math.max(s,e[o].y);return t.x=i,t.y=r,t.width=n-i,t.height=s-r,t}},function(t,e){t.exports=function(t,e){var i=Math.min(t.x,e.x),n=Math.max(t.right,e.right);t.x=i,t.width=n-i;var r=Math.min(t.y,e.y),s=Math.max(t.bottom,e.bottom);return t.y=r,t.height=s-r,t}},function(t,e){t.exports=function(t,e,i){var n=Math.min(t.x,e),r=Math.max(t.right,e);t.x=n,t.width=r-n;var s=Math.min(t.y,i),o=Math.max(t.bottom,i);return t.y=s,t.height=o-s,t}},function(t,e){t.exports=function(t,e,i){return t.x+=e,t.y+=i,t}},function(t,e){t.exports=function(t,e){return t.x+=e.x,t.y+=e.y,t}},function(t,e){t.exports=function(t,e){return t.x<e.right&&t.right>e.x&&t.y<e.bottom&&t.bottom>e.y}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(5),r=i(50);t.exports=function(t,e,i){void 0===i&&(i=new n),e=r(e);var s=Math.sin(e),o=Math.cos(e),a=o>0?t.width/2:t.width/-2,h=s>0?t.height/2:t.height/-2;return Math.abs(a*s)<Math.abs(h*o)?h=a*s/o:a=h*o/s,i.x=a+t.centerX,i.y=h+t.centerY,i}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(161),r=i(367),s=i(5);t.exports=function(t,e,i){if(void 0===i&&(i=new s),r(t,e))switch(n(0,3)){case 0:i.x=t.x+Math.random()*(e.right-t.x),i.y=t.y+Math.random()*(e.top-t.y);break;case 1:i.x=e.x+Math.random()*(t.right-e.x),i.y=e.bottom+Math.random()*(t.bottom-e.bottom);break;case 2:i.x=t.x+Math.random()*(e.x-t.x),i.y=e.y+Math.random()*(t.bottom-e.y);break;case 3:i.x=e.right+Math.random()*(t.right-e.right),i.y=t.y+Math.random()*(e.bottom-t.y)}return i}},function(t,e){t.exports=function(t,e,i){return void 0===i&&(i=e),t.width*=e,t.height*=i,t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(79);n.Area=i(849),n.BuildEquilateral=i(850),n.BuildFromPolygon=i(851),n.BuildRight=i(852),n.CenterOn=i(853),n.Centroid=i(370),n.CircumCenter=i(854),n.CircumCircle=i(855),n.Clone=i(856),n.Contains=i(77),n.ContainsArray=i(186),n.ContainsPoint=i(857),n.CopyFrom=i(858),n.Decompose=i(359),n.Equals=i(859),n.GetPoint=i(368),n.GetPoints=i(369),n.InCenter=i(372),n.Perimeter=i(860),n.Offset=i(371),n.Random=i(147),n.Rotate=i(861),n.RotateAroundPoint=i(862),n.RotateAroundXY=i(190),t.exports=n},function(t,e){t.exports=function(t){var e=t.x1,i=t.y1,n=t.x2,r=t.y2,s=t.x3,o=t.y3;return Math.abs(((s-e)*(r-i)-(n-e)*(o-i))/2)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(79);t.exports=function(t,e,i){var r=i*(Math.sqrt(3)/2);return new n(t,e,t+i/2,e+r,t-i/2,e+r)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(304),r=i(79);t.exports=function(t,e,i,s,o){void 0===e&&(e=null),void 0===i&&(i=1),void 0===s&&(s=1),void 0===o&&(o=[]);for(var a,h,u,c,l,f,d,p,g,v=n(t,e),y=0;y<v.length;y+=3)a=v[y],h=v[y+1],u=v[y+2],c=t[2*a]*i,l=t[2*a+1]*s,f=t[2*h]*i,d=t[2*h+1]*s,p=t[2*u]*i,g=t[2*u+1]*s,o.push(new r(c,l,f,d,p,g));return o}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(79);t.exports=function(t,e,i,r){return void 0===r&&(r=i),new n(t,e,t,e-r,t+i,e)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(370),r=i(371);t.exports=function(t,e,i,s){void 0===s&&(s=n);var o=s(t),a=e-o.x,h=i-o.y;return r(t,a,h)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(3);function r(t,e,i,n){return t*n-e*i}t.exports=function(t,e){void 0===e&&(e=new n);var i=t.x3,s=t.y3,o=t.x1-i,a=t.y1-s,h=t.x2-i,u=t.y2-s,c=2*r(o,a,h,u),l=r(a,o*o+a*a,u,h*h+u*u),f=r(o,o*o+a*a,h,h*h+u*u);return e.x=i-l/c,e.y=s+f/c,e}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(84);t.exports=function(t,e){void 0===e&&(e=new n);var i,r,s=t.x1,o=t.y1,a=t.x2,h=t.y2,u=t.x3,c=t.y3,l=a-s,f=h-o,d=u-s,p=c-o,g=l*(s+a)+f*(o+h),v=d*(s+u)+p*(o+c),y=2*(l*(c-h)-f*(u-a));if(Math.abs(y)<1e-6){var m=Math.min(s,a,u),x=Math.min(o,h,c);i=.5*(Math.max(s,a,u)-m),r=.5*(Math.max(o,h,c)-x),e.x=m+i,e.y=x+r,e.radius=Math.sqrt(i*i+r*r)}else e.x=(p*g-f*v)/y,e.y=(l*v-d*g)/y,i=e.x-s,r=e.y-o,e.radius=Math.sqrt(i*i+r*r);return e}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(79);t.exports=function(t){return new n(t.x1,t.y1,t.x2,t.y2,t.x3,t.y3)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(77);t.exports=function(t,e){return n(t,e.x,e.y)}},function(t,e){t.exports=function(t,e){return e.setTo(t.x1,t.y1,t.x2,t.y2,t.x3,t.y3)}},function(t,e){t.exports=function(t,e){return t.x1===e.x1&&t.y1===e.y1&&t.x2===e.x2&&t.y2===e.y2&&t.x3===e.x3&&t.y3===e.y3}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(57);t.exports=function(t){var e=t.getLineA(),i=t.getLineB(),r=t.getLineC();return n(e)+n(i)+n(r)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(190),r=i(372);t.exports=function(t,e){var i=r(t);return n(t,i.x,i.y,e)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(190);t.exports=function(t,e,i){return n(t,e.x,e.y,i)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(306),r=i(17),s={CreateInteractiveObject:i(373),Gamepad:i(864),InputManager:i(305),InputPlugin:i(870),InputPluginCache:i(122),Keyboard:i(872),Mouse:i(884),Pointer:i(308),Touch:i(885)};s=r(!1,s,n),t.exports=s},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={Axis:i(374),Button:i(375),Gamepad:i(376),GamepadPlugin:i(865),Configs:i(866)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(8),s=i(376),o=i(4),a=i(122),h=new n({Extends:r,initialize:function(t){r.call(this),this.scene=t.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=t,this.enabled=!0,this.target,this.gamepads=[],this.queue=[],this.onGamepadHandler,this._pad1,this._pad2,this._pad3,this._pad4,t.pluginEvents.once("boot",this.boot,this),t.pluginEvents.on("start",this.start,this)},boot:function(){var t=this.scene.sys.game,e=this.settings.input,i=t.config;this.enabled=o(e,"gamepad",i.inputGamepad)&&t.device.input.gamepads,this.target=o(e,"gamepad.target",i.inputGamepadEventTarget),this.sceneInputPlugin.pluginEvents.once("destroy",this.destroy,this)},start:function(){this.enabled&&this.startListeners(),this.sceneInputPlugin.pluginEvents.once("shutdown",this.shutdown,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},startListeners:function(){var t=this,e=this.target,i=function(e){!e.defaultPrevented&&t.isActive()&&(t.refreshPads(),t.queue.push(e))};this.onGamepadHandler=i,e.addEventListener("gamepadconnected",i,!1),e.addEventListener("gamepaddisconnected",i,!1),this.sceneInputPlugin.pluginEvents.on("update",this.update,this)},stopListeners:function(){this.target.removeEventListener("gamepadconnected",this.onGamepadHandler),this.target.removeEventListener("gamepaddisconnected",this.onGamepadHandler),this.sceneInputPlugin.pluginEvents.off("update",this.update)},disconnectAll:function(){for(var t=0;t<this.gamepads.length;t++)this.gamepads.connected=!1},refreshPads:function(){var t=navigator.getGamepads();if(t)for(var e=this.gamepads,i=0;i<t.length;i++){var n=t[i];if(n){var r=n.id,o=n.index,a=e[o];if(a)a.id!==r?(a.destroy(),e[o]=new s(this,n)):a.update(n);else{var h=new s(this,n);e[o]=h,this._pad1?this._pad2?this._pad3?this._pad4||(this._pad4=h):this._pad3=h:this._pad2=h:this._pad1=h}}}else this.disconnectAll()},getAll:function(){for(var t=[],e=this.gamepads,i=0;i<e.length;i++)e[i]&&t.push(e[i]);return t},getPad:function(t){for(var e=this.gamepads,i=0;i<e.length;i++)if(e[i]&&e[i].index===t)return e[i]},update:function(){if(this.enabled){this.refreshPads();var t=this.queue.length;if(0!==t)for(var e=this.queue.splice(0,t),i=0;i<t;i++){var n=e[i],r=this.getPad(n.gamepad.index);"gamepadconnected"===n.type?this.emit("connected",r,n):"gamepaddisconnected"===n.type&&this.emit("disconnected",r,n)}}},shutdown:function(){this.stopListeners(),this.disconnectAll(),this.removeAllListeners()},destroy:function(){this.shutdown();for(var t=0;t<this.gamepads.length;t++)this.gamepads[t]&&this.gamepads[t].destroy();this.gamepads=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.target=null},total:{get:function(){return this.gamepads.length}},pad1:{get:function(){return this._pad1}},pad2:{get:function(){return this._pad2}},pad3:{get:function(){return this._pad3}},pad4:{get:function(){return this._pad4}}});a.register("GamepadPlugin",h,"gamepad","gamepad","inputGamepad"),t.exports=h},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={DUALSHOCK_4:i(867),SNES_USB:i(868),XBOX_360:i(869)}},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SHARE:8,OPTIONS:9,PS:16,TOUCHBAR:17,X:0,CIRCLE:1,SQUARE:2,TRIANGLE:3,L1:4,R1:5,L2:6,R2:7,L3:10,R3:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SELECT:8,START:9,B:0,A:1,Y:2,X:3,LEFT_SHOULDER:4,RIGHT_SHOULDER:5}},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,MENU:16,A:0,B:1,X:2,Y:3,LB:4,RB:5,LT:6,RT:7,BACK:8,START:9,LS:10,RS:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(84),r=i(43),s=i(0),o=i(373),a=i(871),h=i(58),u=i(118),c=i(89),l=i(8),f=i(1),d=i(122),p=i(6),g=i(13),v=i(9),y=i(44),m=i(79),x=i(77),b=new s({Extends:l,initialize:function(t){l.call(this),this.scene=t,this.systems=t.sys,this.settings=t.sys.settings,this.manager=t.sys.game.input,this.pluginEvents=new l,this.enabled=!0,this.displayList,this.cameras,d.install(this),this.mouse=this.manager.mouse,this.topOnly=!0,this.pollRate=-1,this._pollTimer=0,this.dragDistanceThreshold=0,this.dragTimeThreshold=0,this._temp=[],this._tempZones=[],this._list=[],this._pendingInsertion=[],this._pendingRemoval=[],this._draggable=[],this._drag={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._over={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._validTypes=["onDown","onUp","onOver","onOut","onMove","onDragStart","onDrag","onDragEnd","onDragEnter","onDragLeave","onDragOver","onDrop"],t.sys.events.once("boot",this.boot,this),t.sys.events.on("start",this.start,this)},boot:function(){this.cameras=this.systems.cameras,this.displayList=this.systems.displayList,this.systems.events.once("destroy",this.destroy,this),this.pluginEvents.emit("boot")},start:function(){var t=this.systems.events;t.on("transitionstart",this.transitionIn,this),t.on("transitionout",this.transitionOut,this),t.on("transitioncomplete",this.transitionComplete,this),t.on("preupdate",this.preUpdate,this),t.on("update",this.update,this),t.once("shutdown",this.shutdown,this),this.enabled=!0,this.pluginEvents.emit("start")},preUpdate:function(){this.pluginEvents.emit("preUpdate");var t=this._pendingRemoval,e=this._pendingInsertion,i=t.length,n=e.length;if(0!==i||0!==n){for(var r=this._list,s=0;s<i;s++){var o=t[s],a=r.indexOf(o);a>-1&&(r.splice(a,1),this.clear(o))}t.length=0,this._pendingRemoval.length=0,this._list=r.concat(e.splice(0))}},isActive:function(){return this.enabled&&this.scene.sys.isActive()},update:function(t,e){if(this.isActive()){this.pluginEvents.emit("update",t,e);var i=this.manager;if(!i.globalTopOnly||!i.ignoreEvents){var n=i.dirty||0===this.pollRate;if(this.pollRate>-1&&(this._pollTimer-=e,this._pollTimer<0&&(n=!0,this._pollTimer=this.pollRate)),n)for(var r=this.manager.pointers,s=0;s<this.manager.pointersTotal;s++){var o=r[s];this._tempZones=[],this._temp=this.hitTestPointer(o),this.sortGameObjects(this._temp),this.sortGameObjects(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1));var a=this.processDragEvents(o,t);o.wasTouch||(a+=this.processOverOutEvents(o)),o.justDown&&(a+=this.processDownEvents(o)),o.justUp&&(a+=this.processUpEvents(o)),o.justMoved&&(a+=this.processMoveEvents(o)),a>0&&i.globalTopOnly&&(i.ignoreEvents=!0)}}}},clear:function(t){var e=t.input;if(e){this.queueForRemoval(t),e.gameObject=void 0,e.target=void 0,e.hitArea=void 0,e.hitAreaCallback=void 0,e.callbackContext=void 0,t.input=null;var i=this._draggable.indexOf(t);return i>-1&&this._draggable.splice(i,1),(i=this._drag[0].indexOf(t))>-1&&this._drag[0].splice(i,1),(i=this._over[0].indexOf(t))>-1&&this._over[0].splice(i,1),t}},disable:function(t){t.input.enabled=!1},enable:function(t,e,i,n){return void 0===n&&(n=!1),t.input?t.input.enabled=!0:this.setHitArea(t,e,i),t.input&&n&&!t.input.dropZone&&(t.input.dropZone=n),this},hitTestPointer:function(t){for(var e=this.cameras.getCamerasBelowPointer(t),i=0;i<e.length;i++){for(var n=e[i],r=this.manager.hitTest(t,this._list,n),s=0;s<r.length;s++){var o=r[s];o.input.dropZone&&this._tempZones.push(o)}if(r.length>0)return t.camera=n,r}return t.camera=e[0],[]},processDownEvents:function(t){var e=this._temp;this.emit("pointerdown",t,e);for(var i=0,n=0;n<e.length;n++){var r=e[n];r.input&&(i++,r.emit("pointerdown",t,r.input.localX,r.input.localY,t.camera),this.emit("gameobjectdown",t,r))}return i},processDragEvents:function(t,e){if(0===this._draggable.length)return 0;var i,n,r,s,o=this._temp;if(0===t.dragState&&t.primaryDown&&t.justDown&&o.length>0?t.dragState=1:t.dragState>0&&!t.primaryDown&&t.justUp&&(t.dragState=5),1===t.dragState){var a=[];for(i=0;i<o.length;i++)(n=o[i]).input.draggable&&0===n.input.dragState&&a.push(n);if(0===a.length)return t.dragState=0,0;a.length>1&&(this.sortGameObjects(a),this.topOnly&&a.splice(1)),this._drag[t.id]=a,0===this.dragDistanceThreshold&&0===this.dragTimeThreshold?t.dragState=3:t.dragState=2}if(2===t.dragState&&(this.dragDistanceThreshold>0&&h(t.x,t.y,t.downX,t.downY)>=this.dragDistanceThreshold&&(t.dragState=3),this.dragTimeThreshold>0&&e>=t.downTime+this.dragTimeThreshold&&(t.dragState=3)),3===t.dragState){for(r=this._drag[t.id],i=0;i<r.length;i++)(s=(n=r[i]).input).dragState=2,s.dragX=t.x-n.x,s.dragY=t.y-n.y,s.dragStartX=n.x,s.dragStartY=n.y,n.emit("dragstart",t,s.dragX,s.dragY),this.emit("dragstart",t,n);return t.dragState=4,r.length}if(4===t.dragState&&t.justMoved&&!t.justUp){var u=this._tempZones;for(r=this._drag[t.id],i=0;i<r.length;i++){if((s=(n=r[i]).input).target){var c=u.indexOf(s.target);0===c?(n.emit("dragover",t,s.target),this.emit("dragover",t,n,s.target)):c>0?(n.emit("dragleave",t,s.target),this.emit("dragleave",t,n,s.target),s.target=u[0],n.emit("dragenter",t,s.target),this.emit("dragenter",t,n,s.target)):(n.emit("dragleave",t,s.target),this.emit("dragleave",t,n,s.target),u[0]?(s.target=u[0],n.emit("dragenter",t,s.target),this.emit("dragenter",t,n,s.target)):s.target=null)}else!s.target&&u[0]&&(s.target=u[0],n.emit("dragenter",t,s.target),this.emit("dragenter",t,n,s.target));var l=t.x-n.input.dragX,f=t.y-n.input.dragY;n.emit("drag",t,l,f),this.emit("drag",t,n,l,f)}return r.length}if(5===t.dragState){for(r=this._drag[t.id],i=0;i<r.length;i++)if(2===(s=(n=r[i]).input).dragState){s.dragState=0,s.dragX=s.localX-n.displayOriginX,s.dragY=s.localY-n.displayOriginY;var d=!1;s.target&&(n.emit("drop",t,s.target),this.emit("drop",t,n,s.target),s.target=null,d=!0),n.emit("dragend",t,s.dragX,s.dragY,d),this.emit("dragend",t,n,d)}t.dragState=0,r.splice(0)}return 0},processMoveEvents:function(t){var e=this._temp;this.emit("pointermove",t,e);for(var i=0,n=0;n<e.length;n++){var r=e[n];if(r.input&&(i++,r.emit("pointermove",t,r.input.localX,r.input.localY),this.emit("gameobjectmove",t,r),this.topOnly))break}return i},processOverOutEvents:function(t){var e,i,n=this._temp,r=[],s=[],o=[],a=this._over[t.id],h=this._drag[t.id],u=this.manager;for(e=0;e<a.length;e++)i=a[e],-1===n.indexOf(i)&&-1===h.indexOf(i)?r.push(i):o.push(i);for(e=0;e<n.length;e++)i=n[e],-1===a.indexOf(i)&&s.push(i);var c=r.length,l=0;if(c>0)for(this.sortGameObjects(r),this.emit("pointerout",t,r),e=0;e<c;e++)(i=r[e]).input&&(this.emit("gameobjectout",t,i),i.emit("pointerout",t),u.resetCursor(i.input),l++);if((c=s.length)>0)for(this.sortGameObjects(s),this.emit("pointerover",t,s),e=0;e<c;e++)(i=s[e]).input&&(this.emit("gameobjectover",t,i),i.emit("pointerover",t,i.input.localX,i.input.localY),u.setCursor(i.input),l++);return a=o.concat(s),this._over[t.id]=this.sortGameObjects(a),l},processUpEvents:function(t){var e=this._temp;this.emit("pointerup",t,e);for(var i=0;i<e.length;i++){var n=e[i];n.input&&(n.emit("pointerup",t,n.input.localX,n.input.localY),this.emit("gameobjectup",t,n))}return e.length},queueForInsertion:function(t){return-1===this._pendingInsertion.indexOf(t)&&-1===this._list.indexOf(t)&&this._pendingInsertion.push(t),this},queueForRemoval:function(t){return this._pendingRemoval.push(t),this},setDraggable:function(t,e){void 0===e&&(e=!0),Array.isArray(t)||(t=[t]);for(var i=0;i<t.length;i++){var n=t[i];n.input.draggable=e;var r=this._draggable.indexOf(n);e&&-1===r?this._draggable.push(n):!e&&r>-1&&this._draggable.splice(r,1)}return this},makePixelPerfect:function(t){void 0===t&&(t=1);var e=this.systems.textures;return a(e,t)},setHitArea:function(t,e,i){if(void 0===e)return this.setHitAreaFromTexture(t);Array.isArray(t)||(t=[t]);var n=!1,r=!1,s=!1,a=!1;if(p(e)){var h=e;e=f(h,"hitArea",null),i=f(h,"hitAreaCallback",null),n=f(h,"draggable",!1),r=f(h,"dropZone",!1),s=f(h,"cursor",!1),a=f(h,"useHandCursor",!1);var u=f(h,"pixelPerfect",!1),c=f(h,"alphaTolerance",1);u&&(e={},i=this.makePixelPerfect(c)),e&&i||this.setHitAreaFromTexture(t)}else"function"!=typeof e||i||(i=e,e={});for(var l=0;l<t.length;l++){var d=t[l],g=d.input?d.input:o(d,e,i);g.dropZone=r,g.cursor=a?"pointer":s,d.input=g,n&&this.setDraggable(d),this.queueForInsertion(d)}return this},setHitAreaCircle:function(t,e,i,s,o){void 0===o&&(o=r);var a=new n(e,i,s);return this.setHitArea(t,a,o)},setHitAreaEllipse:function(t,e,i,n,r,s){void 0===s&&(s=c);var o=new u(e,i,n,r);return this.setHitArea(t,o,s)},setHitAreaFromTexture:function(t,e){void 0===e&&(e=y),Array.isArray(t)||(t=[t]);for(var i=0;i<t.length;i++){var n=t[i],r=n.frame,s=0,a=0;r?(s=r.realWidth,a=r.realHeight):n.width&&(s=n.width,a=n.height),"Container"!==n.type||0!==s&&0!==a?0!==s&&0!==a&&(n.input=o(n,new v(0,0,s,a),e),this.queueForInsertion(n)):console.warn("Container.setInteractive() must specify a Shape or call setSize() first")}return this},setHitAreaRectangle:function(t,e,i,n,r,s){void 0===s&&(s=y);var o=new v(e,i,n,r);return this.setHitArea(t,o,s)},setHitAreaTriangle:function(t,e,i,n,r,s,o,a){void 0===a&&(a=x);var h=new m(e,i,n,r,s,o);return this.setHitArea(t,h,a)},setPollAlways:function(){return this.pollRate=0,this._pollTimer=0,this},setPollOnMove:function(){return this.pollRate=-1,this._pollTimer=0,this},setPollRate:function(t){return this.pollRate=t,this._pollTimer=0,this},setGlobalTopOnly:function(t){return this.manager.globalTopOnly=t,this},setTopOnly:function(t){return this.topOnly=t,this},sortGameObjects:function(t){return t.length<2?t:(this.scene.sys.depthSort(),t.sort(this.sortHandlerGO.bind(this)))},sortHandlerGO:function(t,e){if(!t.parentContainer&&!e.parentContainer)return this.displayList.getIndex(e)-this.displayList.getIndex(t);if(t.parentContainer===e.parentContainer)return e.parentContainer.getIndex(e)-t.parentContainer.getIndex(t);if(t.parentContainer===e)return-1;if(e.parentContainer===t)return 1;for(var i=t.getIndexList(),n=e.getIndexList(),r=Math.min(i.length,n.length),s=0;s<r;s++){var o=i[s],a=n[s];if(o!==a)return a-o}return 0},stopPropagation:function(){return this.manager.globalTopOnly&&(this.manager.ignoreEvents=!0),this},addUpCallback:function(t,e){return this.manager.addUpCallback(t,e),this},addDownCallback:function(t,e){return this.manager.addDownCallback(t,e),this},addMoveCallback:function(t,e){return this.manager.addMoveCallback(t,e),this},addPointer:function(t){return this.manager.addPointer(t)},setDefaultCursor:function(t){return this.manager.setDefaultCursor(t),this},transitionIn:function(){this.enabled=this.settings.transitionAllowInput},transitionComplete:function(){this.settings.transitionAllowInput||(this.enabled=!0)},transitionOut:function(){this.enabled=this.settings.transitionAllowInput},shutdown:function(){this.pluginEvents.emit("shutdown"),this._temp.length=0,this._list.length=0,this._draggable.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0;for(var t=0;t<10;t++)this._drag[t]=[],this._over[t]=[];this.removeAllListeners();var e=this.systems.events;e.off("transitionstart",this.transitionIn,this),e.off("transitionout",this.transitionOut,this),e.off("transitioncomplete",this.transitionComplete,this),e.off("preupdate",this.preUpdate,this),e.off("update",this.update,this),e.off("shutdown",this.shutdown,this)},destroy:function(){this.shutdown(),this.pluginEvents.emit("destroy"),this.pluginEvents.removeAllListeners(),this.scene.sys.events.off("start",this.start,this),this.scene=null,this.cameras=null,this.manager=null,this.events=null,this.mouse=null},x:{get:function(){return this.manager.activePointer.x}},y:{get:function(){return this.manager.activePointer.y}},mousePointer:{get:function(){return this.manager.mousePointer}},activePointer:{get:function(){return this.manager.activePointer}},pointer1:{get:function(){return this.manager.pointers[1]}},pointer2:{get:function(){return this.manager.pointers[2]}},pointer3:{get:function(){return this.manager.pointers[3]}},pointer4:{get:function(){return this.manager.pointers[4]}},pointer5:{get:function(){return this.manager.pointers[5]}},pointer6:{get:function(){return this.manager.pointers[6]}},pointer7:{get:function(){return this.manager.pointers[7]}},pointer8:{get:function(){return this.manager.pointers[8]}},pointer9:{get:function(){return this.manager.pointers[9]}},pointer10:{get:function(){return this.manager.pointers[10]}}});g.register("InputPlugin",b,"input"),t.exports=b},function(t,e){t.exports=function(t,e){return function(i,n,r,s){var o=t.getPixelAlpha(n,r,s.texture.key,s.frame.name);return o&&o>=e}}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={KeyboardPlugin:i(873),Key:i(377),KeyCodes:i(191),KeyCombo:i(378),JustDown:i(880),JustUp:i(881),DownDuration:i(882),UpDuration:i(883)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(8),s=i(4),o=i(122),a=i(377),h=i(191),u=i(378),c=i(877),l=i(878),f=i(879),d=i(192),p=new n({Extends:r,initialize:function(t){r.call(this),this.scene=t.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=t,this.enabled=!0,this.target,this.keys=[],this.combos=[],this.queue=[],this.onKeyHandler,this.time=0,t.pluginEvents.once("boot",this.boot,this),t.pluginEvents.on("start",this.start,this)},boot:function(){var t=this.settings.input,e=this.scene.sys.game.config;this.enabled=s(t,"keyboard",e.inputKeyboard),this.target=s(t,"keyboard.target",e.inputKeyboardEventTarget),this.sceneInputPlugin.pluginEvents.once("destroy",this.destroy,this)},start:function(){this.enabled&&this.startListeners(),this.sceneInputPlugin.pluginEvents.once("shutdown",this.shutdown,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},startListeners:function(){var t=this,e=function(e){if(!e.defaultPrevented&&t.isActive()){t.queue.push(e);var i=t.keys[e.keyCode];i&&i.preventDefault&&e.preventDefault()}};this.onKeyHandler=e,this.target.addEventListener("keydown",e,!1),this.target.addEventListener("keyup",e,!1),this.sceneInputPlugin.pluginEvents.on("update",this.update,this)},stopListeners:function(){this.target.removeEventListener("keydown",this.onKeyHandler),this.target.removeEventListener("keyup",this.onKeyHandler),this.sceneInputPlugin.pluginEvents.off("update",this.update)},createCursorKeys:function(){return this.addKeys({up:h.UP,down:h.DOWN,left:h.LEFT,right:h.RIGHT,space:h.SPACE,shift:h.SHIFT})},addKeys:function(t){var e={};if("string"==typeof t){t=t.split(",");for(var i=0;i<t.length;i++){var n=t[i].trim();n&&(e[n]=this.addKey(n))}}else for(var r in t)e[r]=this.addKey(t[r]);return e},addKey:function(t){var e=this.keys;if(t instanceof a){var i=e.indexOf(t);return i>-1?e[i]=t:e[t.keyCode]=t,t}return"string"==typeof t&&(t=h[t.toUpperCase()]),e[t]||(e[t]=new a(t)),e[t]},removeKey:function(t){var e=this.keys;if(t instanceof a){var i=e.indexOf(t);i>-1&&(this.keys[i]=void 0)}else"string"==typeof t&&(t=h[t.toUpperCase()]);e[t]&&(e[t]=void 0)},createCombo:function(t,e){return new u(this,t,e)},checkDown:function(t,e){if(this.enabled&&t.isDown){var i=d(this.time-t.timeDown,e);if(i>t._tick)return t._tick=i,!0}return!1},update:function(t){this.time=t;var e=this.queue.length;if(this.enabled&&0!==e)for(var i=this.queue.splice(0,e),n=this.keys,r=0;r<e;r++){var s=i[r],o=s.keyCode;"keydown"===s.type?(!c[o]||void 0!==n[o]&&!1!==n[o].isDown||(this.emit(s.type,s),this.emit("keydown_"+c[o],s)),n[o]&&l(n[o],s)):(this.emit(s.type,s),this.emit("keyup_"+c[o],s),n[o]&&f(n[o],s))}},shutdown:function(){this.stopListeners(),this.removeAllListeners()},destroy:function(){this.shutdown(),this.keys=[],this.combos=[],this.queue=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.target=null}});o.register("KeyboardPlugin",p,"keyboard","keyboard","inputKeyboard"),t.exports=p},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(875);t.exports=function(t,e){if(e.matched)return!0;var i=!1,r=!1;if(t.keyCode===e.current)if(e.index>0&&e.maxKeyDelay>0){var s=e.timeLastMatched+e.maxKeyDelay;t.timeStamp<=s&&(r=!0,i=n(t,e))}else r=!0,i=n(t,e);return!r&&e.resetOnWrongKey&&(e.index=0,e.current=e.keyCodes[0]),i&&(e.timeLastMatched=t.timeStamp,e.matched=!0,e.timeMatched=t.timeStamp),i}},function(t,e){t.exports=function(t,e){return e.timeLastMatched=t.timeStamp,e.index++,e.index===e.size||(e.current=e.keyCodes[e.index],!1)}},function(t,e){t.exports=function(t){return t.current=t.keyCodes[0],t.index=0,t.timeLastMatched=0,t.matched=!1,t.timeMatched=0,t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(191),r={};for(var s in n)r[n[s]]=s;t.exports=r},function(t,e){t.exports=function(t,e){if(t.originalEvent=e,t.preventDefault&&e.preventDefault(),t.enabled)return t.altKey=e.altKey,t.ctrlKey=e.ctrlKey,t.shiftKey=e.shiftKey,t.location=e.location,!1===t.isDown&&(t.isDown=!0,t.isUp=!1,t.timeDown=e.timeStamp,t.duration=0,t._justDown=!0,t._justUp=!1),t.repeats++,t}},function(t,e){t.exports=function(t,e){if(t.originalEvent=e,t.preventDefault&&e.preventDefault(),t.enabled)return t.isDown=!1,t.isUp=!0,t.timeUp=e.timeStamp,t.duration=t.timeUp-t.timeDown,t.repeats=0,t._justDown=!1,t._justUp=!0,t._tick=-1,t}},function(t,e){t.exports=function(t){return!!t._justDown&&(t._justDown=!1,!0)}},function(t,e){t.exports=function(t){return!!t._justUp&&(t._justUp=!1,!0)}},function(t,e){t.exports=function(t,e){return void 0===e&&(e=50),t.isDown&&t.duration<e}},function(t,e){t.exports=function(t,e){return void 0===e&&(e=50),t.isUp&&t.duration<e}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={MouseManager:i(307)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={TouchManager:i(310)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(20),r=i(17),s={FileTypes:i(887),File:i(22),FileTypesManager:i(7),GetURL:i(193),LoaderPlugin:i(908),MergeXHRSettings:i(194),MultiFile:i(62),XHRLoader:i(379),XHRSettings:i(123)};s=r(!1,s,n),t.exports=s},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={AnimationJSONFile:i(888),AtlasJSONFile:i(889),AtlasXMLFile:i(890),AudioFile:i(380),AudioSpriteFile:i(891),BinaryFile:i(892),BitmapFontFile:i(893),GLSLFile:i(894),HTML5AudioFile:i(381),HTMLFile:i(895),HTMLTextureFile:i(896),ImageFile:i(61),JSONFile:i(52),MultiAtlasFile:i(897),PackFile:i(898),PluginFile:i(899),ScenePluginFile:i(900),ScriptFile:i(901),SpriteSheetFile:i(902),SVGFile:i(903),TextFile:i(382),TilemapCSVFile:i(904),TilemapImpactFile:i(905),TilemapJSONFile:i(906),UnityAtlasFile:i(907),XMLFile:i(195)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(7),s=i(52),o=new n({Extends:s,initialize:function(t,e,i,n,r){s.call(this,t,e,i,n,r),this.type="animationJSON"},onProcess:function(){this.loader.once("loadcomplete",this.onLoadComplete,this),s.prototype.onProcess.call(this)},onLoadComplete:function(){this.loader.systems.anims.fromJSON(this.data),this.pendingDestroy()}});r.register("animation",function(t,e,i,n){if(Array.isArray(t))for(var r=0;r<t.length;r++)this.addFile(new o(this,t[r]));else this.addFile(new o(this,t,e,n,i));return this}),t.exports=o},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(7),s=i(1),o=i(61),a=i(6),h=i(52),u=i(62),c=new n({Extends:u,initialize:function(t,e,i,n,r,c){var l,f;if(a(e)){var d=e;e=s(d,"key"),l=new o(t,{key:e,url:s(d,"textureURL"),extension:s(d,"textureExtension","png"),normalMap:s(d,"normalMap"),xhrSettings:s(d,"textureXhrSettings")}),f=new h(t,{key:e,url:s(d,"atlasURL"),extension:s(d,"atlasExtension","json"),xhrSettings:s(d,"atlasXhrSettings")})}else l=new o(t,e,i,r),f=new h(t,e,n,c);l.linkFile?u.call(this,t,"atlasjson",e,[l,f,l.linkFile]):u.call(this,t,"atlasjson",e,[l,f])},addToCache:function(){if(this.isReadyToProcess()){var t=this.files[0],e=this.files[1],i=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(t.key,t.data,e.data,i),e.addToCache(),this.complete=!0}}});r.register("atlas",function(t,e,i,n,r){var s;if(Array.isArray(t))for(var o=0;o<t.length;o++)s=new c(this,t[o]),this.addFile(s.files);else s=new c(this,t,e,i,n,r),this.addFile(s.files);return this}),t.exports=c},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(7),s=i(1),o=i(61),a=i(6),h=i(62),u=i(195),c=new n({Extends:h,initialize:function(t,e,i,n,r,c){var l,f;if(a(e)){var d=e;e=s(d,"key"),l=new o(t,{key:e,url:s(d,"textureURL"),extension:s(d,"textureExtension","png"),normalMap:s(d,"normalMap"),xhrSettings:s(d,"textureXhrSettings")}),f=new u(t,{key:e,url:s(d,"atlasURL"),extension:s(d,"atlasExtension","xml"),xhrSettings:s(d,"atlasXhrSettings")})}else l=new o(t,e,i,r),f=new u(t,e,n,c);l.linkFile?h.call(this,t,"atlasxml",e,[l,f,l.linkFile]):h.call(this,t,"atlasxml",e,[l,f])},addToCache:function(){if(this.isReadyToProcess()){var t=this.files[0],e=this.files[1],i=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlasXML(t.key,t.data,e.data,i),e.addToCache(),this.complete=!0}}});r.register("atlasXML",function(t,e,i,n,r){var s;if(Array.isArray(t))for(var o=0;o<t.length;o++)s=new c(this,t[o]),this.addFile(s.files);else s=new c(this,t,e,i,n,r),this.addFile(s.files);return this}),t.exports=c},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(380),r=i(0),s=i(7),o=i(1),a=i(6),h=i(52),u=i(62),c=new r({Extends:u,initialize:function(t,e,i,r,s,c,l){if(a(e)){var f=e;e=o(f,"key"),i=o(f,"jsonURL"),r=o(f,"audioURL"),s=o(f,"audioConfig"),c=o(f,"audioXhrSettings"),l=o(f,"jsonXhrSettings")}var d;if(r){var p=n.create(t,e,r,s,c);p&&(d=new h(t,e,i,l),u.call(this,t,"audiosprite",e,[p,d]),this.config.resourceLoad=!1)}else d=new h(t,e,i,l),u.call(this,t,"audiosprite",e,[d]),this.config.resourceLoad=!0,this.config.audioConfig=s,this.config.audioXhrSettings=c},onFileComplete:function(t){if(-1!==this.files.indexOf(t)&&(this.pending--,this.config.resourceLoad&&"json"===t.type&&t.data.hasOwnProperty("resources"))){var e=t.data.resources,i=o(this.config,"audioConfig"),r=o(this.config,"audioXhrSettings"),s=n.create(this.loader,t.key,e,i,r);s&&(this.addToMultiFile(s),this.loader.addFile(s))}},addToCache:function(){if(this.isReadyToProcess()){var t=this.files[0],e=this.files[1];t.addToCache(),e.addToCache(),this.complete=!0}}});s.register("audioSprite",function(t,e,i,n,r,s){var o,a=this.systems.game,h=a.config.audio,u=a.device.audio;if(h&&h.noAudio||!u.webAudio&&!u.audioData)return this;if(Array.isArray(t))for(var l=0;l<t.length;l++)(o=new c(this,t[l])).files&&this.addFile(o.files);else(o=new c(this,t,e,i,n,r,s)).files&&this.addFile(o.files);return this})},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(20),s=i(22),o=i(7),a=i(1),h=i(6),u=new n({Extends:s,initialize:function(t,e,i,n,r){var o="bin";if(h(e)){var u=e;e=a(u,"key"),i=a(u,"url"),n=a(u,"xhrSettings"),o=a(u,"extension",o),r=a(u,"dataType",r)}var c={type:"binary",cache:t.cacheManager.binary,extension:o,responseType:"arraybuffer",key:e,url:i,xhrSettings:n,config:{dataType:r}};s.call(this,t,c)},onProcess:function(){this.state=r.FILE_PROCESSING;var t=this.config.dataType;this.data=t?new t(this.xhrLoader.response):this.xhrLoader.response,this.onProcessComplete()}});o.register("binary",function(t,e,i,n){if(Array.isArray(t))for(var r=0;r<t.length;r++)this.addFile(new u(this,t[r]));else this.addFile(new u(this,t,e,n,i));return this}),t.exports=u},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(7),s=i(1),o=i(61),a=i(6),h=i(62),u=i(333),c=i(195),l=new n({Extends:h,initialize:function(t,e,i,n,r,u){var l,f;if(a(e)){var d=e;e=s(d,"key"),l=new o(t,{key:e,url:s(d,"textureURL"),extension:s(d,"textureExtension","png"),normalMap:s(d,"normalMap"),xhrSettings:s(d,"textureXhrSettings")}),f=new c(t,{key:e,url:s(d,"fontDataURL"),extension:s(d,"fontDataExtension","xml"),xhrSettings:s(d,"fontDataXhrSettings")})}else l=new o(t,e,i,r),f=new c(t,e,n,u);l.linkFile?h.call(this,t,"bitmapfont",e,[l,f,l.linkFile]):h.call(this,t,"bitmapfont",e,[l,f])},addToCache:function(){if(this.isReadyToProcess()){var t=this.files[0],e=this.files[1];t.addToCache(),e.addToCache(),this.loader.cacheManager.bitmapFont.add(t.key,{data:u(e.data),texture:t.key,frame:null}),this.complete=!0}}});r.register("bitmapFont",function(t,e,i,n,r){var s;if(Array.isArray(t))for(var o=0;o<t.length;o++)s=new l(this,t[o]),this.addFile(s.files);else s=new l(this,t,e,i,n,r),this.addFile(s.files);return this}),t.exports=l},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(20),s=i(22),o=i(7),a=i(1),h=i(6),u=new n({Extends:s,initialize:function(t,e,i,n){var r="glsl";if(h(e)){var o=e;e=a(o,"key"),i=a(o,"url"),n=a(o,"xhrSettings"),r=a(o,"extension",r)}var u={type:"glsl",cache:t.cacheManager.shader,extension:r,responseType:"text",key:e,url:i,xhrSettings:n};s.call(this,t,u)},onProcess:function(){this.state=r.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});o.register("glsl",function(t,e,i){if(Array.isArray(t))for(var n=0;n<t.length;n++)this.addFile(new u(this,t[n]));else this.addFile(new u(this,t,e,i));return this}),t.exports=u},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(20),s=i(22),o=i(7),a=i(1),h=i(6),u=new n({Extends:s,initialize:function(t,e,i,n){var r="html";if(h(e)){var o=e;e=a(o,"key"),i=a(o,"url"),n=a(o,"xhrSettings"),r=a(o,"extension",r)}var u={type:"text",cache:t.cacheManager.html,extension:r,responseType:"text",key:e,url:i,xhrSettings:n};s.call(this,t,u)},onProcess:function(){this.state=r.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});o.register("html",function(t,e,i){if(Array.isArray(t))for(var n=0;n<t.length;n++)this.addFile(new u(this,t[n]));else this.addFile(new u(this,t,e,i));return this}),t.exports=u},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(20),s=i(22),o=i(7),a=i(1),h=i(6),u=new n({Extends:s,initialize:function(t,e,i,n,r,o){void 0===n&&(n=512),void 0===r&&(r=512);var u="html";if(h(e)){var c=e;e=a(c,"key"),i=a(c,"url"),o=a(c,"xhrSettings"),u=a(c,"extension",u),n=a(c,"width",n),r=a(c,"height",r)}var l={type:"html",cache:t.textureManager,extension:u,responseType:"text",key:e,url:i,xhrSettings:o,config:{width:n,height:r}};s.call(this,t,l)},onProcess:function(){this.state=r.FILE_PROCESSING;var t=this.config.width,e=this.config.height,i=[];i.push('<svg width="'+t+'px" height="'+e+'px" viewBox="0 0 '+t+" "+e+'" xmlns="http://www.w3.org/2000/svg">'),i.push('<foreignObject width="100%" height="100%">'),i.push('<body xmlns="http://www.w3.org/1999/xhtml">'),i.push(this.xhrLoader.responseText),i.push("</body>"),i.push("</foreignObject>"),i.push("</svg>");var n=[i.join("\n")],o=this;try{var a=new window.Blob(n,{type:"image/svg+xml;charset=utf-8"})}catch(t){return o.state=r.FILE_ERRORED,void o.onProcessComplete()}this.data=new Image,this.data.crossOrigin=this.crossOrigin,this.data.onload=function(){s.revokeObjectURL(o.data),o.onProcessComplete()},this.data.onerror=function(){s.revokeObjectURL(o.data),o.onProcessError()},s.createObjectURL(this.data,a,"image/svg+xml")},addToCache:function(){var t=this.cache.addImage(this.key,this.data);this.pendingDestroy(t)}});o.register("htmlTexture",function(t,e,i,n,r){if(Array.isArray(t))for(var s=0;s<t.length;s++)this.addFile(new u(this,t[s]));else this.addFile(new u(this,t,e,i,n,r));return this}),t.exports=u},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(7),s=i(1),o=i(61),a=i(6),h=i(52),u=i(62),c=new n({Extends:u,initialize:function(t,e,i,n,r,o,c){if(a(e)){var l=e;e=s(l,"key"),i=s(l,"url"),o=s(l,"xhrSettings"),n=s(l,"path"),r=s(l,"baseURL"),c=s(l,"textureXhrSettings")}var f=new h(t,e,i,o);u.call(this,t,"multiatlas",e,[f]),this.config.path=n,this.config.baseURL=r,this.config.textureXhrSettings=c},onFileComplete:function(t){if(-1!==this.files.indexOf(t)&&(this.pending--,"json"===t.type&&t.data.hasOwnProperty("textures"))){var e=t.data.textures,i=this.config,n=this.loader,r=n.baseURL,a=n.path,h=n.prefix,u=s(i,"baseURL",r),c=s(i,"path",a),l=s(i,"prefix",h),f=s(i,"textureXhrSettings");n.setBaseURL(u),n.setPath(c),n.setPrefix(l);for(var d=0;d<e.length;d++){var p=e[d].image,g="_MA_"+p,v=new o(n,g,p,f);if(this.addToMultiFile(v),n.addFile(v),e[d].normalMap){var y=new o(n,g,e[d].normalMap,f);y.type="normalMap",v.setLink(y),this.addToMultiFile(y),n.addFile(y)}}n.setBaseURL(r),n.setPath(a),n.setPrefix(h)}},addToCache:function(){if(this.isReadyToProcess()){var t=this.files[0];t.addToCache();for(var e=[],i=[],n=[],r=1;r<this.files.length;r++){var s=this.files[r];if("normalMap"!==s.type)for(var o=s.key.substr(4),a=s.data,h=0;h<t.data.textures.length;h++){var u=t.data.textures[h];if(u.image===o){i.push(a),e.push(u),s.linkFile&&n.push(s.linkFile.data);break}}}for(0===n.length&&(n=void 0),this.loader.textureManager.addAtlasJSONArray(this.key,i,e,n),this.complete=!0,r=0;r<this.files.length;r++)this.files[r].pendingDestroy()}}});r.register("multiatlas",function(t,e,i,n,r){var s;if(Array.isArray(t))for(var o=0;o<t.length;o++)s=new c(this,t[o]),this.addFile(s.files);else s=new c(this,t,e,i,n,r),this.addFile(s.files);return this}),t.exports=c},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(20),s=i(7),o=i(52),a=new n({Extends:o,initialize:function(t,e,i,n,r){o.call(this,t,e,i,n,r),this.type="packfile"},onProcess:function(){this.state!==r.FILE_POPULATED&&(this.state=r.FILE_PROCESSING,this.data=JSON.parse(this.xhrLoader.responseText)),this.loader.addPack(this.data,this.config),this.onProcessComplete()}});s.register("pack",function(t,e,i,n){if(Array.isArray(t))for(var r=0;r<t.length;r++)this.addFile(new a(this,t[r]));else this.addFile(new a(this,t,e,n,i));return this}),t.exports=a},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(20),s=i(22),o=i(7),a=i(1),h=i(6),u=new n({Extends:s,initialize:function(t,e,i,n,o,u){var c="js";if(h(e)){var l=e;e=a(l,"key"),i=a(l,"url"),u=a(l,"xhrSettings"),c=a(l,"extension",c),n=a(l,"start"),o=a(l,"mapping")}var f={type:"plugin",cache:!1,extension:c,responseType:"text",key:e,url:i,xhrSettings:u,config:{start:n,mapping:o}};s.call(this,t,f),"function"==typeof i&&(this.data=i,this.state=r.FILE_POPULATED)},onProcess:function(){var t=this.loader.systems.plugins,e=this.config,i=a(e,"start",!1),n=a(e,"mapping",null);this.state===r.FILE_POPULATED?t.install(this.key,this.data,i,n):(this.state=r.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),t.install(this.key,window[this.key],i,n)),this.onProcessComplete()}});o.register("plugin",function(t,e,i,n,r){if(Array.isArray(t))for(var s=0;s<t.length;s++)this.addFile(new u(this,t[s]));else this.addFile(new u(this,t,e,i,n,r));return this}),t.exports=u},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(20),s=i(22),o=i(7),a=i(1),h=i(6),u=new n({Extends:s,initialize:function(t,e,i,n,o,u){var c="js";if(h(e)){var l=e;e=a(l,"key"),i=a(l,"url"),u=a(l,"xhrSettings"),c=a(l,"extension",c),n=a(l,"systemKey"),o=a(l,"sceneKey")}var f={type:"scenePlugin",cache:!1,extension:c,responseType:"text",key:e,url:i,xhrSettings:u,config:{systemKey:n,sceneKey:o}};s.call(this,t,f),"function"==typeof i&&(this.data=i,this.state=r.FILE_POPULATED)},onProcess:function(){var t=this.loader.systems.plugins,e=this.config,i=this.key,n=a(e,"systemKey",i),s=a(e,"sceneKey",i);this.state===r.FILE_POPULATED?t.installScenePlugin(n,this.data,s,this.loader.scene):(this.state=r.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),t.installScenePlugin(n,window[this.key],s,this.loader.scene)),this.onProcessComplete()}});o.register("scenePlugin",function(t,e,i,n,r){if(Array.isArray(t))for(var s=0;s<t.length;s++)this.addFile(new u(this,t[s]));else this.addFile(new u(this,t,e,i,n,r));return this}),t.exports=u},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(20),s=i(22),o=i(7),a=i(1),h=i(6),u=new n({Extends:s,initialize:function(t,e,i,n){var r="js";if(h(e)){var o=e;e=a(o,"key"),i=a(o,"url"),n=a(o,"xhrSettings"),r=a(o,"extension",r)}var u={type:"script",cache:!1,extension:r,responseType:"text",key:e,url:i,xhrSettings:n};s.call(this,t,u)},onProcess:function(){this.state=r.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});o.register("script",function(t,e,i){if(Array.isArray(t))for(var n=0;n<t.length;n++)this.addFile(new u(this,t[n]));else this.addFile(new u(this,t,e,i));return this}),t.exports=u},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(7),s=i(61),o=new n({Extends:s,initialize:function(t,e,i,n,r){s.call(this,t,e,i,r,n),this.type="spritesheet"},addToCache:function(){var t=this.cache.addSpriteSheet(this.key,this.data,this.config);this.pendingDestroy(t)}});r.register("spritesheet",function(t,e,i,n){if(Array.isArray(t))for(var r=0;r<t.length;r++)this.addFile(new o(this,t[r]));else this.addFile(new o(this,t,e,i,n));return this}),t.exports=o},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(20),s=i(22),o=i(7),a=i(1),h=i(6),u=new n({Extends:s,initialize:function(t,e,i,n,r){var o="svg";if(h(e)){var u=e;e=a(u,"key"),i=a(u,"url"),n=a(u,"svgConfig",{}),r=a(u,"xhrSettings"),o=a(u,"extension",o)}var c={type:"svg",cache:t.textureManager,extension:o,responseType:"text",key:e,url:i,xhrSettings:r,config:{width:a(n,"width"),height:a(n,"height"),scale:a(n,"scale")}};s.call(this,t,c)},onProcess:function(){this.state=r.FILE_PROCESSING;var t=this.xhrLoader.responseText,e=[t],i=this.config.width,n=this.config.height,o=this.config.scale;t:if(i&&n||o){var a=(new DOMParser).parseFromString(t,"text/xml").getElementsByTagName("svg")[0],h=a.hasAttribute("viewBox"),u=parseFloat(a.getAttribute("width")),c=parseFloat(a.getAttribute("height"));if(!h&&u&&c)a.setAttribute("viewBox","0  0 "+u+" "+c);else if(h&&!u&&!c){var l=a.getAttribute("viewBox").split(/\s+|,/);u=l[2],c=l[3]}if(o){if(!u||!c)break t;i=u*o,n=c*o}a.setAttribute("width",i.toString()+"px"),a.setAttribute("height",n.toString()+"px"),e=[(new XMLSerializer).serializeToString(a)]}try{var f=new window.Blob(e,{type:"image/svg+xml;charset=utf-8"})}catch(t){return void this.onProcessError()}this.data=new Image,this.data.crossOrigin=this.crossOrigin;var d=this,p=!1;this.data.onload=function(){p||s.revokeObjectURL(d.data),d.onProcessComplete()},this.data.onerror=function(){p?d.onProcessError():(p=!0,s.revokeObjectURL(d.data),d.data.src="data:image/svg+xml,"+encodeURIComponent(e.join("")))},s.createObjectURL(this.data,f,"image/svg+xml")},addToCache:function(){var t=this.cache.addImage(this.key,this.data);this.pendingDestroy(t)}});o.register("svg",function(t,e,i,n){if(Array.isArray(t))for(var r=0;r<t.length;r++)this.addFile(new u(this,t[r]));else this.addFile(new u(this,t,e,i,n));return this}),t.exports=u},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(20),s=i(22),o=i(7),a=i(1),h=i(6),u=i(30),c=new n({Extends:s,initialize:function(t,e,i,n){var r="csv";if(h(e)){var o=e;e=a(o,"key"),i=a(o,"url"),n=a(o,"xhrSettings"),r=a(o,"extension",r)}var c={type:"tilemapCSV",cache:t.cacheManager.tilemap,extension:r,responseType:"text",key:e,url:i,xhrSettings:n};s.call(this,t,c),this.tilemapFormat=u.CSV},onProcess:function(){this.state=r.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var t={format:this.tilemapFormat,data:this.data};this.cache.add(this.key,t),this.pendingDestroy(t)}});o.register("tilemapCSV",function(t,e,i){if(Array.isArray(t))for(var n=0;n<t.length;n++)this.addFile(new c(this,t[n]));else this.addFile(new c(this,t,e,i));return this}),t.exports=c},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(7),s=i(52),o=i(30),a=new n({Extends:s,initialize:function(t,e,i,n){s.call(this,t,e,i,n),this.type="tilemapJSON",this.cache=t.cacheManager.tilemap},addToCache:function(){var t={format:o.WELTMEISTER,data:this.data};this.cache.add(this.key,t),this.pendingDestroy(t)}});r.register("tilemapImpact",function(t,e,i){if(Array.isArray(t))for(var n=0;n<t.length;n++)this.addFile(new a(this,t[n]));else this.addFile(new a(this,t,e,i));return this}),t.exports=a},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(7),s=i(52),o=i(30),a=new n({Extends:s,initialize:function(t,e,i,n){s.call(this,t,e,i,n),this.type="tilemapJSON",this.cache=t.cacheManager.tilemap},addToCache:function(){var t={format:o.TILED_JSON,data:this.data};this.cache.add(this.key,t),this.pendingDestroy(t)}});r.register("tilemapTiledJSON",function(t,e,i){if(Array.isArray(t))for(var n=0;n<t.length;n++)this.addFile(new a(this,t[n]));else this.addFile(new a(this,t,e,i));return this}),t.exports=a},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(7),s=i(1),o=i(61),a=i(6),h=i(62),u=i(382),c=new n({Extends:h,initialize:function(t,e,i,n,r,c){var l,f;if(a(e)){var d=e;l=new o(t,{key:e,url:s(d,"textureURL"),extension:s(d,"textureExtension","png"),normalMap:s(d,"normalMap"),xhrSettings:s(d,"textureXhrSettings")}),f=new u(t,{key:e,url:s(d,"atlasURL"),extension:s(d,"atlasExtension","txt"),xhrSettings:s(d,"atlasXhrSettings")})}else l=new o(t,e,i,r),f=new u(t,e,n,c);l.linkFile?h.call(this,t,"unityatlas",e,[l,f,l.linkFile]):h.call(this,t,"unityatlas",e,[l,f])},addToCache:function(){if(0===this.failed&&!this.complete){var t=this.files[0],e=this.files[1],i=this.files[2]?this.files[2].data:null;this.loader.textureManager.addUnityAtlas(t.key,t.data,e.data,i),e.addToCache(),this.complete=!0}}});r.register("unityAtlas",function(t,e,i,n,r){var s;if(Array.isArray(t))for(var o=0;o<t.length;o++)s=new c(this,t[o]),this.addFile(s.files);else s=new c(this,t,e,i,n,r),this.addFile(s.files);return this}),t.exports=c},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(20),s=i(74),o=i(8),a=i(7),h=i(1),u=i(13),c=i(123),l=new n({Extends:o,initialize:function(t){o.call(this);var e=t.sys.game.config,i=t.sys.settings.loader;this.scene=t,this.systems=t.sys,this.cacheManager=t.sys.cache,this.textureManager=t.sys.textures,a.install(this),this.prefix="",this.path="",this.baseURL="",this.setBaseURL(h(i,"baseURL",e.loaderBaseURL)),this.setPath(h(i,"path",e.loaderPath)),this.setPrefix(h(i,"prefix",e.loaderPrefix)),this.maxParallelDownloads=h(i,"maxParallelDownloads",e.loaderMaxParallelDownloads),this.xhr=c(h(i,"responseType",e.loaderResponseType),h(i,"async",e.loaderAsync),h(i,"user",e.loaderUser),h(i,"password",e.loaderPassword),h(i,"timeout",e.loaderTimeout)),this.crossOrigin=h(i,"crossOrigin",e.loaderCrossOrigin),this.totalToLoad=0,this.progress=0,this.list=new s,this.inflight=new s,this.queue=new s,this._deleteQueue=new s,this.totalFailed=0,this.totalComplete=0,this.state=r.LOADER_IDLE,t.sys.events.once("boot",this.boot,this),t.sys.events.on("start",this.pluginStart,this)},boot:function(){this.systems.events.once("destroy",this.destroy,this)},pluginStart:function(){this.systems.events.once("shutdown",this.shutdown,this)},setBaseURL:function(t){return void 0===t&&(t=""),""!==t&&"/"!==t.substr(-1)&&(t=t.concat("/")),this.baseURL=t,this},setPath:function(t){return void 0===t&&(t=""),""!==t&&"/"!==t.substr(-1)&&(t=t.concat("/")),this.path=t,this},setPrefix:function(t){return void 0===t&&(t=""),this.prefix=t,this},setCORS:function(t){return this.crossOrigin=t,this},addFile:function(t){Array.isArray(t)||(t=[t]);for(var e=0;e<t.length;e++){var i=t[e];this.keyExists(i)||(this.list.set(i),this.emit("addfile",i.key,i.type,this,i),this.isLoading()&&(this.totalToLoad++,this.updateProgress()))}},keyExists:function(t){var e=t.hasCacheConflict();return e||this.list.iterate(function(i){if(i.type===t.type&&i.key===t.key)return e=!0,!1}),!e&&this.isLoading()&&(this.inflight.iterate(function(i){if(i.type===t.type&&i.key===t.key)return e=!0,!1}),this.queue.iterate(function(i){if(i.type===t.type&&i.key===t.key)return e=!0,!1})),e},addPack:function(t,e){e&&t.hasOwnProperty(e)&&(t={packKey:t[e]});var i=0,n=this.baseURL,r=this.path,s=this.prefix;for(var o in t){var a=t[o],u=h(a,"baseURL",n),c=h(a,"path",r),l=h(a,"prefix",s),f=h(a,"files",null),d=h(a,"defaultType","void");if(Array.isArray(f)){this.setBaseURL(u),this.setPath(c),this.setPrefix(l);for(var p=0;p<f.length;p++){var g=f[p],v=g.hasOwnProperty("type")?g.type:d;this[v]&&(this[v](g),i++)}}}return this.setBaseURL(n),this.setPath(r),this.setPrefix(s),i>0},isLoading:function(){return this.state===r.LOADER_LOADING||this.state===r.LOADER_PROCESSING},isReady:function(){return this.state===r.LOADER_IDLE||this.state===r.LOADER_COMPLETE},start:function(){this.isReady()&&(this.progress=0,this.totalFailed=0,this.totalComplete=0,this.totalToLoad=this.list.size,this.emit("start",this),0===this.list.size?this.loadComplete():(this.state=r.LOADER_LOADING,this.inflight.clear(),this.queue.clear(),this.updateProgress(),this.checkLoadQueue(),this.systems.events.on("update",this.update,this)))},updateProgress:function(){this.progress=1-(this.list.size+this.inflight.size)/this.totalToLoad,this.emit("progress",this.progress)},update:function(){this.state===r.LOADER_LOADING&&this.list.size>0&&this.inflight.size<this.maxParallelDownloads&&this.checkLoadQueue()},checkLoadQueue:function(){this.list.each(function(t){if((t.state===r.FILE_POPULATED||t.state===r.FILE_PENDING&&this.inflight.size<this.maxParallelDownloads)&&(this.inflight.set(t),this.list.delete(t),t.crossOrigin||(t.crossOrigin=this.crossOrigin),t.load()),this.inflight.size===this.maxParallelDownloads)return!1},this)},nextFile:function(t,e){this.inflight.delete(t),this.updateProgress(),e?(this.totalComplete++,this.queue.set(t),this.emit("load",t),t.onProcess()):(this.totalFailed++,this._deleteQueue.set(t),this.emit("loaderror",t),this.fileProcessComplete(t))},fileProcessComplete:function(t){t.state===r.FILE_ERRORED?t.multiFile&&t.multiFile.onFileFailed(t):t.state===r.FILE_COMPLETE&&(t.multiFile?t.multiFile.isReadyToProcess()&&t.multiFile.addToCache():t.addToCache()),this.queue.delete(t),0===this.list.size&&0===this.inflight.size&&0===this.queue.size&&this.loadComplete()},loadComplete:function(){this.emit("loadcomplete",this),this.list.clear(),this.inflight.clear(),this.queue.clear(),this.progress=1,this.state=r.LOADER_COMPLETE,this.systems.events.off("update",this.update,this),this._deleteQueue.iterateLocal("destroy"),this._deleteQueue.clear(),this.emit("complete",this,this.totalComplete,this.totalFailed)},flagForRemoval:function(t){this._deleteQueue.set(t)},saveJSON:function(t,e){return this.save(JSON.stringify(t),e)},save:function(t,e,i){void 0===e&&(e="file.json"),void 0===i&&(i="application/json");var n=new Blob([t],{type:i}),r=URL.createObjectURL(n),s=document.createElement("a");return s.download=e,s.textContent="Download "+e,s.href=r,s.click(),this},reset:function(){this.list.clear(),this.inflight.clear(),this.queue.clear();var t=this.systems.game.config,e=this.systems.settings.loader;this.setBaseURL(h(e,"baseURL",t.loaderBaseURL)),this.setPath(h(e,"path",t.loaderPath)),this.setPrefix(h(e,"prefix",t.loaderPrefix)),this.state=r.LOADER_IDLE},shutdown:function(){this.reset(),this.state=r.LOADER_SHUTDOWN,this.systems.events.off("update",this.update,this),this.systems.events.off("shutdown",this.shutdown,this)},destroy:function(){this.shutdown(),this.state=r.LOADER_DESTROYED,this.systems.events.off("update",this.update,this),this.systems.events.off("start",this.pluginStart,this),this.list=null,this.inflight=null,this.queue=null,this.scene=null,this.systems=null,this.textureManager=null,this.cacheManager=null}});u.register("Loader",l,"load"),t.exports=l},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(18),r=i(17),s={Angle:i(910),Distance:i(918),Easing:i(920),Fuzzy:i(921),Interpolation:i(924),Pow2:i(929),Snap:i(931),RandomDataGenerator:i(231),Average:i(933),Bernstein:i(388),Between:i(161),CatmullRom:i(160),CeilTo:i(934),Clamp:i(23),DegToRad:i(50),Difference:i(935),Factorial:i(389),FloatBetween:i(344),FloorTo:i(936),FromPercent:i(85),GetSpeed:i(937),IsEven:i(938),IsEvenStrict:i(939),Linear:i(105),MaxAdd:i(940),MinSub:i(941),Percent:i(942),RadToDeg:i(159),RandomXY:i(943),RandomXYZ:i(391),RandomXYZW:i(392),Rotate:i(393),RotateAround:i(240),RotateAroundDistance:i(148),RoundAwayFromZero:i(330),RoundTo:i(944),SinCosTableGenerator:i(945),SmootherStep:i(149),SmoothStep:i(150),TransformXY:i(311),Within:i(946),Wrap:i(49),Vector2:i(3),Vector3:i(80),Vector4:i(119),Matrix3:i(394),Matrix4:i(196),Quaternion:i(395),RotateVec3:i(396)};s=r(!1,s,n),t.exports=s},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={Between:i(911),BetweenY:i(912),BetweenPoints:i(913),BetweenPointsY:i(914),Reverse:i(915),RotateTo:i(916),ShortestBetween:i(917),Normalize:i(383),Wrap:i(144),WrapDegrees:i(145)}},function(t,e){t.exports=function(t,e,i,n){return Math.atan2(n-e,i-t)}},function(t,e){t.exports=function(t,e,i,n){return Math.atan2(i-t,n-e)}},function(t,e){t.exports=function(t,e){return Math.atan2(e.y-t.y,e.x-t.x)}},function(t,e){t.exports=function(t,e){return Math.atan2(e.x-t.x,e.y-t.y)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(383);t.exports=function(t){return n(t+Math.PI)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(18);t.exports=function(t,e,i){return void 0===i&&(i=.05),t===e?t:(Math.abs(e-t)<=i||Math.abs(e-t)>=n.PI2-i?t=e:(Math.abs(e-t)>Math.PI&&(e<t?e+=n.PI2:e-=n.PI2),e>t?t+=i:e<t&&(t-=i)),t)}},function(t,e){t.exports=function(t,e){var i=e-t;return 0===i?0:i-360*Math.floor((i- -180)/360)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={Between:i(58),Power:i(919),Squared:i(384)}},function(t,e){t.exports=function(t,e,i,n,r){return void 0===r&&(r=2),Math.sqrt(Math.pow(i-t,r)+Math.pow(n-e,r))}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={Back:i(266),Bounce:i(267),Circular:i(268),Cubic:i(269),Elastic:i(270),Expo:i(271),Linear:i(272),Quadratic:i(273),Quartic:i(274),Quintic:i(275),Sine:i(276),Stepped:i(277)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={Ceil:i(922),Equal:i(385),Floor:i(923),GreaterThan:i(386),LessThan:i(387)}},function(t,e){t.exports=function(t,e){return void 0===e&&(e=1e-4),Math.ceil(t-e)}},function(t,e){t.exports=function(t,e){return void 0===e&&(e=1e-4),Math.floor(t+e)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={Bezier:i(925),CatmullRom:i(926),CubicBezier:i(281),Linear:i(927),QuadraticBezier:i(285),SmoothStep:i(309),SmootherStep:i(928)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(388);t.exports=function(t,e){for(var i=0,r=t.length-1,s=0;s<=r;s++)i+=Math.pow(1-e,r-s)*Math.pow(e,s)*t[s]*n(r,s);return i}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(160);t.exports=function(t,e){var i=t.length-1,r=i*e,s=Math.floor(r);return t[0]===t[i]?(e<0&&(s=Math.floor(r=i*(1+e))),n(r-s,t[(s-1+i)%i],t[s],t[(s+1)%i],t[(s+2)%i])):e<0?t[0]-(n(-r,t[0],t[0],t[1],t[1])-t[0]):e>1?t[i]-(n(r-i,t[i],t[i],t[i-1],t[i-1])-t[i]):n(r-s,t[s?s-1:0],t[s],t[i<s+1?i:s+1],t[i<s+2?i:s+2])}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(105);t.exports=function(t,e){var i=t.length-1,r=i*e,s=Math.floor(r);return e<0?n(t[0],t[1],r):e>1?n(t[i],t[i-1],i-r):n(t[s],t[s+1>i?i:s+1],r-s)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(149);t.exports=function(t,e,i){return e+(i-e)*n(t,0,1)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={GetNext:i(349),IsSize:i(108),IsValue:i(930)}},function(t,e){t.exports=function(t){return t>0&&0==(t&t-1)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={Ceil:i(390),Floor:i(192),To:i(932)}},function(t,e){t.exports=function(t,e,i,n){return void 0===i&&(i=0),0===e?t:(t-=i,t=e*Math.round(t/e),n?(i+t)/e:i+t)}},function(t,e){t.exports=function(t){for(var e=0,i=0;i<t.length;i++)e+=+t[i];return e/t.length}},function(t,e){t.exports=function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=10);var n=Math.pow(i,-e);return Math.ceil(t*n)/n}},function(t,e){t.exports=function(t,e){return Math.abs(t-e)}},function(t,e){t.exports=function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=10);var n=Math.pow(i,-e);return Math.floor(t*n)/n}},function(t,e){t.exports=function(t,e){return t/e/1e3}},function(t,e){t.exports=function(t){return t==parseFloat(t)?!(t%2):void 0}},function(t,e){t.exports=function(t){return t===parseFloat(t)?!(t%2):void 0}},function(t,e){t.exports=function(t,e,i){return Math.min(t+e,i)}},function(t,e){t.exports=function(t,e,i){return Math.max(t-e,i)}},function(t,e){t.exports=function(t,e,i,n){void 0===i&&(i=e+1);var r=(t-e)/(i-e);return r>1?void 0!==n?(r=(n-t)/(n-i))<0&&(r=0):r=1:r<0&&(r=0),r}},function(t,e){t.exports=function(t,e){void 0===e&&(e=1);var i=2*Math.random()*Math.PI;return t.x=Math.cos(i)*e,t.y=Math.sin(i)*e,t}},function(t,e){t.exports=function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=10);var n=Math.pow(i,-e);return Math.round(t*n)/n}},function(t,e){t.exports=function(t,e,i,n){void 0===e&&(e=1),void 0===i&&(i=1),void 0===n&&(n=1),n*=Math.PI/t;for(var r=[],s=[],o=0;o<t;o++)e+=(i-=e*n)*n,r[o]=i,s[o]=e;return{sin:s,cos:r,length:t}}},function(t,e){t.exports=function(t,e,i){return Math.abs(t-e)<=i}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={Arcade:i(948),Impact:i(970),Matter:i(990)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(46),r=i(17),s={ArcadePhysics:i(949),Body:i(403),Collider:i(404),Factory:i(397),Group:i(400),Image:i(398),Sprite:i(124),StaticBody:i(410),StaticGroup:i(401),World:i(402)};s=r(!1,s,n),t.exports=s},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(50),s=i(58),o=i(384),a=i(397),h=i(1),u=i(73),c=i(13),l=i(3),f=i(402),d=new n({initialize:function(t){this.scene=t,this.systems=t.sys,this.config=this.getConfig(),this.world,this.add,t.sys.events.once("boot",this.boot,this),t.sys.events.on("start",this.start,this)},boot:function(){this.world=new f(this.scene,this.config),this.add=new a(this.world),this.systems.events.once("destroy",this.destroy,this)},start:function(){this.world||(this.world=new f(this.scene,this.config),this.add=new a(this.world));var t=this.systems.events;t.on("update",this.world.update,this.world),t.on("postupdate",this.world.postUpdate,this.world),t.once("shutdown",this.shutdown,this)},getConfig:function(){var t=this.systems.game.config.physics,e=this.systems.settings.physics;return u(h(e,"arcade",{}),h(t,"arcade",{}))},overlap:function(t,e,i,n,r){return void 0===i&&(i=null),void 0===n&&(n=null),void 0===r&&(r=i),this.world.collideObjects(t,e,i,n,r,!0)},collide:function(t,e,i,n,r){return void 0===i&&(i=null),void 0===n&&(n=null),void 0===r&&(r=i),this.world.collideObjects(t,e,i,n,r,!1)},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},accelerateTo:function(t,e,i,n,r,s){void 0===n&&(n=60);var o=Math.atan2(i-t.y,e-t.x);return t.body.acceleration.setToPolar(o,n),void 0!==r&&void 0!==s&&t.body.maxVelocity.set(r,s),o},accelerateToObject:function(t,e,i,n,r){return this.accelerateTo(t,e.x,e.y,i,n,r)},closest:function(t){for(var e=this.world.tree.all(),i=Number.MAX_VALUE,n=null,r=t.x,s=t.y,a=e.length-1;a>=0;a--){var h=e[a],u=o(r,s,h.x,h.y);u<i&&(n=h,i=u)}return n},furthest:function(t){for(var e=this.world.tree.all(),i=-1,n=null,r=t.x,s=t.y,a=e.length-1;a>=0;a--){var h=e[a],u=o(r,s,h.x,h.y);u>i&&(n=h,i=u)}return n},moveTo:function(t,e,i,n,r){void 0===n&&(n=60),void 0===r&&(r=0);var o=Math.atan2(i-t.y,e-t.x);return r>0&&(n=s(t.x,t.y,e,i)/(r/1e3)),t.body.velocity.setToPolar(o,n),o},moveToObject:function(t,e,i,n){return this.moveTo(t,e.x,e.y,i,n)},velocityFromAngle:function(t,e,i){return void 0===e&&(e=60),void 0===i&&(i=new l),i.setToPolar(r(t),e)},velocityFromRotation:function(t,e,i){return void 0===e&&(e=60),void 0===i&&(i=new l),i.setToPolar(t,e)},shutdown:function(){var t=this.systems.events;t.off("update",this.world.update,this.world),t.off("postupdate",this.world.postUpdate,this.world),t.off("shutdown",this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null},destroy:function(){this.shutdown(),this.scene.sys.events.off("start",this.start,this),this.scene=null,this.systems=null}});c.register("ArcadePhysics",d,"arcadePhysics"),t.exports=d},function(t,e){t.exports={setAcceleration:function(t,e){return this.body.acceleration.set(t,e),this},setAccelerationX:function(t){return this.body.acceleration.x=t,this},setAccelerationY:function(t){return this.body.acceleration.y=t,this}}},function(t,e){t.exports={setAngularVelocity:function(t){return this.body.angularVelocity=t,this},setAngularAcceleration:function(t){return this.body.angularAcceleration=t,this},setAngularDrag:function(t){return this.body.angularDrag=t,this}}},function(t,e){t.exports={setBounce:function(t,e){return this.body.bounce.set(t,e),this},setBounceX:function(t){return this.body.bounce.x=t,this},setBounceY:function(t){return this.body.bounce.y=t,this},setCollideWorldBounds:function(t){return this.body.collideWorldBounds=t,this}}},function(t,e){t.exports={setDebug:function(t,e,i){return this.debugShowBody=t,this.debugShowVelocity=e,this.debugBodyColor=i,this},setDebugBodyColor:function(t){return this.body.debugBodyColor=t,this},debugShowBody:{get:function(){return this.body.debugShowBody},set:function(t){this.body.debugShowBody=t}},debugShowVelocity:{get:function(){return this.body.debugShowVelocity},set:function(t){this.body.debugShowVelocity=t}},debugBodyColor:{get:function(){return this.body.debugBodyColor},set:function(t){this.body.debugBodyColor=t}}}},function(t,e){t.exports={setDrag:function(t,e){return this.body.drag.set(t,e),this},setDragX:function(t){return this.body.drag.x=t,this},setDragY:function(t){return this.body.drag.y=t,this},setDamping:function(t){return this.body.useDamping=t,this}}},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i={enableBody:function(t,e,i,n,r){return t&&this.body.reset(e,i),n&&(this.body.gameObject.active=!0),r&&(this.body.gameObject.visible=!0),this.body.enable=!0,this},disableBody:function(t,e){return void 0===t&&(t=!1),void 0===e&&(e=!1),this.body.stop(),this.body.enable=!1,t&&(this.body.gameObject.active=!1),e&&(this.body.gameObject.visible=!1),this},refreshBody:function(){return this.body.updateFromGameObject(),this}};t.exports=i},function(t,e){t.exports={setFriction:function(t,e){return this.body.friction.set(t,e),this},setFrictionX:function(t){return this.body.friction.x=t,this},setFrictionY:function(t){return this.body.friction.y=t,this}}},function(t,e){t.exports={setGravity:function(t,e){return this.body.gravity.set(t,e),this},setGravityX:function(t){return this.body.gravity.x=t,this},setGravityY:function(t){return this.body.gravity.y=t,this}}},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i={setImmovable:function(t){return void 0===t&&(t=!0),this.body.immovable=t,this}};t.exports=i},function(t,e){t.exports={setMass:function(t){return this.body.mass=t,this}}},function(t,e){t.exports={setOffset:function(t,e){return this.body.setOffset(t,e),this},setSize:function(t,e,i){return this.body.setSize(t,e,i),this},setCircle:function(t,e,i){return this.body.setCircle(t,e,i),this}}},function(t,e){t.exports={setVelocity:function(t,e){return this.body.setVelocity(t,e),this},setVelocityX:function(t){return this.body.setVelocityX(t),this},setVelocityY:function(t){return this.body.setVelocityY(t),this},setMaxVelocity:function(t,e){return this.body.maxVelocity.set(t,e),this}}},function(t,e){t.exports=function(t,e){return t.collisionCallback?!t.collisionCallback.call(t.collisionCallbackContext,e,t):!t.layer.callbacks[t.index]||!t.layer.callbacks[t.index].callback.call(t.layer.callbacks[t.index].callbackContext,e,t)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(964),r=i(966),s=i(409);t.exports=function(t,e,i,o,a,h){var u=o.left,c=o.top,l=o.right,f=o.bottom,d=i.faceLeft||i.faceRight,p=i.faceTop||i.faceBottom;if(!d&&!p)return!1;var g=0,v=0,y=0,m=1;if(e.deltaAbsX()>e.deltaAbsY()?y=-1:e.deltaAbsX()<e.deltaAbsY()&&(m=-1),0!==e.deltaX()&&0!==e.deltaY()&&d&&p&&(y=Math.min(Math.abs(e.position.x-l),Math.abs(e.right-u)),m=Math.min(Math.abs(e.position.y-f),Math.abs(e.bottom-c))),y<m){if(d&&0!==(g=n(e,i,u,l,h))&&!s(o,e))return!0;p&&(v=r(e,i,c,f,h))}else{if(p&&0!==(v=r(e,i,c,f,h))&&!s(o,e))return!0;d&&(g=n(e,i,u,l,h))}return 0!==g||0!==v}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(965);t.exports=function(t,e,i,r,s){var o=0;return t.deltaX()<0&&!t.blocked.left&&e.collideRight&&t.checkCollision.left?e.faceRight&&t.x<r&&(o=t.x-r)<-s&&(o=0):t.deltaX()>0&&!t.blocked.right&&e.collideLeft&&t.checkCollision.right&&e.faceLeft&&t.right>i&&(o=t.right-i)>s&&(o=0),0!==o&&(t.customSeparateX?t.overlapX=o:n(t,o)),o}},function(t,e){t.exports=function(t,e){e<0?(t.blocked.none=!1,t.blocked.left=!0):e>0&&(t.blocked.none=!1,t.blocked.right=!0),t.position.x-=e,0===t.bounce.x?t.velocity.x=0:t.velocity.x=-t.velocity.x*t.bounce.x}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(967);t.exports=function(t,e,i,r,s){var o=0;return t.deltaY()<0&&!t.blocked.up&&e.collideDown&&t.checkCollision.up?e.faceBottom&&t.y<r&&(o=t.y-r)<-s&&(o=0):t.deltaY()>0&&!t.blocked.down&&e.collideUp&&t.checkCollision.down&&e.faceTop&&t.bottom>i&&(o=t.bottom-i)>s&&(o=0),0!==o&&(t.customSeparateY?t.overlapY=o:n(t,o)),o}},function(t,e){t.exports=function(t,e){e<0?(t.blocked.none=!1,t.blocked.up=!0):e>0&&(t.blocked.none=!1,t.blocked.down=!0),t.position.y-=e,0===t.bounce.y?t.velocity.y=0:t.velocity.y=-t.velocity.y*t.bounce.y}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(405);t.exports=function(t,e,i,r){var s=n(t,e,i,r);if(i||0===s||t.immovable&&e.immovable||t.customSeparateX||e.customSeparateX)return 0!==s||t.embedded&&e.embedded;var o=t.velocity.x,a=e.velocity.x;if(t.immovable||e.immovable)t.immovable?(e.x+=s,e.velocity.x=o-a*e.bounce.x,t.moves&&(e.y+=(t.y-t.prev.y)*t.friction.y)):(t.x-=s,t.velocity.x=a-o*t.bounce.x,e.moves&&(t.y+=(e.y-e.prev.y)*e.friction.y));else{s*=.5,t.x-=s,e.x+=s;var h=Math.sqrt(a*a*e.mass/t.mass)*(a>0?1:-1),u=Math.sqrt(o*o*t.mass/e.mass)*(o>0?1:-1),c=.5*(h+u);h-=c,u-=c,t.velocity.x=c+h*t.bounce.x,e.velocity.x=c+u*e.bounce.x}return!0}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(406);t.exports=function(t,e,i,r){var s=n(t,e,i,r);if(i||0===s||t.immovable&&e.immovable||t.customSeparateY||e.customSeparateY)return 0!==s||t.embedded&&e.embedded;var o=t.velocity.y,a=e.velocity.y;if(t.immovable||e.immovable)t.immovable?(e.y+=s,e.velocity.y=o-a*e.bounce.y,t.moves&&(e.x+=(t.x-t.prev.x)*t.friction.x)):(t.y-=s,t.velocity.y=a-o*t.bounce.y,e.moves&&(t.x+=(e.x-e.prev.x)*e.friction.x));else{s*=.5,t.y-=s,e.y+=s;var h=Math.sqrt(a*a*e.mass/t.mass)*(a>0?1:-1),u=Math.sqrt(o*o*t.mass/e.mass)*(o>0?1:-1),c=.5*(h+u);h-=c,u-=c,t.velocity.y=c+h*t.bounce.y,e.velocity.y=c+u*e.bounce.y}return!0}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={Body:i(411),COLLIDES:i(94),CollisionMap:i(412),Factory:i(413),Image:i(415),ImpactBody:i(414),ImpactPhysics:i(986),Sprite:i(416),TYPE:i(95),World:i(417)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(23);t.exports=function(t,e,i,r,s){if(i)return n(e+i*t,-s,s);if(r){var o=r*t;return e-o>0?e-o:e+o<0?e+o:0}return n(e,-s,s)}},function(t,e){t.exports=function(t,e){if(t.standing=!1,e.collision.y&&(t.bounciness>0&&Math.abs(t.vel.y)>t.minBounceVelocity?t.vel.y*=-t.bounciness:(t.vel.y>0&&(t.standing=!0),t.vel.y=0)),e.collision.x&&(t.bounciness>0&&Math.abs(t.vel.x)>t.minBounceVelocity?t.vel.x*=-t.bounciness:t.vel.x=0),e.collision.slope){var i=e.collision.slope;if(t.bounciness>0){var n=t.vel.x*i.nx+t.vel.y*i.ny;t.vel.x=(t.vel.x-i.nx*n*2)*t.bounciness,t.vel.y=(t.vel.y-i.ny*n*2)*t.bounciness}else{var r=i.x*i.x+i.y*i.y,s=(t.vel.x*i.x+t.vel.y*i.y)/r;t.vel.x=i.x*s,t.vel.y=i.y*s;var o=Math.atan2(i.x,i.y);o>t.slopeStanding.min&&o<t.slopeStanding.max&&(t.standing=!0)}}t.pos.x=e.pos.x,t.pos.y=e.pos.y}},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i=.5,n=1/3,r=2/3;t.exports={2:[0,1,1,0,!0],3:[0,1,1,i,!0],4:[0,i,1,0,!0],5:[0,1,1,r,!0],6:[0,r,1,n,!0],7:[0,n,1,0,!0],8:[i,1,0,0,!0],9:[1,0,i,1,!0],10:[i,1,1,0,!0],11:[0,0,i,1,!0],12:[0,0,1,0,!1],13:[1,1,0,0,!0],14:[1,i,0,0,!0],15:[1,1,0,i,!0],16:[1,n,0,0,!0],17:[1,r,0,n,!0],18:[1,1,0,r,!0],19:[1,1,i,0,!0],20:[i,0,0,1,!0],21:[0,1,i,0,!0],22:[i,0,1,1,!0],23:[1,1,0,1,!1],24:[0,0,1,1,!0],25:[0,0,1,i,!0],26:[0,i,1,1,!0],27:[0,0,1,n,!0],28:[0,n,1,r,!0],29:[0,r,1,1,!0],30:[n,1,0,0,!0],31:[1,0,r,1,!0],32:[r,1,1,0,!0],33:[0,0,n,1,!0],34:[1,0,1,1,!1],35:[1,0,0,1,!0],36:[1,i,0,1,!0],37:[1,0,0,i,!0],38:[1,r,0,1,!0],39:[1,n,0,r,!0],40:[1,0,0,n,!0],41:[r,1,n,0,!0],42:[r,0,n,1,!0],43:[n,1,r,0,!0],44:[n,0,r,1,!0],45:[0,1,0,0,!1],52:[1,1,r,0,!0],53:[n,0,0,1,!0],54:[0,1,n,0,!0],55:[r,0,1,1,!0]}},function(t,e){t.exports={setAccelerationX:function(t){return this.accel.x=t,this},setAccelerationY:function(t){return this.accel.y=t,this},setAcceleration:function(t,e){return this.accel.x=t,this.accel.y=e,this}}},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i={setBodySize:function(t,e){return void 0===e&&(e=t),this.body.size.x=Math.round(t),this.body.size.y=Math.round(e),this},setBodyScale:function(t,e){void 0===e&&(e=t);var i=this.body.gameObject;return i?(i.setScale(t,e),this.setBodySize(i.width*i.scaleX,i.height*i.scaleY)):this.setBodySize(this.body.size.x*t,this.body.size.y*e)}};t.exports=i},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(95),r={getBodyType:function(){return this.body.type},setTypeNone:function(){return this.body.type=n.NONE,this},setTypeA:function(){return this.body.type=n.A,this},setTypeB:function(){return this.body.type=n.B,this}};t.exports=r},function(t,e){t.exports={setBounce:function(t){return this.body.bounciness=t,this},setMinBounceVelocity:function(t){return this.body.minBounceVelocity=t,this},bounce:{get:function(){return this.body.bounciness},set:function(t){this.body.bounciness=t}}}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(95),r={setAvsB:function(){return this.setTypeA(),this.setCheckAgainstB()},setBvsA:function(){return this.setTypeB(),this.setCheckAgainstA()},setCheckAgainstNone:function(){return this.body.checkAgainst=n.NONE,this},setCheckAgainstA:function(){return this.body.checkAgainst=n.A,this},setCheckAgainstB:function(){return this.body.checkAgainst=n.B,this},checkAgainst:{get:function(){return this.body.checkAgainst},set:function(t){this.body.checkAgainst=t}}};t.exports=r},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(94),r={_collideCallback:null,_callbackScope:null,setCollideCallback:function(t,e){return this._collideCallback=t,e&&(this._callbackScope=e),this},setCollidesNever:function(){return this.body.collides=n.NEVER,this},setLiteCollision:function(){return this.body.collides=n.LITE,this},setPassiveCollision:function(){return this.body.collides=n.PASSIVE,this},setActiveCollision:function(){return this.body.collides=n.ACTIVE,this},setFixedCollision:function(){return this.body.collides=n.FIXED,this},collides:{get:function(){return this.body.collides},set:function(t){this.body.collides=t}}};t.exports=r},function(t,e){t.exports={setDebug:function(t,e,i){return this.debugShowBody=t,this.debugShowVelocity=e,this.debugBodyColor=i,this},setDebugBodyColor:function(t){return this.body.debugBodyColor=t,this},debugShowBody:{get:function(){return this.body.debugShowBody},set:function(t){this.body.debugShowBody=t}},debugShowVelocity:{get:function(){return this.body.debugShowVelocity},set:function(t){this.body.debugShowVelocity=t}},debugBodyColor:{get:function(){return this.body.debugBodyColor},set:function(t){this.body.debugBodyColor=t}}}},function(t,e){t.exports={setFrictionX:function(t){return this.friction.x=t,this},setFrictionY:function(t){return this.friction.y=t,this},setFriction:function(t,e){return this.friction.x=t,this.friction.y=e,this}}},function(t,e){t.exports={setGravity:function(t){return this.body.gravityFactor=t,this},gravity:{get:function(){return this.body.gravityFactor},set:function(t){this.body.gravityFactor=t}}}},function(t,e){t.exports={setOffset:function(t,e,i,n){return this.body.offset.x=t,this.body.offset.y=e,i&&this.setBodySize(i,n),this}}},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i={setGameObject:function(t,e){return void 0===e&&(e=!0),t?(this.body.gameObject=t,e&&this.syncGameObject()):this.body.gameObject=null,this},syncGameObject:function(){var t=this.body.gameObject;return t&&this.setBodySize(t.width*t.scaleX,t.height*t.scaleY),this}};t.exports=i},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i={setVelocityX:function(t){return this.vel.x=t,this},setVelocityY:function(t){return this.vel.y=t,this},setVelocity:function(t,e){return void 0===e&&(e=t),this.vel.x=t,this.vel.y=e,this},setMaxVelocity:function(t,e){return void 0===e&&(e=t),this.maxVel.x=t,this.maxVel.y=e,this}};t.exports=i},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(413),s=i(1),o=i(73),a=i(13),h=i(417),u=new n({initialize:function(t){this.scene=t,this.systems=t.sys,this.config=this.getConfig(),this.world,this.add,t.sys.events.once("boot",this.boot,this),t.sys.events.on("start",this.start,this)},boot:function(){this.world=new h(this.scene,this.config),this.add=new r(this.world),this.systems.events.once("destroy",this.destroy,this)},start:function(){this.world||(this.world=new h(this.scene,this.config),this.add=new r(this.world));var t=this.systems.events;t.on("update",this.world.update,this.world),t.once("shutdown",this.shutdown,this)},getConfig:function(){var t=this.systems.game.config.physics,e=this.systems.settings.physics;return o(s(e,"impact",{}),s(t,"impact",{}))},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},shutdown:function(){var t=this.systems.events;t.off("update",this.world.update,this.world),t.off("shutdown",this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null},destroy:function(){this.shutdown(),this.scene.sys.events.off("start",this.start,this),this.scene=null,this.systems=null}});a.register("ImpactPhysics",u,"impactPhysics"),t.exports=u},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(94),r=i(988),s=i(989);t.exports=function(t,e,i){var o=null;e.collides===n.LITE||i.collides===n.FIXED?o=e:i.collides!==n.LITE&&e.collides!==n.FIXED||(o=i),e.last.x+e.size.x>i.last.x&&e.last.x<i.last.x+i.size.x?(e.last.y<i.last.y?s(t,e,i,o):s(t,i,e,o),e.collideWith(i,"y"),i.collideWith(e,"y"),t.emit("collide",e,i,"y")):e.last.y+e.size.y>i.last.y&&e.last.y<i.last.y+i.size.y&&(e.last.x<i.last.x?r(t,e,i,o):r(t,i,e,o),e.collideWith(i,"x"),i.collideWith(e,"x"),t.emit("collide",e,i,"x"))}},function(t,e){t.exports=function(t,e,i,n){var r=e.pos.x+e.size.x-i.pos.x;if(n){var s=e===n?i:e;n.vel.x=-n.vel.x*n.bounciness+s.vel.x;var o=t.collisionMap.trace(n.pos.x,n.pos.y,n===e?-r:r,0,n.size.x,n.size.y);n.pos.x=o.pos.x}else{var a=(e.vel.x-i.vel.x)/2;e.vel.x=-a,i.vel.x=a;var h=t.collisionMap.trace(e.pos.x,e.pos.y,-r/2,0,e.size.x,e.size.y);e.pos.x=Math.floor(h.pos.x);var u=t.collisionMap.trace(i.pos.x,i.pos.y,r/2,0,i.size.x,i.size.y);i.pos.x=Math.ceil(u.pos.x)}}},function(t,e){t.exports=function(t,e,i,n){var r,s,o=e.pos.y+e.size.y-i.pos.y;if(n){var a=e===n?i:e;n.vel.y=-n.vel.y*n.bounciness+a.vel.y,r=0,n===e&&Math.abs(n.vel.y-a.vel.y)<n.minBounceVelocity&&(n.standing=!0,r=a.vel.x*t.delta);var h=t.collisionMap.trace(n.pos.x,n.pos.y,r,n===e?-o:o,n.size.x,n.size.y);n.pos.y=h.pos.y,n.pos.x=h.pos.x}else if(t.gravity&&(i.standing||e.vel.y>0))s=t.collisionMap.trace(e.pos.x,e.pos.y,0,-(e.pos.y+e.size.y-i.pos.y),e.size.x,e.size.y),e.pos.y=s.pos.y,e.bounciness>0&&e.vel.y>e.minBounceVelocity?e.vel.y*=-e.bounciness:(e.standing=!0,e.vel.y=0);else{var u=(e.vel.y-i.vel.y)/2;e.vel.y=-u,i.vel.y=u,r=i.vel.x*t.delta,s=t.collisionMap.trace(e.pos.x,e.pos.y,r,-o/2,e.size.x,e.size.y),e.pos.y=s.pos.y;var c=t.collisionMap.trace(i.pos.x,i.pos.y,0,o/2,i.size.x,i.size.y);i.pos.y=c.pos.y}}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={Factory:i(418),Image:i(421),Matter:i(202),MatterPhysics:i(1009),PolyDecomp:i(419),Sprite:i(422),TileBody:i(199),World:i(428)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(125),r=i(1),s=i(3);t.exports=function(t,e,i){void 0===i&&(i={});var o=e.x,a=e.y;e.body={position:{x:o,y:a}},[n.Bounce,n.Collision,n.Force,n.Friction,n.Gravity,n.Mass,n.Sensor,n.SetBody,n.Sleep,n.Static,n.Transform,n.Velocity].forEach(function(t){for(var i in t)(n=t[i]).get&&"function"==typeof n.get||n.set&&"function"==typeof n.set?Object.defineProperty(e,i,{get:t[i].get,set:t[i].set}):Object.defineProperty(e,i,{value:t[i]});var n}),e.world=t,e._tempVec2=new s(o,a);var h=r(i,"shape",null);return h||(h="rectangle"),e.setBody(h,i),e}},function(t,e){t.exports={setBounce:function(t){return this.body.restitution=t,this}}},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i={setCollisionCategory:function(t){return this.body.collisionFilter.category=t,this},setCollisionGroup:function(t){return this.body.collisionFilter.group=t,this},setCollidesWith:function(t){var e=0;if(Array.isArray(t))for(var i=0;i<t.length;i++)e|=t[i];else e=t;return this.body.collisionFilter.mask=e,this}};t.exports=i},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(25),r={applyForce:function(t){return this._tempVec2.set(this.body.position.x,this.body.position.y),n.applyForce(this.body,this._tempVec2,t),this},applyForceFrom:function(t,e){return n.applyForce(this.body,t,e),this},thrust:function(t){var e=this.body.angle;return this._tempVec2.set(t*Math.cos(e),t*Math.sin(e)),n.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustLeft:function(t){var e=this.body.angle-Math.PI/2;return this._tempVec2.set(t*Math.cos(e),t*Math.sin(e)),n.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustRight:function(t){var e=this.body.angle+Math.PI/2;return this._tempVec2.set(t*Math.cos(e),t*Math.sin(e)),n.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustBack:function(t){var e=this.body.angle-Math.PI;return this._tempVec2.set(t*Math.cos(e),t*Math.sin(e)),n.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this}};t.exports=r},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var i={setFriction:function(t,e,i){return this.body.friction=t,void 0!==e&&(this.body.frictionAir=e),void 0!==i&&(this.body.frictionStatic=i),this},setFrictionAir:function(t){return this.body.frictionAir=t,this},setFrictionStatic:function(t){return this.body.frictionStatic=t,this}};t.exports=i},function(t,e){t.exports={setIgnoreGravity:function(t){return this.body.ignoreGravity=t,this}}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(25),r=i(3),s={setMass:function(t){return n.setMass(this.body,t),this},setDensity:function(t){return n.setDensity(this.body,t),this},centerOfMass:{get:function(){return new r(this.body.render.sprite.xOffset*this.width,this.body.render.sprite.yOffset*this.height)}}};t.exports=s},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(25),r={setStatic:function(t){return n.setStatic(this.body,t),this},isStatic:function(){return this.body.isStatic}};t.exports=r},function(t,e){t.exports={setSensor:function(t){return this.body.isSensor=t,this},isSensor:function(){return this.body.isSensor}}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(53),r=i(25),s=i(1),o=i(1001),a={setRectangle:function(t,e,i){return this.setBody({type:"rectangle",width:t,height:e},i)},setCircle:function(t,e){return this.setBody({type:"circle",radius:t},e)},setPolygon:function(t,e,i){return this.setBody({type:"polygon",sides:e,radius:t},i)},setTrapezoid:function(t,e,i,n){return this.setBody({type:"trapezoid",width:t,height:e,slope:i},n)},setExistingBody:function(t,e){void 0===e&&(e=!0),this.body&&this.world.remove(this.body),this.body=t,this.body.gameObject=this;var i=this;return t.destroy=function(){i.world.remove(i.body),i.body.gameObject=null},e&&this.world.add(t),this._originComponent&&this.setOrigin(t.render.sprite.xOffset,t.render.sprite.yOffset),this},setBody:function(t,e){if(!t)return this;var i;"string"==typeof t&&(t={type:t});var a=s(t,"type","rectangle"),h=s(t,"x",this._tempVec2.x),u=s(t,"y",this._tempVec2.y),c=s(t,"width",this.width),l=s(t,"height",this.height);switch(a){case"rectangle":i=n.rectangle(h,u,c,l,e);break;case"circle":var f=s(t,"radius",Math.max(c,l)/2),d=s(t,"maxSides",25);i=n.circle(h,u,f,e,d);break;case"trapezoid":var p=s(t,"slope",.5);i=n.trapezoid(h,u,c,l,p,e);break;case"polygon":var g=s(t,"sides",5),v=s(t,"radius",Math.max(c,l)/2);i=n.polygon(h,u,g,v,e);break;case"fromVertices":case"fromVerts":var y=s(t,"verts",[]);if(this.body)r.setVertices(this.body,y),i=this.body;else{var m=s(t,"flagInternal",!1),x=s(t,"removeCollinear",.01),b=s(t,"minimumArea",10);i=n.fromVertices(h,u,y,e,m,x,b)}break;case"fromPhysicsEditor":i=o.parseBody(h,u,c,l,t)}return this.setExistingBody(i,t.addToWorld),this}};t.exports=a},function(t,e,i){
/**
 * @author       Joachim Grill <joachim@codeandweb.com>
 * @copyright    2018 CodeAndWeb GmbH
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(53),r=i(25),s=i(32),o=i(15),a=i(1),h=i(31),u=i(34),c={parseBody:function(t,e,i,n,s){for(var h=a(s,"fixtures",[]),u=[],c=0;c<h.length;c++)for(var l=this.parseFixture(h[c]),f=0;f<l.length;f++)u.push(l[f]);var d=o.extend({},!1,s);delete d.fixtures,delete d.type;var p=r.create(d);return r.setParts(p,u),p.render.sprite.xOffset=p.position.x/i,p.render.sprite.yOffset=p.position.y/n,r.setPosition(p,{x:t,y:e}),p},parseFixture:function(t){var e,i=o.extend({},!1,t);if(delete i.circle,delete i.vertices,t.circle){var r=a(t.circle,"x"),s=a(t.circle,"y"),h=a(t.circle,"radius");e=[n.circle(r,s,h,i)]}else t.vertices&&(e=this.parseVertices(t.vertices,i));return e},parseVertices:function(t,e){var i,n,a,c,l,f=[];for(e=e||{},c=0;c<t.length;c+=1)f.push(r.create(o.extend({position:u.centre(t[c]),vertices:t[c]},e)));for(i=0;i<f.length;i++){var d=f[i];for(n=i+1;n<f.length;n++){var p=f[n];if(s.overlaps(d.bounds,p.bounds)){var g=d.vertices,v=p.vertices;for(a=0;a<d.vertices.length;a++)for(l=0;l<p.vertices.length;l++){var y=h.magnitudeSquared(h.sub(g[(a+1)%g.length],v[l])),m=h.magnitudeSquared(h.sub(g[a],v[(l+1)%v.length]));y<5&&m<5&&(g[a].isInternal=!0,v[l].isInternal=!0)}}}}return f}};t.exports=c},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(81),r={setSleepThreshold:function(t){return void 0===t&&(t=60),this.body.sleepThreshold=t,this},setSleepEvents:function(t,e){return this.setSleepStartEvent(t),this.setSleepEndEvent(e),this},setSleepStartEvent:function(t){if(t){var e=this.world;n.on(this.body,"sleepStart",function(t){e.emit("sleepstart",t,this)})}else n.off(this.body,"sleepStart");return this},setSleepEndEvent:function(t){if(t){var e=this.world;n.on(this.body,"sleepEnd",function(t){e.emit("sleepend",t,this)})}else n.off(this.body,"sleepEnd");return this}};t.exports=r},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(25),r=i(18),s=i(144),o=i(145),a={x:{get:function(){return this.body.position.x},set:function(t){this._tempVec2.set(t,this.y),n.setPosition(this.body,this._tempVec2)}},y:{get:function(){return this.body.position.y},set:function(t){this._tempVec2.set(this.x,t),n.setPosition(this.body,this._tempVec2)}},scaleX:{get:function(){return this._scaleX},set:function(t){var e=1/this._scaleX;this._scaleX=t,0===this._scaleX?this.renderFlags&=-5:this.renderFlags|=4,n.scale(this.body,e,this._scaleY),n.scale(this.body,t,this._scaleY)}},scaleY:{get:function(){return this._scaleY},set:function(t){var e=1/this._scaleY;this._scaleY=t,0===this._scaleY?this.renderFlags&=-5:this.renderFlags|=4,n.scale(this.body,this._scaleX,e),n.scale(this.body,this._scaleX,t)}},angle:{get:function(){return o(this.body.angle*r.RAD_TO_DEG)},set:function(t){this.rotation=o(t)*r.DEG_TO_RAD}},rotation:{get:function(){return this.body.angle},set:function(t){this._rotation=s(t),n.setAngle(this.body,this._rotation)}},setPosition:function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this._tempVec2.set(t,e),n.setPosition(this.body,this._tempVec2),this},setRotation:function(t){return void 0===t&&(t=0),this._rotation=s(t),n.setAngle(this.body,t),this},setFixedRotation:function(){return n.setInertia(this.body,1/0),this},setAngle:function(t){return void 0===t&&(t=0),this.angle=t,n.setAngle(this.body,this.rotation),this},setScale:function(t,e,i){void 0===t&&(t=1),void 0===e&&(e=t);var r=1/this._scaleX,s=1/this._scaleY;return this._scaleX=t,this._scaleY=e,n.scale(this.body,r,s,i),n.scale(this.body,t,e,i),this}};t.exports=a},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(25),r={setAngularVelocity:function(t){return n.setAngularVelocity(this.body,t),this},setVelocityX:function(t){return this._tempVec2.set(t,this.body.velocity.y),n.setVelocity(this.body,this._tempVec2),this},setVelocityY:function(t){return this._tempVec2.set(this.body.velocity.x,t),n.setVelocity(this.body,this._tempVec2),this},setVelocity:function(t,e){return this._tempVec2.set(t,e),n.setVelocity(this.body,this._tempVec2),this}};t.exports=r},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(32),r=i(0),s=i(63),o=i(82),a=i(200),h=i(1),u=i(73),c=i(96),l=i(3),f=i(34),d=new r({initialize:function(t,e,i){void 0===i&&(i={});this.scene=t,this.world=e;var n=h(i,"camera",null);n?(this.camera=n,delete i.camera):this.camera=t.sys.cameras.main,this.pointer=null,this.active=!0,this.position=new l,this.constraint=o.create(u(i,{label:"Pointer Constraint",pointA:{x:0,y:0},pointB:{x:0,y:0},damping:0,length:.01,stiffness:.1,angularStiffness:1,collisionFilter:{category:1,mask:4294967295,group:0}})),this.world.on("beforeupdate",this.update,this),t.sys.input.on("pointerdown",this.onDown,this),t.sys.input.on("pointerup",this.onUp,this)},onDown:function(t){this.pointer=t},onUp:function(){this.pointer=null},getBodyPart:function(t,e){for(var i=this.constraint,n=t.parts.length>1?1:0;n<t.parts.length;n++){var r=t.parts[n];if(f.contains(r.vertices,e))return i.bodyB=t,i.pointA.x=e.x,i.pointA.y=e.y,i.pointB.x=e.x-t.position.x,i.pointB.y=e.y-t.position.y,i.angleB=t.angle,c.set(t,!1),!0}return!1},update:function(){if(this.active){var t=this.pointer,e=this.constraint;if(t){var i=this.position;if(this.camera.getWorldPoint(t.x,t.y,i),e.bodyB)c.set(e.bodyB,!1),e.pointA.x=i.x,e.pointA.y=i.y;else for(var r=s.allBodies(this.world.localWorld),o=0;o<r.length;o++){var h=r[o];if(!h.ignorePointer&&n.contains(h.bounds,i)&&a.canCollide(h.collisionFilter,e.collisionFilter)&&this.getBodyPart(h,i))break}}else e.bodyB&&(e.bodyB=null)}},destroy:function(){this.world.removeConstraint(this.constraint),this.constraint=null,this.world.off("beforeupdate",this.update),this.scene.sys.input.off("pointerdown",this.onDown,this),this.scene.sys.input.off("pointerup",this.onUp,this)}});t.exports=d},function(t,e,i){var n={};t.exports=n;var r=i(31),s=i(201),o=i(32),a=i(53),h=i(34);n.collides=function(t,e){for(var i=[],n=0;n<e.length;n++){var r=e[n];if(o.overlaps(r.bounds,t.bounds))for(var a=1===r.parts.length?0:1;a<r.parts.length;a++){var h=r.parts[a];if(o.overlaps(h.bounds,t.bounds)){var u=s.collides(h,t);if(u.collided){i.push(u);break}}}}return i},n.ray=function(t,e,i,s){s=s||1e-100;for(var o=r.angle(e,i),h=r.magnitude(r.sub(e,i)),u=.5*(i.x+e.x),c=.5*(i.y+e.y),l=a.rectangle(u,c,h,s,{angle:o}),f=n.collides(l,t),d=0;d<f.length;d+=1){var p=f[d];p.body=p.bodyB=p.bodyA}return f},n.region=function(t,e,i){for(var n=[],r=0;r<t.length;r++){var s=t[r],a=o.overlaps(s.bounds,e);(a&&!i||!a&&i)&&n.push(s)}return n},n.point=function(t,e){for(var i=[],n=0;n<t.length;n++){var r=t[n];if(o.contains(r.bounds,e))for(var s=1===r.parts.length?0:1;s<r.parts.length;s++){var a=r.parts[s];if(o.contains(a.bounds,e)&&h.contains(a.vertices,e)){i.push(r);break}}}return i}},function(t,e,i){var n={};t.exports=n;var r=i(63),s=i(15);n.create=function(t){return s.extend({extended:!1,narrowDetections:0,narrowphaseTests:0,narrowReuse:0,narrowReuseCount:0,midphaseTests:0,broadphaseTests:0,narrowEff:1e-4,midEff:1e-4,broadEff:1e-4,collisions:0,buckets:0,bodies:0,pairs:0},!1,t)},n.reset=function(t){t.extended&&(t.narrowDetections=0,t.narrowphaseTests=0,t.narrowReuse=0,t.narrowReuseCount=0,t.midphaseTests=0,t.broadphaseTests=0,t.narrowEff=0,t.midEff=0,t.broadEff=0,t.collisions=0,t.buckets=0,t.pairs=0,t.bodies=0)},n.update=function(t,e){if(t.extended){var i=e.world,n=r.allBodies(i);t.collisions=t.narrowDetections,t.pairs=e.pairs.list.length,t.bodies=n.length,t.midEff=(t.narrowDetections/(t.midphaseTests||1)).toFixed(2),t.narrowEff=(t.narrowDetections/(t.narrowphaseTests||1)).toFixed(2),t.broadEff=(1-t.broadphaseTests/(n.length||1)).toFixed(2),t.narrowReuse=(t.narrowReuseCount/(t.narrowphaseTests||1)).toFixed(2)}}},function(t,e,i){var n={};t.exports=n;i(32);var r=i(15);n.pathToVertices=function(t,e){"undefined"==typeof window||"SVGPathSeg"in window||r.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var i,s,o,a,h,u,c,l,f,d,p,g=[],v=0,y=0,m=0;e=e||15;var x=function(t,e,i){var n=i%2==1&&i>1;if(!f||t!=f.x||e!=f.y){f&&n?(d=f.x,p=f.y):(d=0,p=0);var r={x:d+t,y:p+e};!n&&f||(f=r),g.push(r),y=d+t,m=p+e}},b=function(t){var e=t.pathSegTypeAsLetter.toUpperCase();if("Z"!==e){switch(e){case"M":case"L":case"T":case"C":case"S":case"Q":y=t.x,m=t.y;break;case"H":y=t.x;break;case"V":m=t.y}x(y,m,t.pathSegType)}};for(n._svgPathToAbsolute(t),o=t.getTotalLength(),u=[],i=0;i<t.pathSegList.numberOfItems;i+=1)u.push(t.pathSegList.getItem(i));for(c=u.concat();v<o;){if((h=u[t.getPathSegAtLength(v)])!=l){for(;c.length&&c[0]!=h;)b(c.shift());l=h}switch(h.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":a=t.getPointAtLength(v),x(a.x,a.y,0)}v+=e}for(i=0,s=c.length;i<s;++i)b(c[i]);return g},n._svgPathToAbsolute=function(t){for(var e,i,n,r,s,o,a=t.pathSegList,h=0,u=0,c=a.numberOfItems,l=0;l<c;++l){var f=a.getItem(l),d=f.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(d))"x"in f&&(h=f.x),"y"in f&&(u=f.y);else switch("x1"in f&&(n=h+f.x1),"x2"in f&&(s=h+f.x2),"y1"in f&&(r=u+f.y1),"y2"in f&&(o=u+f.y2),"x"in f&&(h+=f.x),"y"in f&&(u+=f.y),d){case"m":a.replaceItem(t.createSVGPathSegMovetoAbs(h,u),l);break;case"l":a.replaceItem(t.createSVGPathSegLinetoAbs(h,u),l);break;case"h":a.replaceItem(t.createSVGPathSegLinetoHorizontalAbs(h),l);break;case"v":a.replaceItem(t.createSVGPathSegLinetoVerticalAbs(u),l);break;case"c":a.replaceItem(t.createSVGPathSegCurvetoCubicAbs(h,u,n,r,s,o),l);break;case"s":a.replaceItem(t.createSVGPathSegCurvetoCubicSmoothAbs(h,u,s,o),l);break;case"q":a.replaceItem(t.createSVGPathSegCurvetoQuadraticAbs(h,u,n,r),l);break;case"t":a.replaceItem(t.createSVGPathSegCurvetoQuadraticSmoothAbs(h,u),l);break;case"a":a.replaceItem(t.createSVGPathSegArcAbs(h,u,f.r1,f.r2,f.angle,f.largeArcFlag,f.sweepFlag),l);break;case"z":case"Z":h=e,u=i}"M"!=d&&"m"!=d||(e=h,i=u)}}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(418),s=i(1),o=i(4),a=i(1010),h=i(423),u=i(1011),c=i(73),l=i(203),f=i(13),d=i(428),p=new n({initialize:function(t){this.scene=t,this.systems=t.sys,this.config=this.getConfig(),this.world,this.add,o(this.config,"plugins.attractors",!1)&&(l.register(a),l.use(h,a)),o(this.config,"plugins.wrap",!1)&&(l.register(u),l.use(h,u)),t.sys.events.once("boot",this.boot,this),t.sys.events.on("start",this.start,this)},boot:function(){this.world=new d(this.scene,this.config),this.add=new r(this.world),this.systems.events.once("destroy",this.destroy,this)},start:function(){this.world||(this.world=new d(this.scene,this.config),this.add=new r(this.world));var t=this.systems.events;t.on("update",this.world.update,this.world),t.on("postupdate",this.world.postUpdate,this.world),t.once("shutdown",this.shutdown,this)},getConfig:function(){var t=this.systems.game.config.physics,e=this.systems.settings.physics;return c(s(e,"matter",{}),s(t,"matter",{}))},enableAttractorPlugin:function(){return l.register(a),l.use(h,a),this},enableWrapPlugin:function(){return l.register(u),l.use(h,u),this},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},set60Hz:function(){return this.world.getDelta=this.world.update60Hz,this.world.autoUpdate=!0,this},set30Hz:function(){return this.world.getDelta=this.world.update30Hz,this.world.autoUpdate=!0,this},step:function(t,e){this.world.step(t,e)},shutdown:function(){var t=this.systems.events;t.off("update",this.world.update,this.world),t.off("postupdate",this.world.postUpdate,this.world),t.off("shutdown",this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null},destroy:function(){this.shutdown(),this.scene.sys.events.off("start",this.start,this),this.scene=null,this.systems=null}});f.register("MatterPhysics",p,"matterPhysics"),t.exports=p},function(t,e,i){var n=i(202),r={name:"matter-attractors",version:"0.1.7",for:"matter-js@^0.13.1",silent:!0,install:function(t){t.after("Body.create",function(){r.Body.init(this)}),t.before("Engine.update",function(t){r.Engine.update(t)})},Body:{init:function(t){t.plugin.attractors=t.plugin.attractors||[]}},Engine:{update:function(t){for(var e=t.world,i=n.Composite.allBodies(e),r=0;r<i.length;r+=1){var s=i[r],o=s.plugin.attractors;if(o&&o.length>0)for(var a=r+1;a<i.length;a+=1)for(var h=i[a],u=0;u<o.length;u+=1){var c=o[u],l=c;n.Common.isFunction(c)&&(l=c(s,h)),l&&n.Body.applyForce(h,h.position,l)}}}},Attractors:{gravityConstant:.001,gravity:function(t,e){var i=n.Vector.sub(e.position,t.position),s=n.Vector.magnitudeSquared(i)||1e-4,o=n.Vector.normalise(i),a=-r.Attractors.gravityConstant*(t.mass*e.mass/s),h=n.Vector.mult(o,a);n.Body.applyForce(t,t.position,n.Vector.neg(h)),n.Body.applyForce(e,e.position,h)}}};t.exports=r},function(t,e,i){var n=i(202),r={name:"matter-wrap",version:"0.1.4",for:"matter-js@^0.13.1",silent:!0,install:function(t){t.after("Engine.update",function(){r.Engine.update(this)})},Engine:{update:function(t){for(var e=t.world,i=n.Composite.allBodies(e),s=n.Composite.allComposites(e),o=0;o<i.length;o+=1){var a=i[o];a.plugin.wrap&&r.Body.wrap(a,a.plugin.wrap)}for(o=0;o<s.length;o+=1){var h=s[o];h.plugin.wrap&&r.Composite.wrap(h,h.plugin.wrap)}}},Bounds:{wrap:function(t,e){var i=null,n=null;if(void 0!==e.min.x&&void 0!==e.max.x&&(t.min.x>e.max.x?i=e.min.x-t.max.x:t.max.x<e.min.x&&(i=e.max.x-t.min.x)),void 0!==e.min.y&&void 0!==e.max.y&&(t.min.y>e.max.y?n=e.min.y-t.max.y:t.max.y<e.min.y&&(n=e.max.y-t.min.y)),null!==i||null!==n)return{x:i||0,y:n||0}}},Body:{wrap:function(t,e){var i=r.Bounds.wrap(t.bounds,e);return i&&n.Body.translate(t,i),i}},Composite:{bounds:function(t){for(var e=n.Composite.allBodies(t),i=[],r=0;r<e.length;r+=1){var s=e[r];i.push(s.bounds.min,s.bounds.max)}return n.Bounds.create(i)},wrap:function(t,e){var i=r.Bounds.wrap(r.Composite.bounds(t),e);return i&&n.Composite.translate(t,i),i}}};t.exports=r},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={BasePlugin:i(429),DefaultPlugins:i(164),PluginCache:i(13),PluginManager:i(312),ScenePlugin:i(1013)}},function(t,e,i){
/**
* @author       Richard Davey <rich@photonstorm.com>
* @copyright    2018 Photon Storm Ltd.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/
var n=i(429),r=new(i(0))({Extends:n,initialize:function(t,e){n.call(this,e),this.scene=t,this.systems=t.sys,t.sys.events.once("boot",this.boot,this)},boot:function(){}});t.exports=r},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={Canvas:i(1015),Snapshot:i(1016),WebGL:i(1017)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={CanvasRenderer:i(298),GetBlendModes:i(300),SetTransform:i(117)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={Canvas:i(299),WebGL:i(302)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={Utils:i(19),WebGLPipeline:i(165),WebGLRenderer:i(301),Pipelines:i(1018),BYTE:0,SHORT:1,UNSIGNED_BYTE:2,UNSIGNED_SHORT:3,FLOAT:4}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={BitmapMaskPipeline:i(303),ForwardDiffuseLightPipeline:i(166),TextureTintPipeline:i(167)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(109),r=i(17),s={SceneManager:i(314),ScenePlugin:i(1020),Settings:i(317),Systems:i(168)};s=r(!1,s,n),t.exports=s},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(23),r=i(0),s=i(1),o=i(13),a=new r({initialize:function(t){this.scene=t,this.systems=t.sys,this.settings=t.sys.settings,this.key=t.sys.settings.key,this.manager=t.sys.game.scene,this.transitionProgress=0,this._elapsed=0,this._target=null,this._duration=0,this._onUpdate,this._onUpdateScope,this._willSleep=!1,this._willRemove=!1,t.sys.events.once("boot",this.boot,this),t.sys.events.on("start",this.pluginStart,this)},boot:function(){this.systems.events.once("destroy",this.destroy,this)},pluginStart:function(){this._target=null,this.systems.events.once("shutdown",this.shutdown,this)},start:function(t,e){return void 0===t&&(t=this.key),this.manager.queueOp("stop",this.key),this.manager.queueOp("start",t,e),this},restart:function(t){var e=this.key;return this.manager.queueOp("stop",e),this.manager.queueOp("start",e,t),this},transition:function(t){void 0===t&&(t={});var e=s(t,"target",!1),i=this.manager.getScene(e);if(!e||!this.checkValidTransition(i))return!1;var n=s(t,"duration",1e3);this._elapsed=0,this._target=i,this._duration=n,this._willSleep=s(t,"sleep",!1),this._willRemove=s(t,"remove",!1);var r=s(t,"onUpdate",null);r&&(this._onUpdate=r,this._onUpdateScope=s(t,"onUpdateScope",this.scene));var o=s(t,"allowInput",!1);this.settings.transitionAllowInput=o;var a=i.sys.settings;return a.isTransition=!0,a.transitionFrom=this.scene,a.transitionDuration=n,a.transitionAllowInput=o,s(t,"moveAbove",!1)?this.manager.moveAbove(this.key,e):s(t,"moveBelow",!1)&&this.manager.moveBelow(this.key,e),i.sys.isSleeping()?i.sys.wake():this.manager.start(e,s(t,"data")),this.systems.events.emit("transitionout",i,n),this.systems.events.on("update",this.step,this),!0},checkValidTransition:function(t){return!(!t||t.sys.isActive()||t.sys.isTransitioning()||t===this.scene||this.systems.isTransitioning())},step:function(t,e){this._elapsed+=e,this.transitionProgress=n(this._elapsed/this._duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.transitionProgress),this._elapsed>=this._duration&&this.transitionComplete()},transitionComplete:function(){var t=this._target.sys,e=this._target.sys.settings;this.systems.events.off("update",this.step,this),t.events.emit("transitioncomplete",this.scene),e.isTransition=!1,e.transitionFrom=null,this._duration=0,this._target=null,this._onUpdate=null,this._onUpdateScope=null,this._willRemove?this.manager.remove(this.key):this._willSleep?this.systems.sleep():this.manager.stop(this.key)},add:function(t,e,i){return this.manager.add(t,e,i),this},launch:function(t,e){return t&&t!==this.key&&this.manager.queueOp("start",t,e),this},run:function(t,e){return t&&t!==this.key&&this.manager.queueOp("run",t,e),this},pause:function(t,e){return void 0===t&&(t=this.key),this.manager.queueOp("pause",t,e),this},resume:function(t,e){return void 0===t&&(t=this.key),this.manager.queueOp("resume",t,e),this},sleep:function(t,e){return void 0===t&&(t=this.key),this.manager.queueOp("sleep",t,e),this},wake:function(t,e){return void 0===t&&(t=this.key),this.manager.queueOp("wake",t,e),this},switch:function(t){return t!==this.key&&this.manager.queueOp("switch",this.key,t),this},stop:function(t){return void 0===t&&(t=this.key),this.manager.queueOp("stop",t),this},setActive:function(t,e,i){void 0===e&&(e=this.key);var n=this.manager.getScene(e);return n&&n.sys.setActive(t,i),this},setVisible:function(t,e){void 0===e&&(e=this.key);var i=this.manager.getScene(e);return i&&i.sys.setVisible(t),this},isSleeping:function(t){return void 0===t&&(t=this.key),this.manager.isSleeping(t)},isActive:function(t){return void 0===t&&(t=this.key),this.manager.isActive(t)},isVisible:function(t){return void 0===t&&(t=this.key),this.manager.isVisible(t)},swapPosition:function(t,e){return void 0===e&&(e=this.key),t!==e&&this.manager.swapPosition(t,e),this},moveAbove:function(t,e){return void 0===e&&(e=this.key),t!==e&&this.manager.moveAbove(t,e),this},moveBelow:function(t,e){return void 0===e&&(e=this.key),t!==e&&this.manager.moveBelow(t,e),this},remove:function(t){return void 0===t&&(t=this.key),this.manager.remove(t),this},moveUp:function(t){return void 0===t&&(t=this.key),this.manager.moveUp(t),this},moveDown:function(t){return void 0===t&&(t=this.key),this.manager.moveDown(t),this},bringToTop:function(t){return void 0===t&&(t=this.key),this.manager.bringToTop(t),this},sendToBack:function(t){return void 0===t&&(t=this.key),this.manager.sendToBack(t),this},get:function(t){return this.manager.getScene(t)},getIndex:function(t){return void 0===t&&(t=this.key),this.manager.getIndex(t)},shutdown:function(){var t=this.systems.events;t.off("shutdown",this.shutdown,this),t.off("postupdate",this.step,this),t.off("transitionout")},destroy:function(){this.shutdown(),this.scene.sys.events.off("start",this.start,this),this.scene=null,this.systems=null,this.settings=null,this.manager=null}});o.register("ScenePlugin",a,"scenePlugin"),t.exports=a},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={SoundManagerCreator:i(318),BaseSound:i(111),BaseSoundManager:i(110),WebAudioSound:i(324),WebAudioSoundManager:i(323),HTML5AudioSound:i(320),HTML5AudioSoundManager:i(319),NoAudioSound:i(322),NoAudioSoundManager:i(321)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={List:i(113),Map:i(151),ProcessQueue:i(407),RTree:i(408),Set:i(74)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(17),r=i(1024),s={FilterMode:r,Frame:i(112),Parsers:i(327),Texture:i(169),TextureManager:i(325),TextureSource:i(326)};s=n(!1,s,r),t.exports=s},function(t,e){t.exports={LINEAR:0,NEAREST:1}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={Components:i(127),Parsers:i(1055),Formats:i(30),ImageCollection:i(437),ParseToTilemap:i(209),Tile:i(65),Tilemap:i(441),TilemapCreator:i(1072),TilemapFactory:i(1073),Tileset:i(131),LayerData:i(98),MapData:i(99),ObjectLayer:i(439),DynamicTilemapLayer:i(442),StaticTilemapLayer:i(443)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(21),r=i(47);t.exports=function(t,e,i,s,o,a,h,u){t<0&&(t=0),e<0&&(e=0),void 0===h&&(h=!0);for(var c=n(t,e,i,s,null,u),l=o-t,f=a-e,d=0;d<c.length;d++){var p=c[d].x+l,g=c[d].y+f;p>=0&&p<u.width&&g>=0&&g<u.height&&u.data[g][p]&&u.data[g][p].copy(c[d])}h&&r(o-1,a-1,i+2,s+2,u)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(129),r=i(130),s=i(21),o=i(430);t.exports=function(t,e,i,a,h,u){void 0===i&&(i={}),Array.isArray(t)||(t=[t]);var c=u.tilemapLayer;void 0===a&&(a=c.scene),void 0===h&&(h=a.cameras.main);var l,f=s(0,0,u.width,u.height,null,u),d=[];for(l=0;l<f.length;l++){var p=f[l];if(-1!==t.indexOf(p.index)){i.x=n(p.x,h,u),i.y=r(p.y,h,u);var g=a.make.sprite(i);d.push(g)}}if("number"==typeof e)for(l=0;l<t.length;l++)o(t[l],e,0,0,u.width,u.height,u);else if(Array.isArray(e))for(l=0;l<t.length;l++)o(t[l],e[l],0,0,u.width,u.height,u);return d}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(192),r=i(390);t.exports=function(t,e,i,s){void 0===i&&(i=[]),void 0===s&&(s=0),i.length=0;var o,a,h,u=t.tilemapLayer.tilemap,c=t.tilemapLayer,l=t.data,f=t.width,d=t.height,p=Math.floor(u.tileWidth*c.scaleX),g=Math.floor(u.tileHeight*c.scaleY),v=0,y=f,m=0,x=d;if(!c.skipCull&&1===c.scrollFactorX&&1===c.scrollFactorY){var b=n(e.worldView.x-c.x,p,0,!0)-c.cullPaddingX,w=r(e.worldView.right-c.x,p,0,!0)+c.cullPaddingX,T=n(e.worldView.y-c.y,g,0,!0)-c.cullPaddingY,S=r(e.worldView.bottom-c.y,g,0,!0)+c.cullPaddingY;v=Math.max(0,b),y=Math.min(f,w),m=Math.max(0,T),x=Math.min(d,S)}if(0===s)for(a=m;a<x;a++)for(o=v;o<y;o++)(h=l[a][o])&&-1!==h.index&&h.visible&&0!==h.alpha&&i.push(h);else if(1===s)for(a=m;a<x;a++)for(o=y;o>=v;o--)(h=l[a][o])&&-1!==h.index&&h.visible&&0!==h.alpha&&i.push(h);else if(2===s)for(a=x;a>=m;a--)for(o=v;o<y;o++)(h=l[a][o])&&-1!==h.index&&h.visible&&0!==h.alpha&&i.push(h);else if(3===s)for(a=x;a>=m;a--)for(o=y;o>=v;o--)(h=l[a][o])&&-1!==h.index&&h.visible&&0!==h.alpha&&i.push(h);return c.tilesDrawn=i.length,c.tilesTotal=f*d,i}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(21),r=i(47),s=i(64);t.exports=function(t,e,i,o,a,h,u){void 0===h&&(h=!0);for(var c=-1!==u.collideIndexes.indexOf(t),l=n(e,i,o,a,null,u),f=0;f<l.length;f++)l[f].index=t,s(l[f],c);h&&r(e-1,i-1,o+2,a+2,u)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(21);t.exports=function(t,e,i,r,s,o,a,h){return n(i,r,s,o,a,h).filter(t,e)}},function(t,e){t.exports=function(t,e,i,n){void 0===e&&(e=0),void 0===i&&(i=!1);var r,s,o,a=0;if(i){for(s=n.height-1;s>=0;s--)for(r=n.width-1;r>=0;r--)if((o=n.data[s][r])&&o.index===t){if(a===e)return o;a+=1}}else for(s=0;s<n.height;s++)for(r=0;r<n.width;r++)if((o=n.data[s][r])&&o.index===t){if(a===e)return o;a+=1}return null}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(21);t.exports=function(t,e,i,r,s,o,a,h){return n(i,r,s,o,a,h).find(t,e)||null}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(21);t.exports=function(t,e,i,r,s,o,a,h){n(i,r,s,o,a,h).forEach(t,e)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(128),r=i(54),s=i(55);t.exports=function(t,e,i,o,a){var h=r(t,!0,o,a),u=s(e,!0,o,a);return n(h,u,i,a)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(354),r=i(21),s=i(355),o=i(2),a=i(129),h=i(130),u=i(54),c=i(55),l=function(t,e){return s.RectangleToTriangle(e,t)};t.exports=function(t,e,i,f){if(void 0===t)return[];var d=o;t instanceof n.Circle?d=s.CircleToRectangle:t instanceof n.Rectangle?d=s.RectangleToRectangle:t instanceof n.Triangle?d=l:t instanceof n.Line&&(d=s.LineToRectangle);var p=u(t.left,!0,i,f),g=c(t.top,!0,i,f),v=Math.ceil(u(t.right,!1,i,f)),y=Math.ceil(c(t.bottom,!1,i,f)),m=Math.max(v-p,1),x=Math.max(y-g,1),b=r(p,g,m,x,e,f),w=f.tileWidth,T=f.tileHeight;f.tilemapLayer&&(w*=f.tilemapLayer.scaleX,T*=f.tilemapLayer.scaleY);for(var S=[],_=new n.Rectangle(0,0,w,T),A=0;A<b.length;A++){var E=b[A];_.x=a(E.x,i,f),_.y=h(E.y,i,f),d(t,_)&&S.push(E)}return S}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(21),r=i(54),s=i(55);t.exports=function(t,e,i,o,a,h,u){var c=r(t,!0,h,u),l=s(e,!0,h,u),f=Math.ceil(r(t+i,!1,h,u)),d=Math.ceil(s(e+o,!1,h,u));return n(c,l,f-c,d-l,a,u)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(431),r=i(54),s=i(55);t.exports=function(t,e,i,o){var a=r(t,!0,i,o),h=s(e,!0,i,o);return n(a,h,o)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(206),r=i(54),s=i(55);t.exports=function(t,e,i,o,a,h){var u=r(e,!0,a,h),c=s(i,!0,a,h);return n(t,u,c,o,h)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(47),r=i(206);t.exports=function(t,e,i,s,o){if(!Array.isArray(t))return null;void 0===s&&(s=!0),Array.isArray(t[0])||(t=[t]);for(var a=t.length,h=t[0].length,u=0;u<a;u++)for(var c=0;c<h;c++){var l=t[u][c];r(l,e+c,i+u,!1,o)}s&&n(e-1,i-1,h+2,a+2,o)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(21),r=i(172);t.exports=function(t,e,i,s,o,a){var h,u=n(t,e,i,s,null,a);if(void 0===o)for(o=[],h=0;h<u.length;h++)-1===o.indexOf(u[h].index)&&o.push(u[h].index);for(h=0;h<u.length;h++)u[h].index=r(o)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(432),r=i(54),s=i(55);t.exports=function(t,e,i,o,a,h){var u=r(t,!0,a,h),c=s(e,!0,a,h);return n(u,c,i,o,h)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(21),r=i(288);t.exports=function(t,e,i){void 0===e&&(e={});for(var s=void 0!==e.tileColor?e.tileColor:new r(105,210,231,150),o=void 0!==e.collidingTileColor?e.collidingTileColor:new r(243,134,48,200),a=void 0!==e.faceColor?e.faceColor:new r(40,39,37,150),h=n(0,0,i.width,i.height,null,i),u=0;u<h.length;u++){var c=h[u],l=c.width,f=c.height,d=c.pixelX,p=c.pixelY,g=c.collides?o:s;null!==g&&(t.fillStyle(g.color,g.alpha/255),t.fillRect(d,p,l,f)),d+=1,p+=1,l-=2,f-=2,null!==a&&(t.lineStyle(1,a.color,a.alpha/255),c.faceTop&&t.lineBetween(d,p,d+l,p),c.faceRight&&t.lineBetween(d+l,p,d+l,p+f),c.faceBottom&&t.lineBetween(d,p+f,d+l,p+f),c.faceLeft&&t.lineBetween(d,p,d,p+f))}}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(64),r=i(47),s=i(207);t.exports=function(t,e,i,o){void 0===e&&(e=!0),void 0===i&&(i=!0),Array.isArray(t)||(t=[t]);for(var a=0;a<t.length;a++)s(t[a],e,o);for(var h=0;h<o.height;h++)for(var u=0;u<o.width;u++){var c=o.data[h][u];c&&-1!==t.indexOf(c.index)&&n(c,e)}i&&r(0,0,o.width,o.height,o)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(64),r=i(47),s=i(207);t.exports=function(t,e,i,o,a){if(void 0===i&&(i=!0),void 0===o&&(o=!0),!(t>e)){for(var h=t;h<=e;h++)s(h,i,a);for(var u=0;u<a.height;u++)for(var c=0;c<a.width;c++){var l=a.data[u][c];l&&l.index>=t&&l.index<=e&&n(l,i)}o&&r(0,0,a.width,a.height,a)}}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(64),r=i(47),s=i(207);t.exports=function(t,e,i,o){void 0===e&&(e=!0),void 0===i&&(i=!0),Array.isArray(t)||(t=[t]);for(var a=0;a<o.height;a++)for(var h=0;h<o.width;h++){var u=o.data[a][h];u&&-1===t.indexOf(u.index)&&(n(u,e),s(u.index,e,o))}i&&r(0,0,o.width,o.height,o)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(64),r=i(47),s=i(76);t.exports=function(t,e,i,o){void 0===e&&(e=!0),void 0===i&&(i=!0);for(var a=0;a<o.height;a++)for(var h=0;h<o.width;h++){var u=o.data[a][h];if(u)for(var c in t)if(s(u.properties,c)){var l=t[c];Array.isArray(l)||(l=[l]);for(var f=0;f<l.length;f++)u.properties[c]===l[f]&&n(u,e)}}i&&r(0,0,o.width,o.height,o)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(64),r=i(47);t.exports=function(t,e,i){void 0===t&&(t=!0),void 0===e&&(e=!0);for(var s=0;s<i.height;s++)for(var o=0;o<i.width;o++){var a=i.data[s][o];if(a){var h=a.getCollisionGroup();h&&h.objects&&h.objects.length>0&&n(a,t)}}e&&r(0,0,i.width,i.height,i)}},function(t,e){t.exports=function(t,e,i,n){if("number"==typeof t)n.callbacks[t]=null!==e?{callback:e,callbackContext:i}:void 0;else for(var r=0,s=t.length;r<s;r++)n.callbacks[t[r]]=null!==e?{callback:e,callbackContext:i}:void 0}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(21);t.exports=function(t,e,i,r,s,o,a){for(var h=n(t,e,i,r,null,a),u=0;u<h.length;u++)h[u].setCollisionCallback(s,o)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(21),r=i(103);t.exports=function(t,e,i,s,o){var a=n(t,e,i,s,null,o),h=a.map(function(t){return t.index});r(h);for(var u=0;u<a.length;u++)a[u].index=h[u]}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(21);t.exports=function(t,e,i,r,s,o,a){for(var h=n(i,r,s,o,null,a),u=0;u<h.length;u++)h[u]&&(h[u].index===t?h[u].index=e:h[u].index===e&&(h[u].index=t))}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(129),r=i(130),s=i(3);t.exports=function(t,e,i,o,a){return void 0===i&&(i=new s(0,0)),i.x=n(t,o,a),i.y=r(e,o,a),i}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(21);t.exports=function(t,e,i,r,s,o){if(void 0!==s){var a,h=n(t,e,i,r,null,o),u=0;for(a=0;a<s.length;a++)u+=s[a].weight;if(!(u<=0))for(a=0;a<h.length;a++){for(var c=Math.random()*u,l=0,f=-1,d=0;d<s.length;d++)if(c<=(l+=s[d].weight)){var p=s[d].index;f=Array.isArray(p)?p[Math.floor(Math.random()*p.length)]:p;break}h[a].index=f}}}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(54),r=i(55),s=i(3);t.exports=function(t,e,i,o,a,h){return void 0===o&&(o=new s(0,0)),o.x=n(t,i,a,h),o.y=r(e,i,a,h),o}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={Parse:i(433),Parse2DArray:i(208),ParseCSV:i(434),Impact:i(440),Tiled:i(435)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(1057),r=i(1),s=i(98),o=i(436),a=i(65);t.exports=function(t,e){for(var i=[],h=0;h<t.layers.length;h++)if("tilelayer"===t.layers[h].type){var u=t.layers[h];if(u.compression)console.warn("TilemapParser.parseTiledJSON - Layer compression is unsupported, skipping layer '"+u.name+"'");else{u.encoding&&"base64"===u.encoding&&(u.data=n(u.data),delete u.encoding);for(var c=new s({name:u.name,x:r(u,"offsetx",0)+u.x,y:r(u,"offsety",0)+u.y,width:u.width,height:u.height,tileWidth:t.tilewidth,tileHeight:t.tileheight,alpha:u.opacity,visible:u.visible,properties:r(u,"properties",{})}),l=0,f=[],d=[],p=0,g=u.data.length;p<g;p++){var v=o(u.data[p]);if(v.gid>0){var y=new a(c,v.gid,l,d.length,t.tilewidth,t.tileheight);y.rotation=v.rotation,y.flipX=v.flipped,f.push(y)}else{var m=e?null:new a(c,-1,l,d.length,t.tilewidth,t.tileheight);f.push(m)}++l===u.width&&(d.push(f),l=0,f=[])}c.data=d,i.push(c)}}return i}},function(t,e){t.exports=function(t){for(var e=window.atob(t),i=e.length,n=new Array(i/4),r=0;r<i;r+=4)n[r/4]=(e.charCodeAt(r)|e.charCodeAt(r+1)<<8|e.charCodeAt(r+2)<<16|e.charCodeAt(r+3)<<24)>>>0;return n}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(1);t.exports=function(t){for(var e=[],i=0;i<t.layers.length;i++)if("imagelayer"===t.layers[i].type){var r=t.layers[i];e.push({name:r.name,image:r.image,x:n(r,"offsetx",0)+r.x,y:n(r,"offsety",0)+r.y,alpha:r.opacity,visible:r.visible,properties:n(r,"properties",{})})}return e}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(131),r=i(437),s=i(438);t.exports=function(t){for(var e,i=[],o=[],a=null,h=0;h<t.tilesets.length;h++){var u=t.tilesets[h];if(u.source)console.warn("Phaser can't load external tilesets. Use the Embed Tileset button and then export the map again.");else if(u.image){var c=new n(u.name,u.firstgid,u.tilewidth,u.tileheight,u.margin,u.spacing);if(u.tileproperties&&(c.tileProperties=u.tileproperties),u.tiles)for(e in c.tileData=u.tiles,c.tileData){var l=c.tileData[e].objectgroup;if(l&&l.objects){var f=l.objects.map(function(t){return s(t)});c.tileData[e].objectgroup.objects=f}}c.updateTileData(u.imagewidth,u.imageheight),i.push(c)}else{var d=new r(u.name,u.firstgid,u.tilewidth,u.tileheight,u.margin,u.spacing,u.properties);for(e in u.tiles){var p=u.tiles[e].image,g=u.firstgid+parseInt(e,10);d.addImage(g,p)}o.push(d)}a&&(a.lastgid=u.firstgid-1),a=u}return{tilesets:i,imageCollections:o}}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(76);t.exports=function(t,e){for(var i={},r=0;r<e.length;r++){var s=e[r];n(t,s)&&(i[s]=t[s])}return i}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(1),r=i(438),s=i(439);t.exports=function(t){for(var e=[],i=0;i<t.layers.length;i++)if("objectgroup"===t.layers[i].type){for(var o=t.layers[i],a=n(o,"offsetx",0),h=n(o,"offsety",0),u=[],c=0;c<o.objects.length;c++){var l=r(o.objects[c],a,h);u.push(l)}var f=new s(o);f.objects=u,e.push(f)}return e}},function(t,e){t.exports=function(t){for(var e=[],i=0;i<t.tilesets.length;i++)for(var n=t.tilesets[i],r=n.tileMargin,s=n.tileMargin,o=0,a=0,h=0,u=n.firstgid;u<n.firstgid+n.total&&(e[u]=[r,s,i],r+=n.tileWidth+n.tileSpacing,++o!==n.total)&&(++a!==n.columns||(r=n.tileMargin,s+=n.tileHeight+n.tileSpacing,a=0,++h!==n.rows));u++);return e}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(17);t.exports=function(t){for(var e,i,r,s,o,a=0;a<t.layers.length;a++){e=t.layers[a],s=null;for(var h=0;h<e.data.length;h++){o=e.data[h];for(var u=0;u<o.length;u++)null===(i=o[u])||i.index<0||(r=t.tiles[i.index][2],s=t.tilesets[r],i.width=s.tileWidth,i.height=s.tileHeight,s.tileProperties&&s.tileProperties[i.index-s.firstgid]&&(i.properties=n(i.properties,s.tileProperties[i.index-s.firstgid])))}}}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(98),r=i(65);t.exports=function(t,e){for(var i=[],s=0;s<t.layer.length;s++){for(var o=t.layer[s],a=new n({name:o.name,width:o.width,height:o.height,tileWidth:o.tilesize,tileHeight:o.tilesize,visible:1===o.visible}),h=[],u=[],c=0;c<o.data.length;c++){for(var l=0;l<o.data[c].length;l++){var f,d=o.data[c][l]-1;f=d>-1?new r(a,d,l,c,o.tilesize,o.tilesize):e?null:new r(a,-1,l,c,o.tilesize,o.tilesize),h.push(f)}u.push(h),h=[]}a.data=u,i.push(a)}return i}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(131);t.exports=function(t){for(var e=[],i=[],r=0;r<t.layer.length;r++){var s=t.layer[r],o=s.tilesetName;""!==o&&-1===i.indexOf(o)&&(i.push(o),e.push(new n(o,0,s.tilesize,s.tilesize,0,0)))}return e}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(2),r=i(2);n=i(1067),r=i(1068),t.exports={renderWebGL:n,renderCanvas:r}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(19);t.exports=function(t,e,i,r){e.cull(r);var s=e.culledTiles,o=s.length,a=r.alpha*e.alpha;if(!(0===o||a<=0))for(var h=this.pipeline,u=n.getTintAppendFloatAlpha,c=e.tileset,l=c.glTexture,f=e.scrollFactorX,d=e.scrollFactorY,p=e.x,g=e.y,v=e.scaleX,y=e.scaleY,m=0;m<o;m++){var x=s[m],b=c.getTileTextureCoordinates(x.index);if(null!==b){var w=x.width,T=x.height,S=b.x,_=b.y,A=.5*x.width,E=.5*x.height,I=u(x.tint,a*x.alpha);h.batchTexture(e,l,l.width,l.height,A+p+x.pixelX*v,E+g+x.pixelY*y,x.width*v,x.height*y,1,1,x.rotation,x.flipX,x.flipY,f,d,A,E,S,_,w,T,I,I,I,I,!1,0,0,r,null)}}}},function(t,e){t.exports=function(t,e,i,n,r){e.cull(n);var s=e.culledTiles,o=s.length;if(0!==o){var a=t._tempMatrix1,h=t._tempMatrix2,u=t._tempMatrix3;h.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY),a.copyFrom(n.matrix),r?(a.multiplyWithOffset(r,-n.scrollX*e.scrollFactorX,-n.scrollY*e.scrollFactorY),h.e=e.x,h.f=e.y,a.multiply(h,u)):(h.e-=n.scrollX*e.scrollFactorX,h.f-=n.scrollY*e.scrollFactorY,a.multiply(h,u));var c=e.tileset,l=t.currentContext,f=c.image.getSourceImage();l.save(),u.copyToContext(l);for(var d=n.alpha*e.alpha,p=0;p<o;p++){var g=s[p],v=c.getTileTextureCoordinates(g.index);if(v){var y=g.width/2,m=g.height/2;l.save(),l.translate(g.pixelX+y,g.pixelY+m),0!==g.rotation&&l.rotate(g.rotation),(g.flipX||g.flipY)&&l.scale(g.flipX?-1:1,g.flipY?-1:1),l.globalAlpha=d*g.alpha,l.drawImage(f,v.x,v.y,g.width,g.height,-y,-m,g.width,g.height),l.restore()}}l.restore()}}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(2),r=i(2);n=i(1070),r=i(1071),t.exports={renderWebGL:n,renderCanvas:r}},function(t,e){t.exports=function(t,e,i,n){if(e.upload(n),e.vertexCount>0){var r=t.gl,s=this.pipeline,o=s.vertexBuffer,a=e.tileset.glTexture;t.currentPipeline&&t.currentPipeline.vertexCount>0&&t.flush(),s.vertexBuffer=e.vertexBuffer,t.setPipeline(s),t.setTexture2D(a,0),r.drawArrays(s.topology,0,e.vertexCount),s.vertexBuffer=o,s.viewIdentity(),s.modelIdentity()}}},function(t,e){t.exports=function(t,e,i,n,r){e.cull(n);var s=e.culledTiles,o=s.length;if(0!==o){var a=t._tempMatrix1,h=t._tempMatrix2,u=t._tempMatrix3;h.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY),a.copyFrom(n.matrix),r?(a.multiplyWithOffset(r,-n.scrollX*e.scrollFactorX,-n.scrollY*e.scrollFactorY),h.e=e.x,h.f=e.y,a.multiply(h,u)):(h.e-=n.scrollX*e.scrollFactorX,h.f-=n.scrollY*e.scrollFactorY,a.multiply(h,u));var c=e.tileset,l=t.currentContext,f=c.image.getSourceImage();l.save(),u.copyToContext(l),l.globalAlpha=n.alpha*e.alpha;for(var d=0;d<o;d++){var p=s[d],g=c.getTileTextureCoordinates(p.index);g&&l.drawImage(f,g.x,g.y,p.width,p.height,p.pixelX,p.pixelY,p.width,p.height)}l.restore()}}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(14),r=i(209);n.register("tilemap",function(t){var e=void 0!==t?t:{};return r(this.scene,e.key,e.tileWidth,e.tileHeight,e.width,e.height,e.data,e.insertNull)})},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(10),r=i(209);n.register("tilemap",function(t,e,i,n,s,o,a){return null===t&&(t=void 0),null===e&&(e=void 0),null===i&&(i=void 0),null===n&&(n=void 0),null===s&&(s=void 0),r(this.scene,t,e,i,n,s,o,a)})},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={Clock:i(1075),TimerEvent:i(444)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(13),s=i(444),o=new n({initialize:function(t){this.scene=t,this.systems=t.sys,this.now=Date.now(),this.timeScale=1,this.paused=!1,this._active=[],this._pendingInsertion=[],this._pendingRemoval=[],t.sys.events.once("boot",this.boot,this),t.sys.events.on("start",this.start,this)},boot:function(){this.systems.events.once("destroy",this.destroy,this)},start:function(){var t=this.systems.events;t.on("preupdate",this.preUpdate,this),t.on("update",this.update,this),t.once("shutdown",this.shutdown,this)},addEvent:function(t){var e=new s(t);return this._pendingInsertion.push(e),e},delayedCall:function(t,e,i,n){return this.addEvent({delay:t,callback:e,args:i,callbackScope:n})},clearPendingEvents:function(){return this._pendingInsertion=[],this},removeAllEvents:function(){return this._pendingRemoval=this._pendingRemoval.concat(this._active),this},preUpdate:function(){var t=this._pendingRemoval.length,e=this._pendingInsertion.length;if(0!==t||0!==e){var i,n;for(i=0;i<t;i++){n=this._pendingRemoval[i];var r=this._active.indexOf(n);r>-1&&this._active.splice(r,1),n.destroy()}for(i=0;i<e;i++)n=this._pendingInsertion[i],this._active.push(n);this._pendingRemoval.length=0,this._pendingInsertion.length=0}},update:function(t,e){if(this.now=t,!this.paused){e*=this.timeScale;for(var i=0;i<this._active.length;i++){var n=this._active[i];if(!n.paused&&(n.elapsed+=e*n.timeScale,n.elapsed>=n.delay)){var r=n.elapsed-n.delay;n.elapsed=n.delay,!n.hasDispatched&&n.callback&&(n.hasDispatched=!0,n.callback.apply(n.callbackScope,n.args)),n.repeatCount>0?(n.repeatCount--,n.elapsed=r,n.hasDispatched=!1):this._pendingRemoval.push(n)}}}},shutdown:function(){var t;for(t=0;t<this._pendingInsertion.length;t++)this._pendingInsertion[t].destroy();for(t=0;t<this._active.length;t++)this._active[t].destroy();for(t=0;t<this._pendingRemoval.length;t++)this._pendingRemoval[t].destroy();this._active.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0;var e=this.systems.events;e.off("preupdate",this.preUpdate,this),e.off("update",this.update,this),e.off("shutdown",this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off("start",this.start,this),this.scene=null,this.systems=null}});r.register("Clock",o,"time"),t.exports=o},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(93),r=i(17),s={Builders:i(1077),TweenManager:i(1079),Tween:i(213),TweenData:i(214),Timeline:i(449)};s=r(!1,s,n),t.exports=s},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={GetBoolean:i(92),GetEaseFunction:i(91),GetNewValue:i(132),GetProps:i(445),GetTargets:i(210),GetTweens:i(446),GetValueOp:i(211),NumberTweenBuilder:i(447),TimelineBuilder:i(448),TweenBuilder:i(133)}},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports=["callbackScope","completeDelay","delay","duration","ease","easeParams","flipX","flipY","hold","loop","loopDelay","offset","onComplete","onCompleteParams","onCompleteScope","onLoop","onLoopParams","onLoopScope","onRepeat","onRepeatParams","onRepeatScope","onStart","onStartParams","onStartScope","onUpdate","onUpdateParams","onUpdateScope","onYoyo","onYoyoParams","onYoyoScope","paused","props","repeat","repeatDelay","targets","useFrames","yoyo"]},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(447),s=i(13),o=i(448),a=i(93),h=i(133),u=new n({initialize:function(t){this.scene=t,this.systems=t.sys,this.timeScale=1,this._add=[],this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,t.sys.events.once("boot",this.boot,this),t.sys.events.on("start",this.start,this)},boot:function(){this.systems.events.once("destroy",this.destroy,this)},start:function(){var t=this.systems.events;t.on("preupdate",this.preUpdate,this),t.on("update",this.update,this),t.once("shutdown",this.shutdown,this),this.timeScale=1},createTimeline:function(t){return o(this,t)},timeline:function(t){var e=o(this,t);return e.paused||(this._add.push(e),this._toProcess++),e},create:function(t){return h(this,t)},add:function(t){var e=h(this,t);return this._add.push(e),this._toProcess++,e},existing:function(t){return this._add.push(t),this._toProcess++,this},addCounter:function(t){var e=r(this,t);return this._add.push(e),this._toProcess++,e},preUpdate:function(){if(0!==this._toProcess){var t,e,i=this._destroy,n=this._active;for(t=0;t<i.length;t++){e=i[t];var r=n.indexOf(e);-1!==r&&(e.state=a.REMOVED,n.splice(r,1))}for(i.length=0,i=this._add,t=0;t<i.length;t++)(e=i[t]).state===a.PENDING_ADD&&(e.init()?(e.play(),this._active.push(e)):this._pending.push(e));i.length=0,this._toProcess=0}},update:function(t,e){var i,n=this._active;e*=this.timeScale;for(var r=0;r<n.length;r++)(i=n[r]).update(t,e)&&(this._destroy.push(i),this._toProcess++)},makeActive:function(t){if(-1===this._add.indexOf(t)&&-1===this._active.indexOf(t)){var e=this._pending.indexOf(t);return-1!==e&&this._pending.splice(e,1),this._add.push(t),t.state=a.PENDING_ADD,this._toProcess++,this}},each:function(t,e){for(var i=[null],n=1;n<arguments.length;n++)i.push(arguments[n]);for(var r in this.list)i[0]=this.list[r],t.apply(e,i)},getAllTweens:function(){for(var t=this._active,e=[],i=0;i<t.length;i++)e.push(t[i]);return e},getGlobalTimeScale:function(){return this.timeScale},getTweensOf:function(t){var e,i,n=this._active,r=[];if(Array.isArray(t))for(i=0;i<n.length;i++){e=n[i];for(var s=0;s<t.length;s++)e.hasTarget(t[s])&&r.push(e)}else for(i=0;i<n.length;i++)(e=n[i]).hasTarget(t)&&r.push(e);return r},isTweening:function(t){for(var e,i=this._active,n=0;n<i.length;n++)if((e=i[n]).hasTarget(t)&&e.isPlaying())return!0;return!1},killAll:function(){for(var t=this.getAllTweens(),e=0;e<t.length;e++)t[e].stop();return this},killTweensOf:function(t){for(var e=this.getTweensOf(t),i=0;i<e.length;i++)e[i].stop();return this},pauseAll:function(){for(var t=this._active,e=0;e<t.length;e++)t[e].pause();return this},resumeAll:function(){for(var t=this._active,e=0;e<t.length;e++)t[e].resume();return this},setGlobalTimeScale:function(t){return this.timeScale=t,this},shutdown:function(){this.killAll(),this._add=[],this._pending=[],this._active=[],this._destroy=[],this._toProcess=0;var t=this.systems.events;t.off("preupdate",this.preUpdate,this),t.off("update",this.update,this),t.off("shutdown",this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off("start",this.start,this),this.scene=null,this.systems=null}});s.register("TweenManager",u,"tweens"),t.exports=u},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={Array:i(170),Objects:i(1081),String:i(1085)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={Clone:i(59),Extend:i(17),GetAdvancedValue:i(11),GetFastValue:i(1),GetMinMaxValue:i(1082),GetValue:i(4),HasAll:i(1083),HasAny:i(345),HasValue:i(76),IsPlainObject:i(6),Merge:i(73),MergeRight:i(1084)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(4),r=i(23);t.exports=function(t,e,i,s,o){void 0===o&&(o=i);var a=n(t,e,o);return r(a,i,s)}},function(t,e){t.exports=function(t,e){for(var i=0;i<e.length;i++)if(!t.hasOwnProperty(e[i]))return!1;return!0}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(59);t.exports=function(t,e){var i=n(t);for(var r in e)i.hasOwnProperty(r)&&(i[r]=e[r]);return i}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={Format:i(1086),Pad:i(152),Reverse:i(1087),UppercaseFirst:i(316),UUID:i(348)}},function(t,e){t.exports=function(t,e){return t.replace(/%([0-9]+)/g,function(t,i){return e[Number(i)-1]})}},function(t,e){t.exports=function(t){return t.split("").reverse().join("")}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
t.exports={Camera:i(215),CameraManager:i(1089),OrthographicCamera:i(450),PerspectiveCamera:i(451)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(0),r=i(450),s=i(451),o=i(13),a=new n({initialize:function(t){this.scene=t,this.systems=t.sys,this.cameras=[],t.sys.events.once("boot",this.boot,this),t.sys.events.on("start",this.start,this)},boot:function(){this.systems.events.once("destroy",this.destroy,this)},start:function(){var t=this.systems.events;t.on("update",this.update,this),t.once("shutdown",this.shutdown,this)},add:function(t,e,i){return this.addPerspectiveCamera(t,e,i)},addOrthographicCamera:function(t,e){var i=this.scene.sys.game.config;void 0===t&&(t=i.width),void 0===e&&(e=i.height);var n=new r(this.scene,t,e);return this.cameras.push(n),n},addPerspectiveCamera:function(t,e,i){var n=this.scene.sys.game.config;void 0===t&&(t=80),void 0===e&&(e=n.width),void 0===i&&(i=n.height);var r=new s(this.scene,t,e,i);return this.cameras.push(r),r},getCamera:function(t){for(var e=0;e<this.cameras.length;e++)if(this.cameras[e].name===t)return this.cameras[e];return null},removeCamera:function(t){var e=this.cameras.indexOf(t);-1!==e&&this.cameras.splice(e,1)},removeAll:function(){for(;this.cameras.length>0;){this.cameras.pop().destroy()}return this.main},update:function(t,e){for(var i=0,n=this.cameras.length;i<n;++i)this.cameras[i].update(t,e)},shutdown:function(){var t=this.systems.events;t.off("update",this.update,this),t.off("shutdown",this.shutdown,this),this.removeAll()},destroy:function(){this.shutdown(),this.scene.sys.events.off("start",this.start,this),this.scene=null,this.systems=null}});o.register("CameraManager3D",a,"cameras3d"),t.exports=a},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(134);i(10).register("sprite3D",function(t,e,i,r,s){var o=new n(this.scene,t,e,i,r,s);return this.displayList.add(o.gameObject),this.updateList.add(o.gameObject),o})},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var n=i(29),r=i(173),s=i(14),o=i(11),a=i(134);s.register("sprite3D",function(t,e){void 0===t&&(t={});var i=o(t,"key",null),s=o(t,"frame",null),h=new a(this.scene,0,0,i,s);return void 0!==e&&(t.add=e),n(this.scene,h,t),r(h,t),h})},function(t,e,i){(function(t){(function(){var e,n=i(216).default,r="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,i){t!=Array.prototype&&t!=Object.prototype&&(t[e]=i.value)};var s=function(e){e=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof t&&t,e];for(var i=0;i<e.length;++i){var n=e[i];if(n&&n.Math==Math)return n}return globalThis}(this);function o(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function a(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:o(t)}}!function(t,e){if(e){var i=s;t=t.split(".");for(var n=0;n<t.length-1;n++){var o=t[n];o in i||(i[o]={}),i=i[o]}(e=e(n=i[t=t[t.length-1]]))!=n&&null!=e&&r(i,t,{configurable:!0,writable:!0,value:e})}}("Promise",function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(t){e.reject(t)}}function i(){this.a=null}function n(t){return t instanceof e?t:new e(function(e){e(t)})}if(t)return t;i.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c(function(){e.g()})}this.a.push(t)};var r=s.setTimeout;i.prototype.c=function(t){r(t,0)},i.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var i=t[e];t[e]=null;try{i()}catch(t){this.f(t)}}}this.a=null},i.prototype.f=function(t){this.c(function(){throw t})},e.prototype.f=function(){function t(t){return function(n){i||(i=!0,t.call(e,n))}}var e=this,i=!1;return{resolve:t(this.v),reject:t(this.g)}},e.prototype.v=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.o(t);else{t:switch(typeof t){case"object":var i=null!=t;break t;case"function":i=!0;break t;default:i=!1}i?this.m(t):this.h(t)}},e.prototype.m=function(t){var e=void 0;try{e=t.then}catch(t){return void this.g(t)}"function"==typeof e?this.u(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)o.b(this.a[t]);this.a=null}};var o=new i;return e.prototype.o=function(t){var e=this.f();t.Pa(e.resolve,e.reject)},e.prototype.u=function(t,e){var i=this.f();try{t.call(e,i.resolve,i.reject)}catch(t){i.reject(t)}},e.prototype.then=function(t,i){function n(t,e){return"function"==typeof t?function(e){try{r(t(e))}catch(t){s(t)}}:e}var r,s,o=new e(function(t,e){r=t,s=e});return this.Pa(n(t,r),n(i,s)),o},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Pa=function(t,e){function i(){switch(n.b){case 1:t(n.c);break;case 2:e(n.c);break;default:throw Error("Unexpected state: "+n.b)}}var n=this;null==this.a?o.b(i):this.a.push(i)},e.resolve=n,e.reject=function(t){return new e(function(e,i){i(t)})},e.race=function(t){return new e(function(e,i){for(var r=a(t),s=r.next();!s.done;s=r.next())n(s.value).Pa(e,i)})},e.all=function(t){var i=a(t),r=i.next();return r.done?n([]):new e(function(t,e){function s(e){return function(i){o[e]=i,0==--a&&t(o)}}var o=[],a=0;do{o.push(void 0),a++,n(r.value).Pa(s(o.length-1),e),r=i.next()}while(!r.done)})},e});var h=h||{},u=this||self,c=/^[\w+/_-]+[=]{0,2}$/,l=null;function f(){}function d(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var i=Object.prototype.toString.call(t);if("[object Window]"==i)return"object";if("[object Array]"==i||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==i||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function p(t){var e=d(t);return"array"==e||"object"==e&&"number"==typeof t.length}function g(t){return"function"==d(t)}function v(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function y(t){return Object.prototype.hasOwnProperty.call(t,m)&&t[m]||(t[m]=++x)}var m="closure_uid_"+(1e9*Math.random()>>>0),x=0;function b(t,e,i){return t.call.apply(t.bind,arguments)}function w(t,e,i){if(!t)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,n),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function T(t,e,i){return(T=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?b:w).apply(null,arguments)}function S(t,e){var i=Array.prototype.slice.call(arguments,1);return function(){var e=i.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var _=Date.now||function(){return+new Date};function A(t,e){function i(){}i.prototype=e.prototype,t.$a=e.prototype,t.prototype=new i,t.prototype.constructor=t}function E(t,e,i){this.code=M+t,this.message=e||P[t]||"",this.a=i||null}function I(t){var e=t&&t.code;return e?new E(e.substring(M.length),t.message,t.serverResponse):null}A(E,Error),E.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},E.prototype.toJSON=function(){return this.w()};var C,M="auth/",P={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},k={kd:{Sa:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Va:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},rd:{Sa:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://securetoken.googleapis.com/v1/token",Va:"https://identitytoolkit.googleapis.com/v2/",id:"p"},td:{Sa:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Va:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},ud:{Sa:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Ya:"https://test-securetoken.sandbox.googleapis.com/v1/token",Va:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function O(t){for(var e in k)if(k[e].id===t)return{firebaseEndpoint:(t=k[e]).Sa,secureTokenEndpoint:t.Ya,identityPlatformEndpoint:t.Va};return null}function N(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(t){return!1}}function F(t){if(Error.captureStackTrace)Error.captureStackTrace(this,F);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function R(t,e){for(var i="",n=(t=t.split("%s")).length-1,r=0;r<n;r++)i+=t[r]+(r<e.length?e[r]:"%s");F.call(this,i+t[n])}function L(t,e){throw new R("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function D(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function B(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function U(){this.b=this.a=null}C=O("__EID__")?"__EID__":void 0,A(F,Error),F.prototype.name="CustomError",A(R,F),R.prototype.name="AssertionError",D.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var X=new D(function(){return new z},function(t){t.reset()});function V(){var t=xe,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function z(){this.next=this.b=this.a=null}U.prototype.add=function(t,e){var i=X.get();i.set(t,e),this.b?this.b.next=i:this.a=i,this.b=i},z.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},z.prototype.reset=function(){this.next=this.b=this.a=null};var Y=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var i=0;i<t.length;i++)if(i in t&&t[i]===e)return i;return-1},j=Array.prototype.forEach?function(t,e,i){Array.prototype.forEach.call(t,e,i)}:function(t,e,i){for(var n=t.length,r="string"==typeof t?t.split(""):t,s=0;s<n;s++)s in r&&e.call(i,r[s],s,t)};var G=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var i=t.length,n=[],r=0,s="string"==typeof t?t.split(""):t,o=0;o<i;o++)if(o in s){var a=s[o];e.call(void 0,a,o,t)&&(n[r++]=a)}return n},W=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var i=t.length,n=Array(i),r="string"==typeof t?t.split(""):t,s=0;s<i;s++)s in r&&(n[s]=e.call(void 0,r[s],s,t));return n},H=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var i=t.length,n="string"==typeof t?t.split(""):t,r=0;r<i;r++)if(r in n&&e.call(void 0,n[r],r,t))return!0;return!1};function q(t,e){return 0<=Y(t,e)}function K(t,e){var i;return(i=0<=(e=Y(t,e)))&&Array.prototype.splice.call(t,e,1),i}function J(t,e){!function(t,e){for(var i="string"==typeof t?t.split(""):t,n=t.length-1;0<=n;--n)n in i&&e.call(void 0,i[n],n,t)}(t,function(i,n){e.call(void 0,i,n,t)&&1==Array.prototype.splice.call(t,n,1).length&&0})}function Q(t){return Array.prototype.concat.apply([],arguments)}function Z(t){var e=t.length;if(0<e){for(var i=Array(e),n=0;n<e;n++)i[n]=t[n];return i}return[]}var $,tt=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},et=/&/g,it=/</g,nt=/>/g,rt=/"/g,st=/'/g,ot=/\x00/g,at=/[\x00&<>"']/;function ht(t,e){return-1!=t.indexOf(e)}function ut(t,e){return t<e?-1:t>e?1:0}t:{var ct=u.navigator;if(ct){var lt=ct.userAgent;if(lt){$=lt;break t}}$=""}function ft(t){return ht($,t)}function dt(t,e){for(var i in t)e.call(void 0,t[i],i,t)}function pt(t){for(var e in t)return!1;return!0}function gt(t){var e,i={};for(e in t)i[e]=t[e];return i}var vt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function yt(t,e){for(var i,n,r=1;r<arguments.length;r++){for(i in n=arguments[r])t[i]=n[i];for(var s=0;s<vt.length;s++)i=vt[s],Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}}function mt(t,e){t:{try{var i=t&&t.ownerDocument,n=i&&(i.defaultView||i.parentWindow);if((n=n||u).Element&&n.Location){var r=n;break t}}catch(t){}r=null}if(r&&void 0!==r[e]&&(!t||!(t instanceof r[e])&&(t instanceof r.Location||t instanceof r.Element))){if(v(t))try{var s=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(t){s="<object could not be stringified>"}else s=void 0===t?"undefined":null===t?"null":typeof t;L("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,s)}}function xt(t,e){this.a=t===Tt&&e||"",this.b=wt}function bt(t){return t instanceof xt&&t.constructor===xt&&t.b===wt?t.a:(L("expected object of type Const, got '"+t+"'"),"type_error:Const")}xt.prototype.sa=!0,xt.prototype.ra=function(){return this.a},xt.prototype.toString=function(){return"Const{"+this.a+"}"};var wt={},Tt={},St=new xt(Tt,"");function _t(t,e){this.a=t===Pt&&e||"",this.b=Mt}function At(t){return t instanceof _t&&t.constructor===_t&&t.b===Mt?t.a:(L("expected object of type TrustedResourceUrl, got '"+t+"' of type "+d(t)),"type_error:TrustedResourceUrl")}function Et(t,e){var i=bt(t);if(!Ct.test(i))throw Error("Invalid TrustedResourceUrl format: "+i);return t=i.replace(It,function(t,n){if(!Object.prototype.hasOwnProperty.call(e,n))throw Error('Found marker, "'+n+'", in format string, "'+i+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[n])instanceof xt?bt(t):encodeURIComponent(String(t))}),new _t(Pt,t)}_t.prototype.sa=!0,_t.prototype.ra=function(){return this.a.toString()},_t.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var It=/%{(\w+)}/g,Ct=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Mt={},Pt={};function kt(t,e){this.a=t===Lt&&e||"",this.b=Rt}function Ot(t){return t instanceof kt&&t.constructor===kt&&t.b===Rt?t.a:(L("expected object of type SafeUrl, got '"+t+"' of type "+d(t)),"type_error:SafeUrl")}kt.prototype.sa=!0,kt.prototype.ra=function(){return this.a.toString()},kt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Nt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Ft(t){return t instanceof kt?t:(t="object"==typeof t&&t.sa?t.ra():String(t),Nt.test(t)||(t="about:invalid#zClosurez"),new kt(Lt,t))}var Rt={},Lt={};function Dt(){this.a="",this.b=Ut}function Bt(t){return t instanceof Dt&&t.constructor===Dt&&t.b===Ut?t.a:(L("expected object of type SafeHtml, got '"+t+"' of type "+d(t)),"type_error:SafeHtml")}Dt.prototype.sa=!0,Dt.prototype.ra=function(){return this.a.toString()},Dt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Ut={};function Xt(t){var e=new Dt;return e.a=t,e}Xt("<!DOCTYPE html>");var Vt=Xt("");function zt(t,e){for(var i=t.split("%s"),n="",r=Array.prototype.slice.call(arguments,1);r.length&&1<i.length;)n+=i.shift()+r.shift();return n+i.join("%s")}function Yt(t){return at.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(et,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(it,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(nt,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(rt,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(st,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(ot,"&#0;"))),t}function jt(t){return jt[" "](t),t}Xt("<br>"),jt[" "]=f;var Gt,Wt,Ht=ft("Opera"),qt=ft("Trident")||ft("MSIE"),Kt=ft("Edge"),Jt=Kt||qt,Qt=ft("Gecko")&&!(ht($.toLowerCase(),"webkit")&&!ft("Edge"))&&!(ft("Trident")||ft("MSIE"))&&!ft("Edge"),Zt=ht($.toLowerCase(),"webkit")&&!ft("Edge");function $t(){var t=u.document;return t?t.documentMode:void 0}t:{var te="",ee=(Wt=$,Qt?/rv:([^\);]+)(\)|;)/.exec(Wt):Kt?/Edge\/([\d\.]+)/.exec(Wt):qt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Wt):Zt?/WebKit\/(\S+)/.exec(Wt):Ht?/(?:Version)[ \/]?(\S+)/.exec(Wt):void 0);if(ee&&(te=ee?ee[1]:""),qt){var ie=$t();if(null!=ie&&ie>parseFloat(te)){Gt=String(ie);break t}}Gt=te}var ne,re={};function se(t){return function(t,e){var i=re;return Object.prototype.hasOwnProperty.call(i,t)?i[t]:i[t]=e(t)}(t,function(){for(var e=0,i=tt(String(Gt)).split("."),n=tt(String(t)).split("."),r=Math.max(i.length,n.length),s=0;0==e&&s<r;s++){var o=i[s]||"",a=n[s]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=ut(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||ut(0==o[2].length,0==a[2].length)||ut(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e})}ne=u.document&&qt?$t():void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(Wt){}var oe=!qt||9<=Number(ne);function ae(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function he(t,e){dt(e,function(e,i){e&&"object"==typeof e&&e.sa&&(e=e.ra()),"style"==i?t.style.cssText=e:"class"==i?t.className=e:"for"==i?t.htmlFor=e:le.hasOwnProperty(i)?t.setAttribute(le[i],e):0==i.lastIndexOf("aria-",0)||0==i.lastIndexOf("data-",0)?t.setAttribute(i,e):t[i]=e})}var ue,ce,le={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function fe(t,e,i){var n=arguments,r=document,s=String(n[0]),o=n[1];if(!oe&&o&&(o.name||o.type)){if(s=["<",s],o.name&&s.push(' name="',Yt(o.name),'"'),o.type){s.push(' type="',Yt(o.type),'"');var a={};yt(a,o),delete a.type,o=a}s.push(">"),s=s.join("")}return s=de(r,s),o&&("string"==typeof o?s.className=o:Array.isArray(o)?s.className=o.join(" "):he(s,o)),2<n.length&&function(t,e,i){function n(i){i&&e.appendChild("string"==typeof i?t.createTextNode(i):i)}for(var r=2;r<i.length;r++){var s=i[r];!p(s)||v(s)&&0<s.nodeType?n(s):j(pe(s)?Z(s):s,n)}}(r,s,n),s}function de(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function pe(t){if(t&&"number"==typeof t.length){if(v(t))return"function"==typeof t.item||"string"==typeof t.item;if(g(t))return"function"==typeof t.item}return!1}function ge(t){u.setTimeout(function(){throw t},0)}function ve(){var t=u.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!ft("Presto")&&(t=function(){var t,e,i=de(document,"IFRAME");i.style.display="none",t=i,e=new _t(Pt,bt(St)),mt(t,"HTMLIFrameElement"),t.src=At(e).toString(),document.documentElement.appendChild(i);var n=i.contentWindow;(i=n.document).open(),i.write(Bt(Vt)),i.close();var r="callImmediate"+Math.random(),s="file:"==n.location.protocol?"*":n.location.protocol+"//"+n.location.host;i=T(function(t){"*"!=s&&t.origin!=s||t.data!=r||this.port1.onmessage()},this),n.addEventListener("message",i,!1),this.port1={},this.port2={postMessage:function(){n.postMessage(r,s)}}}),void 0!==t&&!ft("Trident")&&!ft("MSIE")){var e=new t,i={},n=i;return e.port1.onmessage=function(){if(void 0!==i.next){var t=(i=i.next).Fb;i.Fb=null,t()}},function(t){n.next={Fb:t},n=n.next,e.port2.postMessage(0)}}return function(t){u.setTimeout(t,0)}}function ye(t,e){ce||function(){if(u.Promise&&u.Promise.resolve){var t=u.Promise.resolve(void 0);ce=function(){t.then(be)}}else ce=function(){var t=be;!g(u.setImmediate)||u.Window&&u.Window.prototype&&!ft("Edge")&&u.Window.prototype.setImmediate==u.setImmediate?(ue||(ue=ve()),ue(t)):u.setImmediate(t)}}(),me||(ce(),me=!0),xe.add(t,e)}var me=!1,xe=new U;function be(){for(var t;t=V();){try{t.a.call(t.b)}catch(t){ge(t)}B(X,t)}me=!1}function we(t,e){if(this.a=Te,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=f)try{var i=this;t.call(e,function(t){Fe(i,Se,t)},function(t){if(!(t instanceof Ve))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(t){}Fe(i,_e,t)})}catch(t){Fe(this,_e,t)}}var Te=0,Se=2,_e=3;function Ae(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Ae.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Ee=new D(function(){return new Ae},function(t){t.reset()});function Ie(t,e,i){var n=Ee.get();return n.g=t,n.b=e,n.f=i,n}function Ce(t){if(t instanceof we)return t;var e=new we(f);return Fe(e,Se,t),e}function Me(t){return new we(function(e,i){i(t)})}function Pe(t,e,i){Re(t,e,i,null)||ye(S(e,t))}function ke(t){return new we(function(e){var i=t.length,n=[];if(i)for(var r=function(t,r,s){i--,n[t]=r?{Ob:!0,value:s}:{Ob:!1,reason:s},0==i&&e(n)},s=0;s<t.length;s++)Pe(t[s],S(r,s,!0),S(r,s,!1));else e(n)})}function Oe(t,e){t.b||t.a!=Se&&t.a!=_e||Le(t),t.f?t.f.next=e:t.b=e,t.f=e}function Ne(t,e,i,n){var r=Ie(null,null,null);return r.a=new we(function(t,s){r.g=e?function(i){try{var r=e.call(n,i);t(r)}catch(t){s(t)}}:t,r.b=i?function(e){try{var r=i.call(n,e);void 0===r&&e instanceof Ve?s(e):t(r)}catch(t){s(t)}}:s}),r.a.c=t,Oe(t,r),r.a}function Fe(t,e,i){t.a==Te&&(t===i&&(e=_e,i=new TypeError("Promise cannot resolve to itself")),t.a=1,Re(i,t.Zc,t.$c,t)||(t.i=i,t.a=e,t.c=null,Le(t),e!=_e||i instanceof Ve||function(t,e){t.g=!0,ye(function(){t.g&&Xe.call(null,e)})}(t,i)))}function Re(t,e,i,n){if(t instanceof we)return Oe(t,Ie(e||f,i||null,n)),!0;if(N(t))return t.then(e,i,n),!0;if(v(t))try{var r=t.then;if(g(r))return function(t,e,i,n,r){function s(t){o||(o=!0,n.call(r,t))}var o=!1;try{e.call(t,function(t){o||(o=!0,i.call(r,t))},s)}catch(t){s(t)}}(t,r,e,i,n),!0}catch(t){return i.call(n,t),!0}return!1}function Le(t){t.h||(t.h=!0,ye(t.fc,t))}function De(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function Be(t,e,i,n){if(i==_e&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Ue(e,i,n);else try{e.c?e.g.call(e.f):Ue(e,i,n)}catch(t){Xe.call(null,t)}B(Ee,e)}function Ue(t,e,i){e==Se?t.g.call(t.f,i):t.b&&t.b.call(t.f,i)}we.prototype.then=function(t,e,i){return Ne(this,g(t)?t:null,g(e)?e:null,i)},we.prototype.$goog_Thenable=!0,(e=we.prototype).na=function(t,e){return(t=Ie(t,t,e)).c=!0,Oe(this,t),this},e.s=function(t,e){return Ne(this,null,t,e)},e.cancel=function(t){if(this.a==Te){var e=new Ve(t);ye(function(){!function t(e,i){if(e.a==Te)if(e.c){var n=e.c;if(n.b){for(var r=0,s=null,o=null,a=n.b;a&&(a.c||(r++,a.a==e&&(s=a),!(s&&1<r)));a=a.next)s||(o=a);s&&(n.a==Te&&1==r?t(n,i):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):De(n),Be(n,s,_e,i)))}e.c=null}else Fe(e,_e,i)}(this,e)},this)}},e.Zc=function(t){this.a=Te,Fe(this,Se,t)},e.$c=function(t){this.a=Te,Fe(this,_e,t)},e.fc=function(){for(var t;t=De(this);)Be(this,t,this.a,this.i);this.h=!1};var Xe=ge;function Ve(t){F.call(this,t)}function ze(){0!=Ye&&(je[y(this)]=this),this.xa=this.xa,this.oa=this.oa}A(Ve,F),Ve.prototype.name="cancel";var Ye=0,je={};function Ge(t){if(!t.xa&&(t.xa=!0,t.Da(),0!=Ye)){var e=y(t);if(0!=Ye&&t.oa&&0<t.oa.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete je[e]}}ze.prototype.xa=!1,ze.prototype.Da=function(){if(this.oa)for(;this.oa.length;)this.oa.shift()()};var We=Object.freeze||function(t){return t},He=!qt||9<=Number(ne),qe=qt&&!se("9"),Ke=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{u.addEventListener("test",f,e),u.removeEventListener("test",f,e)}catch(t){}return t}();function Je(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function Qe(t,e){if(Je.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var i=this.type=t.type,n=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Qt){t:{try{jt(e.nodeName);var r=!0;break t}catch(t){}r=!1}r||(e=null)}}else"mouseover"==i?e=t.fromElement:"mouseout"==i&&(e=t.toElement);this.relatedTarget=e,n?(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Ze[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}Je.prototype.preventDefault=function(){this.defaultPrevented=!0},A(Qe,Je);var Ze=We({2:"touch",3:"pen",4:"mouse"});Qe.prototype.preventDefault=function(){Qe.$a.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,qe)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}},Qe.prototype.g=function(){return this.a};var $e="closure_listenable_"+(1e6*Math.random()|0),ti=0;function ei(t,e,i,n,r){this.listener=t,this.proxy=null,this.src=e,this.type=i,this.capture=!!n,this.Ua=r,this.key=++ti,this.va=this.Oa=!1}function ii(t){t.va=!0,t.listener=null,t.proxy=null,t.src=null,t.Ua=null}function ni(t){this.src=t,this.a={},this.b=0}function ri(t,e){var i=e.type;i in t.a&&K(t.a[i],e)&&(ii(e),0==t.a[i].length&&(delete t.a[i],t.b--))}function si(t,e,i,n){for(var r=0;r<t.length;++r){var s=t[r];if(!s.va&&s.listener==e&&s.capture==!!i&&s.Ua==n)return r}return-1}ni.prototype.add=function(t,e,i,n,r){var s=t.toString();(t=this.a[s])||(t=this.a[s]=[],this.b++);var o=si(t,e,n,r);return-1<o?(e=t[o],i||(e.Oa=!1)):((e=new ei(e,this.src,s,!!n,r)).Oa=i,t.push(e)),e};var oi="closure_lm_"+(1e6*Math.random()|0),ai={};function hi(t,e,i,n,r){if(n&&n.once)ci(t,e,i,n,r);else if(Array.isArray(e))for(var s=0;s<e.length;s++)hi(t,e[s],i,n,r);else i=xi(i),t&&t[$e]?wi(t,e,i,v(n)?!!n.capture:!!n,r):ui(t,e,i,!1,n,r)}function ui(t,e,i,n,r,s){if(!e)throw Error("Invalid event type");var o=v(r)?!!r.capture:!!r,a=yi(t);if(a||(t[oi]=a=new ni(t)),!(i=a.add(e,i,n,o,s)).proxy){if(n=function(){var t=vi,e=He?function(i){return t.call(e.src,e.listener,i)}:function(i){if(!(i=t.call(e.src,e.listener,i)))return i};return e}(),i.proxy=n,n.src=t,n.listener=i,t.addEventListener)Ke||(r=o),void 0===r&&(r=!1),t.addEventListener(e.toString(),n,r);else if(t.attachEvent)t.attachEvent(di(e.toString()),n);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(n)}0}}function ci(t,e,i,n,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)ci(t,e[s],i,n,r);else i=xi(i),t&&t[$e]?Ti(t,e,i,v(n)?!!n.capture:!!n,r):ui(t,e,i,!0,n,r)}function li(t,e,i,n,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)li(t,e[s],i,n,r);else n=v(n)?!!n.capture:!!n,i=xi(i),t&&t[$e]?(t=t.v,(e=String(e).toString())in t.a&&(-1<(i=si(s=t.a[e],i,n,r))&&(ii(s[i]),Array.prototype.splice.call(s,i,1),0==s.length&&(delete t.a[e],t.b--)))):t&&(t=yi(t))&&(e=t.a[e.toString()],t=-1,e&&(t=si(e,i,n,r)),(i=-1<t?e[t]:null)&&fi(i))}function fi(t){if("number"!=typeof t&&t&&!t.va){var e=t.src;if(e&&e[$e])ri(e.v,t);else{var i=t.type,n=t.proxy;e.removeEventListener?e.removeEventListener(i,n,t.capture):e.detachEvent?e.detachEvent(di(i),n):e.addListener&&e.removeListener&&e.removeListener(n),0,(i=yi(e))?(ri(i,t),0==i.b&&(i.src=null,e[oi]=null)):ii(t)}}}function di(t){return t in ai?ai[t]:ai[t]="on"+t}function pi(t,e,i,n){var r=!0;if((t=yi(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var s=e[t];s&&s.capture==i&&!s.va&&(s=gi(s,n),r=r&&!1!==s)}return r}function gi(t,e){var i=t.listener,n=t.Ua||t.src;return t.Oa&&fi(t),i.call(n,e)}function vi(t,e){if(t.va)return!0;if(!He){if(!e)t:{e=["window","event"];for(var i=u,n=0;n<e.length;n++)if(null==(i=i[e[n]])){e=null;break t}e=i}if(e=new Qe(n=e,this),i=!0,!(0>n.keyCode||null!=n.returnValue)){t:{var r=!1;if(0==n.keyCode)try{n.keyCode=-1;break t}catch(t){r=!0}(r||null==n.returnValue)&&(n.returnValue=!0)}for(n=[],r=e.b;r;r=r.parentNode)n.push(r);for(t=t.type,r=n.length-1;0<=r;r--){e.b=n[r];var s=pi(n[r],t,!0,e);i=i&&s}for(r=0;r<n.length;r++)e.b=n[r],s=pi(n[r],t,!1,e),i=i&&s}return i}return gi(t,new Qe(e,this))}function yi(t){return(t=t[oi])instanceof ni?t:null}var mi="__closure_events_fn_"+(1e9*Math.random()>>>0);function xi(t){return g(t)?t:(t[mi]||(t[mi]=function(e){return t.handleEvent(e)}),t[mi])}function bi(){ze.call(this),this.v=new ni(this),this.$b=this,this.fb=null}function wi(t,e,i,n,r){t.v.add(String(e),i,!1,n,r)}function Ti(t,e,i,n,r){t.v.add(String(e),i,!0,n,r)}function Si(t,e,i,n){if(!(e=t.v.a[String(e)]))return!0;e=e.concat();for(var r=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.va&&o.capture==i){var a=o.listener,h=o.Ua||o.src;o.Oa&&ri(t.v,o),r=!1!==a.call(h,n)&&r}}return r&&!n.defaultPrevented}function _i(t,e,i){if(g(t))i&&(t=T(t,i));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=T(t.handleEvent,t)}return 2147483647<Number(e)?-1:u.setTimeout(t,e||0)}function Ai(t){var e=null;return new we(function(i,n){-1==(e=_i(function(){i(void 0)},t))&&n(Error("Failed to schedule timer."))}).s(function(t){throw u.clearTimeout(e),t})}function Ei(t){if(t.V&&"function"==typeof t.V)return t.V();if("string"==typeof t)return t.split("");if(p(t)){for(var e=[],i=t.length,n=0;n<i;n++)e.push(t[n]);return e}for(n in e=[],i=0,t)e[i++]=t[n];return e}function Ii(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.V||"function"!=typeof t.V){if(p(t)||"string"==typeof t){var e=[];t=t.length;for(var i=0;i<t;i++)e.push(i);return e}for(var n in e=[],i=0,t)e[i++]=n;return e}}function Ci(t,e){this.b={},this.a=[],this.c=0;var i=arguments.length;if(1<i){if(i%2)throw Error("Uneven number of arguments");for(var n=0;n<i;n+=2)this.set(arguments[n],arguments[n+1])}else if(t)if(t instanceof Ci)for(i=t.Y(),n=0;n<i.length;n++)this.set(i[n],t.get(i[n]));else for(n in t)this.set(n,t[n])}function Mi(t){if(t.c!=t.a.length){for(var e=0,i=0;e<t.a.length;){var n=t.a[e];Pi(t.b,n)&&(t.a[i++]=n),e++}t.a.length=i}if(t.c!=t.a.length){var r={};for(i=e=0;e<t.a.length;)Pi(r,n=t.a[e])||(t.a[i++]=n,r[n]=1),e++;t.a.length=i}}function Pi(t,e){return Object.prototype.hasOwnProperty.call(t,e)}A(bi,ze),bi.prototype[$e]=!0,bi.prototype.addEventListener=function(t,e,i,n){hi(this,t,e,i,n)},bi.prototype.removeEventListener=function(t,e,i,n){li(this,t,e,i,n)},bi.prototype.dispatchEvent=function(t){var e,i=this.fb;if(i)for(e=[];i;i=i.fb)e.push(i);i=this.$b;var n=t.type||t;if("string"==typeof t)t=new Je(t,i);else if(t instanceof Je)t.target=t.target||i;else{var r=t;yt(t=new Je(n,i),r)}if(r=!0,e)for(var s=e.length-1;0<=s;s--){var o=t.b=e[s];r=Si(o,n,!0,t)&&r}if(r=Si(o=t.b=i,n,!0,t)&&r,r=Si(o,n,!1,t)&&r,e)for(s=0;s<e.length;s++)r=Si(o=t.b=e[s],n,!1,t)&&r;return r},bi.prototype.Da=function(){if(bi.$a.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var i=e.a[t],n=0;n<i.length;n++)0,ii(i[n]);delete e.a[t],e.b--}}this.fb=null},(e=Ci.prototype).V=function(){Mi(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},e.Y=function(){return Mi(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0},e.get=function(t,e){return Pi(this.b,t)?this.b[t]:e},e.set=function(t,e){Pi(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},e.forEach=function(t,e){for(var i=this.Y(),n=0;n<i.length;n++){var r=i[n],s=this.get(r);t.call(e,s,r,this)}};var ki=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/\\#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Oi(t,e){var i;this.a=this.l=this.f="",this.g=null,this.h=this.c="",this.i=!1,t instanceof Oi?(this.i=void 0!==e?e:t.i,Ni(this,t.f),this.l=t.l,this.a=t.a,Fi(this,t.g),this.c=t.c,Ri(this,tn(t.b)),this.h=t.h):t&&(i=String(t).match(ki))?(this.i=!!e,Ni(this,i[1]||"",!0),this.l=Xi(i[2]||""),this.a=Xi(i[3]||"",!0),Fi(this,i[4]),this.c=Xi(i[5]||"",!0),Ri(this,i[6]||"",!0),this.h=Xi(i[7]||"")):(this.i=!!e,this.b=new qi(null,this.i))}function Ni(t,e,i){t.f=i?Xi(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Fi(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.g=e}else t.g=null}function Ri(t,e,i){e instanceof qi?(t.b=e,function(t,e){e&&!t.f&&(Ki(t),t.c=null,t.a.forEach(function(t,e){var i=e.toLowerCase();e!=i&&(Qi(this,e),$i(this,i,t))},t)),t.f=e}(t.b,t.i)):(i||(e=Vi(e,Wi)),t.b=new qi(e,t.i))}function Li(t,e,i){t.b.set(e,i)}function Di(t,e){return t.b.get(e)}function Bi(t){return t instanceof Oi?new Oi(t):new Oi(t,void 0)}function Ui(t,e,i,n){var r=new Oi(null,void 0);return t&&Ni(r,t),e&&(r.a=e),i&&Fi(r,i),n&&(r.c=n),r}function Xi(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Vi(t,e,i){return"string"==typeof t?(t=encodeURI(t).replace(e,zi),i&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function zi(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Oi.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Vi(e,Yi,!0),":");var i=this.a;return(i||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(Vi(e,Yi,!0),"@"),t.push(encodeURIComponent(String(i)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(i=this.g)&&t.push(":",String(i))),(i=this.c)&&(this.a&&"/"!=i.charAt(0)&&t.push("/"),t.push(Vi(i,"/"==i.charAt(0)?Gi:ji,!0))),(i=this.b.toString())&&t.push("?",i),(i=this.h)&&t.push("#",Vi(i,Hi)),t.join("")},Oi.prototype.resolve=function(t){var e=new Oi(this),i=!!t.f;i?Ni(e,t.f):i=!!t.l,i?e.l=t.l:i=!!t.a,i?e.a=t.a:i=null!=t.g;var n=t.c;if(i)Fi(e,t.g);else if(i=!!t.c){if("/"!=n.charAt(0))if(this.a&&!this.c)n="/"+n;else{var r=e.c.lastIndexOf("/");-1!=r&&(n=e.c.substr(0,r+1)+n)}if(".."==(r=n)||"."==r)n="";else if(ht(r,"./")||ht(r,"/.")){n=0==r.lastIndexOf("/",0),r=r.split("/");for(var s=[],o=0;o<r.length;){var a=r[o++];"."==a?n&&o==r.length&&s.push(""):".."==a?((1<s.length||1==s.length&&""!=s[0])&&s.pop(),n&&o==r.length&&s.push("")):(s.push(a),n=!0)}n=s.join("/")}else n=r}return i?e.c=n:i=""!==t.b.toString(),i?Ri(e,tn(t.b)):i=!!t.h,i&&(e.h=t.h),e};var Yi=/[#\/\?@]/g,ji=/[#\?:]/g,Gi=/[#\?]/g,Wi=/[#\?@]/g,Hi=/#/g;function qi(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Ki(t){t.a||(t.a=new Ci,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var i=0;i<t.length;i++){var n=t[i].indexOf("="),r=null;if(0<=n){var s=t[i].substring(0,n);r=t[i].substring(n+1)}else s=t[i];e(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(t.c,function(e,i){t.add(decodeURIComponent(e.replace(/\+/g," ")),i)}))}function Ji(t){var e=Ii(t);if(void 0===e)throw Error("Keys are undefined");var i=new qi(null,void 0);t=Ei(t);for(var n=0;n<e.length;n++){var r=e[n],s=t[n];Array.isArray(s)?$i(i,r,s):i.add(r,s)}return i}function Qi(t,e){Ki(t),e=en(t,e),Pi(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Pi((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Mi(t)))}function Zi(t,e){return Ki(t),e=en(t,e),Pi(t.a.b,e)}function $i(t,e,i){Qi(t,e),0<i.length&&(t.c=null,t.a.set(en(t,e),Z(i)),t.b+=i.length)}function tn(t){var e=new qi;return e.c=t.c,t.a&&(e.a=new Ci(t.a),e.b=t.b),e}function en(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function nn(t){var e=[];return function t(e,i,n){if(null==i)n.push("null");else{if("object"==typeof i){if(Array.isArray(i)){var r=i;i=r.length,n.push("[");for(var s="",o=0;o<i;o++)n.push(s),t(e,r[o],n),s=",";return void n.push("]")}if(!(i instanceof String||i instanceof Number||i instanceof Boolean)){for(r in n.push("{"),s="",i)Object.prototype.hasOwnProperty.call(i,r)&&("function"!=typeof(o=i[r])&&(n.push(s),an(r,n),n.push(":"),t(e,o,n),s=","));return void n.push("}")}i=i.valueOf()}switch(typeof i){case"string":an(i,n);break;case"number":n.push(isFinite(i)&&!isNaN(i)?String(i):"null");break;case"boolean":n.push(String(i));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof i)}}}(new rn,t,e),e.join("")}function rn(){}(e=qi.prototype).add=function(t,e){Ki(this),this.c=null,t=en(this,t);var i=this.a.get(t);return i||this.a.set(t,i=[]),i.push(e),this.b+=1,this},e.clear=function(){this.a=this.c=null,this.b=0},e.forEach=function(t,e){Ki(this),this.a.forEach(function(i,n){j(i,function(i){t.call(e,i,n,this)},this)},this)},e.Y=function(){Ki(this);for(var t=this.a.V(),e=this.a.Y(),i=[],n=0;n<e.length;n++)for(var r=t[n],s=0;s<r.length;s++)i.push(e[n]);return i},e.V=function(t){Ki(this);var e=[];if("string"==typeof t)Zi(this,t)&&(e=Q(e,this.a.get(en(this,t))));else{t=this.a.V();for(var i=0;i<t.length;i++)e=Q(e,t[i])}return e},e.set=function(t,e){return Ki(this),this.c=null,Zi(this,t=en(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},e.get=function(t,e){return t&&0<(t=this.V(t)).length?String(t[0]):e},e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),i=0;i<e.length;i++){var n=e[i],r=encodeURIComponent(String(n));n=this.V(n);for(var s=0;s<n.length;s++){var o=r;""!==n[s]&&(o+="="+encodeURIComponent(String(n[s]))),t.push(o)}}return this.c=t.join("&")};var sn={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},on=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function an(t,e){e.push('"',t.replace(on,function(t){var e=sn[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),sn[t]=e),e}),'"')}function hn(){var t=In();return qt&&!!ne&&11==ne||/Edge\/\d+/.test(t)}function un(){return u.window&&u.window.location.href||self&&self.location&&self.location.href||""}function cn(t,e){e=e||u.window;var i="about:blank";t&&(i=Ot(Ft(t))),e.location.href=i}function ln(t){return!!((t=(t||In()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function fn(t){t=t||u.window;try{t.close()}catch(t){}}function dn(t,e,i){var n=Math.floor(1e9*Math.random()).toString();e=e||500,i=i||600;var r=(window.screen.availHeight-i)/2,s=(window.screen.availWidth-e)/2;for(o in e={width:e,height:i,top:0<r?r:0,left:0<s?s:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},i=In().toLowerCase(),n&&(e.target=n,ht(i,"crios/")&&(e.target="_blank")),_n(In())==Tn&&(t=t||"http://localhost",e.scrollbars=!0),i=t||"",(t=e)||(t={}),n=window,e=i instanceof kt?i:Ft(void 0!==i.href?i.href:String(i)),i=t.target||i.target,r=[],t)switch(o){case"width":case"height":case"top":case"left":r.push(o+"="+t[o]);break;case"target":case"noopener":case"noreferrer":break;default:r.push(o+"="+(t[o]?1:0))}var o=r.join(",");if((ft("iPhone")&&!ft("iPod")&&!ft("iPad")||ft("iPad")||ft("iPod"))&&n.navigator&&n.navigator.standalone&&i&&"_self"!=i?(mt(o=de(document,"A"),"HTMLAnchorElement"),e instanceof kt||e instanceof kt||(e="object"==typeof e&&e.sa?e.ra():String(e),Nt.test(e)||(e="about:invalid#zClosurez"),e=new kt(Lt,e)),o.href=Ot(e),o.setAttribute("target",i),t.noreferrer&&o.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,n,1),o.dispatchEvent(t),o={}):t.noreferrer?(o=n.open("",i,o),t=Ot(e),o&&(Jt&&ht(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),o.opener=null,t=Xt('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Yt(t)+'">'),n=o.document)&&(n.write(Bt(t)),n.close())):(o=n.open(Ot(e),i,o))&&t.noopener&&(o.opener=null),o)try{o.focus()}catch(t){}return o}var pn=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gn=/^[^@]+@[^@]+$/;function vn(){var t=null;return new we(function(e){"complete"==u.document.readyState?e():(t=function(){e()},ci(window,"load",t))}).s(function(e){throw li(window,"load",t),e})}function yn(t){return t=t||In(),!("file:"!==On()&&"ionic:"!==On()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function mn(){var t=u.window;try{return!(!t||t==t.top)}catch(t){return!1}}function xn(){return void 0!==u.WorkerGlobalScope&&"function"==typeof u.importScripts}function bn(){return n.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":n.INTERNAL.hasOwnProperty("node")?"Node":xn()?"Worker":"Browser"}function wn(){var t=bn();return"ReactNative"===t||"Node"===t}var Tn="Firefox",Sn="Chrome";function _n(t){var e=t.toLowerCase();return ht(e,"opera/")||ht(e,"opr/")||ht(e,"opios/")?"Opera":ht(e,"iemobile")?"IEMobile":ht(e,"msie")||ht(e,"trident/")?"IE":ht(e,"edge/")?"Edge":ht(e,"firefox/")?Tn:ht(e,"silk/")?"Silk":ht(e,"blackberry")?"Blackberry":ht(e,"webos")?"Webos":!ht(e,"safari/")||ht(e,"chrome/")||ht(e,"crios/")||ht(e,"android")?!ht(e,"chrome/")&&!ht(e,"crios/")||ht(e,"edge/")?ht(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":Sn:"Safari"}var An={ld:"FirebaseCore-web",nd:"FirebaseUI-web"};function En(t,e){e=e||[];var i,n=[],r={};for(i in An)r[An[i]]=!0;for(i=0;i<e.length;i++)void 0!==r[e[i]]&&(delete r[e[i]],n.push(e[i]));return n.sort(),(e=n).length||(e=["FirebaseCore-web"]),"Browser"===(n=bn())?n=_n(r=In()):"Worker"===n&&(n=_n(r=In())+"-"+n),n+"/JsCore/"+t+"/"+e.join(",")}function In(){return u.navigator&&u.navigator.userAgent||""}function Cn(t,e){t=t.split("."),e=e||u;for(var i=0;i<t.length&&"object"==typeof e&&null!=e;i++)e=e[t[i]];return i!=t.length&&(e=void 0),e}function Mn(){try{var t=u.localStorage,e=Dn();if(t)return t.setItem(e,"1"),t.removeItem(e),!hn()||!!u.indexedDB}catch(t){return xn()&&!!u.indexedDB}return!1}function Pn(){return(kn()||"chrome-extension:"===On()||yn())&&!wn()&&Mn()&&!xn()}function kn(){return"http:"===On()||"https:"===On()}function On(){return u.location&&u.location.protocol||null}function Nn(t){return!ln(t=t||In())&&_n(t)!=Tn}function Fn(t){return void 0===t?null:nn(t)}function Rn(t){var e,i={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(i[e]=t[e]);return i}function Ln(t){if(null!==t)return JSON.parse(t)}function Dn(t){return t||Math.floor(1e9*Math.random()).toString()}function Bn(t){return"Safari"!=_n(t=t||In())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Un(){var t=u.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var i=0;i<t.CP.length;i++)t.CP[i]=null}function Xn(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=In(),e=bn(),this.b=ln(t)||"ReactNative"===e}function Vn(){var t=u.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function zn(t){"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t)}function Yn(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(t){}return null}function jn(){return!(!Cn("fireauth.oauthhelper",u)&&!Cn("fireauth.iframe",u))}Xn.prototype.get=function(){var t=u.navigator;return!t||"boolean"!=typeof t.onLine||!kn()&&"chrome-extension:"!==On()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Gn,Wn={};function Hn(t){Wn[t]||(Wn[t]=!0,zn(t))}try{var qn={};Object.defineProperty(qn,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(qn,"abcd",{configurable:!0,enumerable:!0,value:2}),Gn=2==qn.abcd}catch(Wt){Gn=!1}function Kn(t,e,i){Gn?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:i}):t[e]=i}function Jn(t,e){if(e)for(var i in e)e.hasOwnProperty(i)&&Kn(t,i,e[i])}function Qn(t){var e={};return Jn(e,t),e}function Zn(t){var e=t;if("object"==typeof t&&null!=t)for(var i in e="length"in t?[]:{},t)Kn(e,i,Zn(t[i]));return e}function $n(t){var e=t&&(t[rr]?"phone":null);if(!(e&&t&&t[nr]))throw new E("internal-error","Internal assert: invalid MultiFactorInfo object");Kn(this,"uid",t[nr]),Kn(this,"displayName",t[er]||null);var i=null;t[ir]&&(i=new Date(t[ir]).toUTCString()),Kn(this,"enrollmentTime",i),Kn(this,"factorId",e)}function tr(t){try{var e=new sr(t)}catch(t){e=null}return e}$n.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var er="displayName",ir="enrolledAt",nr="mfaEnrollmentId",rr="phoneInfo";function sr(t){$n.call(this,t),Kn(this,"phoneNumber",t[rr])}function or(t){var e={},i=t[cr],n=t[fr],r=t[dr];if(t=tr(t[lr]),!r||r!=hr&&r!=ur&&!i||r==ur&&!n||r==ar&&!t)throw Error("Invalid checkActionCode response!");r==ur?(e[gr]=i||null,e[yr]=i||null,e[pr]=n):(e[gr]=n||null,e[yr]=n||null,e[pr]=i||null),e[vr]=t||null,Kn(this,xr,r),Kn(this,mr,Zn(e))}A(sr,$n),sr.prototype.w=function(){var t=sr.$a.w.call(this);return t.phoneNumber=this.phoneNumber,t};var ar="REVERT_SECOND_FACTOR_ADDITION",hr="EMAIL_SIGNIN",ur="VERIFY_AND_CHANGE_EMAIL",cr="email",lr="mfaInfo",fr="newEmail",dr="requestType",pr="email",gr="fromEmail",vr="multiFactorInfo",yr="previousEmail",mr="data",xr="operation";function br(t){var e=Di(t=Bi(t),wr)||null,i=Di(t,Tr)||null,n=Di(t,Ar)||null;if(n=n&&Ir[n]||null,!e||!i||!n)throw new E("argument-error",wr+", "+Tr+"and "+Ar+" are required in a valid action code URL.");Jn(this,{apiKey:e,operation:n,code:i,continueUrl:Di(t,Sr)||null,languageCode:Di(t,_r)||null,tenantId:Di(t,Er)||null})}var wr="apiKey",Tr="oobCode",Sr="continueUrl",_r="languageCode",Ar="mode",Er="tenantId",Ir={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:ar,signIn:hr,verifyAndChangeEmail:ur,verifyEmail:"VERIFY_EMAIL"};function Cr(t){try{return new br(t)}catch(t){return null}}function Mr(t){var e=t[Fr];if(void 0===e)throw new E("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new E("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var i=t[Pr];if(i&&"object"==typeof i){e=i[Dr];var n=i[Rr];if(i=i[Lr],"string"==typeof e&&e.length){if(this.a=e,void 0!==n&&"boolean"!=typeof n)throw new E("argument-error",Rr+" property must be a boolean when specified.");if(this.g=!!n,void 0!==i&&("string"!=typeof i||"string"==typeof i&&!i.length))throw new E("argument-error",Lr+" property must be a non empty string when specified.");this.b=i||null}else{if(void 0!==e)throw new E("argument-error",Dr+" property must be a non empty string when specified.");if(void 0!==n||void 0!==i)throw new E("missing-android-pkg-name")}}else if(void 0!==i)throw new E("argument-error",Pr+" property must be a non null object when specified.");if(this.f=null,(e=t[Nr])&&"object"==typeof e){if("string"==typeof(e=e[Br])&&e.length)this.f=e;else if(void 0!==e)throw new E("argument-error",Br+" property must be a non empty string when specified.")}else if(void 0!==e)throw new E("argument-error",Nr+" property must be a non null object when specified.");if(void 0!==(e=t[Or])&&"boolean"!=typeof e)throw new E("argument-error",Or+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[kr])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new E("argument-error",kr+" property must be a non empty string when specified.");this.i=t||null}var Pr="android",kr="dynamicLinkDomain",Or="handleCodeInApp",Nr="iOS",Fr="url",Rr="installApp",Lr="minimumVersion",Dr="packageName",Br="bundleId";function Ur(t){var e={};for(var i in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[i]&&delete e[i];return e}var Xr=null;function Vr(t){var e="";return function(t,e){function i(e){for(;n<t.length;){var i=t.charAt(n++),r=Xr[i];if(null!=r)return r;if(!/^[\s\xa0]*$/.test(i))throw Error("Unknown base64 encoding at char: "+i)}return e}!function(){if(!Xr){Xr={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],i=0;5>i;i++)for(var n=t.concat(e[i].split("")),r=0;r<n.length;r++){var s=n[r];void 0===Xr[s]&&(Xr[s]=r)}}}();for(var n=0;;){var r=i(-1),s=i(0),o=i(64),a=i(64);if(64===a&&-1===r)break;e(r<<2|s>>4),64!=o&&(e(s<<4&240|o>>2),64!=a&&e(o<<6&192|a))}}(t,function(t){e+=String.fromCharCode(t)}),e}function zr(t){var e=jr(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.g=t,this.c=e.exp,this.h=e.sub,_(),this.a=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.b=!!e.is_anonymous||"anonymous"==this.a}function Yr(t){try{return new zr(t)}catch(t){return null}}function jr(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,i=0;i<e;i++)t+=".";try{return JSON.parse(Vr(t))}catch(t){}return null}zr.prototype.S=function(){return this.f},zr.prototype.i=function(){return this.b},zr.prototype.toString=function(){return this.g};var Gr="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Wr=["client_id","response_type","scope","redirect_uri","state"],Hr={md:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Wa:Wr},od:{Ja:null,ua:500,ta:750,fa:"github.com",Wa:Wr},pd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Wa:Wr},vd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Wa:Gr},jd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Wa:[]}};function qr(t){for(var e in Hr)if(Hr[e].fa==t)return Hr[e];return null}function Kr(t){var e={};e["facebook.com"]=ts,e["google.com"]=is,e["github.com"]=es,e["twitter.com"]=ns;var i=t&&t[Qr];try{if(i)return e[i]?new e[i](t):new $r(t);if(void 0!==t[Jr])return new Zr(t)}catch(t){}return null}var Jr="idToken",Qr="providerId";function Zr(t){var e=t[Qr];if(!e&&t[Jr]){var i=Yr(t[Jr]);i&&i.a&&(e=i.a)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),i=!1,void 0!==t.isNewUser?i=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(i=!0),Kn(this,"providerId",e),Kn(this,"isNewUser",i)}function $r(t){Zr.call(this,t),Kn(this,"profile",Zn((t=Ln(t.rawUserInfo||"{}"))||{}))}function ts(t){if($r.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function es(t){if($r.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Kn(this,"username",this.profile&&this.profile.login||null)}function is(t){if($r.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function ns(t){if($r.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Kn(this,"username",t.screenName||null)}function rs(t){var e=Bi(t),i=Di(e,"link"),n=Di(Bi(i),"link");return e=Di(e,"deep_link_id"),Di(Bi(e),"link")||e||n||i||t}function ss(t,e){if(!t&&!e)throw new E("internal-error","Internal assert: no raw session string available");if(t&&e)throw new E("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?os:as}A($r,Zr),A(ts,$r),A(es,$r),A(is,$r),A(ns,$r);var os="enroll",as="signin";function hs(){}function us(t,e){return t.then(function(t){if(t[Qo]){var i=Yr(t[Qo]);if(!i||e!=i.h)throw new E("user-mismatch");return t}throw new E("user-mismatch")}).s(function(t){throw t&&t.code&&t.code==M+"user-not-found"?new E("user-mismatch"):t})}function cs(t,e){if(!e)throw new E("internal-error","failed to construct a credential");this.a=e,Kn(this,"providerId",t),Kn(this,"signInMethod",t)}function ls(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function fs(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new cs(t.providerId,t.pendingToken)}catch(t){}return null}function ds(t,e,i){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Kn(this,"idToken",e.idToken),e.accessToken&&Kn(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Kn(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new E("internal-error","failed to construct a credential");Kn(this,"accessToken",e.oauthToken),Kn(this,"secret",e.oauthTokenSecret)}Kn(this,"providerId",t),Kn(this,"signInMethod",i)}function ps(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Ji(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function gs(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new ds(t.providerId,e,t.signInMethod)}catch(t){}}return null}function vs(t,e){this.Pc=e||[],Jn(this,{providerId:t,isOAuthProvider:!0}),this.Hb={},this.ob=(qr(t)||{}).Ja||null,this.nb=null}function ys(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new E("argument-error",'SAML provider IDs must be prefixed with "saml."');vs.call(this,t,[])}function ms(t){vs.call(this,t,Wr),this.a=[]}function xs(){ms.call(this,"facebook.com")}function bs(t){if(!t)throw new E("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return v(t)&&(e=t.accessToken),(new xs).credential({accessToken:e})}function ws(){ms.call(this,"github.com")}function Ts(t){if(!t)throw new E("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return v(t)&&(e=t.accessToken),(new ws).credential({accessToken:e})}function Ss(){ms.call(this,"google.com"),this.Ca("profile")}function _s(t,e){var i=t;return v(t)&&(i=t.idToken,e=t.accessToken),(new Ss).credential({idToken:i,accessToken:e})}function As(){vs.call(this,"twitter.com",Gr)}function Es(t,e){var i=t;if(v(i)||(i={oauthToken:t,oauthTokenSecret:e}),!i.oauthToken||!i.oauthTokenSecret)throw new E("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new ds("twitter.com",i,"twitter.com")}function Is(t,e,i){this.a=t,this.f=e,Kn(this,"providerId","password"),Kn(this,"signInMethod",i===Ms.EMAIL_LINK_SIGN_IN_METHOD?Ms.EMAIL_LINK_SIGN_IN_METHOD:Ms.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Cs(t){return t&&t.email&&t.password?new Is(t.email,t.password,t.signInMethod):null}function Ms(){Jn(this,{providerId:"password",isOAuthProvider:!1})}function Ps(t,e){if(!(e=ks(e)))throw new E("argument-error","Invalid email link!");return new Is(t,e.code,Ms.EMAIL_LINK_SIGN_IN_METHOD)}function ks(t){return(t=Cr(t=rs(t)))&&t.operation===hr?t:null}function Os(t){if(!(t.cb&&t.bb||t.La&&t.ea))throw new E("internal-error");this.a=t,Kn(this,"providerId","phone"),this.fa="phone",Kn(this,"signInMethod","phone")}function Ns(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return j(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(i){t[i]&&(e[i]=t[i])}),new Os(e)}return null}function Fs(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.cb,code:t.a.bb}}function Rs(t){try{this.a=t||n.auth()}catch(t){throw new E("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Jn(this,{providerId:"phone",isOAuthProvider:!1})}function Ls(t,e){if(!t)throw new E("missing-verification-id");if(!e)throw new E("missing-verification-code");return new Os({cb:t,bb:e})}function Ds(t){if(t.temporaryProof&&t.phoneNumber)return new Os({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var i=t&&t.oauthAccessToken,n=t&&t.oauthTokenSecret,r=t&&t.nonce,s=t&&t.oauthIdToken,o=t&&t.pendingToken;try{switch(e){case"google.com":return _s(s,i);case"facebook.com":return bs(i);case"github.com":return Ts(i);case"twitter.com":return Es(i,n);default:return i||n||s||o?o?0==e.indexOf("saml.")?new cs(e,o):new ds(e,{pendingToken:o,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new ms(e).credential({idToken:s,accessToken:i,rawNonce:r}):null}}catch(t){return null}}function Bs(t){if(!t.isOAuthProvider)throw new E("invalid-oauth-provider")}function Us(t,e,i,n,r,s,o){if(this.c=t,this.b=e||null,this.g=i||null,this.f=n||null,this.i=s||null,this.h=o||null,this.a=r||null,!this.g&&!this.a)throw new E("invalid-auth-event");if(this.g&&this.a)throw new E("invalid-auth-event");if(this.g&&!this.f)throw new E("invalid-auth-event")}function Xs(t){return(t=t||{}).type?new Us(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&I(t.error),t.postBody,t.tenantId):null}function Vs(){this.b=null,this.a=[]}ss.prototype.Ha=function(){return this.a?Ce(this.a):Ce(this.b)},ss.prototype.w=function(){return this.type==os?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},hs.prototype.ja=function(){},hs.prototype.b=function(){},hs.prototype.c=function(){},hs.prototype.w=function(){},cs.prototype.ja=function(t){return xa(t,ls(this))},cs.prototype.b=function(t,e){var i=ls(this);return i.idToken=e,ba(t,i)},cs.prototype.c=function(t,e){return us(wa(t,ls(this)),e)},cs.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},ds.prototype.ja=function(t){return xa(t,ps(this))},ds.prototype.b=function(t,e){var i=ps(this);return i.idToken=e,ba(t,i)},ds.prototype.c=function(t,e){return us(wa(t,ps(this)),e)},ds.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},vs.prototype.Ka=function(t){return this.Hb=gt(t),this},A(ys,vs),A(ms,vs),ms.prototype.Ca=function(t){return q(this.a,t)||this.a.push(t),this},ms.prototype.Pb=function(){return Z(this.a)},ms.prototype.credential=function(t,e){var i;if(!(i=v(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!i.accessToken)throw new E("argument-error","credential failed: must provide the ID token and/or the access token.");return new ds(this.providerId,i,this.providerId)},A(xs,ms),Kn(xs,"PROVIDER_ID","facebook.com"),Kn(xs,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),A(ws,ms),Kn(ws,"PROVIDER_ID","github.com"),Kn(ws,"GITHUB_SIGN_IN_METHOD","github.com"),A(Ss,ms),Kn(Ss,"PROVIDER_ID","google.com"),Kn(Ss,"GOOGLE_SIGN_IN_METHOD","google.com"),A(As,vs),Kn(As,"PROVIDER_ID","twitter.com"),Kn(As,"TWITTER_SIGN_IN_METHOD","twitter.com"),Is.prototype.ja=function(t){return this.signInMethod==Ms.EMAIL_LINK_SIGN_IN_METHOD?ih(t,Ma,{email:this.a,oobCode:this.f}):ih(t,Qa,{email:this.a,password:this.f})},Is.prototype.b=function(t,e){return this.signInMethod==Ms.EMAIL_LINK_SIGN_IN_METHOD?ih(t,Pa,{idToken:e,email:this.a,oobCode:this.f}):ih(t,Ya,{idToken:e,email:this.a,password:this.f})},Is.prototype.c=function(t,e){return us(this.ja(t),e)},Is.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Jn(Ms,{PROVIDER_ID:"password"}),Jn(Ms,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Jn(Ms,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Os.prototype.ja=function(t){return t.eb(Fs(this))},Os.prototype.b=function(t,e){var i=Fs(this);return i.idToken=e,ih(t,$a,i)},Os.prototype.c=function(t,e){var i=Fs(this);return i.operation="REAUTH",us(t=ih(t,th,i),e)},Os.prototype.w=function(){var t={providerId:"phone"};return this.a.cb&&(t.verificationId=this.a.cb),this.a.bb&&(t.verificationCode=this.a.bb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},Rs.prototype.eb=function(t,e){var i=this.a.a;return Ce(e.verify()).then(function(n){if("string"!=typeof n)throw new E("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var r=v(t)?t.session:null,s=v(t)?t.phoneNumber:t;return(r&&r.type==os?r.Ha().then(function(t){return ih(i,Ga,{idToken:t,phoneEnrollmentInfo:{phoneNumber:s,recaptchaToken:n}}).then(function(t){return t.phoneSessionInfo.sessionInfo})}):r&&r.type==as?r.Ha().then(function(e){return function(t,e){return ih(t,Wa,e).then(function(t){return t.phoneResponseInfo.sessionInfo})}(i,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:n}})}):function(t,e){return ih(t,Va,e)}(i,{phoneNumber:s,recaptchaToken:n})).then(function(t){return"function"==typeof e.reset&&e.reset(),t},function(t){throw"function"==typeof e.reset&&e.reset(),t});default:throw new E("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})},Jn(Rs,{PROVIDER_ID:"phone"}),Jn(Rs,{PHONE_SIGN_IN_METHOD:"phone"}),Us.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},Us.prototype.S=function(){return this.h},Us.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var zs,Ys=null;function js(t){var e="unauthorized-domain",i=void 0,n=Bi(t);t=n.a,"chrome-extension"==(n=n.f)?i=zt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==n||"https"==n?i=zt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",E.call(this,e,i)}function Gs(t,e,i){E.call(this,t,i),(t=e||{}).Ib&&Kn(this,"email",t.Ib),t.ea&&Kn(this,"phoneNumber",t.ea),t.credential&&Kn(this,"credential",t.credential),t.Yb&&Kn(this,"tenantId",t.Yb)}function Ws(t){if(t.code){var e=t.code||"";0==e.indexOf(M)&&(e=e.substring(M.length));var i={credential:Ds(t),Yb:t.tenantId};if(t.email)i.Ib=t.email;else if(t.phoneNumber)i.ea=t.phoneNumber;else if(!i.credential)return new E(e,t.message||void 0);return new Gs(e,i,t.message)}return null}function Hs(){}function qs(t){return t.c||(t.c=t.b())}function Ks(){}function Js(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],i=0;i<e.length;i++){var n=e[i];try{return new ActiveXObject(n),t.f=n}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Qs(){}function Zs(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=T(this.pc,this),this.a.onerror=T(this.Rb,this),this.a.onprogress=T(this.qc,this),this.a.ontimeout=T(this.uc,this)}function $s(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function to(t,e,i){this.reset(t,e,i,void 0,void 0)}A(js,E),A(Gs,E),Gs.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&yt(t,e),t},Gs.prototype.toJSON=function(){return this.w()},Hs.prototype.c=null,A(Ks,Hs),Ks.prototype.a=function(){var t=Js(this);return t?new ActiveXObject(t):new XMLHttpRequest},Ks.prototype.b=function(){var t={};return Js(this)&&(t[0]=!0,t[1]=!0),t},zs=new Ks,A(Qs,Hs),Qs.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Zs;throw Error("Unsupported browser")},Qs.prototype.b=function(){return{}},(e=Zs.prototype).open=function(t,e,i){if(null!=i&&!i)throw Error("Only async requests are supported.");this.a.open(t,e)},e.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},e.pc=function(){this.status=200,this.response=this.responseText=this.a.responseText,$s(this,4)},e.Rb=function(){this.status=500,this.response=this.responseText="",$s(this,4)},e.uc=function(){this.Rb()},e.qc=function(){this.status=200,$s(this,1)},e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},to.prototype.a=null;function eo(t){this.f=t,this.b=this.c=this.a=null}function io(t,e){this.name=t,this.value=e}to.prototype.reset=function(t,e,i,n,r){"number"==typeof r||0,n||_(),delete this.a},io.prototype.toString=function(){return this.name};var no=new io("SEVERE",1e3),ro=new io("WARNING",900),so=new io("CONFIG",700),oo=new io("FINE",500);eo.prototype.log=function(t,e,i){if(t.value>=function t(e){return e.c?e.c:e.a?t(e.a):(L("Root logger has no level set."),null)}(this).value)for(g(e)&&(e=e()),t=new to(t,String(e),this.f),i&&(t.a=i),i=this;i;)i=i.a};var ao={},ho=null;function uo(t){var e;if(ho||(ho=new eo(""),ao[""]=ho,ho.c=so),!(e=ao[t])){e=new eo(t);var i=t.lastIndexOf("."),n=t.substr(i+1);(i=uo(t.substr(0,i))).b||(i.b={}),i.b[n]=e,e.a=i,ao[t]=e}return e}function co(t,e){t&&t.log(oo,e,void 0)}function lo(t){this.f=t}function fo(t){bi.call(this),this.o=t,this.readyState=po,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.i=new Headers,this.b=null,this.m="GET",this.g="",this.a=!1,this.h=uo("goog.net.FetchXmlHttp"),this.l=this.c=this.f=null}A(lo,Hs),lo.prototype.a=function(){return new fo(this.f)},lo.prototype.b=function(t){return function(){return t}}({}),A(fo,bi);var po=0;function go(t){t.c.read().then(t.oc.bind(t)).catch(t.Ta.bind(t))}function vo(t,e){e&&t.f&&(t.status=t.f.status,t.statusText=t.f.statusText),t.readyState=4,t.f=null,t.c=null,t.l=null,yo(t)}function yo(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function mo(t){bi.call(this),this.headers=new Ci,this.O=t||null,this.c=!1,this.A=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.G=!1,this.g=0,this.o=null,this.m=xo,this.u=this.R=!1}(e=fo.prototype).open=function(t,e){if(this.readyState!=po)throw this.abort(),Error("Error reopening a connection");this.m=t,this.g=e,this.readyState=1,yo(this)},e.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.i,method:this.m,credentials:void 0,cache:void 0};t&&(e.body=t),this.o.fetch(new Request(this.g,e)).then(this.tc.bind(this),this.Ta.bind(this))},e.abort=function(){this.response=this.responseText="",this.i=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,vo(this,!1)),this.readyState=po},e.tc=function(t){this.a&&(this.f=t,this.b||(this.b=t.headers,this.readyState=2,yo(this)),this.a&&(this.readyState=3,yo(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.rc.bind(this),this.Ta.bind(this)):void 0!==u.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.l=new TextDecoder,go(this)):t.text().then(this.sc.bind(this),this.Ta.bind(this)))))},e.oc=function(t){if(this.a){var e=this.l.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?vo(this,!0):yo(this),3==this.readyState&&go(this)}},e.sc=function(t){this.a&&(this.response=this.responseText=t,vo(this,!0))},e.rc=function(t){this.a&&(this.response=t,vo(this,!0))},e.Ta=function(t){var e=this.h;e&&e.log(ro,"Failed to fetch url "+this.g,t instanceof Error?t:Error(t)),this.a&&vo(this,!0)},e.setRequestHeader=function(t,e){this.i.append(t,e)},e.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.h)&&t.log(ro,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var t=this.h;return t&&t.log(ro,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0),""}t=[];for(var e=this.b.entries(),i=e.next();!i.done;)i=i.value,t.push(i[0]+": "+i[1]),i=e.next();return t.join("\r\n")},A(mo,bi);var xo="";mo.prototype.b=uo("goog.net.XhrIo");var bo=/^https?$/i,wo=["POST","PUT"];function To(t,e,i,n,r){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);i=i?i.toUpperCase():"GET",t.l=e,t.h="",t.P=i,t.G=!1,t.c=!0,t.a=t.O?t.O.a():zs.a(),t.A=t.O?qs(t.O):qs(zs),t.a.onreadystatechange=T(t.Ub,t);try{co(t.b,ko(t,"Opening Xhr")),t.N=!0,t.a.open(i,String(e),!0),t.N=!1}catch(e){return co(t.b,ko(t,"Error opening Xhr: "+e.message)),void _o(t,e)}e=n||"";var s=new Ci(t.headers);r&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(p(t)||"string"==typeof t)j(t,e,void 0);else for(var i=Ii(t),n=Ei(t),r=n.length,s=0;s<r;s++)e.call(void 0,n[s],i&&i[s],t)}(r,function(t,e){s.set(e,t)}),r=function(t){t:{for(var e=So,i=t.length,n="string"==typeof t?t.split(""):t,r=0;r<i;r++)if(r in n&&e.call(void 0,n[r],r,t)){e=r;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(s.Y()),n=u.FormData&&e instanceof u.FormData,!q(wo,i)||r||n||s.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),s.forEach(function(t,e){this.a.setRequestHeader(e,t)},t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.R&&(t.a.withCredentials=t.R);try{Co(t),0<t.g&&(t.u=function(t){return qt&&se(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),co(t.b,ko(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=T(t.Ma,t)):t.o=_i(t.Ma,t.g,t)),co(t.b,ko(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(e){co(t.b,ko(t,"Send error: "+e.message)),_o(t,e)}}function So(t){return"content-type"==t.toLowerCase()}function _o(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,Ao(t),Io(t)}function Ao(t){t.G||(t.G=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function Eo(t){if(t.c&&void 0!==h)if(t.A[1]&&4==Mo(t)&&2==Po(t))co(t.b,ko(t,"Local request error detected and ignored"));else if(t.i&&4==Mo(t))_i(t.Ub,0,t);else if(t.dispatchEvent("readystatechange"),4==Mo(t)){co(t.b,ko(t,"Request complete")),t.c=!1;try{var e,i=Po(t);t:switch(i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break t;default:n=!1}if(!(e=n)){var r;if(r=0===i){var s=String(t.l).match(ki)[1]||null;if(!s&&u.self&&u.self.location){var o=u.self.location.protocol;s=o.substr(0,o.length-1)}r=!bo.test(s?s.toLowerCase():"")}e=r}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var a=2<Mo(t)?t.a.statusText:""}catch(e){co(t.b,"Can not get status: "+e.message),a=""}t.h=a+" ["+Po(t)+"]",Ao(t)}}finally{Io(t)}}}function Io(t,e){if(t.a){Co(t);var i=t.a,n=t.A[0]?f:null;t.a=null,t.A=null,e||t.dispatchEvent("ready");try{i.onreadystatechange=n}catch(e){(t=t.b)&&t.log(no,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}}function Co(t){t.a&&t.u&&(t.a.ontimeout=null),t.o&&(u.clearTimeout(t.o),t.o=null)}function Mo(t){return t.a?t.a.readyState:0}function Po(t){try{return 2<Mo(t)?t.a.status:-1}catch(t){return-1}}function ko(t,e){return e+" ["+t.P+" "+t.l+" "+Po(t)+"]"}function Oo(t){var e=Yo;this.g=[],this.u=e,this.o=t||null,this.f=this.a=!1,this.c=void 0,this.m=this.A=this.i=!1,this.h=0,this.b=null,this.l=0}function No(t,e,i){t.a=!0,t.c=i,t.f=!e,Do(t)}function Fo(t){if(t.a){if(!t.m)throw new Bo(t);t.m=!1}}function Ro(t,e,i,n){t.g.push([e,i,n]),t.a&&Do(t)}function Lo(t){return H(t.g,function(t){return g(t[1])})}function Do(t){if(t.h&&t.a&&Lo(t)){var e=t.h,i=Vo[e];i&&(u.clearTimeout(i.a),delete Vo[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var n=i=!1;t.g.length&&!t.i;){var r=t.g.shift(),s=r[0],o=r[1];if(r=r[2],s=t.f?o:s)try{var a=s.call(r||t.o,e);void 0!==a&&(t.f=t.f&&(a==e||a instanceof Error),t.c=e=a),(N(e)||"function"==typeof u.Promise&&e instanceof u.Promise)&&(n=!0,t.i=!0)}catch(n){e=n,t.f=!0,Lo(t)||(i=!0)}}t.c=e,n&&(a=T(t.v,t,!0),n=T(t.v,t,!1),e instanceof Oo?(Ro(e,a,n),e.A=!0):e.then(a,n)),i&&(e=new Xo(e),Vo[e.a]=e,t.h=e.a)}function Bo(){F.call(this)}function Uo(){F.call(this)}function Xo(t){this.a=u.setTimeout(T(this.c,this),0),this.b=t}(e=mo.prototype).Ma=function(){void 0!==h&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",co(this.b,ko(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},e.abort=function(){this.a&&this.c&&(co(this.b,ko(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Io(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Io(this,!0)),mo.$a.Da.call(this)},e.Ub=function(){this.xa||(this.N||this.i||this.f?Eo(this):this.Ic())},e.Ic=function(){Eo(this)},e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case xo:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(no,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(t){return co(this.b,"Can not get response: "+t.message),null}},Oo.prototype.cancel=function(t){if(this.a)this.c instanceof Oo&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.u?this.u.call(this.o,this):this.m=!0,this.a||(t=new Uo(this),Fo(this),No(this,!1,t))}},Oo.prototype.v=function(t,e){this.i=!1,No(this,t,e)},Oo.prototype.then=function(t,e,i){var n,r,s=new we(function(t,e){n=t,r=e});return Ro(this,n,function(t){t instanceof Uo?s.cancel():r(t)}),s.then(t,e,i)},Oo.prototype.$goog_Thenable=!0,A(Bo,F),Bo.prototype.message="Deferred has already fired",Bo.prototype.name="AlreadyCalledError",A(Uo,F),Uo.prototype.message="Deferred was canceled",Uo.prototype.name="CanceledError",Xo.prototype.c=function(){throw delete Vo[this.a],this.b};var Vo={};function zo(t){var e={},i=e.document||document,n=At(t).toString(),r=de(document,"SCRIPT"),s={Vb:r,Ma:void 0},o=new Oo(s),a=null,h=null!=e.timeout?e.timeout:5e3;return 0<h&&(a=window.setTimeout(function(){jo(r,!0);var t=new Ho(Wo,"Timeout reached for loading script "+n);Fo(o),No(o,!1,t)},h),s.Ma=a),r.onload=r.onreadystatechange=function(){r.readyState&&"loaded"!=r.readyState&&"complete"!=r.readyState||(jo(r,e.wd||!1,a),Fo(o),No(o,!0,null))},r.onerror=function(){jo(r,!0,a);var t=new Ho(Go,"Error while loading script "+n);Fo(o),No(o,!1,t)},yt(s=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),he(r,s),function(t,e){mt(t,"HTMLScriptElement"),t.src=At(e),null===l&&(l=(e=(e=u.document).querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&c.test(e)?e:""),(e=l)&&t.setAttribute("nonce",e)}(r,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(i).appendChild(r),o}function Yo(){if(this&&this.Vb){var t=this.Vb;t&&"SCRIPT"==t.tagName&&jo(t,!0,this.Ma)}}function jo(t,e,i){null!=i&&u.clearTimeout(i),t.onload=f,t.onerror=f,t.onreadystatechange=f,e&&window.setTimeout(function(){t&&t.parentNode&&t.parentNode.removeChild(t)},0)}var Go=0,Wo=1;function Ho(t,e){var i="Jsloader error (code #"+t+")";e&&(i+=": "+e),F.call(this,i),this.code=t}function qo(t){this.f=t}function Ko(t,e,i){if(this.c=t,t=e||{},this.l=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.v=t.secureTokenTimeout||Zo,this.g=gt(t.secureTokenHeaders||$o),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.m=t.firebaseTimeout||ta,this.a=gt(t.firebaseHeaders||ea),i&&(this.a["X-Client-Version"]=i,this.g["X-Client-Version"]=i),i="Node"==bn(),!(i=u.XMLHttpRequest||i&&n.INTERNAL.node&&n.INTERNAL.node.XMLHttpRequest)&&!xn())throw new E("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,xn()?this.f=new lo(self):wn()?this.f=new qo(i):this.f=new Qs,this.b=null}A(Ho,F),A(qo,Hs),qo.prototype.a=function(){return new this.f},qo.prototype.b=function(){return{}};var Jo,Qo="idToken",Zo=new Xn(3e4,6e4),$o={"Content-Type":"application/x-www-form-urlencoded"},ta=new Xn(3e4,6e4),ea={"Content-Type":"application/json"};function ia(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function na(t,e){e&&(t.l=ra("https://securetoken.googleapis.com/v1/token",e),t.h=ra("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.i=ra("https://identitytoolkit.googleapis.com/v2/",e))}function ra(t,e){return t=Bi(t),e=Bi(e.url),t.c=t.a+t.c,Ni(t,e.f),t.a=e.a,Fi(t,e.g),t.toString()}function sa(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function oa(t,e,i,n,r,s,o){(function(){var t=In();return!((t=_n(t)!=Sn?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||qt&&ne&&!(9<ne))})()||xn()?t=T(t.u,t):(Jo||(Jo=new we(function(t,e){!function(t,e){if(((window.gapi||{}).client||{}).request)t();else{u[ha]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))};var i=Et(aa,{onload:ha});!function(t,e){Ro(t,null,e,void 0)}(zo(i),function(){e(Error("CORS_UNSUPPORTED"))})}}(t,e)})),t=T(t.o,t)),t(e,i,n,r,s,o)}Ko.prototype.S=function(){return this.b},Ko.prototype.u=function(t,e,i,n,r,s){if(xn()&&(void 0===u.fetch||void 0===u.Headers||void 0===u.Request))throw new E("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var o=new mo(this.f);if(s){o.g=Math.max(0,s);var a=setTimeout(function(){o.dispatchEvent("timeout")},s)}wi(o,"complete",function(){a&&clearTimeout(a);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return co(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(e){t=null}e&&e(t)}),Ti(o,"ready",function(){a&&clearTimeout(a),Ge(this)}),Ti(o,"timeout",function(){a&&clearTimeout(a),Ge(this),e&&e(null)}),To(o,t,i,n,r)};var aa=new xt(Tt,"https://apis.google.com/js/client.js?onload=%{onload}"),ha="__fcb"+Math.floor(1e6*Math.random()).toString();function ua(t,e,i,n,r,s,o){var a=Bi(e+i);Li(a,"key",t.c),o&&Li(a,"cb",_().toString());var h="GET"==n;if(h)for(var u in r)r.hasOwnProperty(u)&&Li(a,u,r[u]);return new we(function(e,i){oa(t,a.toString(),function(t){t?t.error?i(rh(t,s||{})):e(t):i(new E("network-request-failed"))},n,h?void 0:nn(Rn(r)),t.a,t.m.get())})}function ca(t){if("string"!=typeof(t=t.email)||!gn.test(t))throw new E("invalid-email")}function la(t){"email"in t&&ca(t)}function fa(t){if(!t[Qo]){if(t.mfaPendingCredential)throw new E("multi-factor-auth-required",null,gt(t));throw new E("internal-error")}}function da(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new E("internal-error")}else{if(!t.sessionInfo)throw new E("missing-verification-id");if(!t.code)throw new E("missing-verification-code")}}Ko.prototype.o=function(t,e,i,n,r){var s=this;Jo.then(function(){window.gapi.client.setApiKey(s.c);var o=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:i,body:n,headers:r,authType:"none",callback:function(t){window.gapi.auth.setToken(o),e&&e(t)}})}).s(function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})})},Ko.prototype.yb=function(){return ih(this,ja,{})},Ko.prototype.Ab=function(t,e){return ih(this,za,{idToken:t,email:e})},Ko.prototype.Bb=function(t,e){return ih(this,Ya,{idToken:t,password:e})};var pa={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function ga(t){if(!t.phoneVerificationInfo)throw new E("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new E("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new E("missing-verification-code")}function va(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new E("internal-error")}function ya(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&(Zi(t=new qi(t.postBody),"nonce")&&(e.nonce=t.get("nonce")))),e}function ma(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Ws(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Ws(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Ws(t)):t.errorMessage&&(e=nh(t.errorMessage)),e)throw e;fa(t)}function xa(t,e){return e.returnIdpCredential=!0,ih(t,Ha,e)}function ba(t,e){return e.returnIdpCredential=!0,ih(t,Ka,e)}function wa(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,ih(t,qa,e)}function Ta(t){if(!t.oobCode)throw new E("invalid-action-code")}(e=Ko.prototype).Cb=function(t,e){var i={idToken:t},n=[];return dt(pa,function(t,r){var s=e[r];null===s?n.push(t):r in e&&(i[r]=s)}),n.length&&(i.deleteAttribute=n),ih(this,za,i)},e.ub=function(t,e){return yt(t={requestType:"PASSWORD_RESET",email:t},e),ih(this,Da,t)},e.vb=function(t,e){return yt(t={requestType:"EMAIL_SIGNIN",email:t},e),ih(this,Fa,t)},e.tb=function(t,e){return yt(t={requestType:"VERIFY_EMAIL",idToken:t},e),ih(this,Ra,t)},e.Db=function(t,e,i){return yt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},i),ih(this,La,t)},e.eb=function(t){return ih(this,Za,t)},e.mb=function(t,e){return ih(this,Xa,{oobCode:t,newPassword:e})},e.Qa=function(t){return ih(this,_a,{oobCode:t})},e.ib=function(t){return ih(this,Sa,{oobCode:t})};var Sa={endpoint:"setAccountInfo",B:Ta,Z:"email",C:!0},_a={endpoint:"resetPassword",B:Ta,F:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new E("internal-error")},C:!0},Aa={endpoint:"signupNewUser",B:function(t){if(ca(t),!t.password)throw new E("weak-password")},F:fa,U:!0,C:!0},Ea={endpoint:"createAuthUri",C:!0},Ia={endpoint:"deleteAccount",M:["idToken"]},Ca={endpoint:"setAccountInfo",M:["idToken","deleteProvider"],B:function(t){if("array"!=d(t.deleteProvider))throw new E("internal-error")}},Ma={endpoint:"emailLinkSignin",M:["email","oobCode"],B:ca,F:fa,U:!0,C:!0},Pa={endpoint:"emailLinkSignin",M:["idToken","email","oobCode"],B:ca,F:fa,U:!0},ka={endpoint:"accounts/mfaEnrollment:finalize",M:["idToken","phoneVerificationInfo"],B:ga,F:fa,C:!0,Na:!0},Oa={endpoint:"accounts/mfaSignIn:finalize",M:["mfaPendingCredential","phoneVerificationInfo"],B:ga,F:fa,C:!0,Na:!0},Na={endpoint:"getAccountInfo"},Fa={endpoint:"getOobConfirmationCode",M:["requestType"],B:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new E("internal-error");ca(t)},Z:"email",C:!0},Ra={endpoint:"getOobConfirmationCode",M:["idToken","requestType"],B:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new E("internal-error")},Z:"email",C:!0},La={endpoint:"getOobConfirmationCode",M:["idToken","newEmail","requestType"],B:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new E("internal-error")},Z:"email",C:!0},Da={endpoint:"getOobConfirmationCode",M:["requestType"],B:function(t){if("PASSWORD_RESET"!=t.requestType)throw new E("internal-error");ca(t)},Z:"email",C:!0},Ba={kb:!0,endpoint:"getProjectConfig",Tb:"GET"},Ua={kb:!0,endpoint:"getRecaptchaParam",Tb:"GET",F:function(t){if(!t.recaptchaSiteKey)throw new E("internal-error")}},Xa={endpoint:"resetPassword",B:Ta,Z:"email",C:!0},Va={endpoint:"sendVerificationCode",M:["phoneNumber","recaptchaToken"],Z:"sessionInfo",C:!0},za={endpoint:"setAccountInfo",M:["idToken"],B:la,U:!0},Ya={endpoint:"setAccountInfo",M:["idToken"],B:function(t){if(la(t),!t.password)throw new E("weak-password")},F:fa,U:!0},ja={endpoint:"signupNewUser",F:fa,U:!0,C:!0},Ga={endpoint:"accounts/mfaEnrollment:start",M:["idToken","phoneEnrollmentInfo"],B:function(t){if(!t.phoneEnrollmentInfo)throw new E("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new E("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new E("missing-app-credential")},F:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new E("internal-error")},C:!0,Na:!0},Wa={endpoint:"accounts/mfaSignIn:start",M:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],B:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new E("missing-app-credential")},F:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new E("internal-error")},C:!0,Na:!0},Ha={endpoint:"verifyAssertion",B:va,Xa:ya,F:ma,U:!0,C:!0},qa={endpoint:"verifyAssertion",B:va,Xa:ya,F:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new E("user-not-found");if(t.errorMessage)throw nh(t.errorMessage);fa(t)},U:!0,C:!0},Ka={endpoint:"verifyAssertion",B:function(t){if(va(t),!t.idToken)throw new E("internal-error")},Xa:ya,F:ma,U:!0},Ja={endpoint:"verifyCustomToken",B:function(t){if(!t.token)throw new E("invalid-custom-token")},F:fa,U:!0,C:!0},Qa={endpoint:"verifyPassword",B:function(t){if(ca(t),!t.password)throw new E("wrong-password")},F:fa,U:!0,C:!0},Za={endpoint:"verifyPhoneNumber",B:da,F:fa,C:!0},$a={endpoint:"verifyPhoneNumber",B:function(t){if(!t.idToken)throw new E("internal-error");da(t)},F:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Ws(t);fa(t)}},th={Gb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",B:da,F:fa,C:!0},eh={endpoint:"accounts/mfaEnrollment:withdraw",M:["idToken","mfaEnrollmentId"],F:function(t){if(!!t[Qo]^!!t.refreshToken)throw new E("internal-error")},C:!0,Na:!0};function ih(t,e,i){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var i=0;i<e.length;i++){var n=t[e[i]];if(null==n||""===n)return!1}return!0}(i,e.M))return Me(new E("internal-error"));var n,r=!!e.Na,s=e.Tb||"POST";return Ce(i).then(e.B).then(function(){return e.U&&(i.returnSecureToken=!0),e.C&&t.b&&void 0===i.tenantId&&(i.tenantId=t.b),ua(t,r?t.i:t.h,e.endpoint,s,i,e.Gb,e.kb||!1)}).then(function(t){return n=t,e.Xa?e.Xa(i,n):n}).then(e.F).then(function(){if(!e.Z)return n;if(!(e.Z in n))throw new E("internal-error");return n[e.Z]})}function nh(t){return rh({error:{errors:[{message:t}],code:400,message:t}})}function rh(t,e){var i=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",n={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(i=n[i]?new E(n[i]):null)return i;for(var r in i=t.error&&t.error.message||"",yt(n={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=i.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,n)if(0===i.indexOf(r))return new E(n[r],e);return!e&&t&&(e=Fn(t)),new E("internal-error",e)}function sh(t){this.b=t,this.a=null,this.qb=function(t){return(uh||(uh=new we(function(t,e){function i(){Un(),Cn("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Un(),e(Error("Network Error"))},timeout:ah.get()})}if(Cn("gapi.iframes.Iframe"))t();else if(Cn("gapi.load"))i();else{var n="__iframefcb"+Math.floor(1e6*Math.random()).toString();u[n]=function(){Cn("gapi.load")?i():e(Error("Network Error"))},Ce(zo(n=Et(oh,{onload:n}))).s(function(){e(Error("Network Error"))})}}).s(function(t){throw uh=null,t}))).then(function(){return new we(function(e,i){Cn("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:Cn("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(n){function r(){clearTimeout(s),e()}t.a=n,t.a.restyle({setHideOnLeave:!1});var s=setTimeout(function(){i(Error("Network Error"))},hh.get());n.ping(r).then(r,function(){i(Error("Network Error"))})})})})}(this)}var oh=new xt(Tt,"https://apis.google.com/js/api.js?onload=%{onload}"),ah=new Xn(3e4,6e4),hh=new Xn(5e3,15e3),uh=null;function ch(t,e,i,n){this.l=t,this.h=e,this.i=i,this.g=n,this.f=null,this.g?t=Ui((t=Bi(this.g.url)).f,t.a,t.g,"/emulator/auth/iframe"):t=Ui("https",this.l,null,"/__/auth/iframe"),this.a=t,Li(this.a,"apiKey",this.h),Li(this.a,"appName",this.i),this.b=null,this.c=[]}function lh(t,e,i,n,r,s){this.u=t,this.o=e,this.c=i,this.v=n,this.m=s,this.i=this.g=this.l=null,this.a=r,this.h=this.f=null}function fh(t){try{return n.app(t).auth().Ga()}catch(t){return[]}}function dh(t,e,i,n,r,s){this.o=t,this.g=e,this.b=i,this.f=s,this.c=n||null,this.i=r||null,this.l=this.u=this.A=null,this.h=[],this.v=this.a=null}function ph(t){var e=un();return function(t){return ih(t,Ba,{}).then(function(t){return t.authorizedDomains||[]})}(t).then(function(t){t:{var i=Bi(e),n=i.f;i=i.a;for(var r=0;r<t.length;r++){var s=t[r],o=i,a=n;if(0==s.indexOf("chrome-extension://")?o=Bi(s).a==o&&"chrome-extension"==a:"http"!=a&&"https"!=a?o=!1:pn.test(s)?o=o==s:(s=s.split(".").join("\\."),o=new RegExp("^(.+\\."+s+"|"+s+")$","i").test(o)),o){t=!0;break t}}t=!1}if(!t)throw new js(un())})}function gh(t){return t.v?t.v:(t.v=vn().then(function(){if(!t.u){var e=t.c,i=t.i,n=fh(t.b),r=new ch(t.o,t.g,t.b,t.f);r.f=e,r.b=i,r.c=Z(n||[]),t.u=r.toString()}t.m=new sh(t.u),function(t){if(!t.m)throw Error("IfcHandler must be initialized!");!function(t,e){t.qb.then(function(){t.a.register("authEvent",e,Cn("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}(t.m,function(e){var i={};if(e&&e.authEvent){var n=!1;for(e=Xs(e.authEvent),i=0;i<t.h.length;i++)n=t.h[i](e)||n;return(i={}).status=n?"ACK":"ERROR",Ce(i)}return i.status="ERROR",Ce(i)})}(t)}),t.v)}function vh(t){return t.l||(t.A=t.c?En(t.c,fh(t.b)):null,t.l=new Ko(t.g,O(t.i),t.A),t.f&&na(t.l,t.f)),t.l}function yh(t,e,i,n,r,s,o,a,h,u,c,l){return(t=new lh(t,e,i,n,r,l)).l=s,t.g=o,t.i=a,t.b=gt(h||null),t.f=u,t.xb(c).toString()}function mh(t){if(this.a=t||n.INTERNAL.reactNative&&n.INTERNAL.reactNative.AsyncStorage,!this.a)throw new E("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function xh(t){this.b=t,this.a={},this.f=T(this.c,this)}ch.prototype.toString=function(){return this.f?Li(this.a,"v",this.f):Qi(this.a.b,"v"),this.b?Li(this.a,"eid",this.b):Qi(this.a.b,"eid"),this.c.length?Li(this.a,"fw",this.c.join(",")):Qi(this.a.b,"fw"),this.a.toString()},lh.prototype.xb=function(t){return this.h=t,this},lh.prototype.toString=function(){if(this.m){var t=Bi(this.m.url);t=Ui(t.f,t.a,t.g,"/emulator/auth/handler")}else t=Ui("https",this.u,null,"/__/auth/handler");if(Li(t,"apiKey",this.o),Li(t,"appName",this.c),Li(t,"authType",this.v),this.a.isOAuthProvider){var e=this.a;try{var i=n.app(this.c).auth().ka()}catch(t){i=null}for(var r in e.nb=i,Li(t,"providerId",this.a.providerId),e=Rn((i=this.a).Hb))e[r]=e[r].toString();r=i.Pc,e=gt(e);for(var s=0;s<r.length;s++){var o=r[s];o in e&&delete e[o]}i.ob&&i.nb&&!e[i.ob]&&(e[i.ob]=i.nb),pt(e)||Li(t,"customParameters",Fn(e))}if("function"==typeof this.a.Pb&&((i=this.a.Pb()).length&&Li(t,"scopes",i.join(","))),this.l?Li(t,"redirectUrl",this.l):Qi(t.b,"redirectUrl"),this.g?Li(t,"eventId",this.g):Qi(t.b,"eventId"),this.i?Li(t,"v",this.i):Qi(t.b,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!Di(t,a)&&Li(t,a,this.b[a]);return this.h?Li(t,"tid",this.h):Qi(t.b,"tid"),this.f?Li(t,"eid",this.f):Qi(t.b,"eid"),(a=fh(this.c)).length&&Li(t,"fw",a.join(",")),t.toString()},(e=dh.prototype).Nb=function(t,e,i){var n=new E("popup-closed-by-user"),r=new E("web-storage-unsupported"),s=this,o=!1;return this.la().then(function(){(function(t){var e={type:"webStorageSupport"};return gh(t).then(function(){return function(t,e){return t.qb.then(function(){return new we(function(i){t.a.send(e.type,e,i,Cn("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}(t.m,e)}).then(function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()})})(s).then(function(i){i||(t&&fn(t),e(r),o=!0)})}).s(function(){}).then(function(){if(!o)return function(t){return new we(function(e){return function i(){Ai(2e3).then(function(){if(t&&!t.closed)return i();e()})}()})}(t)}).then(function(){if(!o)return Ai(i).then(function(){e(n)})})},e.Wb=function(){var t=In();return!Nn(t)&&!Bn(t)},e.Sb=function(){return!1},e.Lb=function(t,e,i,n,r,s,o,a){if(!t)return Me(new E("popup-blocked"));if(o&&!Nn())return this.la().s(function(e){fn(t),r(e)}),n(),Ce();this.a||(this.a=ph(vh(this)));var h=this;return this.a.then(function(){var e=h.la().s(function(e){throw fn(t),r(e),e});return n(),e}).then(function(){(Bs(i),o)||cn(yh(h.o,h.g,h.b,e,i,null,s,h.c,void 0,h.i,a,h.f),t)}).s(function(t){throw"auth/network-request-failed"==t.code&&(h.a=null),t})},e.Mb=function(t,e,i,n){this.a||(this.a=ph(vh(this)));var r=this;return this.a.then(function(){Bs(e),cn(yh(r.o,r.g,r.b,t,e,un(),i,r.c,void 0,r.i,n,r.f))}).s(function(t){throw"auth/network-request-failed"==t.code&&(r.a=null),t})},e.la=function(){var t=this;return gh(this).then(function(){return t.m.qb}).s(function(){throw t.a=null,new E("network-request-failed")})},e.Zb=function(){return!0},e.Ea=function(t){this.h.push(t)},e.Ra=function(t){J(this.h,function(e){return e==t})},(e=mh.prototype).get=function(t){return Ce(this.a.getItem(t)).then(function(t){return t&&Ln(t)})},e.set=function(t,e){return Ce(this.a.setItem(t,Fn(e)))},e.T=function(t){return Ce(this.a.removeItem(t))},e.ca=function(){},e.ia=function(){};var bh,wh=[];function Th(t,e,i){pt(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(i)}function Sh(t){this.a=t}function _h(t){this.c=t,this.b=!1,this.a=[]}function Ah(t,e,i,n){var r,s,o,a,h=i||{},u=null;if(t.b)return Me(Error("connection_unavailable"));var c=n?800:50,l="undefined"!=typeof MessageChannel?new MessageChannel:null;return new we(function(i,n){l?(r=Math.floor(Math.random()*Math.pow(10,20)).toString(),l.port1.start(),o=setTimeout(function(){n(Error("unsupported_event"))},c),u={messageChannel:l,onMessage:s=function(t){t.data.eventId===r&&("ack"===t.data.status?(clearTimeout(o),a=setTimeout(function(){n(Error("timeout"))},3e3)):"done"===t.data.status?(clearTimeout(a),void 0!==t.data.response?i(t.data.response):n(Error("unknown_error"))):(clearTimeout(o),clearTimeout(a),n(Error("invalid_response"))))}},t.a.push(u),l.port1.addEventListener("message",s),t.c.postMessage({eventType:e,eventId:r,data:h},[l.port2])):n(Error("connection_unavailable"))}).then(function(e){return Eh(t,u),e}).s(function(e){throw Eh(t,u),e})}function Eh(t,e){if(e){var i=e.messageChannel,n=e.onMessage;i&&(i.port1.removeEventListener("message",n),i.port1.close()),J(t.a,function(t){return t==e})}}function Ih(){if(!Ph())throw new E("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=u.indexedDB,this.type="indexedDB",this.g=this.l=this.f=this.i=null,this.o=!1,this.h=null;var t=this;xn()&&self?(this.l=function(){var t=xn()?self:null;if(j(wh,function(i){i.b==t&&(e=i)}),!e){var e=new xh(t);wh.push(e)}return e}(),Th(this.l,"keyChanged",function(e,i){return Rh(t).then(function(e){return 0<e.length&&j(t.a,function(t){t(e)}),{keyProcessed:q(e,i.key)}})}),Th(this.l,"ping",function(){return Ce(["keyChanged"])})):function(){var t=u.navigator;return t&&t.serviceWorker?Ce().then(function(){return t.serviceWorker.ready}).then(function(t){return t.active||null}).s(function(){return null}):Ce(null)}().then(function(e){(t.h=e)&&(t.g=new _h(new Sh(e)),Ah(t.g,"ping",null,!0).then(function(e){e[0].fulfilled&&q(e[0].value,"keyChanged")&&(t.o=!0)}).s(function(){}))})}function Ch(t){return new we(function(e,i){var n=t.m.open("firebaseLocalStorageDb",1);n.onerror=function(t){try{t.preventDefault()}catch(t){}i(Error(t.target.error))},n.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){i(t)}},n.onsuccess=function(n){(n=n.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(n):function(t){return new we(function(e,i){var n=t.m.deleteDatabase("firebaseLocalStorageDb");n.onsuccess=function(){e()},n.onerror=function(t){i(Error(t.target.error))}})}(t).then(function(){return Ch(t)}).then(function(t){e(t)}).s(function(t){i(t)})}})}function Mh(t){return t.v||(t.v=Ch(t)),t.v}function Ph(){try{return!!u.indexedDB}catch(t){return!1}}function kh(t){return t.objectStore("firebaseLocalStorage")}function Oh(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Nh(t){return new we(function(e,i){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){i(t.target.error)}})}function Fh(t,e){return t.g&&t.h&&function(){var t=u.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?Ah(t.g,"keyChanged",{key:e},t.o).then(function(){}).s(function(){}):Ce()}function Rh(t){return Mh(t).then(function(t){var e=kh(Oh(t,!1));return e.getAll?Nh(e.getAll()):new we(function(t,i){var n=[],r=e.openCursor();r.onsuccess=function(e){(e=e.target.result)?(n.push(e.value),e.continue()):t(n)},r.onerror=function(t){i(t.target.error)}})}).then(function(e){var i={},n=[];if(0==t.b){for(n=0;n<e.length;n++)i[e[n].fbase_key]=e[n].value;n=function t(e,i){var n,r=[];for(n in e)n in i?typeof e[n]!=typeof i[n]?r.push(n):"object"==typeof e[n]&&null!=e[n]&&null!=i[n]?0<t(e[n],i[n]).length&&r.push(n):e[n]!==i[n]&&r.push(n):r.push(n);for(n in i)n in e||r.push(n);return r}(t.c,i),t.c=i}return n})}function Lh(t){t.i&&t.i.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Dh(t){var e=this,i=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Ce().then(function(){if(Ph()){var t=Dn(),n="__sak"+t;return bh||(bh=new Ih),(i=bh).set(n,t).then(function(){return i.get(n)}).then(function(e){if(e!==t)throw Error("indexedDB not supported!");return i.T(n)}).then(function(){return i}).s(function(){return e.c})}return e.c}).then(function(t){return e.type=t.type,t.ca(function(t){j(e.a,function(e){e(t)})}),t})}function Bh(){this.a={},this.type="inMemory"}function Uh(){if(!function(){var t="Node"==bn();if(!(t=Xh()||t&&n.INTERNAL.node&&n.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==bn())throw new E("internal-error","The LocalStorage compatibility library was not found.");throw new E("web-storage-unsupported")}this.a=Xh()||n.INTERNAL.node.localStorage,this.type="localStorage"}function Xh(){try{var t=u.localStorage,e=Dn();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function Vh(){this.type="nullStorage"}function zh(){if(!function(){var t="Node"==bn();if(!(t=Yh()||t&&n.INTERNAL.node&&n.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==bn())throw new E("internal-error","The SessionStorage compatibility library was not found.");throw new E("web-storage-unsupported")}this.a=Yh()||n.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Yh(){try{var t=u.sessionStorage,e=Dn();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function jh(){var t={};t.Browser=Hh,t.Node=qh,t.ReactNative=Kh,t.Worker=Jh,this.a=t[bn()]}xh.prototype.c=function(t){var e=t.data.eventType,i=t.data.eventId,n=this.a[e];if(n&&0<n.length){t.ports[0].postMessage({status:"ack",eventId:i,eventType:e,response:null});var r=[];j(n,function(e){r.push(Ce().then(function(){return e(t.origin,t.data.data)}))}),ke(r).then(function(n){var r=[];j(n,function(t){r.push({fulfilled:t.Ob,value:t.value,reason:t.reason?t.reason.message:void 0})}),j(r,function(t){for(var e in t)void 0===t[e]&&delete t[e]}),t.ports[0].postMessage({status:"done",eventId:i,eventType:e,response:r})})}},Sh.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},_h.prototype.close=function(){for(;0<this.a.length;)Eh(this,this.a[0]);this.b=!0},(e=Ih.prototype).set=function(t,e){var i,n=!1,r=this;return Mh(this).then(function(e){return Nh((e=kh(Oh(i=e,!0))).get(t))}).then(function(s){var o=kh(Oh(i,!0));return s?(s.value=e,Nh(o.put(s))):(r.b++,n=!0,(s={}).fbase_key=t,s.value=e,Nh(o.add(s)))}).then(function(){return r.c[t]=e,Fh(r,t)}).na(function(){n&&r.b--})},e.get=function(t){return Mh(this).then(function(e){return Nh(kh(Oh(e,!1)).get(t))}).then(function(t){return t&&t.value})},e.T=function(t){var e=!1,i=this;return Mh(this).then(function(n){return e=!0,i.b++,Nh(kh(Oh(n,!0)).delete(t))}).then(function(){return delete i.c[t],Fh(i,t)}).na(function(){e&&i.b--})},e.ca=function(t){0==this.a.length&&function(t){Lh(t),function e(){t.f=setTimeout(function(){t.i=Rh(t).then(function(e){0<e.length&&j(t.a,function(t){t(e)})}).then(function(){e()}).s(function(t){"STOP_EVENT"!=t.message&&e()})},800)}()}(this),this.a.push(t)},e.ia=function(t){J(this.a,function(e){return e==t}),0==this.a.length&&Lh(this)},(e=Dh.prototype).get=function(t){return this.b.then(function(e){return e.get(t)})},e.set=function(t,e){return this.b.then(function(i){return i.set(t,e)})},e.T=function(t){return this.b.then(function(e){return e.T(t)})},e.ca=function(t){this.a.push(t)},e.ia=function(t){J(this.a,function(e){return e==t})},(e=Bh.prototype).get=function(t){return Ce(this.a[t])},e.set=function(t,e){return this.a[t]=e,Ce()},e.T=function(t){return delete this.a[t],Ce()},e.ca=function(){},e.ia=function(){},(e=Uh.prototype).get=function(t){var e=this;return Ce().then(function(){return Ln(e.a.getItem(t))})},e.set=function(t,e){var i=this;return Ce().then(function(){var n=Fn(e);null===n?i.T(t):i.a.setItem(t,n)})},e.T=function(t){var e=this;return Ce().then(function(){e.a.removeItem(t)})},e.ca=function(t){u.window&&hi(u.window,"storage",t)},e.ia=function(t){u.window&&li(u.window,"storage",t)},(e=Vh.prototype).get=function(){return Ce(null)},e.set=function(){return Ce()},e.T=function(){return Ce()},e.ca=function(){},e.ia=function(){},(e=zh.prototype).get=function(t){var e=this;return Ce().then(function(){return Ln(e.a.getItem(t))})},e.set=function(t,e){var i=this;return Ce().then(function(){var n=Fn(e);null===n?i.T(t):i.a.setItem(t,n)})},e.T=function(t){var e=this;return Ce().then(function(){e.a.removeItem(t)})},e.ca=function(){},e.ia=function(){};var Gh,Wh,Hh={D:Uh,ab:zh},qh={D:Uh,ab:zh},Kh={D:mh,ab:Vh},Jh={D:Uh,ab:Vh},Qh={qd:"local",NONE:"none",sd:"session"};function Zh(){var t=!(Bn(In())||!mn()),e=Nn(),i=Mn();this.v=t,this.h=e,this.l=i,this.a={},Gh||(Gh=new jh),t=Gh;try{this.g=!hn()&&jn()||!u.indexedDB?new t.a.D:new Dh(xn()?new Bh:new t.a.D)}catch(t){this.g=new Bh,this.h=!0}try{this.i=new t.a.ab}catch(t){this.i=new Bh}this.m=new Bh,this.f=T(this.Xb,this),this.b={}}function $h(){return Wh||(Wh=new Zh),Wh}function tu(t,e){switch(e){case"session":return t.i;case"none":return t.m;default:return t.g}}function eu(t,e){return"firebase:"+t.name+(e?":"+e:"")}function iu(t,e,i){return i=eu(e,i),"local"==e.D&&(t.b[i]=null),tu(t,e.D).T(i)}function nu(t){t.c&&(clearInterval(t.c),t.c=null)}function ru(t){this.a=t,this.b=$h()}(e=Zh.prototype).get=function(t,e){return tu(this,t.D).get(eu(t,e))},e.set=function(t,e,i){var n=eu(t,i),r=this,s=tu(this,t.D);return s.set(n,e).then(function(){return s.get(n)}).then(function(e){"local"==t.D&&(r.b[n]=e)})},e.addListener=function(t,e,i){t=eu(t,e),this.l&&(this.b[t]=u.localStorage.getItem(t)),pt(this.a)&&(tu(this,"local").ca(this.f),this.h||(hn()||!jn())&&u.indexedDB||!this.l||function(t){nu(t),t.c=setInterval(function(){for(var e in t.a){var i=u.localStorage.getItem(e),n=t.b[e];i!=n&&(t.b[e]=i,i=new Qe({type:"storage",key:e,target:window,oldValue:n,newValue:i,a:!0}),t.Xb(i))}},1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(i)},e.removeListener=function(t,e,i){t=eu(t,e),this.a[t]&&(J(this.a[t],function(t){return t==i}),0==this.a[t].length&&delete this.a[t]),pt(this.a)&&(tu(this,"local").ia(this.f),nu(this))},e.Xb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var i in this.a){var n=this.b[i];void 0===n&&(n=null);var r=u.localStorage.getItem(i);r!==n&&(this.b[i]=r,this.lb(i))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?tu(this,"local").ia(this.f):nu(this),this.v)if(i=u.localStorage.getItem(e),(n=t.a.newValue)!==i)null!==n?u.localStorage.setItem(e,n):u.localStorage.removeItem(e);else if(this.b[e]===n&&void 0===t.a.a)return;var s=this;i=function(){void 0===t.a.a&&s.b[e]===u.localStorage.getItem(e)||(s.b[e]=u.localStorage.getItem(e),s.lb(e))},qt&&ne&&10==ne&&u.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(i,10):i()}}else j(t,T(this.lb,this))},e.lb=function(t){this.a[t]&&j(this.a[t],function(t){t()})};var su,ou={name:"authEvent",D:"local"};function au(){this.a=$h()}function hu(t,e){this.b=uu,this.f=u.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=u.Int32Array?new Int32Array(64):Array(64),void 0===su&&(su=u.Int32Array?new Int32Array(vu):vu),this.reset()}A(hu,function(){this.b=-1});for(var uu=64,cu=uu-1,lu=[],fu=0;fu<cu;fu++)lu[fu]=0;var du=Q(128,lu);function pu(t){for(var e=t.f,i=t.l,n=0,r=0;r<e.length;)i[n++]=e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3],r=4*n;for(e=16;64>e;e++){r=0|i[e-15],n=0|i[e-2];var s=(0|i[e-16])+((r>>>7|r<<25)^(r>>>18|r<<14)^r>>>3)|0,o=(0|i[e-7])+((n>>>17|n<<15)^(n>>>19|n<<13)^n>>>10)|0;i[e]=s+o|0}n=0|t.a[0],r=0|t.a[1];var a=0|t.a[2],h=0|t.a[3],u=0|t.a[4],c=0|t.a[5],l=0|t.a[6];for(s=0|t.a[7],e=0;64>e;e++){var f=((n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10))+(n&r^n&a^r&a)|0;o=(s=s+((u>>>6|u<<26)^(u>>>11|u<<21)^(u>>>25|u<<7))|0)+((o=(o=u&c^~u&l)+(0|su[e])|0)+(0|i[e])|0)|0,s=l,l=c,c=u,u=h+o|0,h=a,a=r,r=n,n=o+f|0}t.a[0]=t.a[0]+n|0,t.a[1]=t.a[1]+r|0,t.a[2]=t.a[2]+a|0,t.a[3]=t.a[3]+h|0,t.a[4]=t.a[4]+u|0,t.a[5]=t.a[5]+c|0,t.a[6]=t.a[6]+l|0,t.a[7]=t.a[7]+s|0}function gu(t,e,i){void 0===i&&(i=e.length);var n=0,r=t.c;if("string"==typeof e)for(;n<i;)t.f[r++]=e.charCodeAt(n++),r==t.b&&(pu(t),r=0);else{if(!p(e))throw Error("message must be string or array");for(;n<i;){var s=e[n++];if(!("number"==typeof s&&0<=s&&255>=s&&s==(0|s)))throw Error("message must be a byte array");t.f[r++]=s,r==t.b&&(pu(t),r=0)}}t.c=r,t.g+=i}hu.prototype.reset=function(){this.g=this.c=0,this.a=u.Int32Array?new Int32Array(this.h):Z(this.h)};var vu=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function yu(){hu.call(this,8,mu)}A(yu,hu);var mu=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function xu(t,e,i,n,r,s){this.m=t,this.i=e,this.l=i,this.v=n||null,this.u=r||null,this.o=s,this.h=e+":"+i,this.A=new au,this.g=new ru(this.h),this.f=null,this.b=[],this.a=this.c=null}function bu(t){return new E("invalid-cordova-configuration",t)}function wu(t){var e=new yu;gu(e,t),t=[];var i=8*e.g;56>e.c?gu(e,du,56-e.c):gu(e,du,e.b-(e.c-56));for(var n=63;56<=n;n--)e.f[n]=255&i,i/=256;for(pu(e),n=i=0;n<e.i;n++)for(var r=24;0<=r;r-=8)t[i++]=e.a[n]>>r&255;return function(t){return W(t,function(t){return 1<(t=t.toString(16)).length?t:"0"+t}).join("")}(t)}function Tu(t,e){for(var i=0;i<t.b.length;i++)try{t.b[i](e)}catch(t){}}function Su(t){return t.f||(t.f=t.la().then(function(){return new we(function(e){t.Ea(function i(n){return e(n),t.Ra(i),!1}),function(t){function e(e){n=!0,r&&r.cancel(),_u(t).then(function(n){var r=i;if(n&&e&&e.url){var s=null;-1!=(r=rs(e.url)).indexOf("/__/auth/callback")&&(s=(s="object"==typeof(s=Ln(Di(s=Bi(r),"firebaseError")||null))?I(s):null)?new Us(n.c,n.b,null,null,s,null,n.S()):new Us(n.c,n.b,r,n.f,null,null,n.S())),r=s||i}Tu(t,r)})}var i=new Us("unknown",null,null,null,new E("no-auth-event")),n=!1,r=Ai(500).then(function(){return _u(t).then(function(){n||Tu(t,i)})}),s=u.handleOpenURL;u.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(Cn("BuildInfo.packageName",u).toLowerCase()+"://")&&e({url:t}),"function"==typeof s)try{s(t)}catch(t){console.error(t)}},Ys||(Ys=new Vs),function(t){var e=Ys;e.a.push(t),e.b||(e.b=function(t){for(var i=0;i<e.a.length;i++)e.a[i](t)},"function"==typeof(t=Cn("universalLinks.subscribe",u))&&t(null,e.b))}(e)}(t)})})),t.f}function _u(t){var e=null;return function(t){return t.b.get(ou,t.a).then(function(t){return Xs(t)})}(t.g).then(function(i){return e=i,iu((i=t.g).b,ou,i.a)}).then(function(){return e})}function Au(t){this.a=t,this.b=$h()}(e=xu.prototype).la=function(){return this.Ia?this.Ia:this.Ia=(yn(void 0)?vn().then(function(){return new we(function(t,e){var i=u.document,n=setTimeout(function(){e(Error("Cordova framework is not ready."))},1e3);i.addEventListener("deviceready",function(){clearTimeout(n),t()},!1)})}):Me(Error("Cordova must run in an Android or iOS file scheme."))).then(function(){if("function"!=typeof Cn("universalLinks.subscribe",u))throw bu("cordova-universal-links-plugin-fix is not installed");if(void 0===Cn("BuildInfo.packageName",u))throw bu("cordova-plugin-buildinfo is not installed");if("function"!=typeof Cn("cordova.plugins.browsertab.openUrl",u))throw bu("cordova-plugin-browsertab is not installed");if("function"!=typeof Cn("cordova.InAppBrowser.open",u))throw bu("cordova-plugin-inappbrowser is not installed")},function(){throw new E("cordova-not-ready")})},e.Nb=function(t,e){return e(new E("operation-not-supported-in-this-environment")),Ce()},e.Lb=function(){return Me(new E("operation-not-supported-in-this-environment"))},e.Zb=function(){return!1},e.Wb=function(){return!0},e.Sb=function(){return!0},e.Mb=function(t,e,i,n){if(this.c)return Me(new E("redirect-operation-pending"));var r=this,s=u.document,o=null,a=null,h=null,c=null;return this.c=Ce().then(function(){return Bs(e),Su(r)}).then(function(){return function(t,e,i,n,r){var s=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),o=new Us(e,n,null,s,new E("no-auth-event"),null,r),a=Cn("BuildInfo.packageName",u);if("string"!=typeof a)throw new E("invalid-cordova-configuration");var h=Cn("BuildInfo.displayName",u),c={};if(In().toLowerCase().match(/iphone|ipad|ipod/))c.ibi=a;else{if(!In().toLowerCase().match(/android/))return Me(new E("operation-not-supported-in-this-environment"));c.apn=a}h&&(c.appDisplayName=h),s=wu(s),c.sessionId=s;var l=yh(t.m,t.i,t.l,e,i,null,n,t.v,c,t.u,r,t.o);return t.la().then(function(){var e=t.h;return t.A.a.set(ou,o.w(),e)}).then(function(){var e=Cn("cordova.plugins.browsertab.isAvailable",u);if("function"!=typeof e)throw new E("invalid-cordova-configuration");var i=null;e(function(e){if(e){if("function"!=typeof(i=Cn("cordova.plugins.browsertab.openUrl",u)))throw new E("invalid-cordova-configuration");i(l)}else{if("function"!=typeof(i=Cn("cordova.InAppBrowser.open",u)))throw new E("invalid-cordova-configuration");e=In(),t.a=i(l,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}(r,t,e,i,n)}).then(function(){return new we(function(t,e){a=function(){var e=Cn("cordova.plugins.browsertab.close",u);return t(),"function"==typeof e&&e(),r.a&&"function"==typeof r.a.close&&(r.a.close(),r.a=null),!1},r.Ea(a),h=function(){o||(o=Ai(2e3).then(function(){e(new E("redirect-cancelled-by-user"))}))},c=function(){Vn()&&h()},s.addEventListener("resume",h,!1),In().toLowerCase().match(/android/)||s.addEventListener("visibilitychange",c,!1)}).s(function(t){return _u(r).then(function(){throw t})})}).na(function(){h&&s.removeEventListener("resume",h,!1),c&&s.removeEventListener("visibilitychange",c,!1),o&&o.cancel(),a&&r.Ra(a),r.c=null})},e.Ea=function(t){this.b.push(t),Su(this).s(function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Us("unknown",null,null,null,new E("no-auth-event")),t(e))})},e.Ra=function(t){J(this.b,function(e){return e==t})};var Eu={name:"pendingRedirect",D:"session"};function Iu(t){return iu(t.b,Eu,t.a)}function Cu(t,e,i,n){this.i={},this.u=0,this.O=t,this.m=e,this.v=i,this.G=n,this.h=[],this.f=!1,this.l=T(this.o,this),this.b=new Yu,this.A=new qu,this.g=new Au(Vu(this.m,this.v)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.A,this.c.linkViaPopup=this.A,this.c.reauthViaPopup=this.A,this.a=Mu(this.O,this.m,this.v,C,this.G)}function Mu(t,e,i,r,s){var o=n.SDK_VERSION||null;return yn()?new xu(t,e,i,o,r,s):new dh(t,e,i,o,r,s)}function Pu(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.la().s(function(i){throw t.a==e&&t.reset(),i})}function ku(t){t.a.Wb()&&Pu(t).s(function(e){var i=new Us("unknown",null,null,null,new E("operation-not-supported-in-this-environment"));Du(e)&&t.o(i)}),t.a.Sb()||ju(t.b)}function Ou(t,e){q(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(Eu,t.a).then(function(t){return"pending"==t})}(t.g).then(function(e){e?Iu(t.g).then(function(){Pu(t).s(function(e){var i=new Us("unknown",null,null,null,new E("operation-not-supported-in-this-environment"));Du(e)&&t.o(i)})}):ku(t)}).s(function(){ku(t)})}function Nu(t,e){J(t.h,function(t){return t==e})}Cu.prototype.reset=function(){this.f=!1,this.a.Ra(this.l),this.a=Mu(this.O,this.m,this.v,null,this.G),this.i={}},Cu.prototype.o=function(t){if(!t)throw new E("invalid-auth-event");if(6e5<=_()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,i=0;i<this.h.length;i++){var n=this.h[i];if(n.Eb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,n),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=_())),e=!0;break}}return ju(this.b),e};var Fu=new Xn(2e3,1e4),Ru=new Xn(3e4,6e4);function Lu(t,e,i,n,r,s,o){return t.a.Lb(e,i,n,function(){t.f||(t.f=!0,t.a.Ea(t.l))},function(){t.reset()},r,s,o)}function Du(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Bu(t,e,i,n,r){var s;return function(t){return t.b.set(Eu,"pending",t.a)}(t.g).then(function(){return t.a.Mb(e,i,n,r).s(function(e){if(Du(e))throw new E("operation-not-supported-in-this-environment");return s=e,Iu(t.g).then(function(){throw s})}).then(function(){return t.a.Zb()?new we(function(){}):Iu(t.g).then(function(){return t.qa()}).then(function(){}).s(function(){})})})}function Uu(t,e,i,n,r){return t.a.Nb(n,function(t){e.ma(i,null,t,r)},Fu.get())}Cu.prototype.qa=function(){return this.b.qa()};var Xu={};function Vu(t,e,i){return t=t+":"+e,i&&(t=t+":"+i.url),t}function zu(t,e,i,n){var r=Vu(e,i,n);return Xu[r]||(Xu[r]=new Cu(t,e,i,n)),Xu[r]}function Yu(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function ju(t){t.g||(t.g=!0,Hu(t,!1,null,null))}function Gu(t){t.g&&!t.i&&Hu(t,!1,null,null)}function Wu(t,e){if(t.b=function(){return Ce(e)},t.f.length)for(var i=0;i<t.f.length;i++)t.f[i](e)}function Hu(t,e,i,n){e?n?function(t,e){if(t.b=function(){return Me(e)},t.c.length)for(var i=0;i<t.c.length;i++)t.c[i](e)}(t,n):Wu(t,i):Wu(t,{user:null}),t.f=[],t.c=[]}function qu(){}function Ku(){this.hb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.hb},set:function(t){this.hb=t},enumerable:!1})}function Ju(t,e){this.a=e,Kn(this,"verificationId",t)}function Qu(t,e,i,n){return new Rs(t).eb(e,i).then(function(t){return new Ju(t,n)})}function Zu(t){var e=jr(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new E("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Jn(this,{token:t,expirationTime:Yn(1e3*e.exp),authTime:Yn(1e3*e.auth_time),issuedAtTime:Yn(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function $u(t,e,i){var n=e&&e[ec];if(!n)throw new E("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=gt(e),this.g=i,this.c=new ss(null,n),this.b=[];var r=this;j(e[tc]||[],function(t){(t=tr(t))&&r.b.push(t)}),Kn(this,"auth",this.a),Kn(this,"session",this.c),Kn(this,"hints",this.b)}Yu.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Yu.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var i=t.c,n=t.b,r=t.a&&"auth/web-storage-unsupported"==t.a.code,s=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!r&&!s),"unknown"!=i||r||s?t.a?(Hu(this,!0,null,t.a),Ce()):e.Fa(i,n)?function(t,e,i){i=i.Fa(e.c,e.b);var n=e.g,r=e.f,s=e.i,o=e.S(),a=!!e.c.match(/Redirect$/);i(n,r,o,s).then(function(e){Hu(t,a,e,null)}).s(function(e){Hu(t,a,null,e)})}(this,t,e):Me(new E("invalid-auth-event")):(Hu(this,!1,null,null),Ce())}else Me(new E("invalid-auth-event"))},Yu.prototype.qa=function(){var t=this;return new we(function(e,i){t.b?t.b().then(e,i):(t.f.push(e),t.c.push(i),function(t){var e=new E("timeout");t.a&&t.a.cancel(),t.a=Ai(Ru.get()).then(function(){t.b||(t.g=!0,Hu(t,!0,null,e))})}(t))})},qu.prototype.h=function(t,e){if(t){var i=t.c,n=t.b;t.a?(e.ma(t.c,null,t.a,t.b),Ce()):e.Fa(i,n)?function(t,e){var i=t.b,n=t.c;e.Fa(n,i)(t.g,t.f,t.S(),t.i).then(function(t){e.ma(n,t,null,i)}).s(function(t){e.ma(n,null,t,i)})}(t,e):Me(new E("invalid-auth-event"))}else Me(new E("invalid-auth-event"))},Ju.prototype.confirm=function(t){return t=Ls(this.verificationId,t),this.a(t)};var tc="mfaInfo",ec="mfaPendingCredential";function ic(t,e,i,n){E.call(this,"multi-factor-auth-required",n,e),this.b=new $u(t,e,i),Kn(this,"resolver",this.b)}function nc(t,e,i){if(t&&v(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new ic(e,t.serverResponse,i,t.message)}catch(t){}return null}function rc(){}function sc(t){Kn(this,"factorId",t.fa),this.a=t}function oc(t){if(sc.call(this,t),this.a.fa!=Rs.PROVIDER_ID)throw new E("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function ac(t,e){for(var i in Je.call(this,t),e)this[i]=e[i]}function hc(t,e){this.a=t,this.b=[],this.c=T(this.xc,this),hi(this.a,"userReloaded",this.c);var i=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&j(e.multiFactor.enrolledFactors,function(t){var e=null,n={};if(t){t.uid&&(n[nr]=t.uid),t.displayName&&(n[er]=t.displayName),t.enrollmentTime&&(n[ir]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(n[rr]=t.phoneNumber);try{e=new sr(n)}catch(t){}t=e}else t=null;t&&i.push(t)}),uc(this,i)}function uc(t,e){t.b=e,Kn(t,"enrolledFactors",e)}function cc(t,e,i){if(this.h=t,this.i=e,this.g=i,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function lc(t){this.c=t,this.b=this.a=null}function fc(t){return t.b&&1e3*t.b.c||0}function dc(t,e){var i=e.refreshToken;t.b=Yr(e[Qo]||""),t.a=i}function pc(t,e){return function(t,e){return new we(function(i,n){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?oa(t,t.l+"?key="+encodeURIComponent(t.c),function(t){t?t.error?n(rh(t)):t.access_token&&t.refresh_token?i(t):n(new E("internal-error")):n(new E("network-request-failed"))},"POST",Ji(e).toString(),t.g,t.v.get()):n(new E("internal-error"))})}(t.c,e).then(function(e){return t.b=Yr(e.access_token),t.a=e.refresh_token,{accessToken:t.b.toString(),refreshToken:t.a}}).s(function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e})}function gc(t,e){this.a=t||null,this.b=e||null,Jn(this,{lastSignInTime:Yn(e||null),creationTime:Yn(t||null)})}function vc(t,e,i,n,r,s){Jn(this,{uid:t,displayName:n||null,photoURL:r||null,email:i||null,phoneNumber:s||null,providerId:e})}function yc(t,e,i){this.G=[],this.l=t.apiKey,this.m=t.appName,this.o=t.authDomain||null;var r=n.SDK_VERSION?En(n.SDK_VERSION):null;this.a=new Ko(this.l,O(C),r),t.emulatorConfig&&na(this.a,t.emulatorConfig),this.b=new lc(this.a),Ac(this,e[Qo]),dc(this.b,e),Kn(this,"refreshToken",this.b.a),Cc(this,i||{}),bi.call(this),this.P=!1,this.o&&Pn()&&(this.i=zu(this.o,this.l,this.m)),this.R=[],this.f=null,this.u=function(t){return new cc(function(){return t.I(!0)},function(t){return!(!t||"auth/network-request-failed"!=t.code)},function(){var e=fc(t.b)-_()-3e5;return 0<e?e:0})}(this),this.$=T(this.gb,this);var s=this;this.pa=null,this.Ba=function(t){s.wa(t.h)},this.ba=null,this.za=function(t){na(s.a,t.c)},this.W=null,this.X=[],this.Aa=function(t){bc(s,t.f)},this.aa=null,this.N=new hc(this,i),Kn(this,"multiFactor",this.N)}function mc(t,e){t.ba&&li(t.ba,"languageCodeChanged",t.Ba),(t.ba=e)&&hi(e,"languageCodeChanged",t.Ba)}function xc(t,e){t.W&&li(t.W,"emulatorConfigChanged",t.za),(t.W=e)&&hi(e,"emulatorConfigChanged",t.za)}function bc(t,e){t.X=e,sa(t.a,n.SDK_VERSION?En(n.SDK_VERSION,t.X):null)}function wc(t,e){t.aa&&li(t.aa,"frameworkChanged",t.Aa),(t.aa=e)&&hi(e,"frameworkChanged",t.Aa)}function Tc(t){try{return n.app(t.m).auth()}catch(e){throw new E("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function Sc(t){t.A||t.u.b||(t.u.start(),li(t,"tokenChanged",t.$),hi(t,"tokenChanged",t.$))}function _c(t){li(t,"tokenChanged",t.$),t.u.stop()}function Ac(t,e){t.ya=e,Kn(t,"_lat",e)}function Ec(t){for(var e=[],i=0;i<t.R.length;i++)e.push(t.R[i](t));return ke(e).then(function(){return t})}function Ic(t){t.i&&!t.P&&(t.P=!0,Ou(t.i,t))}function Cc(t,e){Jn(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new gc(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function Mc(){}function Pc(t){return Ce().then(function(){if(t.A)throw new E("app-deleted")})}function kc(t){return W(t.providerData,function(t){return t.providerId})}function Oc(t,e){e&&(Nc(t,e.providerId),t.providerData.push(e))}function Nc(t,e){J(t.providerData,function(t){return t.providerId==e})}function Fc(t,e,i){("uid"!=e||i)&&t.hasOwnProperty(e)&&Kn(t,e,i)}function Rc(t,e){t!=e&&(Jn(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),e.metadata?Kn(t,"metadata",function(t){return new gc(t.a,t.b)}(e.metadata)):Kn(t,"metadata",new gc),j(e.providerData,function(e){Oc(t,e)}),function(t,e){t.b=e.b,t.a=e.a}(t.b,e.b),Kn(t,"refreshToken",t.b.a),uc(t.N,e.N.b))}function Lc(t){return t.I().then(function(e){var i=t.isAnonymous;return function(t,e){return ih(t.a,Na,{idToken:e}).then(T(t.Jc,t))}(t,e).then(function(){return i||Fc(t,"isAnonymous",!1),e})})}function Dc(t,e){e[Qo]&&t.ya!=e[Qo]&&(dc(t.b,e),t.dispatchEvent(new ac("tokenChanged")),Ac(t,e[Qo]),Fc(t,"refreshToken",t.b.a))}function Bc(t,e){return Lc(t).then(function(){if(q(kc(t),e))return Ec(t).then(function(){throw new E("provider-already-linked")})})}function Uc(t,e,i){return Qn({user:t,credential:Ds(e),additionalUserInfo:e=Kr(e),operationType:i})}function Xc(t,e){return Dc(t,e),t.reload().then(function(){return t})}function Vc(t,e,i,r,s){if(!Pn())return Me(new E("operation-not-supported-in-this-environment"));if(t.f&&!s)return Me(t.f);var o=qr(i.providerId),a=Dn(t.uid+":::"),h=null;(!Nn()||mn())&&t.o&&i.isOAuthProvider&&(h=yh(t.o,t.l,t.m,e,i,null,a,n.SDK_VERSION||null,null,null,t.tenantId));var u=dn(h,o&&o.ua,o&&o.ta);return r=r().then(function(){if(Yc(t),!s)return t.I().then(function(){})}).then(function(){return Lu(t.i,u,e,i,a,!!h,t.tenantId)}).then(function(){return new we(function(i,n){t.ma(e,null,new E("cancelled-popup-request"),t.h||null),t.g=i,t.O=n,t.h=a,t.c=Uu(t.i,t,e,u,a)})}).then(function(t){return u&&fn(u),t?Qn(t):null}).s(function(t){throw u&&fn(u),t}),jc(t,r,s)}function zc(t,e,i,n,r){if(!Pn())return Me(new E("operation-not-supported-in-this-environment"));if(t.f&&!r)return Me(t.f);var s=null,o=Dn(t.uid+":::");return n=n().then(function(){if(Yc(t),!r)return t.I().then(function(){})}).then(function(){return t.ga=o,Ec(t)}).then(function(e){return t.ha&&(e=(e=t.ha).b.set(Hc,t.w(),e.a)),e}).then(function(){return Bu(t.i,e,i,o,t.tenantId)}).s(function(e){if(s=e,t.ha)return qc(t.ha);throw s}).then(function(){if(s)throw s}),jc(t,n,r)}function Yc(t){if(!t.i||!t.P){if(t.i&&!t.P)throw new E("internal-error");throw new E("auth-domain-config-required")}}function jc(t,e,i){var n=function(t,e,i){return t.f&&!i?(e.cancel(),Me(t.f)):e.s(function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.f||t.dispatchEvent(new ac("userInvalidated")),t.f=e),e})}(t,e,i);return t.G.push(n),n.na(function(){K(t.G,n)}),n.s(function(e){var i=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(i=nc(e.w(),Tc(t),T(t.ic,t))),i||e})}function Gc(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},i={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;i[Qo]=t.stsTokenManager.accessToken,i.refreshToken=t.stsTokenManager.refreshToken||null;var n=new yc(e,i,t);return t.providerData&&j(t.providerData,function(t){t&&Oc(n,Qn(t))}),t.redirectEventId&&(n.ga=t.redirectEventId),n}function Wc(t){this.a=t,this.b=$h()}$u.prototype.Qc=function(t){var e=this;return t.rb(this.a.a,this.c).then(function(t){var i=gt(e.f);return delete i[tc],delete i[ec],yt(i,t),e.g(i)})},A(ic,E),rc.prototype.rb=function(t,e,i){return e.type==os?function(t,e,i,n){return i.Ha().then(function(i){return i={idToken:i},void 0!==n&&(i.displayName=n),yt(i,{phoneVerificationInfo:Fs(t.a)}),ih(e,ka,i)})}(this,t,e,i):function(t,e,i){return i.Ha().then(function(i){return yt(i={mfaPendingCredential:i},{phoneVerificationInfo:Fs(t.a)}),ih(e,Oa,i)})}(this,t,e)},A(sc,rc),A(oc,sc),A(ac,Je),(e=hc.prototype).xc=function(t){uc(this,function(t){var e=[];return j(t.mfaInfo||[],function(t){(t=tr(t))&&e.push(t)}),e}(t.gd))},e.Qb=function(){return this.a.I().then(function(t){return new ss(t,null)})},e.ec=function(t,e){var i=this,n=this.a.a;return this.Qb().then(function(i){return t.rb(n,i,e)}).then(function(t){return Dc(i.a,t),i.a.reload()})},e.ad=function(t){var e=this,i="string"==typeof t?t:t.uid,n=this.a.a;return this.a.I().then(function(t){return ih(n,eh,{idToken:t,mfaEnrollmentId:i})}).then(function(t){var n=G(e.b,function(t){return t.uid!=i});return uc(e,n),Dc(e.a,t),e.a.reload().s(function(t){if("auth/user-token-expired"!=t.code)throw t})})},e.w=function(){return{multiFactor:{enrolledFactors:W(this.b,function(t){return t.w()})}}},cc.prototype.start=function(){this.a=this.c,function t(e,i){e.stop();e.b=Ai(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(e,i)).then(function(){return t=u.document,e=null,Vn()||!t?Ce():new we(function(i){e=function(){Vn()&&(t.removeEventListener("visibilitychange",e,!1),i())},t.addEventListener("visibilitychange",e,!1)}).s(function(i){throw t.removeEventListener("visibilitychange",e,!1),i});var t,e}).then(function(){return e.h()}).then(function(){t(e,!0)}).s(function(i){e.i(i)&&t(e,!1)})}(this,!0)},cc.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},lc.prototype.w=function(){return{apiKey:this.c.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:fc(this)}},lc.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Me(new E("user-token-expired")):t||!this.b||_()>fc(this)-3e4?this.a?pc(this,{grant_type:"refresh_token",refresh_token:this.a}):Ce(null):Ce({accessToken:this.b.toString(),refreshToken:this.a})},gc.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},A(yc,bi),yc.prototype.wa=function(t){this.pa=t,ia(this.a,t)},yc.prototype.ka=function(){return this.pa},yc.prototype.Ga=function(){return Z(this.X)},yc.prototype.gb=function(){this.u.b&&(this.u.stop(),this.u.start())},Kn(yc.prototype,"providerId","firebase"),(e=yc.prototype).reload=function(){var t=this;return jc(this,Pc(this).then(function(){return Lc(t).then(function(){return Ec(t)}).then(Mc)}))},e.nc=function(t){return this.I(t).then(function(t){return new Zu(t)})},e.I=function(t){var e=this;return jc(this,Pc(this).then(function(){return e.b.getToken(t)}).then(function(t){if(!t)throw new E("internal-error");return t.accessToken!=e.ya&&(Ac(e,t.accessToken),e.dispatchEvent(new ac("tokenChanged"))),Fc(e,"refreshToken",t.refreshToken),t.accessToken}))},e.Jc=function(t){if(!(t=t.users)||!t.length)throw new E("internal-error");Cc(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?W(t,function(t){return new vc(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)}):[]}(t),i=0;i<e.length;i++)Oc(this,e[i]);Fc(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new ac("userReloaded",{gd:t}))},e.Kc=function(t){return Hn("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.sb(t)},e.sb=function(t){var e=this,i=null;return jc(this,t.c(this.a,this.uid).then(function(t){return Dc(e,t),i=Uc(e,t,"reauthenticate"),e.f=null,e.reload()}).then(function(){return i}),!0)},e.Bc=function(t){return Hn("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.pb(t)},e.pb=function(t){var e=this,i=null;return jc(this,Bc(this,t.providerId).then(function(){return e.I()}).then(function(i){return t.b(e.a,i)}).then(function(t){return i=Uc(e,t,"link"),Xc(e,t)}).then(function(){return i}))},e.Cc=function(t,e){var i=this;return jc(this,Bc(this,"phone").then(function(){return Qu(Tc(i),t,e,T(i.pb,i))}))},e.Lc=function(t,e){var i=this;return jc(this,Ce().then(function(){return Qu(Tc(i),t,e,T(i.sb,i))}),!0)},e.Ab=function(t){var e=this;return jc(this,this.I().then(function(i){return e.a.Ab(i,t)}).then(function(t){return Dc(e,t),e.reload()}))},e.dd=function(t){var e=this;return jc(this,this.I().then(function(i){return t.b(e.a,i)}).then(function(t){return Dc(e,t),e.reload()}))},e.Bb=function(t){var e=this;return jc(this,this.I().then(function(i){return e.a.Bb(i,t)}).then(function(t){return Dc(e,t),e.reload()}))},e.Cb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return Pc(this);var e=this;return jc(this,this.I().then(function(i){return e.a.Cb(i,{displayName:t.displayName,photoUrl:t.photoURL})}).then(function(t){return Dc(e,t),Fc(e,"displayName",t.displayName||null),Fc(e,"photoURL",t.photoUrl||null),j(e.providerData,function(t){"password"===t.providerId&&(Kn(t,"displayName",e.displayName),Kn(t,"photoURL",e.photoURL))}),Ec(e)}).then(Mc))},e.bd=function(t){var e=this;return jc(this,Lc(this).then(function(i){return q(kc(e),t)?function(t,e,i){return ih(t,Ca,{idToken:e,deleteProvider:i})}(e.a,i,[t]).then(function(t){var i={};return j(t.providerUserInfo||[],function(t){i[t.providerId]=!0}),j(kc(e),function(t){i[t]||Nc(e,t)}),i[Rs.PROVIDER_ID]||Kn(e,"phoneNumber",null),Ec(e)}):Ec(e).then(function(){throw new E("no-such-provider")})}))},e.delete=function(){var t=this;return jc(this,this.I().then(function(e){return ih(t.a,Ia,{idToken:e})}).then(function(){t.dispatchEvent(new ac("userDeleted"))})).then(function(){for(var e=0;e<t.G.length;e++)t.G[e].cancel("app-deleted");mc(t,null),xc(t,null),wc(t,null),t.G=[],t.A=!0,_c(t),Kn(t,"refreshToken",null),t.i&&Nu(t.i,t)})},e.Eb=function(t,e){return!!("linkViaPopup"==t&&(this.h||null)==e&&this.g||"reauthViaPopup"==t&&(this.h||null)==e&&this.g||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},e.ma=function(t,e,i,n){"linkViaPopup"!=t&&"reauthViaPopup"!=t||n!=(this.h||null)||(i&&this.O?this.O(i):e&&!i&&this.g&&this.g(e),this.c&&(this.c.cancel(),this.c=null),delete this.g,delete this.O)},e.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.h||null)?T(this.Jb,this):"reauthViaPopup"==t&&e==(this.h||null)?T(this.Kb,this):"linkViaRedirect"==t&&(this.ga||null)==e?T(this.Jb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?T(this.Kb,this):null},e.Dc=function(t){var e=this;return Vc(this,"linkViaPopup",t,function(){return Bc(e,t.providerId).then(function(){return Ec(e)})},!1)},e.Mc=function(t){return Vc(this,"reauthViaPopup",t,function(){return Ce()},!0)},e.Ec=function(t){var e=this;return zc(this,"linkViaRedirect",t,function(){return Bc(e,t.providerId)},!1)},e.Nc=function(t){return zc(this,"reauthViaRedirect",t,function(){return Ce()},!0)},e.Jb=function(t,e,i,n){var r=this;this.c&&(this.c.cancel(),this.c=null);var s=null;return jc(this,this.I().then(function(i){return ba(r.a,{requestUri:t,postBody:n,sessionId:e,idToken:i})}).then(function(t){return s=Uc(r,t,"link"),Xc(r,t)}).then(function(){return s}))},e.Kb=function(t,e,i,n){var r=this;this.c&&(this.c.cancel(),this.c=null);var s=null;return jc(this,Ce().then(function(){return us(wa(r.a,{requestUri:t,sessionId:e,postBody:n,tenantId:i}),r.uid)}).then(function(t){return s=Uc(r,t,"reauthenticate"),Dc(r,t),r.f=null,r.reload()}).then(function(){return s}),!0)},e.tb=function(t){var e=this,i=null;return jc(this,this.I().then(function(e){return i=e,void 0===t||pt(t)?{}:Ur(new Mr(t))}).then(function(t){return e.a.tb(i,t)}).then(function(t){if(e.email!=t)return e.reload()}).then(function(){}))},e.Db=function(t,e){var i=this,n=null;return jc(this,this.I().then(function(t){return n=t,void 0===e||pt(e)?{}:Ur(new Mr(e))}).then(function(e){return i.a.Db(n,t,e)}).then(function(t){if(i.email!=t)return i.reload()}).then(function(){}))},e.ic=function(t){var e=null,i=this;return jc(this,t=us(Ce(t),i.uid).then(function(t){return e=Uc(i,t,"reauthenticate"),Dc(i,t),i.f=null,i.reload()}).then(function(){return e}),!0)},e.toJSON=function(){return this.w()},e.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.o,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&yt(t,this.metadata.w()),j(this.providerData,function(e){t.providerData.push(function(t){var e,i={};for(e in t)t.hasOwnProperty(e)&&(i[e]=t[e]);return i}(e))}),yt(t,this.N.w()),t};var Hc={name:"redirectUser",D:"session"};function qc(t){return iu(t.b,Hc,t.a)}function Kc(t){this.a=t,this.b=$h(),this.c=null,this.f=function(t){var e=Zc("local"),i=Zc("session"),n=Zc("none");return function(t,e,i){var n=eu(e,i),r=tu(t,e.D);return t.get(e,i).then(function(s){var o=null;try{o=Ln(u.localStorage.getItem(n))}catch(t){}if(o&&!s)return u.localStorage.removeItem(n),t.set(e,o,i);o&&s&&"localStorage"!=r.type&&u.localStorage.removeItem(n)})}(t.b,e,t.a).then(function(){return t.b.get(i,t.a)}).then(function(r){return r?i:t.b.get(n,t.a).then(function(i){return i?n:t.b.get(e,t.a).then(function(i){return i?e:t.b.get(Qc,t.a).then(function(t){return t?Zc(t):e})})})}).then(function(e){return t.c=e,Jc(t,e.D)}).s(function(){t.c||(t.c=e)})}(this),this.b.addListener(Zc("local"),this.a,T(this.g,this))}function Jc(t,e){var i,n=[];for(i in Qh)Qh[i]!==e&&n.push(iu(t.b,Zc(Qh[i]),t.a));return n.push(iu(t.b,Qc,t.a)),function(t){return new we(function(e,i){var n=t.length,r=[];if(n)for(var s=function(t,i){n--,r[t]=i,0==n&&e(r)},o=function(t){i(t)},a=0;a<t.length;a++)Pe(t[a],S(s,a),o);else e(r)})}(n)}Kc.prototype.g=function(){var t=this,e=Zc("local");il(this,function(){return Ce().then(function(){return t.c&&"local"!=t.c.D?t.b.get(e,t.a):null}).then(function(i){if(i)return Jc(t,"local").then(function(){t.c=e})})})};var Qc={name:"persistence",D:"session"};function Zc(t){return{name:"authUser",D:t}}function $c(t,e){return il(t,function(){return t.b.set(t.c,e.w(),t.a)})}function tl(t){return il(t,function(){return iu(t.b,t.c,t.a)})}function el(t,e,i){return il(t,function(){return t.b.get(t.c,t.a).then(function(t){return t&&e&&(t.authDomain=e),t&&i&&(t.emulatorConfig=i),Gc(t||{})})})}function il(t,e){return t.f=t.f.then(e,e),t.f}function nl(t){if(this.m=!1,Kn(this,"settings",new Ku),Kn(this,"app",t),!fl(this).options||!fl(this).options.apiKey)throw new E("invalid-api-key");t=n.SDK_VERSION?En(n.SDK_VERSION):null,this.a=new Ko(fl(this).options&&fl(this).options.apiKey,O(C),t),this.R=[],this.u=[],this.P=[],this.ac=n.INTERNAL.createSubscribe(T(this.yc,this)),this.X=void 0,this.bc=n.INTERNAL.createSubscribe(T(this.zc,this)),cl(this,null),this.l=new Kc(fl(this).options.apiKey+":"+fl(this).name),this.G=new Wc(fl(this).options.apiKey+":"+fl(this).name),this.$=vl(this,function(t){var e=fl(t).options.authDomain,i=function(t){var e=function(t,e){return t.b.get(Hc,t.a).then(function(t){return t&&e&&(t.authDomain=e),Gc(t||{})})}(t.G,fl(t).options.authDomain).then(function(e){return(t.o=e)&&(e.ha=t.G),qc(t.G)});return vl(t,e)}(t).then(function(){return el(t.l,e,t.f)}).then(function(e){return e?(e.ha=t.G,t.o&&(t.o.ga||null)==(e.ga||null)?e:e.reload().then(function(){return $c(t.l,e).then(function(){return e})}).s(function(i){return"auth/network-request-failed"==i.code?e:tl(t.l)})):null}).then(function(e){cl(t,e||null)});return vl(t,i)}(this)),this.i=vl(this,function(t){return t.$.then(function(){return hl(t)}).s(function(){}).then(function(){if(!t.m)return t.pa()}).s(function(){}).then(function(){if(!t.m){t.ba=!0;var e=t.l;e.b.addListener(Zc("local"),e.a,t.pa)}})}(this)),this.ba=!1,this.pa=T(this.Yc,this),this.Ba=T(this.da,this),this.ya=T(this.kc,this),this.za=T(this.vc,this),this.Aa=T(this.wc,this),this.b=null,function(t){var e=fl(t).options.authDomain,i=fl(t).options.apiKey;e&&Pn()&&(t.gb=t.$.then(function(){if(!t.m){if(t.b=zu(e,i,fl(t).name,t.f),Ou(t.b,t),dl(t)&&Ic(dl(t)),t.o){Ic(t.o);var n=t.o;n.wa(t.ka()),mc(n,t),bc(n=t.o,t.N),wc(n,t),na((n=t.o).a,t.f),xc(n,t),t.o=null}return t.b}}))}(this),this.INTERNAL={},this.INTERNAL.delete=T(this.delete,this),this.INTERNAL.logFramework=T(this.Fc,this),this.A=0,bi.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.ka()},set:function(t){this.wa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.S()},set:function(t){this.xb(t)},enumerable:!1}),t.W=null}(this),this.N=[],this.f=null}function rl(t){Je.call(this,"languageCodeChanged"),this.h=t}function sl(t){Je.call(this,"emulatorConfigChanged"),this.c=t}function ol(t){Je.call(this,"frameworkChanged"),this.f=t}function al(t){return t.gb||Me(new E("auth-domain-config-required"))}function hl(t){if(!Pn())return Me(new E("operation-not-supported-in-this-environment"));var e=al(t).then(function(){return t.b.qa()}).then(function(t){return t?Qn(t):null});return vl(t,e)}function ul(t,e){var i={};return i.apiKey=fl(t).options.apiKey,i.authDomain=fl(t).options.authDomain,i.appName=fl(t).name,t.f&&(i.emulatorConfig=t.f),t.$.then(function(){return function(t,e,i,n){var r=new yc(t,e);return i&&(r.ha=i),n&&bc(r,n),r.reload().then(function(){return r})}(i,e,t.G,t.Ga())}).then(function(e){return dl(t)&&e.uid==dl(t).uid?(Rc(dl(t),e),t.da(e)):(cl(t,e),Ic(e),t.da(e))}).then(function(){gl(t)})}function cl(t,e){dl(t)&&(function(t,e){J(t.R,function(t){return t==e})}(dl(t),t.Ba),li(dl(t),"tokenChanged",t.ya),li(dl(t),"userDeleted",t.za),li(dl(t),"userInvalidated",t.Aa),_c(dl(t))),e&&(e.R.push(t.Ba),hi(e,"tokenChanged",t.ya),hi(e,"userDeleted",t.za),hi(e,"userInvalidated",t.Aa),0<t.A&&Sc(e)),Kn(t,"currentUser",e),e&&(e.wa(t.ka()),mc(e,t),bc(e,t.N),wc(e,t),na(e.a,t.f),xc(e,t))}function ll(t,e){var i=null,n=null;return vl(t,e.then(function(e){return i=Ds(e),n=Kr(e),ul(t,e)},function(e){var i=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(i=nc(e.w(),t,T(t.jc,t))),i||e}).then(function(){return Qn({user:dl(t),credential:i,additionalUserInfo:n,operationType:"signIn"})}))}function fl(t){return t.app}function dl(t){return t.currentUser}function pl(t){return dl(t)&&dl(t)._lat||null}function gl(t){if(t.ba){for(var e=0;e<t.u.length;e++)t.u[e]&&t.u[e](pl(t));if(t.X!==t.getUid()&&t.P.length)for(t.X=t.getUid(),e=0;e<t.P.length;e++)t.P[e]&&t.P[e](pl(t))}}function vl(t,e){return t.R.push(e),e.na(function(){K(t.R,e)}),e}function yl(){}function ml(){this.a={},this.b=1e12}Kc.prototype.wb=function(t){var e=null,i=this;return function(t){var e=new E("invalid-persistence-type"),i=new E("unsupported-persistence-type");t:{for(n in Qh)if(Qh[n]==t){var n=!0;break t}n=!1}if(!n||"string"!=typeof t)throw e;switch(bn()){case"ReactNative":if("session"===t)throw i;break;case"Node":if("none"!==t)throw i;break;case"Worker":if("session"===t||!Ph()&&"none"!==t)throw i;break;default:if(!Mn()&&"none"!==t)throw i}}(t),il(this,function(){return t!=i.c.D?i.b.get(i.c,i.a).then(function(n){return e=n,Jc(i,t)}).then(function(){if(i.c=Zc(t),e)return i.b.set(i.c,e,i.a)}):Ce()})},A(nl,bi),A(rl,Je),A(sl,Je),A(ol,Je),(e=nl.prototype).wb=function(t){return vl(this,t=this.l.wb(t))},e.wa=function(t){this.aa===t||this.m||(this.aa=t,ia(this.a,this.aa),this.dispatchEvent(new rl(this.ka())))},e.ka=function(){return this.aa},e.ed=function(){var t=u.navigator;this.wa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},e.fd=function(t){if(!this.f){if(!/^https?:\/\//.test(t))throw new E("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");zn("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),u.document&&vn().then(function(){var t=u.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#ff0000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),u.document.body.appendChild(t)}),this.f={url:t},this.settings.hb=!0,na(this.a,this.f),this.dispatchEvent(new sl(this.f))}},e.Fc=function(t){this.N.push(t),sa(this.a,n.SDK_VERSION?En(n.SDK_VERSION,this.N):null),this.dispatchEvent(new ol(this.N))},e.Ga=function(){return Z(this.N)},e.xb=function(t){this.W===t||this.m||(this.W=t,this.a.b=this.W)},e.S=function(){return this.W},e.toJSON=function(){return{apiKey:fl(this).options.apiKey,authDomain:fl(this).options.authDomain,appName:fl(this).name,currentUser:dl(this)&&dl(this).w()}},e.Eb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.h==e&&!!this.g;default:return!1}},e.ma=function(t,e,i,n){"signInViaPopup"==t&&this.h==n&&(i&&this.O?this.O(i):e&&!i&&this.g&&this.g(e),this.c&&(this.c.cancel(),this.c=null),delete this.g,delete this.O)},e.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.h==e&&this.g?T(this.hc,this):null},e.hc=function(t,e,i,n){var r=this,s={requestUri:t,postBody:n,sessionId:e,tenantId:i};return this.c&&(this.c.cancel(),this.c=null),r.$.then(function(){return ll(r,xa(r.a,s))})},e.Wc=function(t){if(!Pn())return Me(new E("operation-not-supported-in-this-environment"));var e=this,i=qr(t.providerId),r=Dn(),s=null;(!Nn()||mn())&&fl(this).options.authDomain&&t.isOAuthProvider&&(s=yh(fl(this).options.authDomain,fl(this).options.apiKey,fl(this).name,"signInViaPopup",t,null,r,n.SDK_VERSION||null,null,null,this.S(),this.f));var o=dn(s,i&&i.ua,i&&i.ta);return vl(this,i=al(this).then(function(i){return Lu(i,o,"signInViaPopup",t,r,!!s,e.S())}).then(function(){return new we(function(t,i){e.ma("signInViaPopup",null,new E("cancelled-popup-request"),e.h),e.g=t,e.O=i,e.h=r,e.c=Uu(e.b,e,"signInViaPopup",o,r)})}).then(function(t){return o&&fn(o),t?Qn(t):null}).s(function(t){throw o&&fn(o),t}))},e.Xc=function(t){if(!Pn())return Me(new E("operation-not-supported-in-this-environment"));var e=this;return vl(this,al(this).then(function(){return il(t=e.l,function(){return t.b.set(Qc,t.c.D,t.a)});var t}).then(function(){return Bu(e.b,"signInViaRedirect",t,void 0,e.S())}))},e.qa=function(){var t=this;return hl(this).then(function(e){return t.b&&Gu(t.b.b),e}).s(function(e){throw t.b&&Gu(t.b.b),e})},e.cd=function(t){if(!t)return Me(new E("null-user"));if(this.W!=t.tenantId)return Me(new E("tenant-id-mismatch"));var e=this,i={};i.apiKey=fl(this).options.apiKey,i.authDomain=fl(this).options.authDomain,i.appName=fl(this).name;var n=function(t,e,i,n){var r=t.b,s={};return s[Qo]=r.b&&r.b.toString(),s.refreshToken=r.a,e=new yc(e||{apiKey:t.l,authDomain:t.o,appName:t.m},s),i&&(e.ha=i),n&&bc(e,n),Rc(e,t),e}(t,i,e.G,e.Ga());return vl(this,this.i.then(function(){if(fl(e).options.apiKey!=t.l)return n.reload()}).then(function(){return dl(e)&&t.uid==dl(e).uid?(Rc(dl(e),t),e.da(t)):(cl(e,n),Ic(n),e.da(n))}).then(function(){gl(e)}))},e.zb=function(){var t=this;return vl(this,this.i.then(function(){return t.b&&Gu(t.b.b),dl(t)?(cl(t,null),tl(t.l).then(function(){gl(t)})):Ce()}))},e.Yc=function(){var t=this;return el(this.l,fl(this).options.authDomain).then(function(e){if(!t.m){var i;if(i=dl(t)&&e){i=dl(t).uid;var n=e.uid;i=null!=i&&""!==i&&null!=n&&""!==n&&i==n}if(i)return Rc(dl(t),e),dl(t).I();(dl(t)||e)&&(cl(t,e),e&&(Ic(e),e.ha=t.G),t.b&&Ou(t.b,t),gl(t))}})},e.da=function(t){return $c(this.l,t)},e.kc=function(){gl(this),this.da(dl(this))},e.vc=function(){this.zb()},e.wc=function(){this.zb()},e.jc=function(t){var e=this;return this.i.then(function(){return ll(e,Ce(t))})},e.yc=function(t){var e=this;this.addAuthTokenListener(function(){t.next(dl(e))})},e.zc=function(t){var e=this;!function(t,e){t.P.push(e),vl(t,t.i.then(function(){!t.m&&q(t.P,e)&&t.X!==t.getUid()&&(t.X=t.getUid(),e(pl(t)))}))}(this,function(){t.next(dl(e))})},e.Hc=function(t,e,i){var n=this;return this.ba&&Promise.resolve().then(function(){"function"==typeof t?t(dl(n)):"function"==typeof t.next&&t.next(dl(n))}),this.ac(t,e,i)},e.Gc=function(t,e,i){var n=this;return this.ba&&Promise.resolve().then(function(){n.X=n.getUid(),"function"==typeof t?t(dl(n)):"function"==typeof t.next&&t.next(dl(n))}),this.bc(t,e,i)},e.mc=function(t){var e=this;return vl(this,this.i.then(function(){return dl(e)?dl(e).I(t).then(function(t){return{accessToken:t}}):null}))},e.Sc=function(t){var e=this;return this.i.then(function(){return ll(e,ih(e.a,Ja,{token:t}))}).then(function(t){var i=t.user;return Fc(i,"isAnonymous",!1),e.da(i),t})},e.Tc=function(t,e){var i=this;return this.i.then(function(){return ll(i,ih(i.a,Qa,{email:t,password:e}))})},e.dc=function(t,e){var i=this;return this.i.then(function(){return ll(i,ih(i.a,Aa,{email:t,password:e}))})},e.Za=function(t){var e=this;return this.i.then(function(){return ll(e,t.ja(e.a))})},e.Rc=function(t){return Hn("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Za(t)},e.yb=function(){var t=this;return this.i.then(function(){var e=dl(t);if(e&&e.isAnonymous){var i=Qn({providerId:null,isNewUser:!1});return Qn({user:e,credential:null,additionalUserInfo:i,operationType:"signIn"})}return ll(t,t.a.yb()).then(function(e){var i=e.user;return Fc(i,"isAnonymous",!0),t.da(i),e})})},e.getUid=function(){return dl(this)&&dl(this).uid||null},e.cc=function(t){this.addAuthTokenListener(t),this.A++,0<this.A&&dl(this)&&Sc(dl(this))},e.Oc=function(t){var e=this;j(this.u,function(i){i==t&&e.A--}),0>this.A&&(this.A=0),0==this.A&&dl(this)&&_c(dl(this)),this.removeAuthTokenListener(t)},e.addAuthTokenListener=function(t){var e=this;this.u.push(t),vl(this,this.i.then(function(){e.m||q(e.u,t)&&t(pl(e))}))},e.removeAuthTokenListener=function(t){J(this.u,function(e){return e==t})},e.delete=function(){this.m=!0;for(var t=0;t<this.R.length;t++)this.R[t].cancel("app-deleted");return this.R=[],this.l&&(t=this.l).b.removeListener(Zc("local"),t.a,this.pa),this.b&&(Nu(this.b,this),Gu(this.b.b)),Promise.resolve()},e.gc=function(t){return vl(this,function(t,e){return ih(t,Ea,{identifier:e,continueUri:kn()?un():"http://localhost"}).then(function(t){return t.signinMethods||[]})}(this.a,t))},e.Ac=function(t){return!!ks(t)},e.vb=function(t,e){var i=this;return vl(this,Ce().then(function(){var t=new Mr(e);if(!t.c)throw new E("argument-error",Or+" must be true when sending sign in link to email");return Ur(t)}).then(function(e){return i.a.vb(t,e)}).then(function(){}))},e.hd=function(t){return this.Qa(t).then(function(t){return t.data.email})},e.mb=function(t,e){return vl(this,this.a.mb(t,e).then(function(){}))},e.Qa=function(t){return vl(this,this.a.Qa(t).then(function(t){return new or(t)}))},e.ib=function(t){return vl(this,this.a.ib(t).then(function(){}))},e.ub=function(t,e){var i=this;return vl(this,Ce().then(function(){return void 0===e||pt(e)?{}:Ur(new Mr(e))}).then(function(e){return i.a.ub(t,e)}).then(function(){}))},e.Vc=function(t,e){return vl(this,Qu(this,t,e,T(this.Za,this)))},e.Uc=function(t,e){var i=this;return vl(this,Ce().then(function(){var n=e||un(),r=Ps(t,n);if(!(n=ks(n)))throw new E("argument-error","Invalid email link!");if(n.tenantId!==i.S())throw new E("tenant-id-mismatch");return i.Za(r)}))},yl.prototype.render=function(){},yl.prototype.reset=function(){},yl.prototype.getResponse=function(){},yl.prototype.execute=function(){};var xl=null;function bl(t,e){return(e=wl(e))&&t.a[e]||null}function wl(t){return(t=void 0===t?1e12:t)?t.toString():null}function Tl(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=ae(t);var i=this;this.i=function(){i.execute()},this.h?this.execute():hi(this.f,"click",this.i)}function Sl(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function _l(){}function Al(){}ml.prototype.render=function(t,e){return this.a[this.b.toString()]=new Tl(t,e),this.b++},ml.prototype.reset=function(t){var e=bl(this,t);t=wl(t),e&&t&&(e.delete(),delete this.a[t])},ml.prototype.getResponse=function(t){return(t=bl(this,t))?t.getResponse():null},ml.prototype.execute=function(t){(t=bl(this,t))&&t.execute()},Tl.prototype.getResponse=function(){return Sl(this),this.b},Tl.prototype.execute=function(){Sl(this);var t=this;this.a||(this.a=setTimeout(function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,i=t.c["expired-callback"];if(e)try{e(t.b)}catch(t){}t.a=setTimeout(function(){if(t.a=null,t.b=null,i)try{i()}catch(t){}t.h&&t.execute()},6e4)},500))},Tl.prototype.delete=function(){Sl(this),this.g=!0,clearTimeout(this.a),this.a=null,li(this.f,"click",this.i)},Kn(_l,"FACTOR_ID","phone"),Al.prototype.g=function(){return xl||(xl=new ml),Ce(xl)},Al.prototype.c=function(){};var El=null;function Il(){this.b=u.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Cl=new xt(Tt,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Ml=new Xn(3e4,6e4);Il.prototype.g=function(t){var e=this;return new we(function(i,n){var r=setTimeout(function(){n(new E("network-request-failed"))},Ml.get());!u.grecaptcha||t!==e.f&&!e.b?(u[e.a]=function(){if(u.grecaptcha){e.f=t;var s=u.grecaptcha.render;u.grecaptcha.render=function(t,i){return t=s(t,i),e.b++,t},clearTimeout(r),i(u.grecaptcha)}else clearTimeout(r),n(new E("internal-error"));delete u[e.a]},Ce(zo(Et(Cl,{onload:e.a,hl:t||""}))).s(function(){clearTimeout(r),n(new E("internal-error","Unable to load external reCAPTCHA dependencies!"))})):(clearTimeout(r),i(u.grecaptcha))})},Il.prototype.c=function(){this.b--};var Pl=null;function kl(t,e,i,n,r,s,o){if(Kn(this,"type","recaptcha"),this.c=this.f=null,this.A=!1,this.m=e,this.g=null,o?(El||(El=new Al),o=El):(Pl||(Pl=new Il),o=Pl),this.v=o,this.a=i||{theme:"light",type:"image"},this.h=[],this.a[Fl])throw new E("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Rl],!u.document)throw new E("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ae(e)||!this.i&&ae(e).hasChildNodes())throw new E("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.o=new Ko(t,s||null,r||null),this.u=n||function(){return null};var a=this;this.l=[];var h=this.a[Ol];this.a[Ol]=function(t){if(Ll(a,t),"function"==typeof h)h(t);else if("string"==typeof h){var e=Cn(h,u);"function"==typeof e&&e(t)}};var c=this.a[Nl];this.a[Nl]=function(){if(Ll(a,null),"function"==typeof c)c();else if("string"==typeof c){var t=Cn(c,u);"function"==typeof t&&t()}}}var Ol="callback",Nl="expired-callback",Fl="sitekey",Rl="size";function Ll(t,e){for(var i=0;i<t.l.length;i++)try{t.l[i](e)}catch(t){}}function Dl(t,e){return t.h.push(e),e.na(function(){K(t.h,e)}),e}function Bl(t){if(t.A)throw new E("internal-error","RecaptchaVerifier instance has been destroyed.")}function Ul(t,e,i){var r=!1;try{this.b=i||n.app()}catch(t){throw new E("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new E("invalid-api-key");i=this.b.options.apiKey;var s=this,o=null;try{o=this.b.auth().Ga()}catch(t){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(t){}o=n.SDK_VERSION?En(n.SDK_VERSION,o):null,kl.call(this,i,t,e,function(){try{var t=s.b.auth().ka()}catch(e){t=null}return t},o,O(C),r)}function Xl(t,e,i,n){t:{i=Array.prototype.slice.call(i);for(var r=0,s=!1,o=0;o<e.length;o++)if(e[o].optional)s=!0;else{if(s)throw new E("internal-error","Argument validator encountered a required argument after an optional argument.");r++}if(s=e.length,i.length<r||s<i.length)n="Expected "+(r==s?1==r?"1 argument":r+" arguments":r+"-"+s+" arguments")+" but got "+i.length+".";else{for(r=0;r<i.length;r++)if(s=e[r].optional&&void 0===i[r],!e[r].K(i[r])&&!s){if(e=e[r],0>r||r>=Vl.length)throw new E("internal-error","Argument validator received an unsupported number of arguments.");i=Vl[r],n=(n?"":i+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.J+".";break t}n=null}}if(n)throw new E("argument-error",t+" failed: "+n)}(e=kl.prototype).Ia=function(){var t=this;return this.f?this.f:this.f=Dl(this,Ce().then(function(){if(kn()&&!xn())return vn();throw new E("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return t.v.g(t.u())}).then(function(e){return t.g=e,ih(t.o,Ua,{})}).then(function(e){t.a[Fl]=e.recaptchaSiteKey}).s(function(e){throw t.f=null,e}))},e.render=function(){Bl(this);var t=this;return Dl(this,this.Ia().then(function(){if(null===t.c){var e=t.m;if(!t.i){var i=ae(e);e=fe("DIV"),i.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c}))},e.verify=function(){Bl(this);var t=this;return Dl(this,this.render().then(function(e){return new we(function(i){var n=t.g.getResponse(e);if(n)i(n);else{var r=function(e){e&&(function(t,e){J(t.l,function(t){return t==e})}(t,r),i(e))};t.l.push(r),t.i&&t.g.execute(t.c)}})}))},e.reset=function(){Bl(this),null!==this.c&&this.g.reset(this.c)},e.clear=function(){Bl(this),this.A=!0,this.v.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=ae(this.m);for(var e;e=t.firstChild;)t.removeChild(e)}},A(Ul,kl);var Vl="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function zl(t,e){return{name:t||"",J:"a valid string",optional:!!e,K:function(t){return"string"==typeof t}}}function Yl(t,e){return{name:t||"",J:"a boolean",optional:!!e,K:function(t){return"boolean"==typeof t}}}function jl(t,e){return{name:t||"",J:"a valid object",optional:!!e,K:v}}function Gl(t,e){return{name:t||"",J:"a function",optional:!!e,K:function(t){return"function"==typeof t}}}function Wl(t,e){return{name:t||"",J:"null",optional:!!e,K:function(t){return null===t}}}function Hl(t){return{name:t?t+"Credential":"credential",J:t?"a valid "+t+" credential":"a valid credential",optional:!1,K:function(e){if(!e)return!1;var i=!t||e.providerId===t;return!(!e.ja||!i)}}}function ql(t,e){return v(t)&&"string"==typeof t.type&&t.type===e&&"function"==typeof t.Ha}function Kl(t){return v(t)&&"string"==typeof t.uid}function Jl(t,e,i,n){return{name:i||"",J:t.J+" or "+e.J,optional:!!n,K:function(i){return t.K(i)||e.K(i)}}}function Ql(t,e){for(var i in e){var n=e[i].name;t[n]=tf(n,t[i],e[i].j)}}function Zl(t,e){for(var i in e){var n=e[i].name;n!==i&&Object.defineProperty(t,n,{get:S(function(t){return this[t]},i),set:S(function(t,e,i,n){Xl(t,[i],[n],!0),this[e]=n},n,i,e[i].jb),enumerable:!0})}}function $l(t,e,i,n){t[e]=tf(e,i,n)}function tf(t,e,i){function n(){var t=Array.prototype.slice.call(arguments);return Xl(s,i,t),e.apply(this,t)}if(!i)return e;var r,s=function(t){return(t=t.split("."))[t.length-1]}(t);for(r in e)n[r]=e[r];for(r in e.prototype)n.prototype[r]=e.prototype[r];return n}Ql(nl.prototype,{ib:{name:"applyActionCode",j:[zl("code")]},Qa:{name:"checkActionCode",j:[zl("code")]},mb:{name:"confirmPasswordReset",j:[zl("code"),zl("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[zl("email"),zl("password")]},gc:{name:"fetchSignInMethodsForEmail",j:[zl("email")]},qa:{name:"getRedirectResult",j:[]},Ac:{name:"isSignInWithEmailLink",j:[zl("emailLink")]},Gc:{name:"onAuthStateChanged",j:[Jl(jl(),Gl(),"nextOrObserver"),Gl("opt_error",!0),Gl("opt_completed",!0)]},Hc:{name:"onIdTokenChanged",j:[Jl(jl(),Gl(),"nextOrObserver"),Gl("opt_error",!0),Gl("opt_completed",!0)]},ub:{name:"sendPasswordResetEmail",j:[zl("email"),Jl(jl("opt_actionCodeSettings",!0),Wl(null,!0),"opt_actionCodeSettings",!0)]},vb:{name:"sendSignInLinkToEmail",j:[zl("email"),jl("actionCodeSettings")]},wb:{name:"setPersistence",j:[zl("persistence")]},Rc:{name:"signInAndRetrieveDataWithCredential",j:[Hl()]},yb:{name:"signInAnonymously",j:[]},Za:{name:"signInWithCredential",j:[Hl()]},Sc:{name:"signInWithCustomToken",j:[zl("token")]},Tc:{name:"signInWithEmailAndPassword",j:[zl("email"),zl("password")]},Uc:{name:"signInWithEmailLink",j:[zl("email"),zl("emailLink",!0)]},Vc:{name:"signInWithPhoneNumber",j:[zl("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Wc:{name:"signInWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Xc:{name:"signInWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},cd:{name:"updateCurrentUser",j:[Jl({name:"user",J:"an instance of Firebase User",optional:!1,K:function(t){return!!(t&&t instanceof yc)}},Wl(),"user")]},zb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[zl(null,!0)]},ed:{name:"useDeviceLanguage",j:[]},fd:{name:"useEmulator",j:[zl("url")]},hd:{name:"verifyPasswordResetCode",j:[zl("code")]}}),Zl(nl.prototype,{lc:{name:"languageCode",jb:Jl(zl(),Wl(),"languageCode")},ti:{name:"tenantId",jb:Jl(zl(),Wl(),"tenantId")}}),nl.Persistence=Qh,nl.Persistence.LOCAL="local",nl.Persistence.SESSION="session",nl.Persistence.NONE="none",Ql(yc.prototype,{delete:{name:"delete",j:[]},nc:{name:"getIdTokenResult",j:[Yl("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Yl("opt_forceRefresh",!0)]},Bc:{name:"linkAndRetrieveDataWithCredential",j:[Hl()]},pb:{name:"linkWithCredential",j:[Hl()]},Cc:{name:"linkWithPhoneNumber",j:[zl("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Dc:{name:"linkWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Ec:{name:"linkWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Kc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Hl()]},sb:{name:"reauthenticateWithCredential",j:[Hl()]},Lc:{name:"reauthenticateWithPhoneNumber",j:[zl("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Mc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Nc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},tb:{name:"sendEmailVerification",j:[Jl(jl("opt_actionCodeSettings",!0),Wl(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[zl(null,!0)]},bd:{name:"unlink",j:[zl("provider")]},Ab:{name:"updateEmail",j:[zl("email")]},Bb:{name:"updatePassword",j:[zl("password")]},dd:{name:"updatePhoneNumber",j:[Hl("phone")]},Cb:{name:"updateProfile",j:[jl("profile")]},Db:{name:"verifyBeforeUpdateEmail",j:[zl("email"),Jl(jl("opt_actionCodeSettings",!0),Wl(null,!0),"opt_actionCodeSettings",!0)]}}),Ql(ml.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Ql(yl.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Ql(we.prototype,{na:{name:"finally"},s:{name:"catch"},then:{name:"then"}}),Zl(Ku.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",jb:Yl("appVerificationDisabledForTesting")}}),Ql(Ju.prototype,{confirm:{name:"confirm",j:[zl("verificationCode")]}}),$l(hs,"fromJSON",function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,i=[gs,Cs,Ns,fs],n=0;n<i.length;n++)if(e=i[n](t))return e;return null},[Jl(zl(),jl(),"json")]),$l(Ms,"credential",function(t,e){return new Is(t,e)},[zl("email"),zl("password")]),Ql(Is.prototype,{w:{name:"toJSON",j:[zl(null,!0)]}}),Ql(xs.prototype,{Ca:{name:"addScope",j:[zl("scope")]},Ka:{name:"setCustomParameters",j:[jl("customOAuthParameters")]}}),$l(xs,"credential",bs,[Jl(zl(),jl(),"token")]),$l(Ms,"credentialWithLink",Ps,[zl("email"),zl("emailLink")]),Ql(ws.prototype,{Ca:{name:"addScope",j:[zl("scope")]},Ka:{name:"setCustomParameters",j:[jl("customOAuthParameters")]}}),$l(ws,"credential",Ts,[Jl(zl(),jl(),"token")]),Ql(Ss.prototype,{Ca:{name:"addScope",j:[zl("scope")]},Ka:{name:"setCustomParameters",j:[jl("customOAuthParameters")]}}),$l(Ss,"credential",_s,[Jl(zl(),Jl(jl(),Wl()),"idToken"),Jl(zl(),Wl(),"accessToken",!0)]),Ql(As.prototype,{Ka:{name:"setCustomParameters",j:[jl("customOAuthParameters")]}}),$l(As,"credential",Es,[Jl(zl(),jl(),"token"),zl("secret",!0)]),Ql(ms.prototype,{Ca:{name:"addScope",j:[zl("scope")]},credential:{name:"credential",j:[Jl(zl(),Jl(jl(),Wl()),"optionsOrIdToken"),Jl(zl(),Wl(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[jl("customOAuthParameters")]}}),Ql(ds.prototype,{w:{name:"toJSON",j:[zl(null,!0)]}}),Ql(cs.prototype,{w:{name:"toJSON",j:[zl(null,!0)]}}),$l(Rs,"credential",Ls,[zl("verificationId"),zl("verificationCode")]),Ql(Rs.prototype,{eb:{name:"verifyPhoneNumber",j:[Jl(zl(),{name:"phoneInfoOptions",J:"valid phone info options",optional:!1,K:function(t){return!!t&&(t.session&&t.phoneNumber?ql(t.session,os)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?ql(t.session,as)&&Kl(t.multiFactorHint):t.session&&t.multiFactorUid?ql(t.session,as)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]}}),Ql(Os.prototype,{w:{name:"toJSON",j:[zl(null,!0)]}}),Ql(E.prototype,{toJSON:{name:"toJSON",j:[zl(null,!0)]}}),Ql(Gs.prototype,{toJSON:{name:"toJSON",j:[zl(null,!0)]}}),Ql(js.prototype,{toJSON:{name:"toJSON",j:[zl(null,!0)]}}),Ql(ic.prototype,{toJSON:{name:"toJSON",j:[zl(null,!0)]}}),Ql($u.prototype,{Qc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.rb}}]}}),Ql(hc.prototype,{Qb:{name:"getSession",j:[]},ec:{name:"enroll",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.rb}},zl("displayName",!0)]},ad:{name:"unenroll",j:[Jl({name:"multiFactorInfo",J:"a valid multiFactorInfo",optional:!1,K:Kl},zl(),"multiFactorInfoIdentifier")]}}),Ql(Ul.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),$l(br,"parseLink",Cr,[zl("link")]),$l(_l,"assertion",function(t){return new oc(t)},[Hl("phone")]),function(){if(void 0===n||!n.INTERNAL||!n.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:hr,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:ar,VERIFY_AND_CHANGE_EMAIL:ur,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:nl,AuthCredential:hs,Error:E};$l(t,"EmailAuthProvider",Ms,[]),$l(t,"FacebookAuthProvider",xs,[]),$l(t,"GithubAuthProvider",ws,[]),$l(t,"GoogleAuthProvider",Ss,[]),$l(t,"TwitterAuthProvider",As,[]),$l(t,"OAuthProvider",ms,[zl("providerId")]),$l(t,"SAMLAuthProvider",ys,[zl("providerId")]),$l(t,"PhoneAuthProvider",Rs,[{name:"auth",J:"an instance of Firebase Auth",optional:!0,K:function(t){return!!(t&&t instanceof nl)}}]),$l(t,"RecaptchaVerifier",Ul,[Jl(zl(),{name:"",J:"an HTML element",optional:!1,K:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),jl("recaptchaParameters",!0),{name:"app",J:"an instance of Firebase App",optional:!0,K:function(t){return!!(t&&t instanceof n.app.App)}}]),$l(t,"ActionCodeURL",br,[]),$l(t,"PhoneMultiFactorGenerator",_l,[]),n.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new nl(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),n.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:T((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:T(t.mc,t),addAuthTokenListener:T(t.cc,t),removeAuthTokenListener:T(t.Oc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),n.registerVersion("@firebase/auth","0.15.0"),n.INTERNAL.extendNamespace({User:yc})}()}).apply(void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})}).call(this,i(66))},function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var n=i(135),r=i(216),s=i(453),o=i(217),a=i(1094),h=i(452);var u=function(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}(r),c={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},l=function(t){function e(e,i){var n=this;return(n=t.call(this,i)||this).code=e,n.message=i,n.name="FirebaseError",n.toString=function(){return n.name+": [code="+n.code+"]: "+n.message},n}return n.__extends(e,t),e}(Error),f=new s.Logger("@firebase/firestore");
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d(){return f.logLevel}function p(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(f.logLevel<=s.LogLevel.DEBUG){var r=e.map(y);f.debug.apply(f,n.__spreadArrays(["Firestore (7.24.0): "+t],r))}}function g(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(f.logLevel<=s.LogLevel.ERROR){var r=e.map(y);f.error.apply(f,n.__spreadArrays(["Firestore (7.24.0): "+t],r))}}function v(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(f.logLevel<=s.LogLevel.WARN){var r=e.map(y);f.warn.apply(f,n.__spreadArrays(["Firestore (7.24.0): "+t],r))}}function y(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(e){return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (7.24.0) INTERNAL ASSERTION FAILED: "+t;throw g(e),new Error(e)}function x(t,e){t||m()}function b(t,e){return t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w(t){var e=0;for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e++;return e}function T(t,e){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e(i,t[i])}function S(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _=function(){function t(t,e,i){void 0===e?e=0:e>t.length&&m(),void 0===i?i=t.length-e:i>t.length-e&&m(),this.segments=t,this.offset=e,this.t=i}return Object.defineProperty(t.prototype,"length",{get:function(){return this.t},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.i(this,e)},t.prototype.child=function(e){var i=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){i.push(t)}):i.push(e),this.o(i)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.u=function(t){return t=void 0===t?1:t,this.o(this.segments,this.offset+t,this.length-t)},t.prototype.h=function(){return this.o(this.segments,this.offset,this.length-1)},t.prototype.l=function(){return this.segments[this.offset]},t.prototype._=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.m=function(){return 0===this.length},t.prototype.T=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.I=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])},t.prototype.A=function(){return this.segments.slice(this.offset,this.limit())},t.i=function(t,e){for(var i=Math.min(t.length,e.length),n=0;n<i;n++){var r=t.get(n),s=e.get(n);if(r<s)return-1;if(r>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),A=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.o=function(t,i,n){return new e(t,i,n)},e.prototype.R=function(){return this.A().join("/")},e.prototype.toString=function(){return this.R()},e.g=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];for(var n=[],r=0,s=t;r<s.length;r++){var o=s[r];if(o.indexOf("//")>=0)throw new l(c.INVALID_ARGUMENT,"Invalid segment ("+o+"). Paths must not contain // in them.");n.push.apply(n,o.split("/").filter(function(t){return t.length>0}))}return new e(n)},e.P=function(){return new e([])},e}(_),E=/^[_a-zA-Z][_a-zA-Z0-9]*$/,I=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.o=function(t,i,n){return new e(t,i,n)},e.V=function(t){return E.test(t)},e.prototype.R=function(){return this.A().map(function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.V(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.R()},e.prototype.p=function(){return 1===this.length&&"__name__"===this.get(0)},e.v=function(){return new e(["__name__"])},e.S=function(t){for(var i=[],n="",r=0,s=function(){if(0===n.length)throw new l(c.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");i.push(n),n=""},o=!1;r<t.length;){var a=t[r];if("\\"===a){if(r+1===t.length)throw new l(c.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var h=t[r+1];if("\\"!==h&&"."!==h&&"`"!==h)throw new l(c.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=h,r+=2}else"`"===a?(o=!o,r++):"."!==a||o?(n+=a,r++):(s(),r++)}if(s(),o)throw new l(c.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(i)},e.P=function(){return new e([])},e}(_),C=function(){function t(t){this.path=t}return t.D=function(e){return new t(A.g(e))},t.C=function(e){return new t(A.g(e).u(5))},t.prototype.N=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===A.i(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.i=function(t,e){return A.i(t.path,e.path)},t.F=function(t){return t.length%2==0},t.$=function(e){return new t(new A(e.slice()))},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M(t,e){if(0!==e.length)throw new l(c.INVALID_ARGUMENT,"Function "+t+"() does not support arguments, but was called with "+H(e.length,"argument")+".")}function P(t,e,i){if(e.length!==i)throw new l(c.INVALID_ARGUMENT,"Function "+t+"() requires "+H(i,"argument")+", but was called with "+H(e.length,"argument")+".")}function k(t,e,i){if(e.length<i)throw new l(c.INVALID_ARGUMENT,"Function "+t+"() requires at least "+H(i,"argument")+", but was called with "+H(e.length,"argument")+".")}function O(t,e,i,n){if(e.length<i||e.length>n)throw new l(c.INVALID_ARGUMENT,"Function "+t+"() requires between "+i+" and "+n+" arguments, but was called with "+H(e.length,"argument")+".")}function N(t,e,i,n){U(t,e,W(i)+" argument",n)}function F(t,e,i,n){void 0!==n&&N(t,e,i,n)}function R(t,e,i,n){U(t,e,i+" option",n)}function L(t,e,i,n){void 0!==n&&R(t,e,i,n)}function D(t,e,i,n,r){void 0!==n&&function(t,e,i,n,r){for(var s=[],o=0,a=r;o<a.length;o++){var h=a[o];if(h===n)return;s.push(V(h))}var u=V(n);throw new l(c.INVALID_ARGUMENT,"Invalid value "+u+" provided to function "+t+'() for option "'+i+'". Acceptable values: '+s.join(", "))}(t,0,i,n,r)}function B(t,e,i,n){if(!e.some(function(t){return t===n}))throw new l(c.INVALID_ARGUMENT,"Invalid value "+V(n)+" provided to function "+t+"() for its "+W(i)+" argument. Acceptable values: "+e.join(", "));return n}function U(t,e,i,n){if(!("object"===e?X(n):"non-empty string"===e?"string"==typeof n&&""!==n:typeof n===e)){var r=V(n);throw new l(c.INVALID_ARGUMENT,"Function "+t+"() requires its "+i+" to be of type "+e+", but it was: "+r)}}function X(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}function V(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":m()}function z(t,e,i){if(void 0===i)throw new l(c.INVALID_ARGUMENT,"Function "+t+"() requires a valid "+W(e)+" argument, but it was undefined.")}function Y(t,e,i){T(e,function(e,n){if(i.indexOf(e)<0)throw new l(c.INVALID_ARGUMENT,"Unknown option '"+e+"' passed to function "+t+"(). Available options: "+i.join(", "))})}function j(t,e,i,n){var r=V(n);return new l(c.INVALID_ARGUMENT,"Function "+t+"() requires its "+W(i)+" argument to be a "+e+", but it was: "+r)}function G(t,e,i){if(i<=0)throw new l(c.INVALID_ARGUMENT,"Function "+t+"() requires its "+W(e)+" argument to be a positive number, but it was: "+i+".")}function W(t){switch(t){case 1:return"first";case 2:return"second";case 3:return"third";default:return t+"th"}}function H(t,e){return t+" "+e+(1===t?"":"s")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),i=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(i);else for(var n=0;n<t;n++)i[n]=Math.floor(256*Math.random());return i}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var K=function(){function t(){}return t.k=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,i="";i.length<20;)for(var n=q(40),r=0;r<n.length;++r)i.length<20&&n[r]<e&&(i+=t.charAt(n[r]%t.length));return i},t}();function J(t,e){return t<e?-1:t>e?1:0}function Q(t,e,i){return t.length===e.length&&t.every(function(t,n){return i(t,e[n])})}function Z(t){return t+"\0"}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $=function(){function t(t){this.M=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",i=0;i<t.length;++i)e+=String.fromCharCode(t[i]);return e}(e))},t.prototype.toBase64=function(){return t=this.M,btoa(t);var t},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.M)},t.prototype.O=function(){return 2*this.M.length},t.prototype.L=function(t){return J(this.M,t.M)},t.prototype.isEqual=function(t){return this.M===t.M},t}();$.B=new $("");var tt=function(){function t(t){this.q=t}return t.fromBase64String=function(e){try{return new t($.fromBase64String(e))}catch(e){throw new l(c.INVALID_ARGUMENT,"Failed to construct Bytes from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t($.fromUint8Array(e))},t.prototype.toBase64=function(){return this.q.toBase64()},t.prototype.toUint8Array=function(){return this.q.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.q.isEqual(t.q)},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function et(){if("undefined"==typeof Uint8Array)throw new l(c.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function it(){if("undefined"==typeof atob)throw new l(c.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var nt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.fromBase64String=function(t){P("Blob.fromBase64String",arguments,1),N("Blob.fromBase64String","string",1,t),it();try{return new e($.fromBase64String(t))}catch(t){throw new l(c.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+t)}},e.fromUint8Array=function(t){if(P("Blob.fromUint8Array",arguments,1),et(),!(t instanceof Uint8Array))throw j("Blob.fromUint8Array","Uint8Array",1,t);return new e($.fromUint8Array(t))},e.prototype.toBase64=function(){return P("Blob.toBase64",arguments,0),it(),t.prototype.toBase64.call(this)},e.prototype.toUint8Array=function(){return P("Blob.toUint8Array",arguments,0),et(),t.prototype.toUint8Array.call(this)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(tt),rt=function(t,e,i,n,r,s){this.U=t,this.persistenceKey=e,this.host=i,this.ssl=n,this.forceLongPolling=r,this.W=s},st=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"j",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.L=function(t){return J(this.projectId,t.projectId)||J(this.database,t.database)},t}(),ot=function(){function t(t,e){this.K=t,this.G=e,this.H={}}return t.prototype.get=function(t){var e=this.K(t),i=this.H[e];if(void 0!==i)for(var n=0,r=i;n<r.length;n++){var s=r[n],o=s[0],a=s[1];if(this.G(o,t))return a}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var i=this.K(t),n=this.H[i];if(void 0!==n){for(var r=0;r<n.length;r++)if(this.G(n[r][0],t))return void(n[r]=[t,e]);n.push([t,e])}else this.H[i]=[[t,e]]},t.prototype.delete=function(t){var e=this.K(t),i=this.H[e];if(void 0===i)return!1;for(var n=0;n<i.length;n++)if(this.G(i[n][0],t))return 1===i.length?delete this.H[e]:i.splice(n,1),!0;return!1},t.prototype.forEach=function(t){T(this.H,function(e,i){for(var n=0,r=i;n<r.length;n++){var s=r[n],o=s[0],a=s[1];t(o,a)}})},t.prototype.m=function(){return S(this.H)},t}(),at=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new l(c.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new l(c.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new l(c.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new l(c.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var i=Math.floor(e/1e3);return new t(i,1e6*(e-1e3*i))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.Y=function(t){return this.seconds===t.seconds?J(this.nanoseconds,t.nanoseconds):J(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),ht=function(){function t(t){this.timestamp=t}return t.J=function(e){return new t(e)},t.min=function(){return new t(new at(0,0))},t.prototype.L=function(t){return this.timestamp.Y(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.X=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.Z=function(){return this.timestamp},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ut(t){return null==t}function ct(t){return 0===t&&1/t==-1/0}function lt(t){return"number"==typeof t&&Number.isInteger(t)&&!ct(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ft=function(t,e,i,n,r,s,o){void 0===e&&(e=null),void 0===i&&(i=[]),void 0===n&&(n=[]),void 0===r&&(r=null),void 0===s&&(s=null),void 0===o&&(o=null),this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=n,this.limit=r,this.startAt=s,this.endAt=o,this.tt=null};function dt(t,e,i,n,r,s,o){return void 0===e&&(e=null),void 0===i&&(i=[]),void 0===n&&(n=[]),void 0===r&&(r=null),void 0===s&&(s=null),void 0===o&&(o=null),new ft(t,e,i,n,r,s,o)}function pt(t){var e=b(t);if(null===e.tt){var i=e.path.R();null!==e.collectionGroup&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(function(t){return function(t){return t.field.R()+t.op.toString()+re(t.value)}(t)}).join(","),i+="|ob:",i+=e.orderBy.map(function(t){return(e=t).field.R()+e.dir;var e}).join(","),ut(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=an(e.startAt)),e.endAt&&(i+="|ub:",i+=an(e.endAt)),e.tt=i}return e.tt}function gt(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var i=0;i<t.orderBy.length;i++)if(!fn(t.orderBy[i],e.orderBy[i]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var n=0;n<t.filters.length;n++)if(r=t.filters[n],s=e.filters[n],r.op!==s.op||!r.field.isEqual(s.field)||!te(r.value,s.value))return!1;var r,s;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!un(t.startAt,e.startAt)&&un(t.endAt,e.endAt)}function vt(t){return C.F(t.path)&&null===t.collectionGroup&&0===t.filters.length}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yt,mt,xt=function(){function t(t,e,i,n,r,s,o){void 0===r&&(r=ht.min()),void 0===s&&(s=ht.min()),void 0===o&&(o=$.B),this.target=t,this.targetId=e,this.et=i,this.sequenceNumber=n,this.nt=r,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}return t.prototype.st=function(e){return new t(this.target,this.targetId,this.et,e,this.nt,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.it=function(e,i){return new t(this.target,this.targetId,this.et,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e)},t.prototype.rt=function(e){return new t(this.target,this.targetId,this.et,this.sequenceNumber,this.nt,e,this.resumeToken)},t}(),bt=function(t){this.count=t};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(t){switch(t){case c.OK:return m();case c.CANCELLED:case c.UNKNOWN:case c.DEADLINE_EXCEEDED:case c.RESOURCE_EXHAUSTED:case c.INTERNAL:case c.UNAVAILABLE:case c.UNAUTHENTICATED:return!1;case c.INVALID_ARGUMENT:case c.NOT_FOUND:case c.ALREADY_EXISTS:case c.PERMISSION_DENIED:case c.FAILED_PRECONDITION:case c.ABORTED:case c.OUT_OF_RANGE:case c.UNIMPLEMENTED:case c.DATA_LOSS:return!0;default:return m()}}function Tt(t){if(void 0===t)return g("GRPC error has no .code"),c.UNKNOWN;switch(t){case yt.OK:return c.OK;case yt.CANCELLED:return c.CANCELLED;case yt.UNKNOWN:return c.UNKNOWN;case yt.DEADLINE_EXCEEDED:return c.DEADLINE_EXCEEDED;case yt.RESOURCE_EXHAUSTED:return c.RESOURCE_EXHAUSTED;case yt.INTERNAL:return c.INTERNAL;case yt.UNAVAILABLE:return c.UNAVAILABLE;case yt.UNAUTHENTICATED:return c.UNAUTHENTICATED;case yt.INVALID_ARGUMENT:return c.INVALID_ARGUMENT;case yt.NOT_FOUND:return c.NOT_FOUND;case yt.ALREADY_EXISTS:return c.ALREADY_EXISTS;case yt.PERMISSION_DENIED:return c.PERMISSION_DENIED;case yt.FAILED_PRECONDITION:return c.FAILED_PRECONDITION;case yt.ABORTED:return c.ABORTED;case yt.OUT_OF_RANGE:return c.OUT_OF_RANGE;case yt.UNIMPLEMENTED:return c.UNIMPLEMENTED;case yt.DATA_LOSS:return c.DATA_LOSS;default:return m()}}(mt=yt||(yt={}))[mt.OK=0]="OK",mt[mt.CANCELLED=1]="CANCELLED",mt[mt.UNKNOWN=2]="UNKNOWN",mt[mt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",mt[mt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",mt[mt.NOT_FOUND=5]="NOT_FOUND",mt[mt.ALREADY_EXISTS=6]="ALREADY_EXISTS",mt[mt.PERMISSION_DENIED=7]="PERMISSION_DENIED",mt[mt.UNAUTHENTICATED=16]="UNAUTHENTICATED",mt[mt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",mt[mt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",mt[mt.ABORTED=10]="ABORTED",mt[mt.OUT_OF_RANGE=11]="OUT_OF_RANGE",mt[mt.UNIMPLEMENTED=12]="UNIMPLEMENTED",mt[mt.INTERNAL=13]="INTERNAL",mt[mt.UNAVAILABLE=14]="UNAVAILABLE",mt[mt.DATA_LOSS=15]="DATA_LOSS";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var St=function(){function t(t,e){this.i=t,this.root=e||At.EMPTY}return t.prototype.ot=function(e,i){return new t(this.i,this.root.ot(e,i,this.i).copy(null,null,At.at,null,null))},t.prototype.remove=function(e){return new t(this.i,this.root.remove(e,this.i).copy(null,null,At.at,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.m();){var i=this.i(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,i=this.root;!i.m();){var n=this.i(t,i.key);if(0===n)return e+i.left.size;n<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1},t.prototype.m=function(){return this.root.m()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.ct=function(){return this.root.ct()},t.prototype.ut=function(){return this.root.ut()},t.prototype.ht=function(t){return this.root.ht(t)},t.prototype.forEach=function(t){this.ht(function(e,i){return t(e,i),!1})},t.prototype.toString=function(){var t=[];return this.ht(function(e,i){return t.push(e+":"+i),!1}),"{"+t.join(", ")+"}"},t.prototype.lt=function(t){return this.root.lt(t)},t.prototype._t=function(){return new _t(this.root,null,this.i,!1)},t.prototype.ft=function(t){return new _t(this.root,t,this.i,!1)},t.prototype.dt=function(){return new _t(this.root,null,this.i,!0)},t.prototype.wt=function(t){return new _t(this.root,t,this.i,!0)},t}(),_t=function(){function t(t,e,i,n){this.Tt=n,this.Et=[];for(var r=1;!t.m();)if(r=e?i(t.key,e):1,n&&(r*=-1),r<0)t=this.Tt?t.left:t.right;else{if(0===r){this.Et.push(t);break}this.Et.push(t),t=this.Tt?t.right:t.left}}return t.prototype.It=function(){var t=this.Et.pop(),e={key:t.key,value:t.value};if(this.Tt)for(t=t.left;!t.m();)this.Et.push(t),t=t.right;else for(t=t.right;!t.m();)this.Et.push(t),t=t.left;return e},t.prototype.At=function(){return this.Et.length>0},t.prototype.Rt=function(){if(0===this.Et.length)return null;var t=this.Et[this.Et.length-1];return{key:t.key,value:t.value}},t}(),At=function(){function t(e,i,n,r,s){this.key=e,this.value=i,this.color=null!=n?n:t.RED,this.left=null!=r?r:t.EMPTY,this.right=null!=s?s:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,i,n,r,s){return new t(null!=e?e:this.key,null!=i?i:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=s?s:this.right)},t.prototype.m=function(){return!1},t.prototype.ht=function(t){return this.left.ht(t)||t(this.key,this.value)||this.right.ht(t)},t.prototype.lt=function(t){return this.right.lt(t)||t(this.key,this.value)||this.left.lt(t)},t.prototype.min=function(){return this.left.m()?this:this.left.min()},t.prototype.ct=function(){return this.min().key},t.prototype.ut=function(){return this.right.m()?this.key:this.right.ut()},t.prototype.ot=function(t,e,i){var n=this,r=i(t,n.key);return(n=r<0?n.copy(null,null,null,n.left.ot(t,e,i),null):0===r?n.copy(null,e,null,null,null):n.copy(null,null,null,null,n.right.ot(t,e,i))).gt()},t.prototype.Pt=function(){if(this.left.m())return t.EMPTY;var e=this;return e.left.yt()||e.left.left.yt()||(e=e.Vt()),(e=e.copy(null,null,null,e.left.Pt(),null)).gt()},t.prototype.remove=function(e,i){var n,r=this;if(i(e,r.key)<0)r.left.m()||r.left.yt()||r.left.left.yt()||(r=r.Vt()),r=r.copy(null,null,null,r.left.remove(e,i),null);else{if(r.left.yt()&&(r=r.bt()),r.right.m()||r.right.yt()||r.right.left.yt()||(r=r.vt()),0===i(e,r.key)){if(r.right.m())return t.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.Pt())}r=r.copy(null,null,null,null,r.right.remove(e,i))}return r.gt()},t.prototype.yt=function(){return this.color},t.prototype.gt=function(){var t=this;return t.right.yt()&&!t.left.yt()&&(t=t.St()),t.left.yt()&&t.left.left.yt()&&(t=t.bt()),t.left.yt()&&t.right.yt()&&(t=t.Dt()),t},t.prototype.Vt=function(){var t=this.Dt();return t.right.left.yt()&&(t=(t=(t=t.copy(null,null,null,null,t.right.bt())).St()).Dt()),t},t.prototype.vt=function(){var t=this.Dt();return t.left.left.yt()&&(t=(t=t.bt()).Dt()),t},t.prototype.St=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.bt=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Dt=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Ct=function(){var t=this.Nt();return Math.pow(2,t)<=this.size+1},t.prototype.Nt=function(){if(this.yt()&&this.left.yt())throw m();if(this.right.yt())throw m();var t=this.left.Nt();if(t!==this.right.Nt())throw m();return t+(this.yt()?0:1)},t}();At.EMPTY=null,At.RED=!0,At.at=!1,At.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw m()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw m()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw m()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw m()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw m()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,i,n,r){return this},t.prototype.ot=function(t,e,i){return new At(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.m=function(){return!0},t.prototype.ht=function(t){return!1},t.prototype.lt=function(t){return!1},t.prototype.ct=function(){return null},t.prototype.ut=function(){return null},t.prototype.yt=function(){return!1},t.prototype.Ct=function(){return!0},t.prototype.Nt=function(){return 0},t}());
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Et=function(){function t(t){this.i=t,this.data=new St(this.i)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.ct()},t.prototype.last=function(){return this.data.ut()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.ht(function(e,i){return t(e),!1})},t.prototype.Ft=function(t,e){for(var i=this.data.ft(t[0]);i.At();){var n=i.It();if(this.i(n.key,t[1])>=0)return;e(n.key)}},t.prototype.xt=function(t,e){var i;for(i=void 0!==e?this.data.ft(e):this.data._t();i.At();)if(!t(i.It().key))return},t.prototype.$t=function(t){var e=this.data.ft(t);return e.At()?e.It().key:null},t.prototype._t=function(){return new It(this.data._t())},t.prototype.ft=function(t){return new It(this.data.ft(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).ot(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.m=function(){return this.data.m()},t.prototype.kt=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var i=this.data._t(),n=e.data._t();i.At();){var r=i.It().key,s=n.It().key;if(0!==this.i(r,s))return!1}return!0},t.prototype.A=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var i=new t(this.i);return i.data=e,i},t}(),It=function(){function t(t){this.Mt=t}return t.prototype.It=function(){return this.Mt.It().key},t.prototype.At=function(){return this.Mt.At()},t}(),Ct=new St(C.i);function Mt(){return Ct}function Pt(){return Mt()}var kt=new St(C.i);function Ot(){return kt}var Nt=new St(C.i),Ft=new Et(C.i);function Rt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var i=Ft,n=0,r=t;n<r.length;n++){var s=r[n];i=i.add(s)}return i}var Lt=new Et(J);function Dt(){return Lt}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bt=function(){function t(t){this.i=t?function(e,i){return t(e,i)||C.i(e.key,i.key)}:function(t,e){return C.i(t.key,e.key)},this.Ot=Ot(),this.Lt=new St(this.i)}return t.Bt=function(e){return new t(e.i)},t.prototype.has=function(t){return null!=this.Ot.get(t)},t.prototype.get=function(t){return this.Ot.get(t)},t.prototype.first=function(){return this.Lt.ct()},t.prototype.last=function(){return this.Lt.ut()},t.prototype.m=function(){return this.Lt.m()},t.prototype.indexOf=function(t){var e=this.Ot.get(t);return e?this.Lt.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.Lt.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.Lt.ht(function(e,i){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.Ot.ot(t.key,t),e.Lt.ot(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.Ot.remove(t),this.Lt.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var i=this.Lt._t(),n=e.Lt._t();i.At();){var r=i.It().key,s=n.It().key;if(!r.isEqual(s))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,i){var n=new t;return n.i=this.i,n.Ot=e,n.Lt=i,n},t}(),Ut=function(){function t(){this.qt=new St(C.i)}return t.prototype.track=function(t){var e=t.doc.key,i=this.qt.get(e);i?0!==t.type&&3===i.type?this.qt=this.qt.ot(e,t):3===t.type&&1!==i.type?this.qt=this.qt.ot(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.qt=this.qt.ot(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.qt=this.qt.ot(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.qt=this.qt.remove(e):1===t.type&&2===i.type?this.qt=this.qt.ot(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.qt=this.qt.ot(e,{type:2,doc:t.doc}):m():this.qt=this.qt.ot(e,t)},t.prototype.Ut=function(){var t=[];return this.qt.ht(function(e,i){t.push(i)}),t},t}(),Xt=function(){function t(t,e,i,n,r,s,o,a){this.query=t,this.docs=e,this.Qt=i,this.docChanges=n,this.Wt=r,this.fromCache=s,this.jt=o,this.Kt=a}return t.Gt=function(e,i,n,r){var s=[];return i.forEach(function(t){s.push({type:0,doc:t})}),new t(e,i,Bt.Bt(i),s,n,r,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.Wt.m()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.jt===t.jt&&this.Wt.isEqual(t.Wt)&&Gi(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.Qt.isEqual(t.Qt)))return!1;var e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(var n=0;n<e.length;n++)if(e[n].type!==i[n].type||!e[n].doc.isEqual(i[n].doc))return!1;return!0},t}(),Vt=function(){function t(t,e,i,n,r){this.nt=t,this.zt=e,this.Ht=i,this.Yt=n,this.Jt=r}return t.Xt=function(e,i){var n=new Map;return n.set(e,zt.Zt(e,i)),new t(ht.min(),n,Dt(),Mt(),Rt())},t}(),zt=function(){function t(t,e,i,n,r){this.resumeToken=t,this.te=e,this.ee=i,this.ne=n,this.se=r}return t.Zt=function(e,i){return new t($.B,i,Rt(),Rt(),Rt())},t}(),Yt=function(t,e,i,n){this.ie=t,this.removedTargetIds=e,this.key=i,this.re=n},jt=function(t,e){this.targetId=t,this.oe=e},Gt=function(t,e,i,n){void 0===i&&(i=$.B),void 0===n&&(n=null),this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=n},Wt=function(){function t(){this.ae=0,this.ce=Kt(),this.ue=$.B,this.he=!1,this.le=!0}return Object.defineProperty(t.prototype,"te",{get:function(){return this.he},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.ue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_e",{get:function(){return 0!==this.ae},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fe",{get:function(){return this.le},enumerable:!1,configurable:!0}),t.prototype.de=function(t){t.O()>0&&(this.le=!0,this.ue=t)},t.prototype.we=function(){var t=Rt(),e=Rt(),i=Rt();return this.ce.forEach(function(n,r){switch(r){case 0:t=t.add(n);break;case 2:e=e.add(n);break;case 1:i=i.add(n);break;default:m()}}),new zt(this.ue,this.he,t,e,i)},t.prototype.me=function(){this.le=!1,this.ce=Kt()},t.prototype.Te=function(t,e){this.le=!0,this.ce=this.ce.ot(t,e)},t.prototype.Ee=function(t){this.le=!0,this.ce=this.ce.remove(t)},t.prototype.Ie=function(){this.ae+=1},t.prototype.Ae=function(){this.ae-=1},t.prototype.Re=function(){this.le=!0,this.he=!0},t}(),Ht=function(){function t(t){this.ge=t,this.Pe=new Map,this.ye=Mt(),this.Ve=qt(),this.pe=new Et(J)}return t.prototype.be=function(t){for(var e=0,i=t.ie;e<i.length;e++){var n=i[e];t.re instanceof Mi?this.ve(n,t.re):t.re instanceof Pi&&this.Se(n,t.key,t.re)}for(var r=0,s=t.removedTargetIds;r<s.length;r++){var o=s[r];this.Se(o,t.key,t.re)}},t.prototype.De=function(t){var e=this;this.Ce(t,function(i){var n=e.Ne(i);switch(t.state){case 0:e.Fe(i)&&n.de(t.resumeToken);break;case 1:n.Ae(),n._e||n.me(),n.de(t.resumeToken);break;case 2:n.Ae(),n._e||e.removeTarget(i);break;case 3:e.Fe(i)&&(n.Re(),n.de(t.resumeToken));break;case 4:e.Fe(i)&&(e.xe(i),n.de(t.resumeToken));break;default:m()}})},t.prototype.Ce=function(t,e){var i=this;t.targetIds.length>0?t.targetIds.forEach(e):this.Pe.forEach(function(t,n){i.Fe(n)&&e(n)})},t.prototype.$e=function(t){var e=t.targetId,i=t.oe.count,n=this.ke(e);if(n){var r=n.target;if(vt(r))if(0===i){var s=new C(r.path);this.Se(e,s,new Pi(s,ht.min()))}else x(1===i);else this.Me(e)!==i&&(this.xe(e),this.pe=this.pe.add(e))}},t.prototype.Oe=function(t){var e=this,i=new Map;this.Pe.forEach(function(n,r){var s=e.ke(r);if(s){if(n.te&&vt(s.target)){var o=new C(s.target.path);null!==e.ye.get(o)||e.Le(r,o)||e.Se(r,o,new Pi(o,t))}n.fe&&(i.set(r,n.we()),n.me())}});var n=Rt();this.Ve.forEach(function(t,i){var r=!0;i.xt(function(t){var i=e.ke(t);return!i||2===i.et||(r=!1,!1)}),r&&(n=n.add(t))});var r=new Vt(t,i,this.pe,this.ye,n);return this.ye=Mt(),this.Ve=qt(),this.pe=new Et(J),r},t.prototype.ve=function(t,e){if(this.Fe(t)){var i=this.Le(t,e.key)?2:0;this.Ne(t).Te(e.key,i),this.ye=this.ye.ot(e.key,e),this.Ve=this.Ve.ot(e.key,this.Be(e.key).add(t))}},t.prototype.Se=function(t,e,i){if(this.Fe(t)){var n=this.Ne(t);this.Le(t,e)?n.Te(e,1):n.Ee(e),this.Ve=this.Ve.ot(e,this.Be(e).delete(t)),i&&(this.ye=this.ye.ot(e,i))}},t.prototype.removeTarget=function(t){this.Pe.delete(t)},t.prototype.Me=function(t){var e=this.Ne(t).we();return this.ge.qe(t).size+e.ee.size-e.se.size},t.prototype.Ie=function(t){this.Ne(t).Ie()},t.prototype.Ne=function(t){var e=this.Pe.get(t);return e||(e=new Wt,this.Pe.set(t,e)),e},t.prototype.Be=function(t){var e=this.Ve.get(t);return e||(e=new Et(J),this.Ve=this.Ve.ot(t,e)),e},t.prototype.Fe=function(t){var e=null!==this.ke(t);return e||p("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ke=function(t){var e=this.Pe.get(t);return e&&e._e?null:this.ge.Ue(t)},t.prototype.xe=function(t){var e=this;this.Pe.set(t,new Wt),this.ge.qe(t).forEach(function(i){e.Se(t,i,null)})},t.prototype.Le=function(t,e){return this.ge.qe(t).has(e)},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(){return new St(C.i)}function Kt(){return new St(C.i)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(t){var e,i;return"server_timestamp"===(null===(i=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===i?void 0:i.stringValue)}function Qt(t){var e=se(t.mapValue.fields.__local_write_time__.timestampValue);return new at(e.seconds,e.nanos)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zt=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $t(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Jt(t)?4:10:m()}function te(t,e){var i=$t(t);if(i!==$t(e))return!1;switch(i){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Qt(t).isEqual(Qt(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var i=se(t.timestampValue),n=se(e.timestampValue);return i.seconds===n.seconds&&i.nanos===n.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return ae(t.bytesValue).isEqual(ae(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return oe(t.geoPointValue.latitude)===oe(e.geoPointValue.latitude)&&oe(t.geoPointValue.longitude)===oe(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return oe(t.integerValue)===oe(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var i=oe(t.doubleValue),n=oe(e.doubleValue);return i===n?ct(i)===ct(n):isNaN(i)&&isNaN(n)}return!1}(t,e);case 9:return Q(t.arrayValue.values||[],e.arrayValue.values||[],te);case 10:return function(t,e){var i=t.mapValue.fields||{},n=e.mapValue.fields||{};if(w(i)!==w(n))return!1;for(var r in i)if(i.hasOwnProperty(r)&&(void 0===n[r]||!te(i[r],n[r])))return!1;return!0}(t,e);default:return m()}}function ee(t,e){return void 0!==(t.values||[]).find(function(t){return te(t,e)})}function ie(t,e){var i=$t(t),n=$t(e);if(i!==n)return J(i,n);switch(i){case 0:return 0;case 1:return J(t.booleanValue,e.booleanValue);case 2:return function(t,e){var i=oe(t.integerValue||t.doubleValue),n=oe(e.integerValue||e.doubleValue);return i<n?-1:i>n?1:i===n?0:isNaN(i)?isNaN(n)?0:-1:1}(t,e);case 3:return ne(t.timestampValue,e.timestampValue);case 4:return ne(Qt(t),Qt(e));case 5:return J(t.stringValue,e.stringValue);case 6:return function(t,e){var i=ae(t),n=ae(e);return i.L(n)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var i=t.split("/"),n=e.split("/"),r=0;r<i.length&&r<n.length;r++){var s=J(i[r],n[r]);if(0!==s)return s}return J(i.length,n.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var i=J(oe(t.latitude),oe(e.latitude));return 0!==i?i:J(oe(t.longitude),oe(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var i=t.values||[],n=e.values||[],r=0;r<i.length&&r<n.length;++r){var s=ie(i[r],n[r]);if(s)return s}return J(i.length,n.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var i=t.fields||{},n=Object.keys(i),r=e.fields||{},s=Object.keys(r);n.sort(),s.sort();for(var o=0;o<n.length&&o<s.length;++o){var a=J(n[o],s[o]);if(0!==a)return a;var h=ie(i[n[o]],r[s[o]]);if(0!==h)return h}return J(n.length,s.length)}(t.mapValue,e.mapValue);default:throw m()}}function ne(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return J(t,e);var i=se(t),n=se(e),r=J(i.seconds,n.seconds);return 0!==r?r:J(i.nanos,n.nanos)}function re(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var e=se(t);return"time("+e.seconds+","+e.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?ae(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,C.C(n).toString()):"geoPointValue"in e?"geo("+(i=e.geoPointValue).latitude+","+i.longitude+")":"arrayValue"in e?function(e){for(var i="[",n=!0,r=0,s=e.values||[];r<s.length;r++)n?n=!1:i+=",",i+=t(s[r]);return i+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var i="{",n=!0,r=0,s=Object.keys(e.fields||{}).sort();r<s.length;r++){var o=s[r];n?n=!1:i+=",",i+=o+":"+t(e.fields[o])}return i+"}"}(e.mapValue):m();var i,n}(t)}function se(t){if(x(!!t),"string"==typeof t){var e=0,i=Zt.exec(t);if(x(!!i),i[1]){var n=i[1];n=(n+"000000000").substr(0,9),e=Number(n)}var r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:oe(t.seconds),nanos:oe(t.nanos)}}function oe(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function ae(t){return"string"==typeof t?$.fromBase64String(t):$.fromUint8Array(t)}function he(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.R()}}function ue(t){return!!t&&"integerValue"in t}function ce(t){return!!t&&"arrayValue"in t}function le(t){return!!t&&"nullValue"in t}function fe(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function de(t){return!!t&&"mapValue"in t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pe={asc:"ASCENDING",desc:"DESCENDING"},ge={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ve=function(t,e){this.U=t,this.Qe=e};function ye(t){return{integerValue:""+t}}function me(t,e){if(t.Qe){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ct(e)?"-0":e}}function xe(t,e){return lt(e)?ye(e):me(t,e)}function be(t,e){return t.Qe?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function we(t,e){return t.Qe?e.toBase64():e.toUint8Array()}function Te(t,e){return be(t,e.Z())}function Se(t){return x(!!t),ht.J(function(t){var e=se(t);return new at(e.seconds,e.nanos)}(t))}function _e(t,e){return function(t){return new A(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).R()}function Ae(t){var e=A.g(t);return x(He(e)),e}function Ee(t,e){return _e(t.U,e.path)}function Ie(t,e){var i=Ae(e);return x(i.get(1)===t.U.projectId),x(!i.get(3)&&!t.U.database||i.get(3)===t.U.database),new C(ke(i))}function Ce(t,e){return _e(t.U,e)}function Me(t){var e=Ae(t);return 4===e.length?A.P():ke(e)}function Pe(t){return new A(["projects",t.U.projectId,"databases",t.U.database]).R()}function ke(t){return x(t.length>4&&"documents"===t.get(4)),t.u(5)}function Oe(t,e,i){return{name:Ee(t,e),fields:i.proto.mapValue.fields}}function Ne(t,e){var i;if(e instanceof yi)i={update:Oe(t,e.key,e.value)};else if(e instanceof Si)i={delete:Ee(t,e.key)};else if(e instanceof mi)i={update:Oe(t,e.key,e.data),updateMask:We(e.We)};else if(e instanceof bi)i={transform:{document:Ee(t,e.key),fieldTransforms:e.fieldTransforms.map(function(t){return function(t,e){var i=e.transform;if(i instanceof Ze)return{fieldPath:e.field.R(),setToServerValue:"REQUEST_TIME"};if(i instanceof $e)return{fieldPath:e.field.R(),appendMissingElements:{values:i.elements}};if(i instanceof ei)return{fieldPath:e.field.R(),removeAllFromArray:{values:i.elements}};if(i instanceof ni)return{fieldPath:e.field.R(),increment:i.je};throw m()}(0,t)})}};else{if(!(e instanceof _i))return m();i={verify:Ee(t,e.key)}}return e.Ge.Ke||(i.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Te(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:m()}(t,e.Ge)),i}function Fe(t,e){var i=e.currentDocument?function(t){return void 0!==t.updateTime?ui.updateTime(Se(t.updateTime)):void 0!==t.exists?ui.exists(t.exists):ui.ze()}(e.currentDocument):ui.ze();if(e.update){e.update.name;var n=Ie(t,e.update.name),r=new Ai({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){var e=t.fieldPaths||[];return new oi(e.map(function(t){return I.S(t)}))}(e.updateMask);return new mi(n,r,s,i)}return new yi(n,r,i)}if(e.delete){var o=Ie(t,e.delete);return new Si(o,i)}if(e.transform){var a=Ie(t,e.transform.document),h=e.transform.fieldTransforms.map(function(e){return function(t,e){var i=null;if("setToServerValue"in e)x("REQUEST_TIME"===e.setToServerValue),i=new Ze;else if("appendMissingElements"in e){var n=e.appendMissingElements.values||[];i=new $e(n)}else if("removeAllFromArray"in e){var r=e.removeAllFromArray.values||[];i=new ei(r)}else"increment"in e?i=new ni(t,e.increment):m();var s=I.S(e.fieldPath);return new ai(s,i)}(t,e)});return x(!0===i.exists),new bi(a,h)}if(e.verify){var u=Ie(t,e.verify);return new _i(u,i)}return m()}function Re(t,e){return{documents:[Ce(t,e.path)]}}function Le(t,e){var i={structuredQuery:{}},n=e.path;null!==e.collectionGroup?(i.parent=Ce(t,n),i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i.parent=Ce(t,n.h()),i.structuredQuery.from=[{collectionId:n._()}]);var r=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(fe(t.value))return{unaryFilter:{field:ze(t.field),op:"IS_NAN"}};if(le(t.value))return{unaryFilter:{field:ze(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(fe(t.value))return{unaryFilter:{field:ze(t.field),op:"IS_NOT_NAN"}};if(le(t.value))return{unaryFilter:{field:ze(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ze(t.field),op:Ve(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);r&&(i.structuredQuery.where=r);var s=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:ze(t.field),direction:Xe(t.dir)}}(t)})}(e.orderBy);s&&(i.structuredQuery.orderBy=s);var o=function(t,e){return t.Qe||ut(e)?e:{value:e}}(t,e.limit);return null!==o&&(i.structuredQuery.limit=o),e.startAt&&(i.structuredQuery.startAt=Be(e.startAt)),e.endAt&&(i.structuredQuery.endAt=Be(e.endAt)),i}function De(t){var e=Me(t.parent),i=t.structuredQuery,n=i.from?i.from.length:0,r=null;if(n>0){x(1===n);var s=i.from[0];s.allDescendants?r=s.collectionId:e=e.child(s.collectionId)}var o=[];i.where&&(o=function t(e){return e?void 0!==e.unaryFilter?[Ge(e)]:void 0!==e.fieldFilter?[je(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map(function(e){return t(e)}).reduce(function(t,e){return t.concat(e)}):m():[]}(i.where));var a=[];i.orderBy&&(a=i.orderBy.map(function(t){return function(t){return new cn(Ye(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var h=null;i.limit&&(h=function(t){var e;return ut(e="object"==typeof t?t.value:t)?null:e}(i.limit));var u=null;i.startAt&&(u=Ue(i.startAt));var c=null;return i.endAt&&(c=Ue(i.endAt)),Vi(Ni(e,r,a,o,h,"F",u,c))}function Be(t){return{before:t.before,values:t.position}}function Ue(t){var e=!!t.before,i=t.values||[];return new on(i,e)}function Xe(t){return pe[t]}function Ve(t){return ge[t]}function ze(t){return{fieldPath:t.R()}}function Ye(t){return I.S(t.fieldPath)}function je(t){return Ji.create(Ye(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return m()}}(t.fieldFilter.op),t.fieldFilter.value)}function Ge(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Ye(t.unaryFilter.field);return Ji.create(e,"==",{doubleValue:NaN});case"IS_NULL":var i=Ye(t.unaryFilter.field);return Ji.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var n=Ye(t.unaryFilter.field);return Ji.create(n,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var r=Ye(t.unaryFilter.field);return Ji.create(r,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return m()}}function We(t){var e=[];return t.fields.forEach(function(t){return e.push(t.R())}),{fieldPaths:e}}function He(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qe=function(){this.He=void 0};function Ke(t,e,i){return t instanceof Ze?function(t,e){var i={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(i.fields.__previous_value__=e),{mapValue:i}}(i,e):t instanceof $e?ti(t,e):t instanceof ei?ii(t,e):function(t,e){var i=Qe(t,e),n=ri(i)+ri(t.je);return ue(i)&&ue(t.je)?ye(n):me(t.serializer,n)}(t,e)}function Je(t,e,i){return t instanceof $e?ti(t,e):t instanceof ei?ii(t,e):i}function Qe(t,e){return t instanceof ni?ue(i=e)||i&&"doubleValue"in i?e:{integerValue:0}:null;var i}var Ze=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e}(qe),$e=function(t){function e(e){var i=this;return(i=t.call(this)||this).elements=e,i}return n.__extends(e,t),e}(qe);function ti(t,e){for(var i=si(e),n=function(t){i.some(function(e){return te(e,t)})||i.push(t)},r=0,s=t.elements;r<s.length;r++)n(s[r]);return{arrayValue:{values:i}}}var ei=function(t){function e(e){var i=this;return(i=t.call(this)||this).elements=e,i}return n.__extends(e,t),e}(qe);function ii(t,e){for(var i=si(e),n=function(t){i=i.filter(function(e){return!te(e,t)})},r=0,s=t.elements;r<s.length;r++)n(s[r]);return{arrayValue:{values:i}}}var ni=function(t){function e(e,i){var n=this;return(n=t.call(this)||this).serializer=e,n.je=i,n}return n.__extends(e,t),e}(qe);function ri(t){return oe(t.integerValue||t.doubleValue)}function si(t){return ce(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oi=function(){function t(t){this.fields=t,t.sort(I.i)}return t.prototype.Ye=function(t){for(var e=0,i=this.fields;e<i.length;e++)if(i[e].T(t))return!0;return!1},t.prototype.isEqual=function(t){return Q(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),ai=function(t,e){this.field=t,this.transform=e},hi=function(t,e){this.version=t,this.transformResults=e},ui=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.ze=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"Ke",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function ci(t,e){return void 0!==t.updateTime?e instanceof Mi&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof Mi}var li=function(){};function fi(t,e,i){return t instanceof yi?function(t,e,i){return new Mi(t.key,i.version,t.value,{hasCommittedMutations:!0})}(t,0,i):t instanceof mi?function(t,e,i){if(!ci(t.Ge,e))return new ki(t.key,i.version);var n=xi(t,e);return new Mi(t.key,i.version,n,{hasCommittedMutations:!0})}(t,e,i):t instanceof bi?function(t,e,i){if(x(null!=i.transformResults),!ci(t.Ge,e))return new ki(t.key,i.version);var n=wi(t,e),r=function(t,e,i){var n=[];x(t.length===i.length);for(var r=0;r<i.length;r++){var s=t[r],o=s.transform,a=null;e instanceof Mi&&(a=e.field(s.field)),n.push(Je(o,a,i[r]))}return n}(t.fieldTransforms,e,i.transformResults),s=i.version,o=Ti(t,n.data(),r);return new Mi(t.key,s,o,{hasCommittedMutations:!0})}(t,e,i):function(t,e,i){return new Pi(t.key,i.version,{hasCommittedMutations:!0})}(t,0,i)}function di(t,e,i,n){return t instanceof yi?function(t,e){if(!ci(t.Ge,e))return e;var i=vi(e);return new Mi(t.key,i,t.value,{Je:!0})}(t,e):t instanceof mi?function(t,e){if(!ci(t.Ge,e))return e;var i=vi(e),n=xi(t,e);return new Mi(t.key,i,n,{Je:!0})}(t,e):t instanceof bi?function(t,e,i,n){if(!ci(t.Ge,e))return e;var r=wi(t,e),s=function(t,e,i,n){for(var r=[],s=0,o=t;s<o.length;s++){var a=o[s],h=a.transform,u=null;i instanceof Mi&&(u=i.field(a.field)),null===u&&n instanceof Mi&&(u=n.field(a.field)),r.push(Ke(h,u,e))}return r}(t.fieldTransforms,i,e,n),o=Ti(t,r.data(),s);return new Mi(t.key,r.version,o,{Je:!0})}(t,e,n,i):function(t,e){return ci(t.Ge,e)?new Pi(t.key,ht.min()):e}(t,e)}function pi(t,e){return t instanceof bi?function(t,e){for(var i=null,n=0,r=t.fieldTransforms;n<r.length;n++){var s=r[n],o=e instanceof Mi?e.field(s.field):void 0,a=Qe(s.transform,o||null);null!=a&&(i=null==i?(new Ei).set(s.field,a):i.set(s.field,a))}return i?i.Xe():null}(t,e):null}function gi(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.Ge.isEqual(e.Ge)&&(0===t.type?t.value.isEqual(e.value):1===t.type?t.data.isEqual(e.data)&&t.We.isEqual(e.We):2!==t.type||Q(t.fieldTransforms,t.fieldTransforms,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof $e&&e instanceof $e||t instanceof ei&&e instanceof ei?Q(t.elements,e.elements,te):t instanceof ni&&e instanceof ni?te(t.je,e.je):t instanceof Ze&&e instanceof Ze}(t.transform,e.transform)}(t,e)}))}function vi(t){return t instanceof Mi?t.version:ht.min()}var yi=function(t){function e(e,i,n){var r=this;return(r=t.call(this)||this).key=e,r.value=i,r.Ge=n,r.type=0,r}return n.__extends(e,t),e}(li),mi=function(t){function e(e,i,n,r){var s=this;return(s=t.call(this)||this).key=e,s.data=i,s.We=n,s.Ge=r,s.type=1,s}return n.__extends(e,t),e}(li);function xi(t,e){return function(t,e){var i=new Ei(e);return t.We.fields.forEach(function(e){if(!e.m()){var n=t.data.field(e);null!==n?i.set(e,n):i.delete(e)}}),i.Xe()}(t,e instanceof Mi?e.data():Ai.empty())}var bi=function(t){function e(e,i){var n=this;return(n=t.call(this)||this).key=e,n.fieldTransforms=i,n.type=2,n.Ge=ui.exists(!0),n}return n.__extends(e,t),e}(li);function wi(t,e){return e}function Ti(t,e,i){for(var n=new Ei(e),r=0;r<t.fieldTransforms.length;r++){var s=t.fieldTransforms[r];n.set(s.field,i[r])}return n.Xe()}var Si=function(t){function e(e,i){var n=this;return(n=t.call(this)||this).key=e,n.Ge=i,n.type=3,n}return n.__extends(e,t),e}(li),_i=function(t){function e(e,i){var n=this;return(n=t.call(this)||this).key=e,n.Ge=i,n.type=4,n}return n.__extends(e,t),e}(li),Ai=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.m())return this.proto;for(var e=this.proto,i=0;i<t.length-1;++i){if(!e.mapValue.fields)return null;if(!de(e=e.mapValue.fields[t.get(i)]))return null}return(e=(e.mapValue.fields||{})[t._()])||null},t.prototype.isEqual=function(t){return te(this.proto,t.proto)},t}(),Ei=function(){function t(t){void 0===t&&(t=Ai.empty()),this.Ze=t,this.tn=new Map}return t.prototype.set=function(t,e){return this.en(t,e),this},t.prototype.delete=function(t){return this.en(t,null),this},t.prototype.en=function(t,e){for(var i=this.tn,n=0;n<t.length-1;++n){var r=t.get(n),s=i.get(r);s instanceof Map?i=s:s&&10===$t(s)?(s=new Map(Object.entries(s.mapValue.fields||{})),i.set(r,s),i=s):(s=new Map,i.set(r,s),i=s)}i.set(t._(),e)},t.prototype.Xe=function(){var t=this.nn(I.P(),this.tn);return null!=t?new Ai(t):this.Ze},t.prototype.nn=function(t,e){var i=this,n=!1,r=this.Ze.field(t),s=de(r)?Object.assign({},r.mapValue.fields):{};return e.forEach(function(e,r){if(e instanceof Map){var o=i.nn(t.child(r),e);null!=o&&(s[r]=o,n=!0)}else null!==e?(s[r]=e,n=!0):s.hasOwnProperty(r)&&(delete s[r],n=!0)}),n?{mapValue:{fields:s}}:null},t}();function Ii(t){var e=[];return T(t.fields||{},function(t,i){var n=new I([t]);if(de(i)){var r=Ii(i.mapValue).fields;if(0===r.length)e.push(n);else for(var s=0,o=r;s<o.length;s++){var a=o[s];e.push(n.child(a))}}else e.push(n)}),new oi(e)
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}var Ci=function(t,e){this.key=t,this.version=e},Mi=function(t){function e(e,i,n,r){var s=this;return(s=t.call(this,e,i)||this).sn=n,s.Je=!!r.Je,s.hasCommittedMutations=!!r.hasCommittedMutations,s}return n.__extends(e,t),e.prototype.field=function(t){return this.sn.field(t)},e.prototype.data=function(){return this.sn},e.prototype.rn=function(){return this.sn.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.Je===t.Je&&this.hasCommittedMutations===t.hasCommittedMutations&&this.sn.isEqual(t.sn)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.sn.toString()+", {hasLocalMutations: "+this.Je+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.Je||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(Ci),Pi=function(t){function e(e,i,n){var r=this;return(r=t.call(this,e,i)||this).hasCommittedMutations=!(!n||!n.hasCommittedMutations),r}return n.__extends(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Ci),ki=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Ci),Oi=function(t,e,i,n,r,s,o,a){void 0===e&&(e=null),void 0===i&&(i=[]),void 0===n&&(n=[]),void 0===r&&(r=null),void 0===s&&(s="F"),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.on=i,this.filters=n,this.limit=r,this.an=s,this.startAt=o,this.endAt=a,this.cn=null,this.un=null,this.startAt,this.endAt};function Ni(t,e,i,n,r,s,o,a){return new Oi(t,e,i,n,r,s,o,a)}function Fi(t){return new Oi(t)}function Ri(t){return!ut(t.limit)&&"F"===t.an}function Li(t){return!ut(t.limit)&&"L"===t.an}function Di(t){return t.on.length>0?t.on[0].field:null}function Bi(t){for(var e=0,i=t.filters;e<i.length;e++){var n=i[e];if(n.hn())return n.field}return null}function Ui(t){return null!==t.collectionGroup}function Xi(t){var e=b(t);if(null===e.cn){e.cn=[];var i=Bi(e),n=Di(e);if(null!==i&&null===n)i.p()||e.cn.push(new cn(i)),e.cn.push(new cn(I.v(),"asc"));else{for(var r=!1,s=0,o=e.on;s<o.length;s++){var a=o[s];e.cn.push(a),a.field.p()&&(r=!0)}if(!r){var h=e.on.length>0?e.on[e.on.length-1].dir:"asc";e.cn.push(new cn(I.v(),h))}}}return e.cn}function Vi(t){var e=b(t);if(!e.un)if("F"===e.an)e.un=dt(e.path,e.collectionGroup,Xi(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var i=[],n=0,r=Xi(e);n<r.length;n++){var s=r[n],o="desc"===s.dir?"asc":"desc";i.push(new cn(s.field,o))}var a=e.endAt?new on(e.endAt.position,!e.endAt.before):null,h=e.startAt?new on(e.startAt.position,!e.startAt.before):null;e.un=dt(e.path,e.collectionGroup,i,e.filters,e.limit,a,h)}return e.un}function zi(t,e,i){return new Oi(t.path,t.collectionGroup,t.on.slice(),t.filters.slice(),e,i,t.startAt,t.endAt)}function Yi(t,e){return new Oi(t.path,t.collectionGroup,t.on.slice(),t.filters.slice(),t.limit,t.an,e,t.endAt)}function ji(t,e){return new Oi(t.path,t.collectionGroup,t.on.slice(),t.filters.slice(),t.limit,t.an,t.startAt,e)}function Gi(t,e){return gt(Vi(t),Vi(e))&&t.an===e.an}function Wi(t){return pt(Vi(t))+"|lt:"+t.an}function Hi(t){return"Query(target="+function(t){var e=t.path.R();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.R()+" "+e.op+" "+re(e.value);var e}).join(", ")+"]"),ut(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return(e=t).field.R()+" ("+e.dir+")";var e}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+an(t.startAt)),t.endAt&&(e+=", endAt: "+an(t.endAt)),"Target("+e+")"}(Vi(t))+"; limitType="+t.an+")"}function qi(t,e){return function(t,e){var i=e.key.path;return null!==t.collectionGroup?e.key.N(t.collectionGroup)&&t.path.T(i):C.F(t.path)?t.path.isEqual(i):t.path.I(i)}(t,e)&&function(t,e){for(var i=0,n=t.on;i<n.length;i++){var r=n[i];if(!r.field.p()&&null===e.field(r.field))return!1}return!0}(t,e)&&function(t,e){for(var i=0,n=t.filters;i<n.length;i++)if(!n[i].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!hn(t.startAt,Xi(t),e)||t.endAt&&hn(t.endAt,Xi(t),e))}(t,e)}function Ki(t){return function(e,i){for(var n=!1,r=0,s=Xi(t);r<s.length;r++){var o=s[r],a=ln(o,e,i);if(0!==a)return a;n=n||o.field.p()}return 0}}var Ji=function(t){function e(e,i,n){var r=this;return(r=t.call(this)||this).field=e,r.op=i,r.value=n,r}return n.__extends(e,t),e.create=function(t,i,n){if(t.p())return"in"===i||"not-in"===i?this.ln(t,i,n):new Qi(t,i,n);if(le(n)){if("=="!==i&&"!="!==i)throw new l(c.INVALID_ARGUMENT,"Invalid query. Null only supports '==' and '!=' comparisons.");return new e(t,i,n)}if(fe(n)){if("=="!==i&&"!="!==i)throw new l(c.INVALID_ARGUMENT,"Invalid query. NaN only supports '==' and '!=' comparisons.");return new e(t,i,n)}return"array-contains"===i?new en(t,n):"in"===i?new nn(t,n):"not-in"===i?new rn(t,n):"array-contains-any"===i?new sn(t,n):new e(t,i,n)},e.ln=function(t,e,i){return"in"===e?new Zi(t,i):new $i(t,i)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this._n(ie(e,this.value)):null!==e&&$t(this.value)===$t(e)&&this._n(ie(e,this.value))},e.prototype._n=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return m()}},e.prototype.hn=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),Qi=function(t){function e(e,i,n){var r=this;return(r=t.call(this,e,i,n)||this).key=C.C(n.referenceValue),r}return n.__extends(e,t),e.prototype.matches=function(t){var e=C.i(t.key,this.key);return this._n(e)},e}(Ji),Zi=function(t){function e(e,i){var n=this;return(n=t.call(this,e,"in",i)||this).keys=tn("in",i),n}return n.__extends(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(Ji),$i=function(t){function e(e,i){var n=this;return(n=t.call(this,e,"not-in",i)||this).keys=tn("not-in",i),n}return n.__extends(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(Ji);function tn(t,e){var i;return((null===(i=e.arrayValue)||void 0===i?void 0:i.values)||[]).map(function(t){return C.C(t.referenceValue)})}var en=function(t){function e(e,i){return t.call(this,e,"array-contains",i)||this}return n.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return ce(e)&&ee(e.arrayValue,this.value)},e}(Ji),nn=function(t){function e(e,i){return t.call(this,e,"in",i)||this}return n.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&ee(this.value.arrayValue,e)},e}(Ji),rn=function(t){function e(e,i){return t.call(this,e,"not-in",i)||this}return n.__extends(e,t),e.prototype.matches=function(t){if(ee(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!ee(this.value.arrayValue,e)},e}(Ji),sn=function(t){function e(e,i){return t.call(this,e,"array-contains-any",i)||this}return n.__extends(e,t),e.prototype.matches=function(t){var e=this,i=t.field(this.field);return!(!ce(i)||!i.arrayValue.values)&&i.arrayValue.values.some(function(t){return ee(e.value.arrayValue,t)})},e}(Ji),on=function(t,e){this.position=t,this.before=e};function an(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return re(t)}).join(",")}function hn(t,e,i){for(var n=0,r=0;r<t.position.length;r++){var s=e[r],o=t.position[r];if(n=s.field.p()?C.i(C.C(o.referenceValue),i.key):ie(o,i.field(s.field)),"desc"===s.dir&&(n*=-1),0!==n)break}return t.before?n<=0:n<0}function un(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var i=0;i<t.position.length;i++)if(!te(t.position[i],e.position[i]))return!1;return!0}var cn=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function ln(t,e,i){var n=t.field.p()?C.i(e.key,i.key):function(t,e,i){var n=e.field(t),r=i.field(t);return null!==n&&null!==r?ie(n,r):m()}(t.field,e,i);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return m()}}function fn(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dn=function(){var t=this;this.promise=new Promise(function(e,i){t.resolve=e,t.reject=i})},pn=function(){function t(t,e,i,n,r){void 0===i&&(i=1e3),void 0===n&&(n=1.5),void 0===r&&(r=6e4),this.fn=t,this.dn=e,this.wn=i,this.mn=n,this.Tn=r,this.En=0,this.In=null,this.An=Date.now(),this.reset()}return t.prototype.reset=function(){this.En=0},t.prototype.Rn=function(){this.En=this.Tn},t.prototype.gn=function(t){var e=this;this.cancel();var i=Math.floor(this.En+this.Pn()),n=Math.max(0,Date.now()-this.An),r=Math.max(0,i-n);r>0&&p("ExponentialBackoff","Backing off for "+r+" ms (base delay: "+this.En+" ms, delay with jitter: "+i+" ms, last attempt: "+n+" ms ago)"),this.In=this.fn.yn(this.dn,r,function(){return e.An=Date.now(),t()}),this.En*=this.mn,this.En<this.wn&&(this.En=this.wn),this.En>this.Tn&&(this.En=this.Tn)},t.prototype.Vn=function(){null!==this.In&&(this.In.pn(),this.In=null)},t.prototype.cancel=function(){null!==this.In&&(this.In.cancel(),this.In=null)},t.prototype.Pn=function(){return(Math.random()-.5)*this.En},t}(),gn=function(){function t(t){var e=this;this.bn=null,this.vn=null,this.result=void 0,this.error=void 0,this.Sn=!1,this.Dn=!1,t(function(t){e.Sn=!0,e.result=t,e.bn&&e.bn(t)},function(t){e.Sn=!0,e.error=t,e.vn&&e.vn(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,i){var n=this;return this.Dn&&m(),this.Dn=!0,this.Sn?this.error?this.Cn(i,this.error):this.Nn(e,this.result):new t(function(t,r){n.bn=function(i){n.Nn(e,i).next(t,r)},n.vn=function(e){n.Cn(i,e).next(t,r)}})},t.prototype.Fn=function(){var t=this;return new Promise(function(e,i){t.next(e,i)})},t.prototype.xn=function(e){try{var i=e();return i instanceof t?i:t.resolve(i)}catch(e){return t.reject(e)}},t.prototype.Nn=function(e,i){return e?this.xn(function(){return e(i)}):t.resolve(i)},t.prototype.Cn=function(e,i){return e?this.xn(function(){return e(i)}):t.reject(i)},t.resolve=function(e){return new t(function(t,i){t(e)})},t.reject=function(e){return new t(function(t,i){i(e)})},t.$n=function(e){return new t(function(t,i){var n=0,r=0,s=!1;e.forEach(function(e){++n,e.next(function(){++r,s&&r===n&&t()},function(t){return i(t)})}),s=!0,r===n&&t()})},t.kn=function(e){for(var i=t.resolve(!1),n=function(e){i=i.next(function(i){return i?t.resolve(i):e()})},r=0,s=e;r<s.length;r++)n(s[r]);return i},t.forEach=function(t,e){var i=this,n=[];return t.forEach(function(t,r){n.push(e.call(i,t,r))}),this.$n(n)},t}(),vn=function(){function e(t,i,n){this.name=t,this.version=i,this.Mn=n,12.2===e.On(o.getUA())&&g("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(t){return p("SimpleDb","Removing database:",t),Tn(window.indexedDB.deleteDatabase(t)).Fn()},e.Ln=function(){if("undefined"==typeof indexedDB)return!1;if(e.Bn())return!0;var t=o.getUA(),i=e.On(t),n=0<i&&i<10,r=e.qn(t),s=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||n||s)},e.Bn=function(){var e;return void 0!==t&&"YES"===(null===(e=t.env)||void 0===e?void 0:e.Un)},e.Qn=function(t,e){return t.store(e)},e.On=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)},e.qn=function(t){var e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)},e.prototype.Wn=function(t){return n.__awaiter(this,void 0,void 0,function(){var e,i=this;return n.__generator(this,function(n){switch(n.label){case 0:return this.db?[3,2]:(p("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,n){var r=indexedDB.open(i.name,i.version);r.onsuccess=function(t){var i=t.target.result;e(i)},r.onblocked=function(){n(new mn(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=function(e){var i=e.target.error;"VersionError"===i.name?n(new l(c.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):n(new mn(t,i))},r.onupgradeneeded=function(t){p("SimpleDb",'Database "'+i.name+'" requires upgrade from version:',t.oldVersion);var e=t.target.result;i.Mn.createOrUpgrade(e,r.transaction,t.oldVersion,i.version).next(function(){p("SimpleDb","Database upgrade to version "+i.version+" complete")})}})]);case 1:e.db=n.sent(),n.label=2;case 2:return[2,(this.jn&&(this.db.onversionchange=function(t){return i.jn(t)}),this.db)]}})})},e.prototype.Kn=function(t){this.jn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},e.prototype.runTransaction=function(t,e,i,r){return n.__awaiter(this,void 0,void 0,function(){var s,o,a,h,u;return n.__generator(this,function(c){switch(c.label){case 0:s="readonly"===e,o=0,a=function(){var e,a,u,c,l;return n.__generator(this,function(n){switch(n.label){case 0:++o,n.label=1;case 1:return n.trys.push([1,4,,5]),[4,h.Wn(t)];case 2:return h.db=n.sent(),e=bn.open(h.db,t,s?"readonly":"readwrite",i),a=r(e).catch(function(t){return e.abort(t),gn.reject(t)}).Fn(),u={},a.catch(function(){}),[4,e.Gn];case 3:return[2,(u.value=(n.sent(),a),u)];case 4:return c=n.sent(),l="FirebaseError"!==c.name&&o<3,p("SimpleDb","Transaction failed with error:",c.message,"Retrying:",l),h.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},h=this,c.label=1;case 1:return[5,a()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),yn=function(){function t(t){this.zn=t,this.Hn=!1,this.Yn=null}return Object.defineProperty(t.prototype,"Sn",{get:function(){return this.Hn},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Jn",{get:function(){return this.Yn},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.zn=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Hn=!0},t.prototype.Xn=function(t){this.Yn=t},t.prototype.delete=function(){return Tn(this.zn.delete())},t}(),mn=function(t){function e(e,i){var n=this;return(n=t.call(this,c.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+i)||this).name="IndexedDbTransactionError",n}return n.__extends(e,t),e}(l);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(t){return"IndexedDbTransactionError"===t.name}var bn=function(){function t(t,e){var i=this;this.action=t,this.transaction=e,this.aborted=!1,this.Zn=new dn,this.transaction.oncomplete=function(){i.Zn.resolve()},this.transaction.onabort=function(){e.error?i.Zn.reject(new mn(t,e.error)):i.Zn.resolve()},this.transaction.onerror=function(e){var n=_n(e.target.error);i.Zn.reject(new mn(t,n))}}return t.open=function(e,i,n,r){try{return new t(i,e.transaction(r,n))}catch(e){throw new mn(i,e)}},Object.defineProperty(t.prototype,"Gn",{get:function(){return this.Zn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.Zn.reject(t),this.aborted||(p("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new wn(e)},t}(),wn=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var i;return void 0!==e?(p("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(p("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),Tn(i)},t.prototype.add=function(t){return p("SimpleDb","ADD",this.store.name,t,t),Tn(this.store.add(t))},t.prototype.get=function(t){var e=this;return Tn(this.store.get(t)).next(function(i){return void 0===i&&(i=null),p("SimpleDb","GET",e.store.name,t,i),i})},t.prototype.delete=function(t){return p("SimpleDb","DELETE",this.store.name,t),Tn(this.store.delete(t))},t.prototype.count=function(){return p("SimpleDb","COUNT",this.store.name),Tn(this.store.count())},t.prototype.ts=function(t,e){var i=this.cursor(this.options(t,e)),n=[];return this.es(i,function(t,e){n.push(e)}).next(function(){return n})},t.prototype.ns=function(t,e){p("SimpleDb","DELETE ALL",this.store.name);var i=this.options(t,e);i.ss=!1;var n=this.cursor(i);return this.es(n,function(t,e,i){return i.delete()})},t.prototype.rs=function(t,e){var i;e?i=t:(i={},e=t);var n=this.cursor(i);return this.es(n,e)},t.prototype.os=function(t){var e=this.cursor({});return new gn(function(i,n){e.onerror=function(t){var e=_n(t.target.error);n(e)},e.onsuccess=function(e){var n=e.target.result;n?t(n.primaryKey,n.value).next(function(t){t?n.continue():i()}):i()}})},t.prototype.es=function(t,e){var i=[];return new gn(function(n,r){t.onerror=function(t){r(t.target.error)},t.onsuccess=function(t){var r=t.target.result;if(r){var s=new yn(r),o=e(r.primaryKey,r.value,s);if(o instanceof gn){var a=o.catch(function(t){return s.done(),gn.reject(t)});i.push(a)}s.Sn?n():null===s.Jn?r.continue():r.continue(s.Jn)}else n()}}).next(function(){return gn.$n(i)})},t.prototype.options=function(t,e){var i=void 0;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var i=this.store.index(t.index);return t.ss?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Tn(t){return new gn(function(e,i){t.onsuccess=function(t){var i=t.target.result;e(i)},t.onerror=function(t){var e=_n(t.target.error);i(e)}})}var Sn=!1;function _n(t){var e=vn.On(o.getUA());if(e>=12.2&&e<13){var i="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(i)>=0){var n=new l("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+i+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Sn||(Sn=!0,setTimeout(function(){throw n},0)),n}}return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function An(){return"undefined"!=typeof window?window:null}function En(){return"undefined"!=typeof document?document:null}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var In=function(){function t(t,e,i,n,r){this.cs=t,this.dn=e,this.us=i,this.op=n,this.hs=r,this.ls=new dn,this.then=this.ls.promise.then.bind(this.ls.promise),this.ls.promise.catch(function(t){})}return t._s=function(e,i,n,r,s){var o=new t(e,i,Date.now()+n,r,s);return o.start(n),o},t.prototype.start=function(t){var e=this;this.fs=setTimeout(function(){return e.ds()},t)},t.prototype.pn=function(){return this.ds()},t.prototype.cancel=function(t){null!==this.fs&&(this.clearTimeout(),this.ls.reject(new l(c.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.ds=function(){var t=this;this.cs.ws(function(){return null!==t.fs?(t.clearTimeout(),t.op().then(function(e){return t.ls.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.fs&&(this.hs(this),clearTimeout(this.fs),this.fs=null)},t}(),Cn=function(){function t(){var t=this;this.Ts=Promise.resolve(),this.Es=[],this.Is=!1,this.As=[],this.Rs=null,this.gs=!1,this.Ps=[],this.ys=new pn(this,"async_queue_retry"),this.Vs=function(){var e=En();e&&p("AsyncQueue","Visibility state changed to  ",e.visibilityState),t.ys.Vn()};var e=En();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Vs)}return Object.defineProperty(t.prototype,"ps",{get:function(){return this.Is},enumerable:!1,configurable:!0}),t.prototype.ws=function(t){this.enqueue(t)},t.prototype.bs=function(t){this.vs(),this.Ss(t)},t.prototype.Ds=function(){if(!this.Is){this.Is=!0;var t=En();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Vs)}},t.prototype.enqueue=function(t){return this.vs(),this.Is?new Promise(function(t){}):this.Ss(t)},t.prototype.Cs=function(t){var e=this;this.ws(function(){return e.Es.push(t),e.Ns()})},t.prototype.Ns=function(){return n.__awaiter(this,void 0,void 0,function(){var t,e=this;return n.__generator(this,function(i){switch(i.label){case 0:if(0===this.Es.length)return[3,5];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.Es[0]()];case 2:return i.sent(),this.Es.shift(),this.ys.reset(),[3,4];case 3:if(!xn(t=i.sent()))throw t;return p("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Es.length>0&&this.ys.gn(function(){return e.Ns()}),i.label=5;case 5:return[2]}})})},t.prototype.Ss=function(t){var e=this,i=this.Ts.then(function(){return e.gs=!0,t().catch(function(t){throw e.Rs=t,e.gs=!1,g("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.gs=!1,t})});return this.Ts=i,i},t.prototype.yn=function(t,e,i){var n=this;this.vs(),this.Ps.indexOf(t)>-1&&(e=0);var r=In._s(this,t,e,i,function(t){return n.Fs(t)});return this.As.push(r),r},t.prototype.vs=function(){this.Rs&&m()},t.prototype.xs=function(){},t.prototype.$s=function(){return n.__awaiter(this,void 0,void 0,function(){var t;return n.__generator(this,function(e){switch(e.label){case 0:return[4,t=this.Ts];case 1:e.sent(),e.label=2;case 2:if(t!==this.Ts)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.ks=function(t){for(var e=0,i=this.As;e<i.length;e++)if(i[e].dn===t)return!0;return!1},t.prototype.Ms=function(t){var e=this;return this.$s().then(function(){e.As.sort(function(t,e){return t.us-e.us});for(var i=0,n=e.As;i<n.length;i++){var r=n[i];if(r.pn(),"all"!==t&&r.dn===t)break}return e.$s()})},t.prototype.Os=function(t){this.Ps.push(t)},t.prototype.Fs=function(t){var e=this.As.indexOf(t);this.As.splice(e,1)},t}();function Mn(t,e){if(g("AsyncQueue",e+": "+t),xn(t))return new l(c.UNAVAILABLE,e+": "+t);throw t}var Pn=function(){this.Ls=void 0,this.listeners=[]},kn=function(){this.Bs=new ot(function(t){return Wi(t)},Gi),this.onlineState="Unknown",this.qs=new Set};function On(t,e){return n.__awaiter(this,void 0,void 0,function(){var i,r,s,o,a,h,u;return n.__generator(this,function(n){switch(n.label){case 0:if(i=b(t),r=e.query,s=!1,(o=i.Bs.get(r))||(s=!0,o=new Pn),!s)return[3,4];n.label=1;case 1:return n.trys.push([1,3,,4]),a=o,[4,i.Us(r)];case 2:return a.Ls=n.sent(),[3,4];case 3:return h=n.sent(),u=Mn(h,"Initialization of query '"+Hi(e.query)+"' failed"),[2,void e.onError(u)];case 4:return i.Bs.set(r,o),o.listeners.push(e),e.Qs(i.onlineState),o.Ls&&e.Ws(o.Ls)&&Fn(i),[2]}})})}function Nn(t,e){return n.__awaiter(this,void 0,void 0,function(){var i,r,s,o,a;return n.__generator(this,function(n){return i=b(t),r=e.query,s=!1,(o=i.Bs.get(r))&&(a=o.listeners.indexOf(e))>=0&&(o.listeners.splice(a,1),s=0===o.listeners.length),s?[2,(i.Bs.delete(r),i.js(r))]:[2]})})}function Fn(t){t.qs.forEach(function(t){t.next()})}var Rn=function(){function t(t,e,i){this.query=t,this.Ks=e,this.Gs=!1,this.zs=null,this.onlineState="Unknown",this.options=i||{}}return t.prototype.Ws=function(t){if(!this.options.includeMetadataChanges){for(var e=[],i=0,n=t.docChanges;i<n.length;i++){var r=n[i];3!==r.type&&e.push(r)}t=new Xt(t.query,t.docs,t.Qt,e,t.Wt,t.fromCache,t.jt,!0)}var s=!1;return this.Gs?this.Hs(t)&&(this.Ks.next(t),s=!0):this.Ys(t,this.onlineState)&&(this.Js(t),s=!0),this.zs=t,s},t.prototype.onError=function(t){this.Ks.error(t)},t.prototype.Qs=function(t){this.onlineState=t;var e=!1;return this.zs&&!this.Gs&&this.Ys(this.zs,t)&&(this.Js(this.zs),e=!0),e},t.prototype.Ys=function(t,e){if(!t.fromCache)return!0;var i="Offline"!==e;return!(this.options.Xs&&i||t.docs.m()&&"Offline"!==e)},t.prototype.Hs=function(t){if(t.docChanges.length>0)return!0;var e=this.zs&&this.zs.hasPendingWrites!==t.hasPendingWrites;return!(!t.jt&&!e)&&!0===this.options.includeMetadataChanges},t.prototype.Js=function(t){t=Xt.Gt(t.query,t.docs,t.Wt,t.fromCache),this.Gs=!0,this.Ks.next(t)},t}(),Ln=function(){function t(t){this.uid=t}return t.prototype.Zs=function(){return null!=this.uid},t.prototype.ti=function(){return this.Zs()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ln.UNAUTHENTICATED=new Ln(null),Ln.ei=new Ln("google-credentials-uid"),Ln.ni=new Ln("first-party-uid");
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Dn=function(){function t(t,e){var i=this;this.previousValue=t,e&&(e.si=function(t){return i.ii(t)},this.ri=function(t){return e.oi(t)})}return t.prototype.ii=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.ri&&this.ri(t),t},t}();function Bn(t,e){return"firestore_clients_"+t+"_"+e}function Un(t,e,i){var n="firestore_mutations_"+t+"_"+i;return e.Zs()&&(n+="_"+e.uid),n}function Xn(t,e){return"firestore_targets_"+t+"_"+e}Dn.ai=-1;var Vn=function(){function t(t,e,i,n){this.user=t,this.batchId=e,this.state=i,this.error=n}return t.ci=function(e,i,n){var r=JSON.parse(n),s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new l(r.error.code,r.error.message)),s?new t(e,i,r.state,o):(g("SharedClientState","Failed to parse mutation state for ID '"+i+"': "+n),null)},t.prototype.ui=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),zn=function(){function t(t,e,i){this.targetId=t,this.state=e,this.error=i}return t.ci=function(e,i){var n=JSON.parse(i),r="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error),s=void 0;return r&&n.error&&(r="string"==typeof n.error.message&&"string"==typeof n.error.code)&&(s=new l(n.error.code,n.error.message)),r?new t(e,n.state,s):(g("SharedClientState","Failed to parse target state for ID '"+e+"': "+i),null)},t.prototype.ui=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Yn=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.ci=function(e,i){for(var n=JSON.parse(i),r="object"==typeof n&&n.activeTargetIds instanceof Array,s=Dt(),o=0;r&&o<n.activeTargetIds.length;++o)r=lt(n.activeTargetIds[o]),s=s.add(n.activeTargetIds[o]);return r?new t(e,s):(g("SharedClientState","Failed to parse client data for instance '"+e+"': "+i),null)},t}(),jn=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.ci=function(e){var i=JSON.parse(e);return"object"==typeof i&&-1!==["Unknown","Online","Offline"].indexOf(i.onlineState)&&"string"==typeof i.clientId?new t(i.clientId,i.onlineState):(g("SharedClientState","Failed to parse online state: "+e),null)},t}(),Gn=function(){function t(){this.activeTargetIds=Dt()}return t.prototype.hi=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.li=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.ui=function(){var t={activeTargetIds:this.activeTargetIds.A(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Wn=function(){function t(t,e,i,n,r){this.window=t,this.fn=e,this.persistenceKey=i,this._i=n,this.fi=null,this.di=null,this.si=null,this.wi=this.mi.bind(this),this.Ti=new St(J),this.Ei=!1,this.Ii=[];var s=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=r,this.Ai=Bn(this.persistenceKey,this._i),this.Ri=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Ti=this.Ti.ot(this._i,new Gn),this.gi=new RegExp("^firestore_clients_"+s+"_([^_]*)$"),this.Pi=new RegExp("^firestore_mutations_"+s+"_(\\d+)(?:_(.*))?$"),this.yi=new RegExp("^firestore_targets_"+s+"_(\\d+)$"),this.Vi=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.wi)}return t.Ln=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return n.__awaiter(this,void 0,void 0,function(){var t,e,i,r,s,o,a,h,u,c,l,f=this;return n.__generator(this,function(n){switch(n.label){case 0:return[4,this.fi.pi()];case 1:for(t=n.sent(),e=0,i=t;e<i.length;e++)(r=i[e])!==this._i&&(s=this.getItem(Bn(this.persistenceKey,r)))&&(o=Yn.ci(r,s))&&(this.Ti=this.Ti.ot(o.clientId,o));for(this.bi(),(a=this.storage.getItem(this.Vi))&&(h=this.vi(a))&&this.Si(h),u=0,c=this.Ii;u<c.length;u++)l=c[u],this.mi(l);return this.Ii=[],this.window.addEventListener("unload",function(){return f.Di()}),this.Ei=!0,[2]}})})},t.prototype.oi=function(t){this.setItem(this.Ri,JSON.stringify(t))},t.prototype.Ci=function(){return this.Ni(this.Ti)},t.prototype.Fi=function(t){var e=!1;return this.Ti.forEach(function(i,n){n.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.xi=function(t){this.$i(t,"pending")},t.prototype.ki=function(t,e,i){this.$i(t,e,i),this.Mi(t)},t.prototype.Oi=function(t){var e="not-current";if(this.Fi(t)){var i=this.storage.getItem(Xn(this.persistenceKey,t));if(i){var n=zn.ci(t,i);n&&(e=n.state)}}return this.Li.hi(t),this.bi(),e},t.prototype.Bi=function(t){this.Li.li(t),this.bi()},t.prototype.qi=function(t){return this.Li.activeTargetIds.has(t)},t.prototype.Ui=function(t){this.removeItem(Xn(this.persistenceKey,t))},t.prototype.Qi=function(t,e,i){this.Wi(t,e,i)},t.prototype.ji=function(t,e,i){var n=this;e.forEach(function(t){n.Mi(t)}),this.currentUser=t,i.forEach(function(t){n.xi(t)})},t.prototype.Ki=function(t){this.Gi(t)},t.prototype.Di=function(){this.Ei&&(this.window.removeEventListener("storage",this.wi),this.removeItem(this.Ai),this.Ei=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return p("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){p("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){p("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.mi=function(t){var e=this,i=t;if(i.storageArea===this.storage){if(p("SharedClientState","EVENT",i.key,i.newValue),i.key===this.Ai)return void g("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.fn.Cs(function(){return n.__awaiter(e,void 0,void 0,function(){var t,e,r,s,o,a;return n.__generator(this,function(n){if(this.Ei){if(null!==i.key)if(this.gi.test(i.key)){if(null==i.newValue)return t=this.zi(i.key),[2,this.Hi(t,null)];if(e=this.Yi(i.key,i.newValue))return[2,this.Hi(e.clientId,e)]}else if(this.Pi.test(i.key)){if(null!==i.newValue&&(r=this.Ji(i.key,i.newValue)))return[2,this.Xi(r)]}else if(this.yi.test(i.key)){if(null!==i.newValue&&(s=this.Zi(i.key,i.newValue)))return[2,this.tr(s)]}else if(i.key===this.Vi){if(null!==i.newValue&&(o=this.vi(i.newValue)))return[2,this.Si(o)]}else i.key===this.Ri&&(a=function(t){var e=Dn.ai;if(null!=t)try{var i=JSON.parse(t);x("number"==typeof i),e=i}catch(t){g("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(i.newValue))!==Dn.ai&&this.si(a)}else this.Ii.push(i);return[2]})})})}},Object.defineProperty(t.prototype,"Li",{get:function(){return this.Ti.get(this._i)},enumerable:!1,configurable:!0}),t.prototype.bi=function(){this.setItem(this.Ai,this.Li.ui())},t.prototype.$i=function(t,e,i){var n=new Vn(this.currentUser,t,e,i),r=Un(this.persistenceKey,this.currentUser,t);this.setItem(r,n.ui())},t.prototype.Mi=function(t){var e=Un(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Gi=function(t){var e={clientId:this._i,onlineState:t};this.storage.setItem(this.Vi,JSON.stringify(e))},t.prototype.Wi=function(t,e,i){var n=Xn(this.persistenceKey,t),r=new zn(t,e,i);this.setItem(n,r.ui())},t.prototype.zi=function(t){var e=this.gi.exec(t);return e?e[1]:null},t.prototype.Yi=function(t,e){var i=this.zi(t);return Yn.ci(i,e)},t.prototype.Ji=function(t,e){var i=this.Pi.exec(t),n=Number(i[1]),r=void 0!==i[2]?i[2]:null;return Vn.ci(new Ln(r),n,e)},t.prototype.Zi=function(t,e){var i=this.yi.exec(t),n=Number(i[1]);return zn.ci(n,e)},t.prototype.vi=function(t){return jn.ci(t)},t.prototype.Xi=function(t){return n.__awaiter(this,void 0,void 0,function(){return n.__generator(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.fi.er(t.batchId,t.state,t.error)]:(p("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.tr=function(t){return this.fi.nr(t.targetId,t.state,t.error)},t.prototype.Hi=function(t,e){var i=this,n=e?this.Ti.ot(t,e):this.Ti.remove(t),r=this.Ni(this.Ti),s=this.Ni(n),o=[],a=[];return s.forEach(function(t){r.has(t)||o.push(t)}),r.forEach(function(t){s.has(t)||a.push(t)}),this.fi.sr(o,a).then(function(){i.Ti=n})},t.prototype.Si=function(t){this.Ti.get(t.clientId)&&this.di(t.onlineState)},t.prototype.Ni=function(t){var e=Dt();return t.forEach(function(t,i){e=e.kt(i.activeTargetIds)}),e},t}(),Hn=function(){function t(){this.ir=new Gn,this.rr={},this.di=null,this.si=null}return t.prototype.xi=function(t){},t.prototype.ki=function(t,e,i){},t.prototype.Oi=function(t){return this.ir.hi(t),this.rr[t]||"not-current"},t.prototype.Qi=function(t,e,i){this.rr[t]=e},t.prototype.Bi=function(t){this.ir.li(t)},t.prototype.qi=function(t){return this.ir.activeTargetIds.has(t)},t.prototype.Ui=function(t){delete this.rr[t]},t.prototype.Ci=function(){return this.ir.activeTargetIds},t.prototype.Fi=function(t){return this.ir.activeTargetIds.has(t)},t.prototype.start=function(){return this.ir=new Gn,Promise.resolve()},t.prototype.ji=function(t,e,i){},t.prototype.Ki=function(t){},t.prototype.Di=function(){},t.prototype.oi=function(t){},t}(),qn=function(){function t(t,e,i,n){this.batchId=t,this.ar=e,this.baseMutations=i,this.mutations=n}return t.prototype.cr=function(t,e,i){for(var n=i.ur,r=0;r<this.mutations.length;r++){var s=this.mutations[r];s.key.isEqual(t)&&(e=fi(s,e,n[r]))}return e},t.prototype.hr=function(t,e){for(var i=0,n=this.baseMutations;i<n.length;i++){var r=n[i];r.key.isEqual(t)&&(e=di(r,e,e,this.ar))}for(var s=e,o=0,a=this.mutations;o<a.length;o++){var h=a[o];h.key.isEqual(t)&&(e=di(h,e,s,this.ar))}return e},t.prototype.lr=function(t){var e=this,i=t;return this.mutations.forEach(function(n){var r=e.hr(n.key,t.get(n.key));r&&(i=i.ot(n.key,r))}),i},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},Rt())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Q(this.mutations,t.mutations,function(t,e){return gi(t,e)})&&Q(this.baseMutations,t.baseMutations,function(t,e){return gi(t,e)})},t}(),Kn=function(){function t(t,e,i,n){this.batch=t,this._r=e,this.ur=i,this.dr=n}return t.from=function(e,i,n){x(e.mutations.length===n.length);for(var r=Nt,s=e.mutations,o=0;o<s.length;o++)r=r.ot(s[o].key,n[o].version);return new t(e,i,n,r)},t}(),Jn=function(){function t(){this.wr=new ot(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.mr=!1}return Object.defineProperty(t.prototype,"readTime",{get:function(){return this.Tr},set:function(t){this.Tr=t},enumerable:!1,configurable:!0}),t.prototype.Er=function(t,e){this.Ir(),this.readTime=e,this.wr.set(t.key,t)},t.prototype.Ar=function(t,e){this.Ir(),e&&(this.readTime=e),this.wr.set(t,null)},t.prototype.Rr=function(t,e){this.Ir();var i=this.wr.get(e);return void 0!==i?gn.resolve(i):this.gr(t,e)},t.prototype.getEntries=function(t,e){return this.Pr(t,e)},t.prototype.apply=function(t){return this.Ir(),this.mr=!0,this.yr(t)},t.prototype.Ir=function(){},t}(),Qn="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Zn=function(){function t(){this.Vr=[]}return t.prototype.pr=function(t){this.Vr.push(t)},t.prototype.br=function(){this.Vr.forEach(function(t){return t()})},t}(),$n=function(){function t(t,e,i){this.vr=t,this.Sr=e,this.Dr=i}return t.prototype.Cr=function(t,e){var i=this;return this.Sr.Nr(t,e).next(function(n){return i.Fr(t,e,n)})},t.prototype.Fr=function(t,e,i){return this.vr.Rr(t,e).next(function(t){for(var n=0,r=i;n<r.length;n++)t=r[n].hr(e,t);return t})},t.prototype.$r=function(t,e,i){var n=Pt();return e.forEach(function(t,e){for(var r=0,s=i;r<s.length;r++)e=s[r].hr(t,e);n=n.ot(t,e)}),n},t.prototype.kr=function(t,e){var i=this;return this.vr.getEntries(t,e).next(function(e){return i.Mr(t,e)})},t.prototype.Mr=function(t,e){var i=this;return this.Sr.Or(t,e).next(function(n){var r=i.$r(t,e,n),s=Mt();return r.forEach(function(t,e){e||(e=new Pi(t,ht.min())),s=s.ot(t,e)}),s})},t.prototype.Lr=function(t,e,i){return function(t){return C.F(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Br(t,e.path):Ui(e)?this.qr(t,e,i):this.Ur(t,e,i)},t.prototype.Br=function(t,e){return this.Cr(t,new C(e)).next(function(t){var e=Ot();return t instanceof Mi&&(e=e.ot(t.key,t)),e})},t.prototype.qr=function(t,e,i){var n=this,r=e.collectionGroup,s=Ot();return this.Dr.Qr(t,r).next(function(o){return gn.forEach(o,function(o){var a=function(t,e){return new Oi(e,null,t.on.slice(),t.filters.slice(),t.limit,t.an,t.startAt,t.endAt)}(e,o.child(r));return n.Ur(t,a,i).next(function(t){t.forEach(function(t,e){s=s.ot(t,e)})})}).next(function(){return s})})},t.prototype.Ur=function(t,e,i){var n,r,s=this;return this.vr.Lr(t,e,i).next(function(i){return n=i,s.Sr.Wr(t,e)}).next(function(e){return r=e,s.jr(t,r,n).next(function(t){n=t;for(var e=0,i=r;e<i.length;e++)for(var s=i[e],o=0,a=s.mutations;o<a.length;o++){var h=a[o],u=h.key,c=n.get(u),l=di(h,c,c,s.ar);n=l instanceof Mi?n.ot(u,l):n.remove(u)}})}).next(function(){return n.forEach(function(t,i){qi(e,i)||(n=n.remove(t))}),n})},t.prototype.jr=function(t,e,i){for(var n=Rt(),r=0,s=e;r<s.length;r++)for(var o=0,a=s[r].mutations;o<a.length;o++){var h=a[o];h instanceof mi&&null===i.get(h.key)&&(n=n.add(h.key))}var u=i;return this.vr.getEntries(t,n).next(function(t){return t.forEach(function(t,e){null!==e&&e instanceof Mi&&(u=u.ot(t,e))}),u})},t}(),tr=function(){function t(t,e,i,n){this.targetId=t,this.fromCache=e,this.Kr=i,this.Gr=n}return t.zr=function(e,i){for(var n=Rt(),r=Rt(),s=0,o=i.docChanges;s<o.length;s++){var a=o[s];switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}}return new t(e,i.fromCache,n,r)},t}();
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function er(t,e){var i=t[0],n=t[1],r=e[0],s=e[1],o=J(i,r);return 0===o?J(n,s):o}var ir=function(){function t(t){this.Hr=t,this.buffer=new Et(er),this.Yr=0}return t.prototype.Jr=function(){return++this.Yr},t.prototype.Xr=function(t){var e=[t,this.Jr()];if(this.buffer.size<this.Hr)this.buffer=this.buffer.add(e);else{var i=this.buffer.last();er(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),nr={Zr:!1,eo:0,no:0,so:0},rr=function(){function t(t,e,i){this.io=t,this.ro=e,this.oo=i}return t.ao=function(e){return new t(e,t.co,t.uo)},t}();rr.ho=-1,rr.lo=1048576,rr._o=41943040,rr.co=10,rr.uo=1e3,rr.fo=new rr(rr._o,rr.co,rr.uo),rr.do=new rr(rr.ho,0,0);var sr=function(){function t(t,e){this.wo=t,this.cs=e,this.mo=!1,this.To=null}return t.prototype.start=function(t){this.wo.params.io!==rr.ho&&this.Eo(t)},t.prototype.stop=function(){this.To&&(this.To.cancel(),this.To=null)},Object.defineProperty(t.prototype,"Ei",{get:function(){return null!==this.To},enumerable:!1,configurable:!0}),t.prototype.Eo=function(t){var e=this,i=this.mo?3e5:6e4;p("LruGarbageCollector","Garbage collection scheduled in "+i+"ms"),this.To=this.cs.yn("lru_garbage_collection",i,function(){return n.__awaiter(e,void 0,void 0,function(){var e;return n.__generator(this,function(i){switch(i.label){case 0:this.To=null,this.mo=!0,i.label=1;case 1:return i.trys.push([1,3,,7]),[4,t.Io(this.wo)];case 2:return i.sent(),[3,7];case 3:return xn(e=i.sent())?(p("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,_s(e)];case 5:i.sent(),i.label=6;case 6:return[3,7];case 7:return[4,this.Eo(t)];case 8:return i.sent(),[2]}})})})},t}(),or=function(){function t(t,e){this.Ao=t,this.params=e}return t.prototype.Ro=function(t,e){return this.Ao.Po(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.yo=function(t,e){var i=this;if(0===e)return gn.resolve(Dn.ai);var n=new ir(e);return this.Ao.Ce(t,function(t){return n.Xr(t.sequenceNumber)}).next(function(){return i.Ao.Vo(t,function(t){return n.Xr(t)})}).next(function(){return n.maxValue})},t.prototype.po=function(t,e,i){return this.Ao.po(t,e,i)},t.prototype.bo=function(t,e){return this.Ao.bo(t,e)},t.prototype.vo=function(t,e){var i=this;return this.params.io===rr.ho?(p("LruGarbageCollector","Garbage collection skipped; disabled"),gn.resolve(nr)):this.So(t).next(function(n){return n<i.params.io?(p("LruGarbageCollector","Garbage collection skipped; Cache size "+n+" is lower than threshold "+i.params.io),nr):i.Do(t,e)})},t.prototype.So=function(t){return this.Ao.So(t)},t.prototype.Do=function(t,e){var i,n,r,o,a,h,u,c=this,l=Date.now();return this.Ro(t,this.params.ro).next(function(e){return e>c.params.oo?(p("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.oo+" from "+e),n=c.params.oo):n=e,o=Date.now(),c.yo(t,n)}).next(function(n){return i=n,a=Date.now(),c.po(t,i,e)}).next(function(e){return r=e,h=Date.now(),c.bo(t,i)}).next(function(t){return u=Date.now(),d()<=s.LogLevel.DEBUG&&p("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+n+" in "+(a-o)+"ms\n\tRemoved "+r+" targets in "+(h-a)+"ms\n\tRemoved "+t+" documents in "+(u-h)+"ms\nTotal Duration: "+(u-l)+"ms"),gn.resolve({Zr:!0,eo:n,no:r,so:t})})},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ar(t){for(var e="",i=0;i<t.length;i++)e.length>0&&(e=ur(e)),e=hr(t.get(i),e);return ur(e)}function hr(t,e){for(var i=e,n=t.length,r=0;r<n;r++){var s=t.charAt(r);switch(s){case"\0":i+="";break;case"":i+="";break;default:i+=s}}return i}function ur(t){return t+""}function cr(t){var e=t.length;if(x(e>=2),2===e)return x(""===t.charAt(0)&&""===t.charAt(1)),A.P();for(var i=e-2,n=[],r="",s=0;s<e;){var o=t.indexOf("",s);switch((o<0||o>i)&&m(),t.charAt(o+1)){case"":var a=t.substring(s,o),h=void 0;0===r.length?h=a:(h=r+=a,r=""),n.push(h);break;case"":r+=t.substring(s,o),r+="\0";break;case"":r+=t.substring(s,o+1);break;default:m()}s=o+2}return new A(n)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lr=function(t){this.Co=t};function fr(t,e){if(e.document)return function(t,e,i){var n=Ie(t,e.name),r=Se(e.updateTime),s=new Ai({mapValue:{fields:e.fields}});return new Mi(n,r,s,{hasCommittedMutations:!!i})}(t.Co,e.document,!!e.hasCommittedMutations);if(e.noDocument){var i=C.$(e.noDocument.path),n=yr(e.noDocument.readTime);return new Pi(i,n,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var r=C.$(e.unknownDocument.path),s=yr(e.unknownDocument.version);return new ki(r,s)}return m()}function dr(t,e,i){var n=pr(i),r=e.key.path.h().A();if(e instanceof Mi){var s=function(t,e){return{name:Ee(t,e.key),fields:e.rn().mapValue.fields,updateTime:be(t,e.version.Z())}}(t.Co,e),o=e.hasCommittedMutations;return new Yr(null,null,s,o,n,r)}if(e instanceof Pi){var a=e.key.path.A(),h=vr(e.version),u=e.hasCommittedMutations;return new Yr(null,new Vr(a,h),null,u,n,r)}if(e instanceof ki){var c=e.key.path.A(),l=vr(e.version);return new Yr(new zr(c,l),null,null,!0,n,r)}return m()}function pr(t){var e=t.Z();return[e.seconds,e.nanoseconds]}function gr(t){var e=new at(t[0],t[1]);return ht.J(e)}function vr(t){var e=t.Z();return new Lr(e.seconds,e.nanoseconds)}function yr(t){var e=new at(t.seconds,t.nanoseconds);return ht.J(e)}function mr(t,e){var i=(e.baseMutations||[]).map(function(e){return Fe(t.Co,e)}),n=e.mutations.map(function(e){return Fe(t.Co,e)}),r=at.fromMillis(e.localWriteTimeMs);return new qn(e.batchId,r,i,n)}function xr(t){var e,i,n=yr(t.readTime),r=void 0!==t.lastLimboFreeSnapshotVersion?yr(t.lastLimboFreeSnapshotVersion):ht.min();return void 0!==t.query.documents?(x(1===(i=t.query).documents.length),e=Vi(Fi(Me(i.documents[0])))):e=De(t.query),new xt(e,t.targetId,0,t.lastListenSequenceNumber,n,r,$.fromBase64String(t.resumeToken))}function br(t,e){var i,n=vr(e.nt),r=vr(e.lastLimboFreeSnapshotVersion);i=vt(e.target)?Re(t.Co,e.target):Le(t.Co,e.target);var s=e.resumeToken.toBase64();return new Gr(e.targetId,pt(e.target),n,s,e.sequenceNumber,r,i)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wr=function(){function t(t,e,i,n){this.userId=t,this.serializer=e,this.Dr=i,this.No=n,this.Fo={}}return t.xo=function(e,i,n,r){return x(""!==e.uid),new t(e.Zs()?e.uid:"",i,n,r)},t.prototype.$o=function(t){var e=!0,i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return _r(t).rs({index:Ur.userMutationsIndex,range:i},function(t,i,n){e=!1,n.done()}).next(function(){return e})},t.prototype.ko=function(t,e,i,n){var r=this,s=Ar(t),o=_r(t);return o.add({}).next(function(a){x("number"==typeof a);for(var h=new qn(a,e,i,n),u=function(t,e,i){var n=i.baseMutations.map(function(e){return Ne(t.Co,e)}),r=i.mutations.map(function(e){return Ne(t.Co,e)});return new Ur(e,i.batchId,i.ar.toMillis(),n,r)}(r.serializer,r.userId,h),c=[],l=new Et(function(t,e){return J(t.R(),e.R())}),f=0,d=n;f<d.length;f++){var p=d[f],g=Xr.key(r.userId,p.key.path,a);l=l.add(p.key.path.h()),c.push(o.put(u)),c.push(s.put(g,Xr.PLACEHOLDER))}return l.forEach(function(e){c.push(r.Dr.Mo(t,e))}),t.pr(function(){r.Fo[a]=h.keys()}),gn.$n(c).next(function(){return h})})},t.prototype.Oo=function(t,e){var i=this;return _r(t).get(e).next(function(t){return t?(x(t.userId===i.userId),mr(i.serializer,t)):null})},t.prototype.Lo=function(t,e){var i=this;return this.Fo[e]?gn.resolve(this.Fo[e]):this.Oo(t,e).next(function(t){if(t){var n=t.keys();return i.Fo[e]=n,n}return null})},t.prototype.Bo=function(t,e){var i=this,n=e+1,r=IDBKeyRange.lowerBound([this.userId,n]),s=null;return _r(t).rs({index:Ur.userMutationsIndex,range:r},function(t,e,r){e.userId===i.userId&&(x(e.batchId>=n),s=mr(i.serializer,e)),r.done()}).next(function(){return s})},t.prototype.qo=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),i=-1;return _r(t).rs({index:Ur.userMutationsIndex,range:e,reverse:!0},function(t,e,n){i=e.batchId,n.done()}).next(function(){return i})},t.prototype.Uo=function(t){var e=this,i=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return _r(t).ts(Ur.userMutationsIndex,i).next(function(t){return t.map(function(t){return mr(e.serializer,t)})})},t.prototype.Nr=function(t,e){var i=this,n=Xr.prefixForPath(this.userId,e.path),r=IDBKeyRange.lowerBound(n),s=[];return Ar(t).rs({range:r},function(n,r,o){var a=n[0],h=n[1],u=n[2],c=cr(h);if(a===i.userId&&e.path.isEqual(c))return _r(t).get(u).next(function(t){if(!t)throw m();x(t.userId===i.userId),s.push(mr(i.serializer,t))});o.done()}).next(function(){return s})},t.prototype.Or=function(t,e){var i=this,n=new Et(J),r=[];return e.forEach(function(e){var s=Xr.prefixForPath(i.userId,e.path),o=IDBKeyRange.lowerBound(s),a=Ar(t).rs({range:o},function(t,r,s){var o=t[0],a=t[1],h=t[2],u=cr(a);o===i.userId&&e.path.isEqual(u)?n=n.add(h):s.done()});r.push(a)}),gn.$n(r).next(function(){return i.Qo(t,n)})},t.prototype.Wr=function(t,e){var i=this,n=e.path,r=n.length+1,s=Xr.prefixForPath(this.userId,n),o=IDBKeyRange.lowerBound(s),a=new Et(J);return Ar(t).rs({range:o},function(t,e,s){var o=t[0],h=t[1],u=t[2],c=cr(h);o===i.userId&&n.T(c)?c.length===r&&(a=a.add(u)):s.done()}).next(function(){return i.Qo(t,a)})},t.prototype.Qo=function(t,e){var i=this,n=[],r=[];return e.forEach(function(e){r.push(_r(t).get(e).next(function(t){if(null===t)throw m();x(t.userId===i.userId),n.push(mr(i.serializer,t))}))}),gn.$n(r).next(function(){return n})},t.prototype.Wo=function(t,e){var i=this;return Sr(t.jo,this.userId,e).next(function(n){return t.pr(function(){i.Ko(e.batchId)}),gn.forEach(n,function(e){return i.No.Go(t,e)})})},t.prototype.Ko=function(t){delete this.Fo[t]},t.prototype.zo=function(t){var e=this;return this.$o(t).next(function(i){if(!i)return gn.resolve();var n=IDBKeyRange.lowerBound(Xr.prefixForUser(e.userId)),r=[];return Ar(t).rs({range:n},function(t,i,n){if(t[0]===e.userId){var s=cr(t[1]);r.push(s)}else n.done()}).next(function(){x(0===r.length)})})},t.prototype.Ho=function(t,e){return Tr(t,this.userId,e)},t.prototype.Yo=function(t){var e=this;return Er(t).get(this.userId).next(function(t){return t||new Br(e.userId,-1,"")})},t}();function Tr(t,e,i){var n=Xr.prefixForPath(e,i.path),r=n[1],s=IDBKeyRange.lowerBound(n),o=!1;return Ar(t).rs({range:s,ss:!0},function(t,i,n){var s=t[0],a=t[1];t[2],s===e&&a===r&&(o=!0),n.done()}).next(function(){return o})}function Sr(t,e,i){var n=t.store(Ur.store),r=t.store(Xr.store),s=[],o=IDBKeyRange.only(i.batchId),a=0,h=n.rs({range:o},function(t,e,i){return a++,i.delete()});s.push(h.next(function(){x(1===a)}));for(var u=[],c=0,l=i.mutations;c<l.length;c++){var f=l[c],d=Xr.key(e,f.key.path,i.batchId);s.push(r.delete(d)),u.push(f.key)}return gn.$n(s).next(function(){return u})}function _r(t){return as.Qn(t,Ur.store)}function Ar(t){return as.Qn(t,Xr.store)}function Er(t){return as.Qn(t,Br.store)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ir=function(){function t(t,e){this.serializer=t,this.Dr=e}return t.prototype.Er=function(t,e,i){return Pr(t).put(kr(e),i)},t.prototype.Ar=function(t,e){var i=Pr(t),n=kr(e);return i.delete(n)},t.prototype.updateMetadata=function(t,e){var i=this;return this.getMetadata(t).next(function(n){return n.byteSize+=e,i.Jo(t,n)})},t.prototype.Rr=function(t,e){var i=this;return Pr(t).get(kr(e)).next(function(t){return i.Xo(t)})},t.prototype.Zo=function(t,e){var i=this;return Pr(t).get(kr(e)).next(function(t){var e=i.Xo(t);return e?{ta:e,size:Or(t)}:null})},t.prototype.getEntries=function(t,e){var i=this,n=Pt();return this.ea(t,e,function(t,e){var r=i.Xo(e);n=n.ot(t,r)}).next(function(){return n})},t.prototype.na=function(t,e){var i=this,n=Pt(),r=new St(C.i);return this.ea(t,e,function(t,e){var s=i.Xo(e);s?(n=n.ot(t,s),r=r.ot(t,Or(e))):(n=n.ot(t,null),r=r.ot(t,0))}).next(function(){return{sa:n,ia:r}})},t.prototype.ea=function(t,e,i){if(e.m())return gn.resolve();var n=IDBKeyRange.bound(e.first().path.A(),e.last().path.A()),r=e._t(),s=r.It();return Pr(t).rs({range:n},function(t,e,n){for(var o=C.$(t);s&&C.i(s,o)<0;)i(s,null),s=r.It();s&&s.isEqual(o)&&(i(s,e),s=r.At()?r.It():null),s?n.Xn(s.path.A()):n.done()}).next(function(){for(;s;)i(s,null),s=r.At()?r.It():null})},t.prototype.Lr=function(t,e,i){var n=this,r=Ot(),s=e.path.length+1,o={};if(i.isEqual(ht.min())){var a=e.path.A();o.range=IDBKeyRange.lowerBound(a)}else{var h=e.path.A(),u=pr(i);o.range=IDBKeyRange.lowerBound([h,u],!0),o.index=Yr.collectionReadTimeIndex}return Pr(t).rs(o,function(t,i,o){if(t.length===s){var a=fr(n.serializer,i);e.path.T(a.key.path)?a instanceof Mi&&qi(e,a)&&(r=r.ot(a.key,a)):o.done()}}).next(function(){return r})},t.prototype.ra=function(t){return new Cr(this,!!t&&t.oa)},t.prototype.aa=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return Mr(t).get(jr.key).next(function(t){return x(!!t),t})},t.prototype.Jo=function(t,e){return Mr(t).put(jr.key,e)},t.prototype.Xo=function(t){if(t){var e=fr(this.serializer,t);return e instanceof Pi&&e.version.isEqual(ht.min())?null:e}return null},t}(),Cr=function(t){function e(e,i){var n=this;return(n=t.call(this)||this).ca=e,n.oa=i,n.ua=new ot(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),n}return n.__extends(e,t),e.prototype.yr=function(t){var e=this,i=[],n=0,r=new Et(function(t,e){return J(t.R(),e.R())});return this.wr.forEach(function(s,o){var a=e.ua.get(s);if(o){var h=dr(e.ca.serializer,o,e.readTime);r=r.add(s.path.h());var u=Or(h);n+=u-a,i.push(e.ca.Er(t,s,h))}else if(n-=a,e.oa){var c=dr(e.ca.serializer,new Pi(s,ht.min()),e.readTime);i.push(e.ca.Er(t,s,c))}else i.push(e.ca.Ar(t,s))}),r.forEach(function(n){i.push(e.ca.Dr.Mo(t,n))}),i.push(this.ca.updateMetadata(t,n)),gn.$n(i)},e.prototype.gr=function(t,e){var i=this;return this.ca.Zo(t,e).next(function(t){return null===t?(i.ua.set(e,0),null):(i.ua.set(e,t.size),t.ta)})},e.prototype.Pr=function(t,e){var i=this;return this.ca.na(t,e).next(function(t){var e=t.sa;return t.ia.forEach(function(t,e){i.ua.set(t,e)}),e})},e}(Jn);function Mr(t){return as.Qn(t,jr.store)}function Pr(t){return as.Qn(t,Yr.store)}function kr(t){return t.path.A()}function Or(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw m();e=t.noDocument}return JSON.stringify(e).length}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nr=function(){function t(){this.ha=new Fr}return t.prototype.Mo=function(t,e){return this.ha.add(e),gn.resolve()},t.prototype.Qr=function(t,e){return gn.resolve(this.ha.getEntries(e))},t}(),Fr=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t._(),i=t.h(),n=this.index[e]||new Et(A.i),r=!n.has(i);return this.index[e]=n.add(i),r},t.prototype.has=function(t){var e=t._(),i=t.h(),n=this.index[e];return n&&n.has(i)},t.prototype.getEntries=function(t){return(this.index[t]||new Et(A.i)).A()},t}(),Rr=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,i,n){var r=this;x(i<n&&i>=0&&n<=10);var s=new bn("createOrUpgrade",e);i<1&&n>=1&&(function(t){t.createObjectStore(Dr.store)}(t),function(t){t.createObjectStore(Br.store,{keyPath:Br.keyPath}),t.createObjectStore(Ur.store,{keyPath:Ur.keyPath,autoIncrement:!0}).createIndex(Ur.userMutationsIndex,Ur.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Xr.store)}(t),Kr(t),function(t){t.createObjectStore(Yr.store)}(t));var o=gn.resolve();return i<3&&n>=3&&(0!==i&&(function(t){t.deleteObjectStore(Wr.store),t.deleteObjectStore(Gr.store),t.deleteObjectStore(Hr.store)}(t),Kr(t)),o=o.next(function(){return t=s.store(Hr.store),e=new Hr(0,0,ht.min().Z(),0),t.put(Hr.key,e);var t,e})),i<4&&n>=4&&(0!==i&&(o=o.next(function(){return function(t,e){return e.store(Ur.store).ts().next(function(i){t.deleteObjectStore(Ur.store),t.createObjectStore(Ur.store,{keyPath:Ur.keyPath,autoIncrement:!0}).createIndex(Ur.userMutationsIndex,Ur.userMutationsKeyPath,{unique:!0});var n=e.store(Ur.store),r=i.map(function(t){return n.put(t)});return gn.$n(r)})}(t,s)})),o=o.next(function(){!function(t){t.createObjectStore(Jr.store,{keyPath:Jr.keyPath})}(t)})),i<5&&n>=5&&(o=o.next(function(){return r.removeAcknowledgedMutations(s)})),i<6&&n>=6&&(o=o.next(function(){return function(t){t.createObjectStore(jr.store)}(t),r.addDocumentGlobal(s)})),i<7&&n>=7&&(o=o.next(function(){return r.ensureSequenceNumbers(s)})),i<8&&n>=8&&(o=o.next(function(){return r.createCollectionParentIndex(t,s)})),i<9&&n>=9&&(o=o.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Yr.store);e.createIndex(Yr.readTimeIndex,Yr.readTimeIndexPath,{unique:!1}),e.createIndex(Yr.collectionReadTimeIndex,Yr.collectionReadTimeIndexPath,{unique:!1})}(e)})),i<10&&n>=10&&(o=o.next(function(){return r.rewriteCanonicalIds(s)})),o},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(Yr.store).rs(function(t,i){e+=Or(i)}).next(function(){var i=new jr(e);return t.store(jr.store).put(jr.key,i)})},t.prototype.removeAcknowledgedMutations=function(t){var e=this,i=t.store(Br.store),n=t.store(Ur.store);return i.ts().next(function(i){return gn.forEach(i,function(i){var r=IDBKeyRange.bound([i.userId,-1],[i.userId,i.lastAcknowledgedBatchId]);return n.ts(Ur.userMutationsIndex,r).next(function(n){return gn.forEach(n,function(n){x(n.userId===i.userId);var r=mr(e.serializer,n);return Sr(t,i.userId,r).next(function(){})})})})})},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(Wr.store),i=t.store(Yr.store);return t.store(Hr.store).get(Hr.key).next(function(t){var n=[];return i.rs(function(i,r){var s=new A(i),o=[0,ar(s)];n.push(e.get(o).next(function(i){return i?gn.resolve():function(i){return e.put(new Wr(0,ar(i),t.highestListenSequenceNumber))}(s)}))}).next(function(){return gn.$n(n)})})},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(qr.store,{keyPath:qr.keyPath});var i=e.store(qr.store),n=new Fr,r=function(t){if(n.add(t)){var e=t._(),r=t.h();return i.put({collectionId:e,parent:ar(r)})}};return e.store(Yr.store).rs({ss:!0},function(t,e){var i=new A(t);return r(i.h())}).next(function(){return e.store(Xr.store).rs({ss:!0},function(t,e){t[0];var i=t[1],n=(t[2],cr(i));return r(n.h())})})},t.prototype.rewriteCanonicalIds=function(t){var e=this,i=t.store(Gr.store);return i.rs(function(t,n){var r=xr(n),s=br(e.serializer,r);return i.put(s)})},t}(),Lr=function(t,e){this.seconds=t,this.nanoseconds=e},Dr=function(t,e,i){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=i};Dr.store="owner",Dr.key="owner";var Br=function(t,e,i){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=i};Br.store="mutationQueues",Br.keyPath="userId";var Ur=function(t,e,i,n,r){this.userId=t,this.batchId=e,this.localWriteTimeMs=i,this.baseMutations=n,this.mutations=r};Ur.store="mutations",Ur.keyPath="batchId",Ur.userMutationsIndex="userMutationsIndex",Ur.userMutationsKeyPath=["userId","batchId"];var Xr=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,ar(e)]},t.key=function(t,e,i){return[t,ar(e),i]},t}();Xr.store="documentMutations",Xr.PLACEHOLDER=new Xr;var Vr=function(t,e){this.path=t,this.readTime=e},zr=function(t,e){this.path=t,this.version=e},Yr=function(t,e,i,n,r,s){this.unknownDocument=t,this.noDocument=e,this.document=i,this.hasCommittedMutations=n,this.readTime=r,this.parentPath=s};Yr.store="remoteDocuments",Yr.readTimeIndex="readTimeIndex",Yr.readTimeIndexPath="readTime",Yr.collectionReadTimeIndex="collectionReadTimeIndex",Yr.collectionReadTimeIndexPath=["parentPath","readTime"];var jr=function(t){this.byteSize=t};jr.store="remoteDocumentGlobal",jr.key="remoteDocumentGlobalKey";var Gr=function(t,e,i,n,r,s,o){this.targetId=t,this.canonicalId=e,this.readTime=i,this.resumeToken=n,this.lastListenSequenceNumber=r,this.lastLimboFreeSnapshotVersion=s,this.query=o};Gr.store="targets",Gr.keyPath="targetId",Gr.queryTargetsIndexName="queryTargetsIndex",Gr.queryTargetsKeyPath=["canonicalId","targetId"];var Wr=function(t,e,i){this.targetId=t,this.path=e,this.sequenceNumber=i};Wr.store="targetDocuments",Wr.keyPath=["targetId","path"],Wr.documentTargetsIndex="documentTargetsIndex",Wr.documentTargetsKeyPath=["path","targetId"];var Hr=function(t,e,i,n){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=i,this.targetCount=n};Hr.key="targetGlobalKey",Hr.store="targetGlobal";var qr=function(t,e){this.collectionId=t,this.parent=e};function Kr(t){t.createObjectStore(Wr.store,{keyPath:Wr.keyPath}).createIndex(Wr.documentTargetsIndex,Wr.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Gr.store,{keyPath:Gr.keyPath}).createIndex(Gr.queryTargetsIndexName,Gr.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Hr.store)}qr.store="collectionParents",qr.keyPath=["collectionId","parent"];var Jr=function(t,e,i,n){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=i,this.inForeground=n};Jr.store="clientMetadata",Jr.keyPath="clientId";var Qr=n.__spreadArrays(n.__spreadArrays(n.__spreadArrays([Br.store,Ur.store,Xr.store,Yr.store,Gr.store,Dr.store,Hr.store,Wr.store],[Jr.store]),[jr.store]),[qr.store]),Zr=function(){function t(){this.la=new Fr}return t.prototype.Mo=function(t,e){var i=this;if(!this.la.has(e)){var n=e._(),r=e.h();t.pr(function(){i.la.add(e)});var s={collectionId:n,parent:ar(r)};return $r(t).put(s)}return gn.resolve()},t.prototype.Qr=function(t,e){var i=[],n=IDBKeyRange.bound([e,""],[Z(e),""],!1,!0);return $r(t).ts(n).next(function(t){for(var n=0,r=t;n<r.length;n++){var s=r[n];if(s.collectionId!==e)break;i.push(cr(s.parent))}return i})},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $r(t){return as.Qn(t,qr.store)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ts=function(){function t(t){this._a=t}return t.prototype.next=function(){return this._a+=2,this._a},t.fa=function(){return new t(0)},t.da=function(){return new t(-1)},t}(),es=function(){function t(t,e){this.No=t,this.serializer=e}return t.prototype.wa=function(t){var e=this;return this.ma(t).next(function(i){var n=new ts(i.highestTargetId);return i.highestTargetId=n.next(),e.Ta(t,i).next(function(){return i.highestTargetId})})},t.prototype.Ea=function(t){return this.ma(t).next(function(t){return ht.J(new at(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.Ia=function(t){return this.ma(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.Aa=function(t,e,i){var n=this;return this.ma(t).next(function(r){return r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.Z()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),n.Ta(t,r)})},t.prototype.Ra=function(t,e){var i=this;return this.ga(t,e).next(function(){return i.ma(t).next(function(n){return n.targetCount+=1,i.Pa(e,n),i.Ta(t,n)})})},t.prototype.ya=function(t,e){return this.ga(t,e)},t.prototype.Va=function(t,e){var i=this;return this.pa(t,e.targetId).next(function(){return is(t).delete(e.targetId)}).next(function(){return i.ma(t)}).next(function(e){return x(e.targetCount>0),e.targetCount-=1,i.Ta(t,e)})},t.prototype.po=function(t,e,i){var n=this,r=0,s=[];return is(t).rs(function(o,a){var h=xr(a);h.sequenceNumber<=e&&null===i.get(h.targetId)&&(r++,s.push(n.Va(t,h)))}).next(function(){return gn.$n(s)}).next(function(){return r})},t.prototype.Ce=function(t,e){return is(t).rs(function(t,i){var n=xr(i);e(n)})},t.prototype.ma=function(t){return ns(t).get(Hr.key).next(function(t){return x(null!==t),t})},t.prototype.Ta=function(t,e){return ns(t).put(Hr.key,e)},t.prototype.ga=function(t,e){return is(t).put(br(this.serializer,e))},t.prototype.Pa=function(t,e){var i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i},t.prototype.ba=function(t){return this.ma(t).next(function(t){return t.targetCount})},t.prototype.va=function(t,e){var i=pt(e),n=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]),r=null;return is(t).rs({range:n,index:Gr.queryTargetsIndexName},function(t,i,n){var s=xr(i);gt(e,s.target)&&(r=s,n.done())}).next(function(){return r})},t.prototype.Sa=function(t,e,i){var n=this,r=[],s=rs(t);return e.forEach(function(e){var o=ar(e.path);r.push(s.put(new Wr(i,o))),r.push(n.No.Da(t,i,e))}),gn.$n(r)},t.prototype.Ca=function(t,e,i){var n=this,r=rs(t);return gn.forEach(e,function(e){var s=ar(e.path);return gn.$n([r.delete([i,s]),n.No.Na(t,i,e)])})},t.prototype.pa=function(t,e){var i=rs(t),n=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(n)},t.prototype.Fa=function(t,e){var i=IDBKeyRange.bound([e],[e+1],!1,!0),n=rs(t),r=Rt();return n.rs({range:i,ss:!0},function(t,e,i){var n=cr(t[1]),s=new C(n);r=r.add(s)}).next(function(){return r})},t.prototype.Ho=function(t,e){var i=ar(e.path),n=IDBKeyRange.bound([i],[Z(i)],!1,!0),r=0;return rs(t).rs({index:Wr.documentTargetsIndex,ss:!0,range:n},function(t,e,i){var n=t[0];t[1],0!==n&&(r++,i.done())}).next(function(){return r>0})},t.prototype.Ue=function(t,e){return is(t).get(e).next(function(t){return t?xr(t):null})},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function is(t){return as.Qn(t,Gr.store)}function ns(t){return as.Qn(t,Hr.store)}function rs(t){return as.Qn(t,Wr.store)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ss="Failed to obtain exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",os=function(t){function e(e,i){var n=this;return(n=t.call(this)||this).jo=e,n.xa=i,n}return n.__extends(e,t),e}(Zn),as=function(){function t(e,i,n,r,s,o,a,h,u,f){if(this.allowTabSynchronization=e,this.persistenceKey=i,this.clientId=n,this.fn=s,this.window=o,this.document=a,this.$a=u,this.ka=f,this.Ma=null,this.Oa=!1,this.isPrimary=!1,this.networkEnabled=!0,this.La=null,this.inForeground=!1,this.Ba=null,this.qa=null,this.Ua=Number.NEGATIVE_INFINITY,this.Qa=function(t){return Promise.resolve()},!t.Ln())throw new l(c.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.No=new cs(this,r),this.Wa=i+"main",this.serializer=new lr(h),this.ja=new vn(this.Wa,10,new Rr(this.serializer)),this.Ka=new es(this.No,this.serializer),this.Dr=new Zr,this.vr=function(t,e){return new Ir(t,e)}(this.serializer,this.Dr),this.window&&this.window.localStorage?this.Ga=this.window.localStorage:(this.Ga=null,!1===f&&g("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.Qn=function(t,e){if(t instanceof os)return vn.Qn(t.jo,e);throw m()},t.prototype.start=function(){var t=this;return this.za().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new l(c.FAILED_PRECONDITION,ss);return t.Ha(),t.Ya(),t.Ja(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.Ka.Ia(e)})}).then(function(e){t.Ma=new Dn(e,t.$a)}).then(function(){t.Oa=!0}).catch(function(e){return t.ja&&t.ja.close(),Promise.reject(e)})},t.prototype.Xa=function(t){var e=this;return this.Qa=function(i){return n.__awaiter(e,void 0,void 0,function(){return n.__generator(this,function(e){return this.Ei?[2,t(i)]:[2]})})},t(this.isPrimary)},t.prototype.Za=function(t){var e=this;this.ja.Kn(function(i){return n.__awaiter(e,void 0,void 0,function(){return n.__generator(this,function(e){switch(e.label){case 0:return null===i.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.tc=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.fn.ws(function(){return n.__awaiter(e,void 0,void 0,function(){return n.__generator(this,function(t){switch(t.label){case 0:return this.Ei?[4,this.za()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.za=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return us(e).put(new Jr(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.ec(e).next(function(e){e||(t.isPrimary=!1,t.fn.Cs(function(){return t.Qa(!1)}))})}).next(function(){return t.nc(e)}).next(function(i){return t.isPrimary&&!i?t.sc(e).next(function(){return!1}):!!i&&t.ic(e).next(function(){return!0})})}).catch(function(e){if(xn(e))return p("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return p("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.fn.Cs(function(){return t.Qa(e)}),t.isPrimary=e})},t.prototype.ec=function(t){var e=this;return hs(t).get(Dr.key).next(function(t){return gn.resolve(e.rc(t))})},t.prototype.oc=function(t){return us(t).delete(this.clientId)},t.prototype.ac=function(){return n.__awaiter(this,void 0,void 0,function(){var e,i,r,s,o=this;return n.__generator(this,function(n){switch(n.label){case 0:return!this.isPrimary||this.cc(this.Ua,18e5)?[3,2]:(this.Ua=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(e){var i=t.Qn(e,Jr.store);return i.ts().next(function(t){var e=o.uc(t,18e5),n=t.filter(function(t){return-1===e.indexOf(t)});return gn.forEach(n,function(t){return i.delete(t.clientId)}).next(function(){return n})})}).catch(function(){return[]})]);case 1:if(e=n.sent(),this.Ga)for(i=0,r=e;i<r.length;i++)s=r[i],this.Ga.removeItem(this.hc(s.clientId));n.label=2;case 2:return[2]}})})},t.prototype.Ja=function(){var t=this;this.qa=this.fn.yn("client_metadata_refresh",4e3,function(){return t.za().then(function(){return t.ac()}).then(function(){return t.Ja()})})},t.prototype.rc=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.nc=function(t){var e=this;return this.ka?gn.resolve(!0):hs(t).get(Dr.key).next(function(i){if(null!==i&&e.cc(i.leaseTimestampMs,5e3)&&!e.lc(i.ownerId)){if(e.rc(i)&&e.networkEnabled)return!0;if(!e.rc(i)){if(!i.allowTabSynchronization)throw new l(c.FAILED_PRECONDITION,ss);return!1}}return!(!e.networkEnabled||!e.inForeground)||us(t).ts().next(function(t){return void 0===e.uc(t,5e3).find(function(t){if(e.clientId!==t.clientId){var i=!e.networkEnabled&&t.networkEnabled,n=!e.inForeground&&t.inForeground,r=e.networkEnabled===t.networkEnabled;if(i||n&&r)return!0}return!1})})}).next(function(t){return e.isPrimary!==t&&p("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.Di=function(){return n.__awaiter(this,void 0,void 0,function(){var t=this;return n.__generator(this,function(e){switch(e.label){case 0:return this.Oa=!1,this._c(),this.qa&&(this.qa.cancel(),this.qa=null),this.fc(),this.dc(),[4,this.ja.runTransaction("shutdown","readwrite",[Dr.store,Jr.store],function(e){var i=new os(e,Dn.ai);return t.sc(i).next(function(){return t.oc(i)})})];case 1:return e.sent(),this.ja.close(),this.wc(),[2]}})})},t.prototype.uc=function(t,e){var i=this;return t.filter(function(t){return i.cc(t.updateTimeMs,e)&&!i.lc(t.clientId)})},t.prototype.pi=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return us(e).ts().next(function(e){return t.uc(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"Ei",{get:function(){return this.Oa},enumerable:!1,configurable:!0}),t.prototype.mc=function(t){return wr.xo(t,this.serializer,this.Dr,this.No)},t.prototype.Tc=function(){return this.Ka},t.prototype.Ec=function(){return this.vr},t.prototype.Ic=function(){return this.Dr},t.prototype.runTransaction=function(t,e,i){var n=this;p("IndexedDbPersistence","Starting transaction:",t);var r,s="readonly"===e?"readonly":"readwrite";return this.ja.runTransaction(t,s,Qr,function(s){return r=new os(s,n.Ma?n.Ma.next():Dn.ai),"readwrite-primary"===e?n.ec(r).next(function(t){return!!t||n.nc(r)}).next(function(e){if(!e)throw g("Failed to obtain primary lease for action '"+t+"'."),n.isPrimary=!1,n.fn.Cs(function(){return n.Qa(!1)}),new l(c.FAILED_PRECONDITION,Qn);return i(r)}).next(function(t){return n.ic(r).next(function(){return t})}):n.Ac(r).next(function(){return i(r)})}).then(function(t){return r.br(),t})},t.prototype.Ac=function(t){var e=this;return hs(t).get(Dr.key).next(function(t){if(null!==t&&e.cc(t.leaseTimestampMs,5e3)&&!e.lc(t.ownerId)&&!e.rc(t)&&!(e.ka||e.allowTabSynchronization&&t.allowTabSynchronization))throw new l(c.FAILED_PRECONDITION,ss)})},t.prototype.ic=function(t){var e=new Dr(this.clientId,this.allowTabSynchronization,Date.now());return hs(t).put(Dr.key,e)},t.Ln=function(){return vn.Ln()},t.prototype.sc=function(t){var e=this,i=hs(t);return i.get(Dr.key).next(function(t){return e.rc(t)?(p("IndexedDbPersistence","Releasing primary lease."),i.delete(Dr.key)):gn.resolve()})},t.prototype.cc=function(t,e){var i=Date.now();return!(t<i-e||t>i&&(g("Detected an update time that is in the future: "+t+" > "+i),1))},t.prototype.Ha=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ba=function(){t.fn.ws(function(){return t.inForeground="visible"===t.document.visibilityState,t.za()})},this.document.addEventListener("visibilitychange",this.Ba),this.inForeground="visible"===this.document.visibilityState)},t.prototype.fc=function(){this.Ba&&(this.document.removeEventListener("visibilitychange",this.Ba),this.Ba=null)},t.prototype.Ya=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.La=function(){e._c(),e.fn.ws(function(){return e.Di()})},this.window.addEventListener("unload",this.La))},t.prototype.dc=function(){this.La&&(this.window.removeEventListener("unload",this.La),this.La=null)},t.prototype.lc=function(t){var e;try{var i=null!==(null===(e=this.Ga)||void 0===e?void 0:e.getItem(this.hc(t)));return p("IndexedDbPersistence","Client '"+t+"' "+(i?"is":"is not")+" zombied in LocalStorage"),i}catch(t){return g("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype._c=function(){if(this.Ga)try{this.Ga.setItem(this.hc(this.clientId),String(Date.now()))}catch(t){g("Failed to set zombie client id.",t)}},t.prototype.wc=function(){if(this.Ga)try{this.Ga.removeItem(this.hc(this.clientId))}catch(t){}},t.prototype.hc=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function hs(t){return as.Qn(t,Dr.store)}function us(t){return as.Qn(t,Jr.store)}var cs=function(){function t(t,e){this.db=t,this.wo=new or(this,e)}return t.prototype.Po=function(t){var e=this.Rc(t);return this.db.Tc().ba(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.Rc=function(t){var e=0;return this.Vo(t,function(t){e++}).next(function(){return e})},t.prototype.Ce=function(t,e){return this.db.Tc().Ce(t,e)},t.prototype.Vo=function(t,e){return this.gc(t,function(t,i){return e(i)})},t.prototype.Da=function(t,e,i){return ls(t,i)},t.prototype.Na=function(t,e,i){return ls(t,i)},t.prototype.po=function(t,e,i){return this.db.Tc().po(t,e,i)},t.prototype.Go=function(t,e){return ls(t,e)},t.prototype.Pc=function(t,e){return function(t,e){var i=!1;return Er(t).os(function(n){return Tr(t,n,e).next(function(t){return t&&(i=!0),gn.resolve(!t)})}).next(function(){return i})}(t,e)},t.prototype.bo=function(t,e){var i=this,n=this.db.Ec().ra(),r=[],s=0;return this.gc(t,function(o,a){if(a<=e){var h=i.Pc(t,o).next(function(e){if(!e)return s++,n.Rr(t,o).next(function(){return n.Ar(o),rs(t).delete([0,ar(o.path)])})});r.push(h)}}).next(function(){return gn.$n(r)}).next(function(){return n.apply(t)}).next(function(){return s})},t.prototype.removeTarget=function(t,e){var i=e.st(t.xa);return this.db.Tc().ya(t,i)},t.prototype.yc=function(t,e){return ls(t,e)},t.prototype.gc=function(t,e){var i,n=rs(t),r=Dn.ai;return n.rs({index:Wr.documentTargetsIndex},function(t,n){var s=t[0],o=(t[1],n.path),a=n.sequenceNumber;0===s?(r!==Dn.ai&&e(new C(cr(i)),r),r=a,i=o):r=Dn.ai}).next(function(){r!==Dn.ai&&e(new C(cr(i)),r)})},t.prototype.So=function(t){return this.db.Ec().aa(t)},t}();function ls(t,e){return rs(t).put(function(t,e){return new Wr(0,ar(t.path),e)}(e,t.xa))}function fs(t,e){var i=t.projectId;return t.j||(i+="."+t.database),"firestore/"+e+"/"+i+"/"}var ds=function(){function t(t,e,i){this.persistence=t,this.Vc=e,this.bc=new St(J),this.vc=new ot(function(t){return pt(t)},gt),this.Sc=ht.min(),this.Sr=t.mc(i),this.Dc=t.Ec(),this.Ka=t.Tc(),this.Cc=new $n(this.Dc,this.Sr,this.persistence.Ic()),this.Vc.Nc(this.Cc)}return t.prototype.Io=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(i){return t.vo(i,e.bc)})},t}();function ps(t,e){var i=b(t);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var n=e.batch.keys(),r=i.Dc.ra({oa:!0});return function(t,e,i,n){var r=i.batch,s=r.keys(),o=gn.resolve();return s.forEach(function(t){o=o.next(function(){return n.Rr(e,t)}).next(function(e){var s=e,o=i.dr.get(t);x(null!==o),(!s||s.version.L(o)<0)&&(s=r.cr(t,s,i))&&n.Er(s,i._r)})}),o.next(function(){return t.Sr.Wo(e,r)})}(i,t,e,r).next(function(){return r.apply(t)}).next(function(){return i.Sr.zo(t)}).next(function(){return i.Cc.kr(t,n)})})}function gs(t){var e=b(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.Ka.Ea(t)})}function vs(t,e){var i=b(t),n=e.nt,r=i.bc;return i.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var s=i.Dc.ra({oa:!0});r=i.bc;var o=[];e.zt.forEach(function(e,s){var a=r.get(s);if(a){o.push(i.Ka.Ca(t,e.se,s).next(function(){return i.Ka.Sa(t,e.ee,s)}));var h=e.resumeToken;if(h.O()>0){var u=a.it(h,n).st(t.xa);r=r.ot(s,u),function(t,e,i){return x(e.resumeToken.O()>0),0===t.resumeToken.O()||e.nt.X()-t.nt.X()>=3e8||i.ee.size+i.ne.size+i.se.size>0}(a,u,e)&&o.push(i.Ka.ya(t,u))}}});var a=Mt(),h=Rt();if(e.Yt.forEach(function(t,e){h=h.add(t)}),o.push(s.getEntries(t,h).next(function(r){e.Yt.forEach(function(h,u){var c=r.get(h);u instanceof Pi&&u.version.isEqual(ht.min())?(s.Ar(h,n),a=a.ot(h,u)):null==c||u.version.L(c.version)>0||0===u.version.L(c.version)&&c.hasPendingWrites?(s.Er(u,n),a=a.ot(h,u)):p("LocalStore","Ignoring outdated watch update for ",h,". Current version:",c.version," Watch version:",u.version),e.Jt.has(h)&&o.push(i.persistence.No.yc(t,h))})})),!n.isEqual(ht.min())){var u=i.Ka.Ea(t).next(function(e){return i.Ka.Aa(t,t.xa,n)});o.push(u)}return gn.$n(o).next(function(){return s.apply(t)}).next(function(){return i.Cc.Mr(t,a)})}).then(function(t){return i.bc=r,t})}function ys(t,e){var i=b(t);return i.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),i.Sr.Bo(t,e)})}function ms(t,e){var i=b(t);return i.persistence.runTransaction("Allocate target","readwrite",function(t){var n;return i.Ka.va(t,e).next(function(r){return r?(n=r,gn.resolve(n)):i.Ka.wa(t).next(function(r){return n=new xt(e,r,0,t.xa),i.Ka.Ra(t,n).next(function(){return n})})})}).then(function(t){var n=i.bc.get(t.targetId);return(null===n||t.nt.L(n.nt)>0)&&(i.bc=i.bc.ot(t.targetId,t),i.vc.set(e,t.targetId)),t})}function xs(t,e,i){return n.__awaiter(this,void 0,void 0,function(){var r,s,o,a;return n.__generator(this,function(n){switch(n.label){case 0:r=b(t),s=r.bc.get(e),o=i?"readwrite":"readwrite-primary",n.label=1;case 1:return n.trys.push([1,4,,5]),i?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(t){return r.persistence.No.removeTarget(t,s)})];case 2:n.sent(),n.label=3;case 3:return[3,5];case 4:if(!xn(a=n.sent()))throw a;return p("LocalStore","Failed to update sequence numbers for target "+e+": "+a),[3,5];case 5:return r.bc=r.bc.remove(e),r.vc.delete(s.target),[2]}})})}function bs(t,e,i){var n=b(t),r=ht.min(),s=Rt();return n.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,i){var n=b(t),r=n.vc.get(i);return void 0!==r?gn.resolve(n.bc.get(r)):n.Ka.va(e,i)}(n,t,Vi(e)).next(function(e){if(e)return r=e.lastLimboFreeSnapshotVersion,n.Ka.Fa(t,e.targetId).next(function(t){s=t})}).next(function(){return n.Vc.Lr(t,e,i?r:ht.min(),i?s:Rt())}).next(function(t){return{documents:t,Fc:s}})})}function ws(t,e){var i=b(t),n=b(i.Ka),r=i.bc.get(e);return r?Promise.resolve(r.target):i.persistence.runTransaction("Get target data","readonly",function(t){return n.Ue(t,e).next(function(t){return t?t.target:null})})}function Ts(t){var e=b(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,i){var n=b(t),r=Mt(),s=pr(i),o=Pr(e),a=IDBKeyRange.lowerBound(s,!0);return o.rs({index:Yr.readTimeIndex,range:a},function(t,e){var i=fr(n.serializer,e);r=r.ot(i.key,i),s=e.readTime}).next(function(){return{xc:r,readTime:gr(s)}})}(e.Dc,t,e.Sc)}).then(function(t){var i=t.xc,n=t.readTime;return e.Sc=n,i})}function Ss(t){return n.__awaiter(this,void 0,void 0,function(){var e;return n.__generator(this,function(i){return[2,(e=b(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=Pr(t),i=ht.min();return e.rs({index:Yr.readTimeIndex,reverse:!0},function(t,e,n){e.readTime&&(i=gr(e.readTime)),n.done()}).next(function(){return i})}(t)}).then(function(t){e.Sc=t})]})})}function _s(t){return n.__awaiter(this,void 0,void 0,function(){return n.__generator(this,function(e){if(t.code!==c.FAILED_PRECONDITION||t.message!==Qn)throw t;return p("LocalStore","Unexpectedly lost primary lease"),[2]})})}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var As=function(){function t(){this.$c=new Et(Es.kc),this.Mc=new Et(Es.Oc)}return t.prototype.m=function(){return this.$c.m()},t.prototype.Da=function(t,e){var i=new Es(t,e);this.$c=this.$c.add(i),this.Mc=this.Mc.add(i)},t.prototype.Lc=function(t,e){var i=this;t.forEach(function(t){return i.Da(t,e)})},t.prototype.Na=function(t,e){this.Bc(new Es(t,e))},t.prototype.qc=function(t,e){var i=this;t.forEach(function(t){return i.Na(t,e)})},t.prototype.Uc=function(t){var e=this,i=new C(new A([])),n=new Es(i,t),r=new Es(i,t+1),s=[];return this.Mc.Ft([n,r],function(t){e.Bc(t),s.push(t.key)}),s},t.prototype.Qc=function(){var t=this;this.$c.forEach(function(e){return t.Bc(e)})},t.prototype.Bc=function(t){this.$c=this.$c.delete(t),this.Mc=this.Mc.delete(t)},t.prototype.Wc=function(t){var e=new C(new A([])),i=new Es(e,t),n=new Es(e,t+1),r=Rt();return this.Mc.Ft([i,n],function(t){r=r.add(t.key)}),r},t.prototype.Ho=function(t){var e=new Es(t,0),i=this.$c.$t(e);return null!==i&&t.isEqual(i.key)},t}(),Es=function(){function t(t,e){this.key=t,this.jc=e}return t.kc=function(t,e){return C.i(t.key,e.key)||J(t.jc,e.jc)},t.Oc=function(t,e){return J(t.jc,e.jc)||C.i(t.key,e.key)},t}(),Is=function(t,e){this.user=e,this.type="OAuth",this.Kc={},this.Kc.Authorization="Bearer "+t},Cs=function(){function t(){this.Gc=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.zc=function(){},t.prototype.Hc=function(t){this.Gc=t,t(Ln.UNAUTHENTICATED)},t.prototype.Yc=function(){this.Gc=null},t}(),Ms=function(){function t(t){var e=this;this.Jc=null,this.currentUser=Ln.UNAUTHENTICATED,this.Xc=!1,this.Zc=0,this.Gc=null,this.forceRefresh=!1,this.Jc=function(){e.Zc++,e.currentUser=e.tu(),e.Xc=!0,e.Gc&&e.Gc(e.currentUser)},this.Zc=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.Jc):(this.Jc(null),t.get().then(function(t){e.auth=t,e.Jc&&e.auth.addAuthTokenListener(e.Jc)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.Zc,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(function(i){return t.Zc!==e?(p("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):i?(x("string"==typeof i.accessToken),new Is(i.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.zc=function(){this.forceRefresh=!0},t.prototype.Hc=function(t){this.Gc=t,this.Xc&&t(this.currentUser)},t.prototype.Yc=function(){this.auth&&this.auth.removeAuthTokenListener(this.Jc),this.Jc=null,this.Gc=null},t.prototype.tu=function(){var t=this.auth&&this.auth.getUid();return x(null===t||"string"==typeof t),new Ln(t)},t}(),Ps=function(){function t(t,e){this.eu=t,this.nu=e,this.type="FirstParty",this.user=Ln.ni}return Object.defineProperty(t.prototype,"Kc",{get:function(){var t={"X-Goog-AuthUser":this.nu},e=this.eu.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),ks=function(){function t(t,e){this.eu=t,this.nu=e}return t.prototype.getToken=function(){return Promise.resolve(new Ps(this.eu,this.nu))},t.prototype.Hc=function(t){t(Ln.ni)},t.prototype.Yc=function(){},t.prototype.zc=function(){},t}(),Os=function(){function t(t,e,i,n,r,s){this.fn=t,this.su=i,this.iu=n,this.ru=r,this.listener=s,this.state=0,this.ou=0,this.au=null,this.stream=null,this.ys=new pn(t,e)}return t.prototype.cu=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.uu=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.hu()},t.prototype.stop=function(){return n.__awaiter(this,void 0,void 0,function(){return n.__generator(this,function(t){switch(t.label){case 0:return this.cu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.lu=function(){this.state=0,this.ys.reset()},t.prototype._u=function(){var t=this;this.uu()&&null===this.au&&(this.au=this.fn.yn(this.su,6e4,function(){return t.fu()}))},t.prototype.du=function(t){this.wu(),this.stream.send(t)},t.prototype.fu=function(){return n.__awaiter(this,void 0,void 0,function(){return n.__generator(this,function(t){return this.uu()?[2,this.close(0)]:[2]})})},t.prototype.wu=function(){this.au&&(this.au.cancel(),this.au=null)},t.prototype.close=function(t,e){return n.__awaiter(this,void 0,void 0,function(){return n.__generator(this,function(i){switch(i.label){case 0:return this.wu(),this.ys.cancel(),this.ou++,3!==t?this.ys.reset():e&&e.code===c.RESOURCE_EXHAUSTED?(g(e.toString()),g("Using maximum backoff delay to prevent overloading the backend."),this.ys.Rn()):e&&e.code===c.UNAUTHENTICATED&&this.ru.zc(),null!==this.stream&&(this.mu(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Tu(e)];case 1:return i.sent(),[2]}})})},t.prototype.mu=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.Eu(this.ou),i=this.ou;this.ru.getToken().then(function(e){t.ou===i&&t.Iu(e)},function(i){e(function(){var e=new l(c.UNKNOWN,"Fetching auth token failed: "+i.message);return t.Au(e)})})},t.prototype.Iu=function(t){var e=this,i=this.Eu(this.ou);this.stream=this.Ru(t),this.stream.gu(function(){i(function(){return e.state=2,e.listener.gu()})}),this.stream.Tu(function(t){i(function(){return e.Au(t)})}),this.stream.onMessage(function(t){i(function(){return e.onMessage(t)})})},t.prototype.hu=function(){var t=this;this.state=4,this.ys.gn(function(){return n.__awaiter(t,void 0,void 0,function(){return n.__generator(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.Au=function(t){return p("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.Eu=function(t){var e=this;return function(i){e.fn.ws(function(){return e.ou===t?i():(p("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),Ns=function(t){function e(e,i,n,r,s){var o=this;return(o=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",i,n,s)||this).serializer=r,o}return n.__extends(e,t),e.prototype.Ru=function(t){return this.iu.Pu("Listen",t)},e.prototype.onMessage=function(t){this.ys.reset();var e=function(t,e){var i;if("targetChange"in e){e.targetChange;var n=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:m()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(t,e){return t.Qe?(x(void 0===e||"string"==typeof e),$.fromBase64String(e||"")):(x(void 0===e||e instanceof Uint8Array),$.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(t){var e=void 0===t.code?c.UNKNOWN:Tt(t.code);return new l(e,t.message||"")}(o);i=new Gt(n,r,s,a||null)}else if("documentChange"in e){e.documentChange;var h=e.documentChange;h.document,h.document.name,h.document.updateTime;var u=Ie(t,h.document.name),f=Se(h.document.updateTime),d=new Ai({mapValue:{fields:h.document.fields}}),p=new Mi(u,f,d,{}),g=h.targetIds||[],v=h.removedTargetIds||[];i=new Yt(g,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;var y=e.documentDelete;y.document;var b=Ie(t,y.document),w=y.readTime?Se(y.readTime):ht.min(),T=new Pi(b,w),S=y.removedTargetIds||[];i=new Yt([],S,T.key,T)}else if("documentRemove"in e){e.documentRemove;var _=e.documentRemove;_.document;var A=Ie(t,_.document),E=_.removedTargetIds||[];i=new Yt([],E,A,null)}else{if(!("filter"in e))return m();e.filter;var I=e.filter;I.targetId;var C=I.count||0,M=new bt(C),P=I.targetId;i=new jt(P,M)}return i}(this.serializer,t),i=function(t){if(!("targetChange"in t))return ht.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?ht.min():e.readTime?Se(e.readTime):ht.min()}(t);return this.listener.yu(e,i)},e.prototype.Vu=function(t){var e={};e.database=Pe(this.serializer),e.addTarget=function(t,e){var i,n=e.target;return(i=vt(n)?{documents:Re(t,n)}:{query:Le(t,n)}).targetId=e.targetId,e.resumeToken.O()>0&&(i.resumeToken=we(t,e.resumeToken)),i}(this.serializer,t);var i=function(t,e){var i=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return m()}}(0,e.et);return null==i?null:{"goog-listen-tags":i}}(this.serializer,t);i&&(e.labels=i),this.du(e)},e.prototype.pu=function(t){var e={};e.database=Pe(this.serializer),e.removeTarget=t,this.du(e)},e}(Os),Fs=function(t){function e(e,i,n,r,s){var o=this;return(o=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",i,n,s)||this).serializer=r,o.bu=!1,o}return n.__extends(e,t),Object.defineProperty(e.prototype,"vu",{get:function(){return this.bu},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.bu=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.mu=function(){this.bu&&this.Su([])},e.prototype.Ru=function(t){return this.iu.Pu("Write",t)},e.prototype.onMessage=function(t){if(x(!!t.streamToken),this.lastStreamToken=t.streamToken,this.bu){this.ys.reset();var e=function(t,e){return t&&t.length>0?(x(void 0!==e),t.map(function(t){return function(t,e){var i=t.updateTime?Se(t.updateTime):Se(e);i.isEqual(ht.min())&&(i=Se(e));var n=null;return t.transformResults&&t.transformResults.length>0&&(n=t.transformResults),new hi(i,n)}(t,e)})):[]}(t.writeResults,t.commitTime),i=Se(t.commitTime);return this.listener.Du(i,e)}return x(!t.writeResults||0===t.writeResults.length),this.bu=!0,this.listener.Cu()},e.prototype.Nu=function(){var t={};t.database=Pe(this.serializer),this.du(t)},e.prototype.Su=function(t){var e=this,i={streamToken:this.lastStreamToken,writes:t.map(function(t){return Ne(e.serializer,t)})};this.du(i)},e}(Os),Rs=function(t){function e(e,i,n){var r=this;return(r=t.call(this)||this).credentials=e,r.iu=i,r.serializer=n,r.Fu=!1,r}return n.__extends(e,t),e.prototype.xu=function(){if(this.Fu)throw new l(c.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.$u=function(t,e,i){var n=this;return this.xu(),this.credentials.getToken().then(function(r){return n.iu.$u(t,e,i,r)}).catch(function(t){throw t.code===c.UNAUTHENTICATED&&n.credentials.zc(),t})},e.prototype.ku=function(t,e,i){var n=this;return this.xu(),this.credentials.getToken().then(function(r){return n.iu.ku(t,e,i,r)}).catch(function(t){throw t.code===c.UNAUTHENTICATED&&n.credentials.zc(),t})},e.prototype.terminate=function(){this.Fu=!1},e}(function(){}),Ls=function(){function t(t,e){this.cs=t,this.di=e,this.state="Unknown",this.Mu=0,this.Ou=null,this.Lu=!0}return t.prototype.Bu=function(){var t=this;0===this.Mu&&(this.qu("Unknown"),this.Ou=this.cs.yn("online_state_timeout",1e4,function(){return t.Ou=null,t.Uu("Backend didn't respond within 10 seconds."),t.qu("Offline"),Promise.resolve()}))},t.prototype.Qu=function(t){"Online"===this.state?this.qu("Unknown"):(this.Mu++,this.Mu>=1&&(this.Wu(),this.Uu("Connection failed 1 times. Most recent error: "+t.toString()),this.qu("Offline")))},t.prototype.set=function(t){this.Wu(),this.Mu=0,"Online"===t&&(this.Lu=!1),this.qu(t)},t.prototype.qu=function(t){t!==this.state&&(this.state=t,this.di(t))},t.prototype.Uu=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Lu?(g(e),this.Lu=!1):p("OnlineStateTracker",e)},t.prototype.Wu=function(){null!==this.Ou&&(this.Ou.cancel(),this.Ou=null)},t}(),Ds=function(t,e,i,r,s){var o=this;this.ju=t,this.Ku=e,this.cs=i,this.Gu={},this.zu=[],this.Hu=new Map,this.Yu=new Set,this.Ju=[],this.Xu=s,this.Xu.Zu(function(t){i.ws(function(){return n.__awaiter(o,void 0,void 0,function(){return n.__generator(this,function(t){switch(t.label){case 0:return Hs(this)?(p("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return n.__awaiter(this,void 0,void 0,function(){var e;return n.__generator(this,function(i){switch(i.label){case 0:return(e=b(t)).Yu.add(4),[4,Us(e)];case 1:return i.sent(),e.th.set("Unknown"),e.Yu.delete(4),[4,Bs(e)];case 2:return i.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.th=new Ls(i,r)};function Bs(t){return n.__awaiter(this,void 0,void 0,function(){var e,i;return n.__generator(this,function(n){switch(n.label){case 0:if(!Hs(t))return[3,4];e=0,i=t.Ju,n.label=1;case 1:return e<i.length?[4,(0,i[e])(!0)]:[3,4];case 2:n.sent(),n.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Us(t){return n.__awaiter(this,void 0,void 0,function(){var e,i;return n.__generator(this,function(n){switch(n.label){case 0:e=0,i=t.Ju,n.label=1;case 1:return e<i.length?[4,(0,i[e])(!1)]:[3,4];case 2:n.sent(),n.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Xs(t){return n.__awaiter(this,void 0,void 0,function(){var e;return n.__generator(this,function(i){switch(i.label){case 0:return e=b(t),p("RemoteStore","RemoteStore shutting down."),e.Yu.add(5),[4,Us(e)];case 1:return i.sent(),e.Xu.Di(),e.th.set("Unknown"),[2]}})})}function Vs(t,e){var i=b(t);i.Hu.has(e.targetId)||(i.Hu.set(e.targetId,e),Ws(i)?Gs(i):ho(i).uu()&&Ys(i,e))}function zs(t,e){var i=b(t),n=ho(i);i.Hu.delete(e),n.uu()&&js(i,e),0===i.Hu.size&&(n.uu()?n._u():Hs(i)&&i.th.set("Unknown"))}function Ys(t,e){t.eh.Ie(e.targetId),ho(t).Vu(e)}function js(t,e){t.eh.Ie(e),ho(t).pu(e)}function Gs(t){t.eh=new Ht({qe:function(e){return t.Gu.qe(e)},Ue:function(e){return t.Hu.get(e)||null}}),ho(t).start(),t.th.Bu()}function Ws(t){return Hs(t)&&!ho(t).cu()&&t.Hu.size>0}function Hs(t){return 0===b(t).Yu.size}function qs(t){t.eh=void 0}function Ks(t){return n.__awaiter(this,void 0,void 0,function(){return n.__generator(this,function(e){return t.Hu.forEach(function(e,i){Ys(t,e)}),[2]})})}function Js(t,e){return n.__awaiter(this,void 0,void 0,function(){return n.__generator(this,function(i){return qs(t),Ws(t)?(t.th.Qu(e),Gs(t)):t.th.set("Unknown"),[2]})})}function Qs(t,e,i){return n.__awaiter(this,void 0,void 0,function(){var r,s,o;return n.__generator(this,function(a){switch(a.label){case 0:if(t.th.set("Online"),!(e instanceof Gt&&2===e.state&&e.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(t,e){return n.__awaiter(this,void 0,void 0,function(){var i,r,s,o;return n.__generator(this,function(n){switch(n.label){case 0:i=e.cause,r=0,s=e.targetIds,n.label=1;case 1:return r<s.length?(o=s[r],t.Hu.has(o)?[4,t.Gu.nh(o,i)]:[3,3]):[3,5];case 2:n.sent(),t.Hu.delete(o),t.eh.removeTarget(o),n.label=3;case 3:n.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),p("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Zs(t,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Yt?t.eh.be(e):e instanceof jt?t.eh.$e(e):t.eh.De(e),i.isEqual(ht.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,gs(t.ju)];case 8:return s=a.sent(),i.L(s)>=0?[4,function(t,e){var i=t.eh.Oe(e);return i.zt.forEach(function(i,n){if(i.resumeToken.O()>0){var r=t.Hu.get(n);r&&t.Hu.set(n,r.it(i.resumeToken,e))}}),i.Ht.forEach(function(e){var i=t.Hu.get(e);if(i){t.Hu.set(e,i.it($.B,i.nt)),js(t,e);var n=new xt(i.target,e,1,i.sequenceNumber);Ys(t,n)}}),t.Gu.sh(i)}(t,i)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return p("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,Zs(t,o)];case 12:return a.sent(),[3,13];case 13:return[2]}})})}function Zs(t,e,i){return n.__awaiter(this,void 0,void 0,function(){var r=this;return n.__generator(this,function(s){switch(s.label){case 0:if(!xn(e))throw e;return t.Yu.add(1),[4,Us(t)];case 1:return s.sent(),t.th.set("Offline"),i||(i=function(){return gs(t.ju)}),t.cs.Cs(function(){return n.__awaiter(r,void 0,void 0,function(){return n.__generator(this,function(e){switch(e.label){case 0:return p("RemoteStore","Retrying IndexedDB access"),[4,i()];case 1:return e.sent(),t.Yu.delete(1),[4,Bs(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function $s(t,e){return e().catch(function(i){return Zs(t,i,e)})}function to(t){return n.__awaiter(this,void 0,void 0,function(){var e,i,r,s,o;return n.__generator(this,function(n){switch(n.label){case 0:e=b(t),i=uo(e),r=e.zu.length>0?e.zu[e.zu.length-1].batchId:-1,n.label=1;case 1:if(!function(t){return Hs(t)&&t.zu.length<10}(e))return[3,7];n.label=2;case 2:return n.trys.push([2,4,,6]),[4,ys(e.ju,r)];case 3:return null===(s=n.sent())?(0===e.zu.length&&i._u(),[3,7]):(r=s.batchId,function(t,e){t.zu.push(e);var i=uo(t);i.uu()&&i.vu&&i.Su(e.mutations)}(e,s),[3,6]);case 4:return o=n.sent(),[4,Zs(e,o)];case 5:return n.sent(),[3,6];case 6:return[3,1];case 7:return eo(e)&&io(e),[2]}})})}function eo(t){return Hs(t)&&!uo(t).cu()&&t.zu.length>0}function io(t){uo(t).start()}function no(t){return n.__awaiter(this,void 0,void 0,function(){return n.__generator(this,function(e){return uo(t).Nu(),[2]})})}function ro(t){return n.__awaiter(this,void 0,void 0,function(){var e,i,r,s;return n.__generator(this,function(n){for(e=uo(t),i=0,r=t.zu;i<r.length;i++)s=r[i],e.Su(s.mutations);return[2]})})}function so(t,e,i){return n.__awaiter(this,void 0,void 0,function(){var r,s;return n.__generator(this,function(n){switch(n.label){case 0:return r=t.zu.shift(),s=Kn.from(r,e,i),[4,$s(t,function(){return t.Gu.ih(s)})];case 1:return n.sent(),[4,to(t)];case 2:return n.sent(),[2]}})})}function oo(t,e){return n.__awaiter(this,void 0,void 0,function(){return n.__generator(this,function(i){switch(i.label){case 0:return e&&uo(t).vu?[4,function(t,e){return n.__awaiter(this,void 0,void 0,function(){var i,r;return n.__generator(this,function(n){switch(n.label){case 0:return wt(r=e.code)&&r!==c.ABORTED?(i=t.zu.shift(),uo(t).lu(),[4,$s(t,function(){return t.Gu.rh(i.batchId,e)})]):[3,3];case 1:return n.sent(),[4,to(t)];case 2:n.sent(),n.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:i.sent(),i.label=2;case 2:return eo(t)&&io(t),[2]}})})}function ao(t,e){return n.__awaiter(this,void 0,void 0,function(){var i;return n.__generator(this,function(n){switch(n.label){case 0:return i=b(t),e?(i.Yu.delete(2),[4,Bs(i)]):[3,2];case 1:return n.sent(),[3,5];case 2:return e?[3,4]:(i.Yu.add(2),[4,Us(i)]);case 3:n.sent(),i.th.set("Unknown"),n.label=4;case 4:n.label=5;case 5:return[2]}})})}function ho(t){var e=this;return t.oh||(t.oh=function(t,e,i){var n=b(t);return n.xu(),new Ns(e,n.iu,n.credentials,n.serializer,i)}(t.Ku,t.cs,{gu:Ks.bind(null,t),Tu:Js.bind(null,t),yu:Qs.bind(null,t)}),t.Ju.push(function(i){return n.__awaiter(e,void 0,void 0,function(){return n.__generator(this,function(e){switch(e.label){case 0:return i?(t.oh.lu(),Ws(t)?Gs(t):t.th.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.oh.stop()];case 2:e.sent(),qs(t),e.label=3;case 3:return[2]}})})})),t.oh}function uo(t){var e=this;return t.ah||(t.ah=function(t,e,i){var n=b(t);return n.xu(),new Fs(e,n.iu,n.credentials,n.serializer,i)}(t.Ku,t.cs,{gu:no.bind(null,t),Tu:oo.bind(null,t),Cu:ro.bind(null,t),Du:so.bind(null,t)}),t.Ju.push(function(i){return n.__awaiter(e,void 0,void 0,function(){return n.__generator(this,function(e){switch(e.label){case 0:return i?(t.ah.lu(),[4,to(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.ah.stop()];case 3:e.sent(),t.zu.length>0&&(p("RemoteStore","Stopping write stream with "+t.zu.length+" pending writes"),t.zu=[]),e.label=4;case 4:return[2]}})})})),t.ah
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}var co=function(t){this.key=t},lo=function(t){this.key=t},fo=function(){function t(t,e){this.query=t,this.uh=e,this.hh=null,this.te=!1,this.lh=Rt(),this.Wt=Rt(),this._h=Ki(t),this.fh=new Bt(this._h)}return Object.defineProperty(t.prototype,"dh",{get:function(){return this.uh},enumerable:!1,configurable:!0}),t.prototype.wh=function(t,e){var i=this,n=e?e.mh:new Ut,r=e?e.fh:this.fh,s=e?e.Wt:this.Wt,o=r,a=!1,h=Ri(this.query)&&r.size===this.query.limit?r.last():null,u=Li(this.query)&&r.size===this.query.limit?r.first():null;if(t.ht(function(t,e){var c=r.get(t),l=e instanceof Mi?e:null;l&&(l=qi(i.query,l)?l:null);var f=!!c&&i.Wt.has(c.key),d=!!l&&(l.Je||i.Wt.has(l.key)&&l.hasCommittedMutations),p=!1;c&&l?c.data().isEqual(l.data())?f!==d&&(n.track({type:3,doc:l}),p=!0):i.Th(c,l)||(n.track({type:2,doc:l}),p=!0,(h&&i._h(l,h)>0||u&&i._h(l,u)<0)&&(a=!0)):!c&&l?(n.track({type:0,doc:l}),p=!0):c&&!l&&(n.track({type:1,doc:c}),p=!0,(h||u)&&(a=!0)),p&&(l?(o=o.add(l),s=d?s.add(t):s.delete(t)):(o=o.delete(t),s=s.delete(t)))}),Ri(this.query)||Li(this.query))for(;o.size>this.query.limit;){var c=Ri(this.query)?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),n.track({type:1,doc:c})}return{fh:o,mh:n,Eh:a,Wt:s}},t.prototype.Th=function(t,e){return t.Je&&e.hasCommittedMutations&&!e.Je},t.prototype.yr=function(t,e,i){var n=this,r=this.fh;this.fh=t.fh,this.Wt=t.Wt;var s=t.mh.Ut();s.sort(function(t,e){return function(t,e){var i=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return m()}};return i(t)-i(e)}(t.type,e.type)||n._h(t.doc,e.doc)}),this.Ih(i);var o=e?this.Ah():[],a=0===this.lh.size&&this.te?1:0,h=a!==this.hh;return this.hh=a,0!==s.length||h?{snapshot:new Xt(this.query,t.fh,r,s,t.Wt,0===a,h,!1),Rh:o}:{Rh:o}},t.prototype.Qs=function(t){return this.te&&"Offline"===t?(this.te=!1,this.yr({fh:this.fh,mh:new Ut,Wt:this.Wt,Eh:!1},!1)):{Rh:[]}},t.prototype.gh=function(t){return!this.uh.has(t)&&!!this.fh.has(t)&&!this.fh.get(t).Je},t.prototype.Ih=function(t){var e=this;t&&(t.ee.forEach(function(t){return e.uh=e.uh.add(t)}),t.ne.forEach(function(t){}),t.se.forEach(function(t){return e.uh=e.uh.delete(t)}),this.te=t.te)},t.prototype.Ah=function(){var t=this;if(!this.te)return[];var e=this.lh;this.lh=Rt(),this.fh.forEach(function(e){t.gh(e.key)&&(t.lh=t.lh.add(e.key))});var i=[];return e.forEach(function(e){t.lh.has(e)||i.push(new lo(e))}),this.lh.forEach(function(t){e.has(t)||i.push(new co(t))}),i},t.prototype.Ph=function(t){this.uh=t.Fc,this.lh=Rt();var e=this.wh(t.documents);return this.yr(e,!0)},t.prototype.yh=function(){return Xt.Gt(this.query,this.fh,this.Wt,0===this.hh)},t}(),po=function(t,e,i){this.query=t,this.targetId=e,this.view=i},go=function(t){this.key=t,this.Vh=!1},vo=function(){function t(t,e,i,n,r,s){this.ju=t,this.ph=e,this.bh=i,this.Sh=n,this.currentUser=r,this.Dh=s,this.Ch={},this.Nh=new ot(function(t){return Wi(t)},Gi),this.Fh=new Map,this.xh=[],this.$h=new St(C.i),this.kh=new Map,this.Mh=new As,this.Oh={},this.Lh=new Map,this.Bh=ts.da(),this.onlineState="Unknown",this.qh=void 0}return Object.defineProperty(t.prototype,"Uh",{get:function(){return!0===this.qh},enumerable:!1,configurable:!0}),t}();function yo(t,e,i,r){return n.__awaiter(this,void 0,void 0,function(){var s,o,a,h,u,c;return n.__generator(this,function(l){switch(l.label){case 0:return t.Qh=function(e,i,r){return function(t,e,i,r){return n.__awaiter(this,void 0,void 0,function(){var s,o,a;return n.__generator(this,function(n){switch(n.label){case 0:return(s=e.view.wh(i)).Eh?[4,bs(t.ju,e.query,!1).then(function(t){var i=t.documents;return e.view.wh(i,s)})]:[3,2];case 1:s=n.sent(),n.label=2;case 2:return o=r&&r.zt.get(e.targetId),a=e.view.yr(s,t.Uh,o),[2,(Io(t,e.targetId,a.Rh),a.snapshot)]}})})}(t,e,i,r)},[4,bs(t.ju,e,!0)];case 1:return s=l.sent(),o=new fo(e,s.Fc),a=o.wh(s.documents),h=zt.Zt(i,r&&"Offline"!==t.onlineState),u=o.yr(a,t.Uh,h),Io(t,i,u.Rh),c=new po(e,i,o),[2,(t.Nh.set(e,c),t.Fh.has(i)?t.Fh.get(i).push(e):t.Fh.set(i,[e]),u.snapshot)]}})})}function mo(t,e){return n.__awaiter(this,void 0,void 0,function(){var i,r;return n.__generator(this,function(n){switch(n.label){case 0:i=b(t),n.label=1;case 1:return n.trys.push([1,4,,6]),[4,vs(i.ju,e)];case 2:return r=n.sent(),e.zt.forEach(function(t,e){var n=i.kh.get(e);n&&(x(t.ee.size+t.ne.size+t.se.size<=1),t.ee.size>0?n.Vh=!0:t.ne.size>0?x(n.Vh):t.se.size>0&&(x(n.Vh),n.Vh=!1))}),[4,Po(i,r,e)];case 3:return n.sent(),[3,6];case 4:return[4,_s(n.sent())];case 5:return n.sent(),[3,6];case 6:return[2]}})})}function xo(t,e,i){var n=b(t);if(n.Uh&&0===i||!n.Uh&&1===i){var r=[];n.Nh.forEach(function(t,i){var n=i.view.Qs(e);n.snapshot&&r.push(n.snapshot)}),function(t,e){var i=b(t);i.onlineState=e;var n=!1;i.Bs.forEach(function(t,i){for(var r=0,s=i.listeners;r<s.length;r++)s[r].Qs(e)&&(n=!0)}),n&&Fn(i)}(n.bh,e),r.length&&n.Ch.yu(r),n.onlineState=e,n.Uh&&n.Sh.Ki(e)}}function bo(t,e,i){return n.__awaiter(this,void 0,void 0,function(){var r,s,o,a,h,u;return n.__generator(this,function(n){switch(n.label){case 0:return(r=b(t)).Sh.Qi(e,"rejected",i),s=r.kh.get(e),(o=s&&s.key)?(a=(a=new St(C.i)).ot(o,new Pi(o,ht.min())),h=Rt().add(o),u=new Vt(ht.min(),new Map,new Et(J),a,h),[4,mo(r,u)]):[3,2];case 1:return n.sent(),r.$h=r.$h.remove(o),r.kh.delete(e),Mo(r),[3,4];case 2:return[4,xs(r.ju,e,!1).then(function(){return Ao(r,e,i)}).catch(_s)];case 3:n.sent(),n.label=4;case 4:return[2]}})})}function wo(t,e){return n.__awaiter(this,void 0,void 0,function(){var i,r,s;return n.__generator(this,function(n){switch(n.label){case 0:i=b(t),r=e.batch.batchId,n.label=1;case 1:return n.trys.push([1,4,,6]),[4,ps(i.ju,e)];case 2:return s=n.sent(),_o(i,r,null),So(i,r),i.Sh.ki(r,"acknowledged"),[4,Po(i,s)];case 3:return n.sent(),[3,6];case 4:return[4,_s(n.sent())];case 5:return n.sent(),[3,6];case 6:return[2]}})})}function To(t,e,i){return n.__awaiter(this,void 0,void 0,function(){var r,s;return n.__generator(this,function(n){switch(n.label){case 0:r=b(t),n.label=1;case 1:return n.trys.push([1,4,,6]),[4,function(t,e){var i=b(t);return i.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var n;return i.Sr.Oo(t,e).next(function(e){return x(null!==e),n=e.keys(),i.Sr.Wo(t,e)}).next(function(){return i.Sr.zo(t)}).next(function(){return i.Cc.kr(t,n)})})}(r.ju,e)];case 2:return s=n.sent(),_o(r,e,i),So(r,e),r.Sh.ki(e,"rejected",i),[4,Po(r,s)];case 3:return n.sent(),[3,6];case 4:return[4,_s(n.sent())];case 5:return n.sent(),[3,6];case 6:return[2]}})})}function So(t,e){(t.Lh.get(e)||[]).forEach(function(t){t.resolve()}),t.Lh.delete(e)}function _o(t,e,i){var n=b(t),r=n.Oh[n.currentUser.ti()];if(r){var s=r.get(e);s&&(i?s.reject(i):s.resolve(),r=r.remove(e)),n.Oh[n.currentUser.ti()]=r}}function Ao(t,e,i){void 0===i&&(i=null),t.Sh.Bi(e);for(var n=0,r=t.Fh.get(e);n<r.length;n++){var s=r[n];t.Nh.delete(s),i&&t.Ch.Wh(s,i)}t.Fh.delete(e),t.Uh&&t.Mh.Uc(e).forEach(function(e){t.Mh.Ho(e)||Eo(t,e)})}function Eo(t,e){var i=t.$h.get(e);null!==i&&(zs(t.ph,i),t.$h=t.$h.remove(e),t.kh.delete(i),Mo(t))}function Io(t,e,i){for(var n=0,r=i;n<r.length;n++){var s=r[n];s instanceof co?(t.Mh.Da(s.key,e),Co(t,s)):s instanceof lo?(p("SyncEngine","Document no longer in limbo: "+s.key),t.Mh.Na(s.key,e),t.Mh.Ho(s.key)||Eo(t,s.key)):m()}}function Co(t,e){var i=e.key;t.$h.get(i)||(p("SyncEngine","New document in limbo: "+i),t.xh.push(i),Mo(t))}function Mo(t){for(;t.xh.length>0&&t.$h.size<t.Dh;){var e=t.xh.shift(),i=t.Bh.next();t.kh.set(i,new go(e)),t.$h=t.$h.ot(e,i),Vs(t.ph,new xt(Vi(Fi(e.path)),i,2,Dn.ai))}}function Po(t,e,i){return n.__awaiter(this,void 0,void 0,function(){var r,s,o,a;return n.__generator(this,function(h){switch(h.label){case 0:return r=b(t),s=[],o=[],a=[],r.Nh.m()?[3,3]:(r.Nh.forEach(function(t,n){a.push(r.Qh(n,e,i).then(function(t){if(t){r.Uh&&r.Sh.Qi(n.targetId,t.fromCache?"not-current":"current"),s.push(t);var e=tr.zr(n.targetId,t);o.push(e)}}))}),[4,Promise.all(a)]);case 1:return h.sent(),r.Ch.yu(s),[4,function(t,e){return n.__awaiter(this,void 0,void 0,function(){var i,r,s,o,a,h,u,c,l;return n.__generator(this,function(n){switch(n.label){case 0:i=b(t),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,i.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return gn.forEach(e,function(e){return gn.forEach(e.Kr,function(n){return i.persistence.No.Da(t,e.targetId,n)}).next(function(){return gn.forEach(e.Gr,function(n){return i.persistence.No.Na(t,e.targetId,n)})})})})];case 2:return n.sent(),[3,4];case 3:if(!xn(r=n.sent()))throw r;return p("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(s=0,o=e;s<o.length;s++)a=o[s],h=a.targetId,a.fromCache||(u=i.bc.get(h),c=u.nt,l=u.rt(c),i.bc=i.bc.ot(h,l));return[2]}})})}(r.ju,o)];case 2:h.sent(),h.label=3;case 3:return[2]}})})}function ko(t,e){return n.__awaiter(this,void 0,void 0,function(){var i,r;return n.__generator(this,function(s){switch(s.label){case 0:return(i=b(t)).currentUser.isEqual(e)?[3,3]:(p("SyncEngine","User change. New user:",e.ti()),[4,function(t,e){return n.__awaiter(this,void 0,void 0,function(){var i,r,s,o;return n.__generator(this,function(n){switch(n.label){case 0:return i=b(t),r=i.Sr,s=i.Cc,[4,i.persistence.runTransaction("Handle user change","readonly",function(t){var n;return i.Sr.Uo(t).next(function(o){return n=o,r=i.persistence.mc(e),s=new $n(i.Dc,r,i.persistence.Ic()),r.Uo(t)}).next(function(e){for(var i=[],r=[],o=Rt(),a=0,h=n;a<h.length;a++){var u=h[a];i.push(u.batchId);for(var c=0,l=u.mutations;c<l.length;c++){var f=l[c];o=o.add(f.key)}}for(var d=0,p=e;d<p.length;d++){var g=p[d];r.push(g.batchId);for(var v=0,y=g.mutations;v<y.length;v++){var m=y[v];o=o.add(m.key)}}return s.kr(t,o).next(function(t){return{jh:t,Kh:i,Gh:r}})})})];case 1:return o=n.sent(),[2,(i.Sr=r,i.Cc=s,i.Vc.Nc(i.Cc),o)]}})})}(i.ju,e)]);case 1:return r=s.sent(),i.currentUser=e,function(t,e){t.Lh.forEach(function(t){t.forEach(function(t){t.reject(new l(c.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Lh.clear()}(i),i.Sh.ji(e,r.Kh,r.Gh),[4,Po(i,r.jh)];case 2:s.sent(),s.label=3;case 3:return[2]}})})}function Oo(t,e){return n.__awaiter(this,void 0,void 0,function(){var i,r,s;return n.__generator(this,function(n){switch(n.label){case 0:return[4,bs((i=b(t)).ju,e.query,!0)];case 1:return r=n.sent(),s=e.view.Ph(r),[2,(i.Uh&&Io(i,e.targetId,s.Rh),s)]}})})}function No(t,e,i,r){return n.__awaiter(this,void 0,void 0,function(){var s,o;return n.__generator(this,function(n){switch(n.label){case 0:return[4,function(t,e){var i=b(t),n=b(i.Sr);return i.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return n.Lo(t,e).next(function(e){return e?i.Cc.kr(t,e):gn.resolve(null)})})}((s=b(t)).ju,e)];case 1:return null===(o=n.sent())?[3,6]:"pending"!==i?[3,3]:[4,to(s.ph)];case 2:return n.sent(),[3,4];case 3:"acknowledged"===i||"rejected"===i?(_o(s,e,r||null),So(s,e),function(t,e){b(b(t).Sr).Ko(e)}(s.ju,e)):m(),n.label=4;case 4:return[4,Po(s,o)];case 5:return n.sent(),[3,7];case 6:p("SyncEngine","Cannot apply mutation batch with id: "+e),n.label=7;case 7:return[2]}})})}function Fo(t,e){return n.__awaiter(this,void 0,void 0,function(){var i,r,s,o,a,h,u,c;return n.__generator(this,function(n){switch(n.label){case 0:return Xo(i=b(t)),Vo(i),!0!==e||!0===i.qh?[3,3]:(r=i.Sh.Ci(),[4,Ro(i,r.A())]);case 1:return s=n.sent(),i.qh=!0,[4,ao(i.ph,!0)];case 2:for(n.sent(),o=0,a=s;o<a.length;o++)h=a[o],Vs(i.ph,h);return[3,7];case 3:return!1!==e||!1===i.qh?[3,7]:(u=[],c=Promise.resolve(),i.Fh.forEach(function(t,e){i.Sh.qi(e)?u.push(e):c=c.then(function(){return Ao(i,e),xs(i.ju,e,!0)}),zs(i.ph,e)}),[4,c]);case 4:return n.sent(),[4,Ro(i,u)];case 5:return n.sent(),function(t){var e=b(i);e.kh.forEach(function(t,i){zs(e.ph,i)}),e.Mh.Qc(),e.kh=new Map,e.$h=new St(C.i)}(),i.qh=!1,[4,ao(i.ph,!1)];case 6:n.sent(),n.label=7;case 7:return[2]}})})}function Ro(t,e,i){return n.__awaiter(this,void 0,void 0,function(){var i,r,s,o,a,h,u,c,l,f,d,p,g,v;return n.__generator(this,function(n){switch(n.label){case 0:i=b(t),r=[],s=[],o=0,a=e,n.label=1;case 1:return o<a.length?(h=a[o],u=void 0,(c=i.Fh.get(h))&&0!==c.length?[4,ms(i.ju,Vi(c[0]))]:[3,7]):[3,13];case 2:u=n.sent(),l=0,f=c,n.label=3;case 3:return l<f.length?(d=f[l],p=i.Nh.get(d),[4,Oo(i,p)]):[3,6];case 4:(g=n.sent()).snapshot&&s.push(g.snapshot),n.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,ws(i.ju,h)];case 8:return v=n.sent(),[4,ms(i.ju,v)];case 9:return u=n.sent(),[4,yo(i,Lo(v),h,!1)];case 10:n.sent(),n.label=11;case 11:r.push(u),n.label=12;case 12:return o++,[3,1];case 13:return[2,(i.Ch.yu(s),r)]}})})}function Lo(t){return Ni(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Do(t){var e=b(t);return b(b(e.ju).persistence).pi()}function Bo(t,e,i,r){return n.__awaiter(this,void 0,void 0,function(){var s,o,a;return n.__generator(this,function(n){switch(n.label){case 0:return(s=b(t)).qh?(p("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!s.Fh.has(e))return[3,8];switch(i){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Ts(s.ju)];case 3:return o=n.sent(),a=Vt.Xt(e,"current"===i),[4,Po(s,o,a)];case 4:return n.sent(),[3,8];case 5:return[4,xs(s.ju,e,!0)];case 6:return n.sent(),Ao(s,e,r),[3,8];case 7:m(),n.label=8;case 8:return[2]}})})}function Uo(t,e,i){return n.__awaiter(this,void 0,void 0,function(){var r,s,o,a,h,u,c,l,f,d;return n.__generator(this,function(g){switch(g.label){case 0:if(!(r=Xo(t)).qh)return[3,10];s=0,o=e,g.label=1;case 1:return s<o.length?(a=o[s],r.Fh.has(a)?(p("SyncEngine","Adding an already active target "+a),[3,5]):[4,ws(r.ju,a)]):[3,6];case 2:return h=g.sent(),[4,ms(r.ju,h)];case 3:return u=g.sent(),[4,yo(r,Lo(h),u.targetId,!1)];case 4:g.sent(),Vs(r.ph,u),g.label=5;case 5:return s++,[3,1];case 6:c=function(t){return n.__generator(this,function(e){switch(e.label){case 0:return r.Fh.has(t)?[4,xs(r.ju,t,!1).then(function(){zs(r.ph,t),Ao(r,t)}).catch(_s)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,f=i,g.label=7;case 7:return l<f.length?(d=f[l],[5,c(d)]):[3,10];case 8:g.sent(),g.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function Xo(t){var e=b(t);return e.ph.Gu.sh=mo.bind(null,e),e.ph.Gu.qe=function(t,e){var i=b(t),n=i.kh.get(e);if(n&&n.Vh)return Rt().add(n.key);var r=Rt(),s=i.Fh.get(e);if(!s)return r;for(var o=0,a=s;o<a.length;o++){var h=a[o],u=i.Nh.get(h);r=r.kt(u.view.dh)}return r}.bind(null,e),e.ph.Gu.nh=bo.bind(null,e),e.Ch.yu=function(t,e){for(var i=b(t),n=!1,r=0,s=e;r<s.length;r++){var o=s[r],a=o.query,h=i.Bs.get(a);if(h){for(var u=0,c=h.listeners;u<c.length;u++)c[u].Ws(o)&&(n=!0);h.Ls=o}}n&&Fn(i)}.bind(null,e.bh),e.Ch.Wh=function(t,e,i){var n=b(t),r=n.Bs.get(e);if(r)for(var s=0,o=r.listeners;s<o.length;s++)o[s].onError(i);n.Bs.delete(e)}.bind(null,e.bh),e}function Vo(t){var e=b(t);return e.ph.Gu.ih=wo.bind(null,e),e.ph.Gu.rh=To.bind(null,e),e}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zo=function(){function t(){}return t.prototype.Nc=function(t){this.zh=t},t.prototype.Lr=function(t,e,i,n){var r=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.on.length||1===t.on.length&&t.on[0].field.p())}(e)||i.isEqual(ht.min())?this.Hh(t,e):this.zh.kr(t,n).next(function(o){var a=r.Yh(e,o);return(Ri(e)||Li(e))&&r.Eh(e.an,a,n,i)?r.Hh(t,e):(d()<=s.LogLevel.DEBUG&&p("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Hi(e)),r.zh.Lr(t,e,i).next(function(t){return a.forEach(function(e){t=t.ot(e.key,e)}),t}))})},t.prototype.Yh=function(t,e){var i=new Et(Ki(t));return e.forEach(function(e,n){n instanceof Mi&&qi(t,n)&&(i=i.add(n))}),i},t.prototype.Eh=function(t,e,i,n){if(i.size!==e.size)return!0;var r="F"===t?e.last():e.first();return!!r&&(r.hasPendingWrites||r.version.L(n)>0)},t.prototype.Hh=function(t,e){return d()<=s.LogLevel.DEBUG&&p("IndexFreeQueryEngine","Using full collection scan to execute query:",Hi(e)),this.zh.Lr(t,e,ht.min())},t}(),Yo=function(){function t(t,e){this.Dr=t,this.No=e,this.Sr=[],this.Jh=1,this.Xh=new Et(Es.kc)}return t.prototype.$o=function(t){return gn.resolve(0===this.Sr.length)},t.prototype.ko=function(t,e,i,n){var r=this.Jh;this.Jh++,this.Sr.length>0&&this.Sr[this.Sr.length-1];var s=new qn(r,e,i,n);this.Sr.push(s);for(var o=0,a=n;o<a.length;o++){var h=a[o];this.Xh=this.Xh.add(new Es(h.key,r)),this.Dr.Mo(t,h.key.path.h())}return gn.resolve(s)},t.prototype.Oo=function(t,e){return gn.resolve(this.Zh(e))},t.prototype.Bo=function(t,e){var i=e+1,n=this.tl(i),r=n<0?0:n;return gn.resolve(this.Sr.length>r?this.Sr[r]:null)},t.prototype.qo=function(){return gn.resolve(0===this.Sr.length?-1:this.Jh-1)},t.prototype.Uo=function(t){return gn.resolve(this.Sr.slice())},t.prototype.Nr=function(t,e){var i=this,n=new Es(e,0),r=new Es(e,Number.POSITIVE_INFINITY),s=[];return this.Xh.Ft([n,r],function(t){var e=i.Zh(t.jc);s.push(e)}),gn.resolve(s)},t.prototype.Or=function(t,e){var i=this,n=new Et(J);return e.forEach(function(t){var e=new Es(t,0),r=new Es(t,Number.POSITIVE_INFINITY);i.Xh.Ft([e,r],function(t){n=n.add(t.jc)})}),gn.resolve(this.el(n))},t.prototype.Wr=function(t,e){var i=e.path,n=i.length+1,r=i;C.F(r)||(r=r.child(""));var s=new Es(new C(r),0),o=new Et(J);return this.Xh.xt(function(t){var e=t.key.path;return!!i.T(e)&&(e.length===n&&(o=o.add(t.jc)),!0)},s),gn.resolve(this.el(o))},t.prototype.el=function(t){var e=this,i=[];return t.forEach(function(t){var n=e.Zh(t);null!==n&&i.push(n)}),i},t.prototype.Wo=function(t,e){var i=this;x(0===this.nl(e.batchId,"removed")),this.Sr.shift();var n=this.Xh;return gn.forEach(e.mutations,function(r){var s=new Es(r.key,e.batchId);return n=n.delete(s),i.No.Go(t,r.key)}).next(function(){i.Xh=n})},t.prototype.Ko=function(t){},t.prototype.Ho=function(t,e){var i=new Es(e,0),n=this.Xh.$t(i);return gn.resolve(e.isEqual(n&&n.key))},t.prototype.zo=function(t){return this.Sr.length,gn.resolve()},t.prototype.nl=function(t,e){return this.tl(t)},t.prototype.tl=function(t){return 0===this.Sr.length?0:t-this.Sr[0].batchId},t.prototype.Zh=function(t){var e=this.tl(t);return e<0||e>=this.Sr.length?null:this.Sr[e]},t}(),jo=function(){function t(t,e){this.Dr=t,this.sl=e,this.docs=new St(C.i),this.size=0}return t.prototype.Er=function(t,e,i){var n=e.key,r=this.docs.get(n),s=r?r.size:0,o=this.sl(e);return this.docs=this.docs.ot(n,{ta:e,size:o,readTime:i}),this.size+=o-s,this.Dr.Mo(t,n.path.h())},t.prototype.Ar=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.Rr=function(t,e){var i=this.docs.get(e);return gn.resolve(i?i.ta:null)},t.prototype.getEntries=function(t,e){var i=this,n=Pt();return e.forEach(function(t){var e=i.docs.get(t);n=n.ot(t,e?e.ta:null)}),gn.resolve(n)},t.prototype.Lr=function(t,e,i){for(var n=Ot(),r=new C(e.path.child("")),s=this.docs.ft(r);s.At();){var o=s.It(),a=o.key,h=o.value,u=h.ta,c=h.readTime;if(!e.path.T(a.path))break;c.L(i)<=0||u instanceof Mi&&qi(e,u)&&(n=n.ot(u.key,u))}return gn.resolve(n)},t.prototype.il=function(t,e){return gn.forEach(this.docs,function(t){return e(t)})},t.prototype.ra=function(t){return new Go(this)},t.prototype.aa=function(t){return gn.resolve(this.size)},t}(),Go=function(t){function e(e){var i=this;return(i=t.call(this)||this).ca=e,i}return n.__extends(e,t),e.prototype.yr=function(t){var e=this,i=[];return this.wr.forEach(function(n,r){r?i.push(e.ca.Er(t,r,e.readTime)):e.ca.Ar(n)}),gn.$n(i)},e.prototype.gr=function(t,e){return this.ca.Rr(t,e)},e.prototype.Pr=function(t,e){return this.ca.getEntries(t,e)},e}(Jn),Wo=function(){function t(t){this.persistence=t,this.rl=new ot(function(t){return pt(t)},gt),this.lastRemoteSnapshotVersion=ht.min(),this.highestTargetId=0,this.ol=0,this.al=new As,this.targetCount=0,this.cl=ts.fa()}return t.prototype.Ce=function(t,e){return this.rl.forEach(function(t,i){return e(i)}),gn.resolve()},t.prototype.Ea=function(t){return gn.resolve(this.lastRemoteSnapshotVersion)},t.prototype.Ia=function(t){return gn.resolve(this.ol)},t.prototype.wa=function(t){return this.highestTargetId=this.cl.next(),gn.resolve(this.highestTargetId)},t.prototype.Aa=function(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.ol&&(this.ol=e),gn.resolve()},t.prototype.ga=function(t){this.rl.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.cl=new ts(e),this.highestTargetId=e),t.sequenceNumber>this.ol&&(this.ol=t.sequenceNumber)},t.prototype.Ra=function(t,e){return this.ga(e),this.targetCount+=1,gn.resolve()},t.prototype.ya=function(t,e){return this.ga(e),gn.resolve()},t.prototype.Va=function(t,e){return this.rl.delete(e.target),this.al.Uc(e.targetId),this.targetCount-=1,gn.resolve()},t.prototype.po=function(t,e,i){var n=this,r=0,s=[];return this.rl.forEach(function(o,a){a.sequenceNumber<=e&&null===i.get(a.targetId)&&(n.rl.delete(o),s.push(n.pa(t,a.targetId)),r++)}),gn.$n(s).next(function(){return r})},t.prototype.ba=function(t){return gn.resolve(this.targetCount)},t.prototype.va=function(t,e){var i=this.rl.get(e)||null;return gn.resolve(i)},t.prototype.Sa=function(t,e,i){return this.al.Lc(e,i),gn.resolve()},t.prototype.Ca=function(t,e,i){this.al.qc(e,i);var n=this.persistence.No,r=[];return n&&e.forEach(function(e){r.push(n.Go(t,e))}),gn.$n(r)},t.prototype.pa=function(t,e){return this.al.Uc(e),gn.resolve()},t.prototype.Fa=function(t,e){var i=this.al.Wc(e);return gn.resolve(i)},t.prototype.Ho=function(t,e){return gn.resolve(this.al.Ho(e))},t}(),Ho=function(){function t(t){var e=this;this.ul={},this.Ma=new Dn(0),this.Oa=!1,this.Oa=!0,this.No=t(this),this.Ka=new Wo(this),this.Dr=new Nr,this.vr=function(t,i){return new jo(t,function(t){return e.No.hl(t)})}(this.Dr)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.Di=function(){return this.Oa=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Ei",{get:function(){return this.Oa},enumerable:!1,configurable:!0}),t.prototype.Za=function(){},t.prototype.tc=function(){},t.prototype.Ic=function(){return this.Dr},t.prototype.mc=function(t){var e=this.ul[t.ti()];return e||(e=new Yo(this.Dr,this.No),this.ul[t.ti()]=e),e},t.prototype.Tc=function(){return this.Ka},t.prototype.Ec=function(){return this.vr},t.prototype.runTransaction=function(t,e,i){var n=this;p("MemoryPersistence","Starting transaction:",t);var r=new qo(this.Ma.next());return this.No.ll(),i(r).next(function(t){return n.No._l(r).next(function(){return t})}).Fn().then(function(t){return r.br(),t})},t.prototype.fl=function(t,e){return gn.kn(Object.values(this.ul).map(function(i){return function(){return i.Ho(t,e)}}))},t}(),qo=function(t){function e(e){var i=this;return(i=t.call(this)||this).xa=e,i}return n.__extends(e,t),e}(Zn),Ko=function(){function t(t){this.persistence=t,this.dl=new As,this.wl=null}return t.ml=function(e){return new t(e)},Object.defineProperty(t.prototype,"Tl",{get:function(){if(this.wl)return this.wl;throw m()},enumerable:!1,configurable:!0}),t.prototype.Da=function(t,e,i){return this.dl.Da(i,e),this.Tl.delete(i.toString()),gn.resolve()},t.prototype.Na=function(t,e,i){return this.dl.Na(i,e),this.Tl.add(i.toString()),gn.resolve()},t.prototype.Go=function(t,e){return this.Tl.add(e.toString()),gn.resolve()},t.prototype.removeTarget=function(t,e){var i=this;this.dl.Uc(e.targetId).forEach(function(t){return i.Tl.add(t.toString())});var n=this.persistence.Tc();return n.Fa(t,e.targetId).next(function(t){t.forEach(function(t){return i.Tl.add(t.toString())})}).next(function(){return n.Va(t,e)})},t.prototype.ll=function(){this.wl=new Set},t.prototype._l=function(t){var e=this,i=this.persistence.Ec().ra();return gn.forEach(this.Tl,function(n){var r=C.D(n);return e.El(t,r).next(function(t){t||i.Ar(r)})}).next(function(){return e.wl=null,i.apply(t)})},t.prototype.yc=function(t,e){var i=this;return this.El(t,e).next(function(t){t?i.Tl.delete(e.toString()):i.Tl.add(e.toString())})},t.prototype.hl=function(t){return 0},t.prototype.El=function(t,e){var i=this;return gn.kn([function(){return gn.resolve(i.dl.Ho(e))},function(){return i.persistence.Tc().Ho(t,e)},function(){return i.persistence.fl(t,e)}])},t}(),Jo=function(){function t(t){this.Il=t.Il,this.Al=t.Al}return t.prototype.gu=function(t){this.Rl=t},t.prototype.Tu=function(t){this.gl=t},t.prototype.onMessage=function(t){this.Pl=t},t.prototype.close=function(){this.Al()},t.prototype.send=function(t){this.Il(t)},t.prototype.yl=function(){this.Rl()},t.prototype.Vl=function(t){this.gl(t)},t.prototype.pl=function(t){this.Pl(t)},t}(),Qo={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Zo=function(t){function e(e){var i=this;return(i=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,i.W=e.W,i}return n.__extends(e,t),e.prototype.Nl=function(t,e,i,n){return new Promise(function(r,s){var o=new a.XhrIo;o.listenOnce(a.EventType.COMPLETE,function(){try{switch(o.getLastErrorCode()){case a.ErrorCode.NO_ERROR:var e=o.getResponseJson();p("Connection","XHR received:",JSON.stringify(e)),r(e);break;case a.ErrorCode.TIMEOUT:p("Connection",'RPC "'+t+'" timed out'),s(new l(c.DEADLINE_EXCEEDED,"Request time out"));break;case a.ErrorCode.HTTP_ERROR:var i=o.getStatus();if(p("Connection",'RPC "'+t+'" failed with status:',i,"response text:",o.getResponseText()),i>0){var n=o.getResponseJson().error;if(n&&n.status&&n.message){var h=function(t){var e=n.status.toLowerCase().replace("_","-");return Object.values(c).indexOf(e)>=0?e:c.UNKNOWN}();s(new l(h,n.message))}else s(new l(c.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new l(c.UNAVAILABLE,"Connection failed."));break;default:m()}}finally{p("Connection",'RPC "'+t+'" completed.')}});var h=JSON.stringify(n);o.send(e,"POST",h,i,15)})},e.prototype.Pu=function(t,e){var i=[this.vl,"/","google.firestore.v1.Firestore","/",t,"/channel"],n=a.createWebChannelTransport(),r={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.U.projectId+"/databases/"+this.U.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.W};this.Cl(r.initMessageHeaders,e),o.isMobileCordova()||o.isReactNative()||o.isElectron()||o.isIE()||o.isUWP()||o.isBrowserExtension()||(r.httpHeadersOverwriteParam="$httpHeaders");var s=i.join("");p("Connection","Creating WebChannel: "+s,r);var h=n.createWebChannel(s,r),u=!1,f=!1,d=new Jo({Il:function(t){f?p("Connection","Not sending because WebChannel is closed:",t):(u||(p("Connection","Opening WebChannel transport."),h.open(),u=!0),p("Connection","WebChannel sending:",t),h.send(t))},Al:function(){return h.close()}}),g=function(t,e){h.listen(t,function(t){try{e(t)}catch(t){setTimeout(function(){throw t},0)}})};return g(a.WebChannel.EventType.OPEN,function(){f||p("Connection","WebChannel transport opened.")}),g(a.WebChannel.EventType.CLOSE,function(){f||(f=!0,p("Connection","WebChannel transport closed"),d.Vl())}),g(a.WebChannel.EventType.ERROR,function(t){f||(f=!0,v("Connection","WebChannel transport errored:",t),d.Vl(new l(c.UNAVAILABLE,"The operation could not be completed")))}),g(a.WebChannel.EventType.MESSAGE,function(t){var e;if(!f){var i=t.data[0];x(!!i);var n=i,r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){p("Connection","WebChannel received error:",r);var s=r.status,o=function(t){var e=yt[s];if(void 0!==e)return Tt(e)}(),a=r.message;void 0===o&&(o=c.INTERNAL,a="Unknown error status: "+s+" with message "+r.message),f=!0,d.Vl(new l(o,a)),h.close()}else p("Connection","WebChannel received:",i),d.pl(i)}}),setTimeout(function(){d.yl()},0),d},e}(function(){function t(t){this.bl=t,this.U=t.U;var e=t.ssl?"https":"http";this.vl=e+"://"+t.host,this.Sl="projects/"+this.U.projectId+"/databases/"+this.U.database+"/documents"}return t.prototype.$u=function(t,e,i,n){var r=this.Dl(t,e);p("RestConnection","Sending: ",r,i);var s={};return this.Cl(s,n),this.Nl(t,r,s,i).then(function(t){return p("RestConnection","Received: ",t),t},function(e){throw v("RestConnection",t+" failed with error: ",e,"url: ",r,"request:",i),e})},t.prototype.ku=function(t,e,i,n){return this.$u(t,e,i,n)},t.prototype.Cl=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/7.24.0",t["Content-Type"]="text/plain",e)for(var i in e.Kc)e.Kc.hasOwnProperty(i)&&(t[i]=e.Kc[i])},t.prototype.Dl=function(t,e){var i=Qo[t];return this.vl+"/v1/"+e+":"+i},t}()),$o=function(){function t(){var t=this;this.Fl=function(){return t.xl()},this.$l=function(){return t.kl()},this.Ml=[],this.Ol()}return t.prototype.Zu=function(t){this.Ml.push(t)},t.prototype.Di=function(){window.removeEventListener("online",this.Fl),window.removeEventListener("offline",this.$l)},t.prototype.Ol=function(){window.addEventListener("online",this.Fl),window.addEventListener("offline",this.$l)},t.prototype.xl=function(){p("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.Ml;t<e.length;t++)(0,e[t])(0)},t.prototype.kl=function(){p("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.Ml;t<e.length;t++)(0,e[t])(1)},t.Ln=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),ta=function(){function t(){}return t.prototype.Zu=function(t){},t.prototype.Di=function(){},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ea(t){return new ve(t,!0)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ia="You are using the memory-only build of Firestore. Persistence support is only available via the @firebase/firestore bundle or the firebase-firestore.js build.",na=function(){function t(){}return t.prototype.initialize=function(t){return n.__awaiter(this,void 0,void 0,function(){return n.__generator(this,function(e){switch(e.label){case 0:return this.Sh=this.Ll(t),this.persistence=this.Bl(t),[4,this.persistence.start()];case 1:return e.sent(),this.ql=this.Ul(t),this.ju=this.Ql(t),[2]}})})},t.prototype.Ul=function(t){return null},t.prototype.Ql=function(t){return e=this.persistence,i=new zo,n=t.Wl,new ds(e,i,n);var e,i,n},t.prototype.Bl=function(t){if(t.persistenceSettings.jl)throw new l(c.FAILED_PRECONDITION,ia);return new Ho(Ko.ml)},t.prototype.Ll=function(t){return new Hn},t.prototype.terminate=function(){return n.__awaiter(this,void 0,void 0,function(){return n.__generator(this,function(t){switch(t.label){case 0:return this.ql&&this.ql.stop(),[4,this.Sh.Di()];case 1:return t.sent(),[4,this.persistence.Di()];case 2:return t.sent(),[2]}})})},t.prototype.clearPersistence=function(t,e){throw new l(c.FAILED_PRECONDITION,ia)},t}(),ra=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.initialize=function(e){return n.__awaiter(this,void 0,void 0,function(){var i,r=this;return n.__generator(this,function(s){switch(s.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return s.sent(),i=this.Kl.fi,this.Sh instanceof Wn?(this.Sh.fi={er:No.bind(null,i),nr:Bo.bind(null,i),sr:Uo.bind(null,i),pi:Do.bind(null,i)},[4,this.Sh.start()]):[3,3];case 2:s.sent(),s.label=3;case 3:return[4,this.persistence.Xa(function(t){return n.__awaiter(r,void 0,void 0,function(){return n.__generator(this,function(e){switch(e.label){case 0:return[4,Fo(this.Kl.fi,t)];case 1:return e.sent(),this.ql&&(t&&!this.ql.Ei?this.ql.start(this.ju):t||this.ql.stop()),[2]}})})})];case 4:return s.sent(),[2]}})})},e.prototype.Ll=function(t){if(t.persistenceSettings.jl&&t.persistenceSettings.synchronizeTabs){var e=An();if(!Wn.Ln(e))throw new l(c.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var i=fs(t.bl.U,t.bl.persistenceKey);return new Wn(e,t.cs,i,t.clientId,t.Wl)}return new Hn},e}(function(t){function e(e){var i=this;return(i=t.call(this)||this).Kl=e,i}return n.__extends(e,t),e.prototype.initialize=function(e){return n.__awaiter(this,void 0,void 0,function(){return n.__generator(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),[4,Ss(this.ju)];case 2:return i.sent(),[4,this.Kl.initialize(this,e)];case 3:return i.sent(),[4,Vo(this.Kl.fi)];case 4:return i.sent(),[4,to(this.Kl.ph)];case 5:return i.sent(),[2]}})})},e.prototype.Ul=function(t){var e=this.persistence.No.wo;return new sr(e,t.cs)},e.prototype.Bl=function(t){var e=fs(t.bl.U,t.bl.persistenceKey),i=ea(t.bl.U);return new as(t.persistenceSettings.synchronizeTabs,e,t.clientId,rr.ao(t.persistenceSettings.cacheSizeBytes),t.cs,An(),En(),i,this.Sh,t.persistenceSettings.ka)},e.prototype.Ll=function(t){return new Hn},e.prototype.clearPersistence=function(t,e){return function(t){return n.__awaiter(this,void 0,void 0,function(){var e;return n.__generator(this,function(i){switch(i.label){case 0:return vn.Ln()?(e=t+"main",[4,vn.delete(e)]):[2,Promise.resolve()];case 1:return i.sent(),[2]}})})}(fs(t,e))},e}(na)),sa=function(){function t(){}return t.prototype.initialize=function(t,e){return n.__awaiter(this,void 0,void 0,function(){var i=this;return n.__generator(this,function(n){switch(n.label){case 0:return this.ju?[3,2]:(this.ju=t.ju,this.Sh=t.Sh,this.Ku=this.Gl(e),this.ph=this.zl(e),this.bh=this.Hl(e),this.fi=this.Yl(e),this.Sh.di=function(t){return xo(i.fi,t,1)},this.ph.Gu.Jl=ko.bind(null,this.fi),[4,ao(this.ph,this.fi.Uh)]);case 1:n.sent(),n.label=2;case 2:return[2]}})})},t.prototype.Hl=function(t){return new kn},t.prototype.Gl=function(t){var e,i=ea(t.bl.U),n=(e=t.bl,new Zo(e));return function(t,e,i){return new Rs(t,n,i)}(t.credentials,0,i)},t.prototype.zl=function(t){var e,i,n,r,s,o=this;return e=this.ju,i=this.Ku,n=t.cs,r=function(t){return xo(o.fi,t,0)},s=$o.Ln()?new $o:new ta,new Ds(e,i,n,r,s)},t.prototype.Yl=function(t){return function(t,e,i,n,r,s,o){var a=new vo(t,e,i,n,r,s);return o&&(a.qh=!0),a}(this.ju,this.ph,this.bh,this.Sh,t.Wl,t.Dh,!t.persistenceSettings.jl||!t.persistenceSettings.synchronizeTabs)},t.prototype.terminate=function(){return Xs(this.ph)},t}(),oa=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.Xl(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.Xl(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Zl=function(){this.muted=!0},t.prototype.Xl=function(t,e){var i=this;this.muted||setTimeout(function(){i.muted||t(e)},0)},t}(),aa=function(t){!function(t,e,i,n){if(!(e instanceof Array)||e.length<1)throw new l(c.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+H(1,"element")+".")}(0,t);for(var e=0;e<t.length;++e)if(N("FieldPath","string",e,t[e]),0===t[e].length)throw new l(c.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.t_=new I(t)},ha=function(t){function e(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return t.call(this,e)||this}return n.__extends(e,t),e.documentId=function(){return new e(I.v().R())},e.prototype.isEqual=function(t){if(!(t instanceof e))throw j("isEqual","FieldPath",1,t);return this.t_.isEqual(t.t_)},e}(aa),ua=new RegExp("[~\\*/\\[\\]]"),ca=function(t){this.e_=t},la=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.n_=function(t){if(2!==t.s_)throw 1===t.s_?t.i_(this.e_+"() can only appear at the top level of your update data"):t.i_(this.e_+"() cannot be used with set() unless you pass {merge:true}");return t.We.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(ca);function fa(t,e,i){return new _a({s_:3,r_:e.settings.r_,methodName:t.e_,o_:i},e.U,e.serializer,e.ignoreUndefinedProperties)}var da=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.n_=function(t){return new ai(t.path,new Ze)},e.prototype.isEqual=function(t){return t instanceof e},e}(ca),pa=function(t){function e(e,i){var n=this;return(n=t.call(this,e)||this).a_=i,n}return n.__extends(e,t),e.prototype.n_=function(t){var e=fa(this,t,!0),i=this.a_.map(function(t){return Pa(t,e)}),n=new $e(i);return new ai(t.path,n)},e.prototype.isEqual=function(t){return this===t},e}(ca),ga=function(t){function e(e,i){var n=this;return(n=t.call(this,e)||this).a_=i,n}return n.__extends(e,t),e.prototype.n_=function(t){var e=fa(this,t,!0),i=this.a_.map(function(t){return Pa(t,e)}),n=new ei(i);return new ai(t.path,n)},e.prototype.isEqual=function(t){return this===t},e}(ca),va=function(t){function e(e,i){var n=this;return(n=t.call(this,e)||this).c_=i,n}return n.__extends(e,t),e.prototype.n_=function(t){var e=new ni(t.serializer,xe(t.serializer,this.c_));return new ai(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(ca),ya=function(){function t(t,e){if(P("GeoPoint",arguments,2),N("GeoPoint","number",1,t),N("GeoPoint","number",2,e),!isFinite(t)||t<-90||t>90)throw new l(c.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new l(c.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.u_=t,this.h_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.u_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.h_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.u_===t.u_&&this.h_===t.h_},t.prototype.toJSON=function(){return{latitude:this.u_,longitude:this.h_}},t.prototype.Y=function(t){return J(this.u_,t.u_)||J(this.h_,t.h_)},t}(),ma=function(t){this.l_=t},xa=/^__.*__$/,ba=function(t,e,i){this.__=t,this.f_=e,this.d_=i},wa=function(){function t(t,e,i){this.data=t,this.We=e,this.fieldTransforms=i}return t.prototype.w_=function(t,e){var i=[];return null!==this.We?i.push(new mi(t,this.data,this.We,e)):i.push(new yi(t,this.data,e)),this.fieldTransforms.length>0&&i.push(new bi(t,this.fieldTransforms)),i},t}(),Ta=function(){function t(t,e,i){this.data=t,this.We=e,this.fieldTransforms=i}return t.prototype.w_=function(t,e){var i=[new mi(t,this.data,this.We,e)];return this.fieldTransforms.length>0&&i.push(new bi(t,this.fieldTransforms)),i},t}();function Sa(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw m()}}var _a=function(){function t(t,e,i,n,r,s){this.settings=t,this.U=e,this.serializer=i,this.ignoreUndefinedProperties=n,void 0===r&&this.m_(),this.fieldTransforms=r||[],this.We=s||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"s_",{get:function(){return this.settings.s_},enumerable:!1,configurable:!0}),t.prototype.T_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.U,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.We)},t.prototype.E_=function(t){var e,i=null===(e=this.path)||void 0===e?void 0:e.child(t),n=this.T_({path:i,o_:!1});return n.I_(t),n},t.prototype.A_=function(t){var e,i=null===(e=this.path)||void 0===e?void 0:e.child(t),n=this.T_({path:i,o_:!1});return n.m_(),n},t.prototype.R_=function(t){return this.T_({path:void 0,o_:!0})},t.prototype.i_=function(t){return La(t,this.settings.methodName,this.settings.g_||!1,this.path,this.settings.r_)},t.prototype.contains=function(t){return void 0!==this.We.find(function(e){return t.T(e)})||void 0!==this.fieldTransforms.find(function(e){return t.T(e.field)})},t.prototype.m_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.I_(this.path.get(t))},t.prototype.I_=function(t){if(0===t.length)throw this.i_("Document fields must not be empty");if(Sa(this.s_)&&xa.test(t))throw this.i_('Document fields cannot begin and end with "__"')},t}(),Aa=function(){function t(t,e,i){this.U=t,this.ignoreUndefinedProperties=e,this.serializer=i||ea(t)}return t.prototype.P_=function(t,e,i,n){return void 0===n&&(n=!1),new _a({s_:t,methodName:e,r_:i,path:I.P(),o_:!1,g_:n},this.U,this.serializer,this.ignoreUndefinedProperties)},t}();function Ea(t,e,i,n,r,s){void 0===s&&(s={});var o=t.P_(s.merge||s.mergeFields?2:0,e,i,r);Na("Data must be an object, but it was:",o,n);var a,h,u=ka(n,o);if(s.merge)a=new oi(o.We),h=o.fieldTransforms;else if(s.mergeFields){for(var f=[],d=0,p=s.mergeFields;d<p.length;d++){var g=p[d],v=void 0;if(g instanceof aa)v=g.t_;else{if("string"!=typeof g)throw m();v=Ra(e,g,i)}if(!o.contains(v))throw new l(c.INVALID_ARGUMENT,"Field '"+v+"' is specified in your field mask but missing from your input data.");Da(f,v)||f.push(v)}a=new oi(f),h=o.fieldTransforms.filter(function(t){return a.Ye(t.field)})}else a=null,h=o.fieldTransforms;return new wa(new Ai(u),a,h)}function Ia(t,e,i,n){var r=t.P_(1,e,i);Na("Data must be an object, but it was:",r,n);var s=[],o=new Ei;T(n,function(t,n){var a=Ra(e,t,i),h=r.A_(a);if(n instanceof la||n instanceof ma&&n.l_ instanceof la)s.push(a);else{var u=Pa(n,h);null!=u&&(s.push(a),o.set(a,u))}});var a=new oi(s);return new Ta(o.Xe(),a,r.fieldTransforms)}function Ca(t,e,i,n,r,s){var o=t.P_(1,e,i),a=[Fa(e,n,i)],h=[r];if(s.length%2!=0)throw new l(c.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var u=0;u<s.length;u+=2)a.push(Fa(e,s[u])),h.push(s[u+1]);for(var f=[],d=new Ei,p=a.length-1;p>=0;--p)if(!Da(f,a[p])){var g=a[p],v=h[p],y=o.A_(g);if(v instanceof la||v instanceof ma&&v.l_ instanceof la)f.push(g);else{var m=Pa(v,y);null!=m&&(f.push(g),d.set(g,m))}}var x=new oi(f);return new Ta(d.Xe(),x,o.fieldTransforms)}function Ma(t,e,i,n){return void 0===n&&(n=!1),Pa(i,t.P_(n?4:3,e))}function Pa(t,e){if(t instanceof ma&&(t=t.l_),Oa(t))return Na("Unsupported field value:",e,t),ka(t,e);if(t instanceof ca)return function(t,e){if(!Sa(e.s_))throw e.i_(t.e_+"() can only be used with update() and set()");if(!e.path)throw e.i_(t.e_+"() is not currently supported inside arrays");var i=t.n_(e);i&&e.fieldTransforms.push(i)}(t,e),null;if(e.path&&e.We.push(e.path),t instanceof Array){if(e.settings.o_&&4!==e.s_)throw e.i_("Nested arrays are not supported");return function(t,e){for(var i=[],n=0,r=0,s=t;r<s.length;r++){var o=Pa(s[r],e.R_(n));null==o&&(o={nullValue:"NULL_VALUE"}),i.push(o),n++}return{arrayValue:{values:i}}}(t,e)}return function(t,e){if(null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return xe(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var i=at.fromDate(t);return{timestampValue:be(e.serializer,i)}}if(t instanceof at){var n=new at(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:be(e.serializer,n)}}if(t instanceof ya)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof tt)return{bytesValue:we(e.serializer,t.q)};if(t instanceof ba){var r=e.U,s=t.__;if(!s.isEqual(r))throw e.i_("Document reference is for database "+s.projectId+"/"+s.database+" but should be for database "+r.projectId+"/"+r.database);return{referenceValue:_e(t.__||e.U,t.f_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.i_("Unsupported field value: "+V(t))}(t,e)}function ka(t,e){var i={};return S(t)?e.path&&e.path.length>0&&e.We.push(e.path):T(t,function(t,n){var r=Pa(n,e.E_(t));null!=r&&(i[t]=r)}),{mapValue:{fields:i}}}function Oa(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof at||t instanceof ya||t instanceof tt||t instanceof ba||t instanceof ca)}function Na(t,e,i){if(!Oa(i)||!X(i)){var n=V(i);throw"an object"===n?e.i_(t+" a custom object"):e.i_(t+" "+n)}}function Fa(t,e,i){if(e instanceof aa)return e.t_;if("string"==typeof e)return Ra(t,e);throw La("Field path arguments must be of type string or FieldPath.",t,!1,void 0,i)}function Ra(t,e,i){try{return function(t){if(t.search(ua)>=0)throw new l(c.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(ha.bind.apply(ha,n.__spreadArrays([void 0],t.split("."))))}catch(e){throw new l(c.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(e).t_}catch(e){throw La((r=e)instanceof Error?r.message:r.toString(),t,!1,void 0,i)}var r}function La(t,e,i,n,r){var s=n&&!n.m(),o=void 0!==r,a="Function "+e+"() called with invalid data";i&&(a+=" (via `toFirestore()`)");var h="";return(s||o)&&(h+=" (found",s&&(h+=" in field "+n),o&&(h+=" in document "+r),h+=")"),new l(c.INVALID_ARGUMENT,(a+=". ")+t+h)}function Da(t,e){return t.some(function(t){return t.isEqual(e)})}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ba=function(){function t(t){this.Ku=t,this.y_=new Map,this.mutations=[],this.V_=!1,this.p_=null,this.b_=new Set}return t.prototype.v_=function(t){return n.__awaiter(this,void 0,void 0,function(){var e,i=this;return n.__generator(this,function(r){switch(r.label){case 0:if(this.S_(),this.mutations.length>0)throw new l(c.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return n.__awaiter(this,void 0,void 0,function(){var i,r,s,o,a,h;return n.__generator(this,function(n){switch(n.label){case 0:return i=b(t),r=Pe(i.serializer)+"/documents",s={documents:e.map(function(t){return Ee(i.serializer,t)})},[4,i.ku("BatchGetDocuments",r,s)];case 1:return o=n.sent(),a=new Map,o.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){x(!!e.found),e.found.name,e.found.updateTime;var i=Ie(t,e.found.name),n=Se(e.found.updateTime),r=new Ai({mapValue:{fields:e.found.fields}});return new Mi(i,n,r,{})}(t,e):"missing"in e?function(t,e){x(!!e.missing),x(!!e.readTime);var i=Ie(t,e.missing),n=Se(e.readTime);return new Pi(i,n)}(t,e):m()}(i.serializer,t);a.set(e.key.toString(),e)}),h=[],[2,(e.forEach(function(t){var e=a.get(t.toString());x(!!e),h.push(e)}),h)]}})})}(this.Ku,t)];case 1:return[2,((e=r.sent()).forEach(function(t){t instanceof Pi||t instanceof Mi?i.D_(t):m()}),e)]}})})},t.prototype.set=function(t,e){this.write(e.w_(t,this.Ge(t))),this.b_.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.w_(t,this.C_(t)))}catch(t){this.p_=t}this.b_.add(t.toString())},t.prototype.delete=function(t){this.write([new Si(t,this.Ge(t))]),this.b_.add(t.toString())},t.prototype.commit=function(){return n.__awaiter(this,void 0,void 0,function(){var t,e=this;return n.__generator(this,function(i){switch(i.label){case 0:if(this.S_(),this.p_)throw this.p_;return t=this.y_,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,i){var n=C.D(i);e.mutations.push(new _i(n,e.Ge(n)))}),[4,function(t,e){return n.__awaiter(this,void 0,void 0,function(){var i,r,s;return n.__generator(this,function(n){switch(n.label){case 0:return i=b(t),r=Pe(i.serializer)+"/documents",s={writes:e.map(function(t){return Ne(i.serializer,t)})},[4,i.$u("Commit",r,s)];case 1:return n.sent(),[2]}})})}(this.Ku,this.mutations)];case 1:return i.sent(),this.V_=!0,[2]}})})},t.prototype.D_=function(t){var e;if(t instanceof Mi)e=t.version;else{if(!(t instanceof Pi))throw m();e=ht.min()}var i=this.y_.get(t.key.toString());if(i){if(!e.isEqual(i))throw new l(c.ABORTED,"Document version changed between two reads.")}else this.y_.set(t.key.toString(),e)},t.prototype.Ge=function(t){var e=this.y_.get(t.toString());return!this.b_.has(t.toString())&&e?ui.updateTime(e):ui.ze()},t.prototype.C_=function(t){var e=this.y_.get(t.toString());if(!this.b_.has(t.toString())&&e){if(e.isEqual(ht.min()))throw new l(c.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ui.updateTime(e)}return ui.exists(!0)},t.prototype.write=function(t){this.S_(),this.mutations=this.mutations.concat(t)},t.prototype.S_=function(){},t}(),Ua=function(){function t(t,e,i,n){this.cs=t,this.Ku=e,this.updateFunction=i,this.ls=n,this.N_=5,this.ys=new pn(this.cs,"transaction_retry")}return t.prototype.run=function(){this.F_()},t.prototype.F_=function(){var t=this;this.ys.gn(function(){return n.__awaiter(t,void 0,void 0,function(){var t,e,i=this;return n.__generator(this,function(n){return t=new Ba(this.Ku),(e=this.x_(t))&&e.then(function(e){i.cs.ws(function(){return t.commit().then(function(){i.ls.resolve(e)}).catch(function(t){i.k_(t)})})}).catch(function(t){i.k_(t)}),[2]})})})},t.prototype.x_=function(t){try{var e=this.updateFunction(t);return!ut(e)&&e.catch&&e.then?e:(this.ls.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.ls.reject(t),null}},t.prototype.k_=function(t){var e=this;this.N_>0&&this.M_(t)?(this.N_-=1,this.cs.ws(function(){return e.F_(),Promise.resolve()})):this.ls.reject(t)},t.prototype.M_=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!wt(e)}return!1},t}(),Xa=function(){function t(t,e){this.credentials=t,this.cs=e,this.clientId=K.k(),this.O_=new dn}return t.prototype.start=function(t,e,i,r){var s=this;this.L_(),this.bl=t;var o=new dn,a=!1;return this.credentials.Hc(function(t){if(!a)return a=!0,p("FirestoreClient","Initializing. user=",t.uid),s.B_(e,i,r,t,o).then(s.O_.resolve,s.O_.reject);s.cs.Cs(function(){return function(t,e){return n.__awaiter(this,void 0,void 0,function(){var i,r;return n.__generator(this,function(n){switch(n.label){case 0:return(i=b(t)).cs.xs(),p("RemoteStore","RemoteStore received new credentials"),r=Hs(i),i.Yu.add(3),[4,Us(i)];case 1:return n.sent(),r&&i.th.set("Unknown"),[4,i.Gu.Jl(e)];case 2:return n.sent(),i.Yu.delete(3),[4,Bs(i)];case 3:return n.sent(),[2]}})})}(s.ph,t)})}),this.cs.ws(function(){return s.O_.promise}),o.promise},t.prototype.enableNetwork=function(){var t=this;return this.L_(),this.cs.enqueue(function(){return t.persistence.tc(!0),function(t){var e=b(t);return e.Yu.delete(0),Bs(e)}(t.ph)})},t.prototype.B_=function(t,e,i,r,s){return n.__awaiter(this,void 0,void 0,function(){var o,a,h=this;return n.__generator(this,function(u){switch(u.label){case 0:return u.trys.push([0,3,,4]),o={cs:this.cs,bl:this.bl,clientId:this.clientId,credentials:this.credentials,Wl:r,Dh:100,persistenceSettings:i},[4,t.initialize(o)];case 1:return u.sent(),[4,e.initialize(t,o)];case 2:return u.sent(),this.persistence=t.persistence,this.Sh=t.Sh,this.ju=t.ju,this.ql=t.ql,this.Ku=e.Ku,this.ph=e.ph,this.fi=e.fi,this.q_=e.bh,this.q_.Us=function(t,e){return n.__awaiter(this,void 0,void 0,function(){var i,r,s,o,a,h;return n.__generator(this,function(n){switch(n.label){case 0:return i=Xo(t),(o=i.Nh.get(e))?(r=o.targetId,i.Sh.Oi(r),s=o.view.yh(),[3,4]):[3,1];case 1:return[4,ms(i.ju,Vi(e))];case 2:return a=n.sent(),h=i.Sh.Oi(a.targetId),r=a.targetId,[4,yo(i,e,r,"current"===h)];case 3:s=n.sent(),i.Uh&&Vs(i.ph,a),n.label=4;case 4:return[2,s]}})})}.bind(null,this.fi),this.q_.js=function(t,e){return n.__awaiter(this,void 0,void 0,function(){var i,r,s;return n.__generator(this,function(n){switch(n.label){case 0:return i=b(t),r=i.Nh.get(e),(s=i.Fh.get(r.targetId)).length>1?[2,(i.Fh.set(r.targetId,s.filter(function(t){return!Gi(t,e)})),void i.Nh.delete(e))]:i.Uh?(i.Sh.Bi(r.targetId),i.Sh.Fi(r.targetId)?[3,2]:[4,xs(i.ju,r.targetId,!1).then(function(){i.Sh.Ui(r.targetId),zs(i.ph,r.targetId),Ao(i,r.targetId)}).catch(_s)]):[3,3];case 1:n.sent(),n.label=2;case 2:return[3,5];case 3:return Ao(i,r.targetId),[4,xs(i.ju,r.targetId,!0)];case 4:n.sent(),n.label=5;case 5:return[2]}})})}.bind(null,this.fi),this.persistence.Za(function(){return n.__awaiter(h,void 0,void 0,function(){return n.__generator(this,function(t){switch(t.label){case 0:return[4,this.terminate()];case 1:return t.sent(),[2]}})})}),s.resolve(),[3,4];case 3:if(a=u.sent(),s.reject(a),!this.U_(a))throw a;return[2,(console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+a),this.B_(new na,new sa,{jl:!1},r,s))];case 4:return[2]}})})},t.prototype.U_=function(t){return"FirebaseError"===t.name?t.code===c.FAILED_PRECONDITION||t.code===c.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code},t.prototype.L_=function(){if(this.cs.ps)throw new l(c.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.disableNetwork=function(){var t=this;return this.L_(),this.cs.enqueue(function(){return t.persistence.tc(!1),function(t){return n.__awaiter(this,void 0,void 0,function(){var e;return n.__generator(this,function(i){switch(i.label){case 0:return(e=b(t)).Yu.add(0),[4,Us(e)];case 1:return i.sent(),e.th.set("Offline"),[2]}})})}(t.ph)})},t.prototype.terminate=function(){var t=this;this.cs.Ds();var e=new dn;return this.cs.bs(function(){return n.__awaiter(t,void 0,void 0,function(){var t,i;return n.__generator(this,function(n){switch(n.label){case 0:return n.trys.push([0,4,,5]),this.ql&&this.ql.stop(),[4,Xs(this.ph)];case 1:return n.sent(),[4,this.Sh.Di()];case 2:return n.sent(),[4,this.persistence.Di()];case 3:return n.sent(),this.credentials.Yc(),e.resolve(),[3,5];case 4:return t=n.sent(),i=Mn(t,"Failed to shutdown persistence"),e.reject(i),[3,5];case 5:return[2]}})})}),e.promise},t.prototype.waitForPendingWrites=function(){var t=this;this.L_();var e=new dn;return this.cs.ws(function(){return function(t,e){return n.__awaiter(this,void 0,void 0,function(){var i,r,s,o,a;return n.__generator(this,function(n){switch(n.label){case 0:Hs((i=b(t)).ph)||p("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,function(t){var e=b(i.ju);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e.Sr.qo(t)})}()];case 2:return-1===(r=n.sent())?[2,void e.resolve()]:((s=i.Lh.get(r)||[]).push(e),i.Lh.set(r,s),[3,4]);case 3:return o=n.sent(),a=Mn(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(a),[3,4];case 4:return[2]}})})}(t.fi,e)}),e.promise},t.prototype.listen=function(t,e,i){var n=this;this.L_();var r=new oa(i),s=new Rn(t,r,e);return this.cs.ws(function(){return On(n.q_,s)}),function(){r.Zl(),n.cs.ws(function(){return Nn(n.q_,s)})}},t.prototype.Q_=function(t){return n.__awaiter(this,void 0,void 0,function(){var e,i=this;return n.__generator(this,function(r){switch(r.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return r.sent(),e=new dn,[2,(this.cs.ws(function(){return function(t,e,i){return n.__awaiter(this,void 0,void 0,function(){var r,s,o;return n.__generator(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,function(t,e){var i=b(t);return i.persistence.runTransaction("read document","readonly",function(t){return i.Cc.Cr(t,e)})}(t,e)];case 1:return(r=n.sent())instanceof Mi?i.resolve(r):r instanceof Pi?i.resolve(null):i.reject(new l(c.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return s=n.sent(),o=Mn(s,"Failed to get document '"+e+" from cache"),i.reject(o),[3,3];case 3:return[2]}})})}(i.ju,t,e)}),e.promise)]}})})},t.prototype.W_=function(t,e){return void 0===e&&(e={}),n.__awaiter(this,void 0,void 0,function(){var i,r=this;return n.__generator(this,function(n){switch(n.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return n.sent(),i=new dn,[2,(this.cs.ws(function(){return function(t,e,i,n,r){var s=new oa({next:function(s){e.ws(function(){return Nn(t,o)});var a=s.docs.has(i);!a&&s.fromCache?r.reject(new l(c.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&n&&"server"===n.source?r.reject(new l(c.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):r.resolve(s)},error:function(t){return r.reject(t)}}),o=new Rn(Fi(i.path),s,{includeMetadataChanges:!0,Xs:!0});return On(t,o)}(r.q_,r.cs,t,e,i)}),i.promise)]}})})},t.prototype.j_=function(t){return n.__awaiter(this,void 0,void 0,function(){var e,i=this;return n.__generator(this,function(r){switch(r.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return r.sent(),e=new dn,[2,(this.cs.ws(function(){return function(t,e,i){return n.__awaiter(this,void 0,void 0,function(){var r,s,o,a,h,u;return n.__generator(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,bs(t,e,!0)];case 1:return r=n.sent(),s=new fo(e,r.Fc),o=s.wh(r.documents),a=s.yr(o,!1),i.resolve(a.snapshot),[3,3];case 2:return h=n.sent(),u=Mn(h,"Failed to execute query '"+e+" against cache"),i.reject(u),[3,3];case 3:return[2]}})})}(i.ju,t,e)}),e.promise)]}})})},t.prototype.K_=function(t,e){return void 0===e&&(e={}),n.__awaiter(this,void 0,void 0,function(){var i,r=this;return n.__generator(this,function(n){switch(n.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return n.sent(),i=new dn,[2,(this.cs.ws(function(){return function(t,e,i,n,r){var s=new oa({next:function(i){e.ws(function(){return Nn(t,o)}),i.fromCache&&"server"===n.source?r.reject(new l(c.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):r.resolve(i)},error:function(t){return r.reject(t)}}),o=new Rn(i,s,{includeMetadataChanges:!0,Xs:!0});return On(t,o)}(r.q_,r.cs,t,e,i)}),i.promise)]}})})},t.prototype.write=function(t){var e=this;this.L_();var i=new dn;return this.cs.ws(function(){return function(t,e,i){return n.__awaiter(this,void 0,void 0,function(){var r,s,o,a;return n.__generator(this,function(n){switch(n.label){case 0:r=Vo(t),n.label=1;case 1:return n.trys.push([1,5,,6]),[4,function(t,e){var i,n=b(t),r=at.now(),s=e.reduce(function(t,e){return t.add(e.key)},Rt());return n.persistence.runTransaction("Locally write mutations","readwrite",function(t){return n.Cc.kr(t,s).next(function(s){i=s;for(var o=[],a=0,h=e;a<h.length;a++){var u=h[a],c=pi(u,i.get(u.key));null!=c&&o.push(new mi(u.key,c,Ii(c.proto.mapValue),ui.exists(!0)))}return n.Sr.ko(t,r,o,e)})}).then(function(t){var e=t.lr(i);return{batchId:t.batchId,wr:e}})}(r.ju,e)];case 2:return s=n.sent(),r.Sh.xi(s.batchId),function(t,e,i){var n=t.Oh[t.currentUser.ti()];n||(n=new St(J)),n=n.ot(e,i),t.Oh[t.currentUser.ti()]=n}(r,s.batchId,i),[4,Po(r,s.wr)];case 3:return n.sent(),[4,to(r.ph)];case 4:return n.sent(),[3,6];case 5:return o=n.sent(),a=Mn(o,"Failed to persist write"),i.reject(a),[3,6];case 6:return[2]}})})}(e.fi,t,i)}),i.promise},t.prototype.U=function(){return this.bl.U},t.prototype.G_=function(t){var e=this;this.L_();var i=new oa(t);return this.cs.ws(function(){return n.__awaiter(e,void 0,void 0,function(){return n.__generator(this,function(t){return[2,function(t,e){b(t).qs.add(e),e.next()}(this.q_,i)]})})}),function(){i.Zl(),e.cs.ws(function(){return n.__awaiter(e,void 0,void 0,function(){return n.__generator(this,function(t){return[2,function(t,e){b(t).qs.delete(e)}(this.q_,i)]})})})}},Object.defineProperty(t.prototype,"z_",{get:function(){return this.cs.ps},enumerable:!1,configurable:!0}),t.prototype.transaction=function(t){var e=this;this.L_();var i=new dn;return this.cs.ws(function(){return new Ua(e.cs,e.Ku,t,i).run(),Promise.resolve()}),i.promise},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Va(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var i=t,n=0,r=["next","error","complete"];n<r.length;n++){var s=r[n];if(s in i&&"function"==typeof i[s])return!0}return!1}(t)}var za=function(){function t(t,e,i,n,r){this.U=t,this.timestampsInSnapshots=e,this.H_=i,this.Y_=n,this.J_=r}return t.prototype.X_=function(t){switch($t(t)){case 0:return null;case 1:return t.booleanValue;case 2:return oe(t.integerValue||t.doubleValue);case 3:return this.Z_(t.timestampValue);case 4:return this.tf(t);case 5:return t.stringValue;case 6:return this.J_(ae(t.bytesValue));case 7:return this.ef(t.referenceValue);case 8:return this.nf(t.geoPointValue);case 9:return this.sf(t.arrayValue);case 10:return this.if(t.mapValue);default:throw m()}},t.prototype.if=function(t){var e=this,i={};return T(t.fields||{},function(t,n){i[t]=e.X_(n)}),i},t.prototype.nf=function(t){return new ya(oe(t.latitude),oe(t.longitude))},t.prototype.sf=function(t){var e=this;return(t.values||[]).map(function(t){return e.X_(t)})},t.prototype.tf=function(t){switch(this.H_){case"previous":var e=function t(e){var i=e.mapValue.fields.__previous_value__;return Jt(i)?t(i):i}(t);return null==e?null:this.X_(e);case"estimate":return this.Z_(Qt(t));default:return null}},t.prototype.Z_=function(t){var e=se(t),i=new at(e.seconds,e.nanos);return this.timestampsInSnapshots?i:i.toDate()},t.prototype.ef=function(t){var e=A.g(t);x(He(e));var i=new st(e.get(1),e.get(3)),n=new C(e.u(5));return i.isEqual(this.U)||g("Document "+n+" contains a document reference within a different database ("+i.projectId+"/"+i.database+") which is not supported. It will be treated as a reference in the current database ("+this.U.projectId+"/"+this.U.database+") instead."),this.Y_(n)},t}(),Ya=rr.ho,ja=function(){function t(t){var e,i,n,r,s;if(void 0===t.host){if(void 0!==t.ssl)throw new l(c.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else R("settings","non-empty string","host",t.host),this.host=t.host,L("settings","boolean","ssl",t.ssl),this.ssl=null===(e=t.ssl)||void 0===e||e;if(Y("settings",t,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling","experimentalAutoDetectLongPolling","ignoreUndefinedProperties"]),L("settings","object","credentials",t.credentials),this.credentials=t.credentials,L("settings","boolean","timestampsInSnapshots",t.timestampsInSnapshots),L("settings","boolean","ignoreUndefinedProperties",t.ignoreUndefinedProperties),!0===t.timestampsInSnapshots?g("The setting 'timestampsInSnapshots: true' is no longer required and should be removed."):!1===t.timestampsInSnapshots&&g("Support for 'timestampsInSnapshots: false' will be removed soon. You must update your code to handle Timestamp objects."),this.timestampsInSnapshots=null===(i=t.timestampsInSnapshots)||void 0===i||i,this.ignoreUndefinedProperties=null!==(n=t.ignoreUndefinedProperties)&&void 0!==n&&n,L("settings","number","cacheSizeBytes",t.cacheSizeBytes),void 0===t.cacheSizeBytes)this.cacheSizeBytes=rr._o;else{if(t.cacheSizeBytes!==Ya&&t.cacheSizeBytes<rr.lo)throw new l(c.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+rr.lo);this.cacheSizeBytes=t.cacheSizeBytes}L("settings","boolean","experimentalForceLongPolling",t.experimentalForceLongPolling),this.experimentalForceLongPolling=null!==(r=t.experimentalForceLongPolling)&&void 0!==r&&r,L("settings","boolean","experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalAutoDetectLongPolling=null!==(s=t.experimentalAutoDetectLongPolling)&&void 0!==s&&s,function(t,e,i,n){if(!0===e&&!0===n)throw new l(c.INVALID_ARGUMENT,"experimentalForceLongPolling and experimentalAutoDetectLongPolling cannot be used together.")}(0,t.experimentalForceLongPolling,0,t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.timestampsInSnapshots===t.timestampsInSnapshots&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Ga=function(){function t(e,i,r,s){var o=this;if(void 0===r&&(r=new na),void 0===s&&(s=new sa),this.rf=r,this.af=s,this.cf=null,this.uf=new Cn,this.INTERNAL={delete:function(){return n.__awaiter(o,void 0,void 0,function(){return n.__generator(this,function(t){switch(t.label){case 0:return this.hf(),[4,this.lf.terminate()];case 1:return t.sent(),[2]}})})}},"object"==typeof e.options){var a=e;this.cf=a,this.__=t._f(a),this.ff=a.name,this.df=new Ms(i)}else{var h=e;if(!h.projectId)throw new l(c.INVALID_ARGUMENT,"Must provide projectId");this.__=new st(h.projectId,h.database),this.ff="[DEFAULT]",this.df=new Cs}this.wf=new ja({})}return Object.defineProperty(t.prototype,"mf",{get:function(){return this.Tf||(this.Tf=new Aa(this.__,this.wf.ignoreUndefinedProperties)),this.Tf},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){P("Firestore.settings",arguments,1),N("Firestore.settings","object",1,t),t.merge&&delete(t=Object.assign(Object.assign({},this.wf),t)).merge;var e=new ja(t);if(this.lf&&!this.wf.isEqual(e))throw new l(c.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this.wf=e,void 0!==e.credentials&&(this.df=function(t){if(!t)return new Cs;switch(t.type){case"gapi":var e=t.client;return x(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new ks(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new l(c.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype.enableNetwork=function(){return this.hf(),this.lf.enableNetwork()},t.prototype.disableNetwork=function(){return this.hf(),this.lf.disableNetwork()},t.prototype.enablePersistence=function(t){var e,i;if(this.lf)throw new l(c.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var n=!1,r=!1;if(t&&(void 0!==t.experimentalTabSynchronization&&g("The 'experimentalTabSynchronization' setting will be removed. Use 'synchronizeTabs' instead."),n=null!==(i=null!==(e=t.synchronizeTabs)&&void 0!==e?e:t.experimentalTabSynchronization)&&void 0!==i&&i,r=!!t.experimentalForceOwningTab&&t.experimentalForceOwningTab,n&&r))throw new l(c.INVALID_ARGUMENT,"The 'experimentalForceOwningTab' setting cannot be used with 'synchronizeTabs'.");return this.Ef(this.rf,this.af,{jl:!0,cacheSizeBytes:this.wf.cacheSizeBytes,synchronizeTabs:n,ka:r})},t.prototype.clearPersistence=function(){return n.__awaiter(this,void 0,void 0,function(){var t,e=this;return n.__generator(this,function(i){if(void 0!==this.lf&&!this.lf.z_)throw new l(c.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");return t=new dn,[2,(this.uf.bs(function(){return n.__awaiter(e,void 0,void 0,function(){var e;return n.__generator(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.rf.clearPersistence(this.__,this.ff)];case 1:return i.sent(),t.resolve(),[3,3];case 2:return e=i.sent(),t.reject(e),[3,3];case 3:return[2]}})})}),t.promise)]})})},t.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(t.prototype,"If",{get:function(){return this.hf(),this.lf.z_},enumerable:!1,configurable:!0}),t.prototype.waitForPendingWrites=function(){return this.hf(),this.lf.waitForPendingWrites()},t.prototype.onSnapshotsInSync=function(t){if(this.hf(),Va(t))return this.lf.G_(t);N("Firestore.onSnapshotsInSync","function",1,t);var e={next:t};return this.lf.G_(e)},t.prototype.hf=function(){return this.lf||this.Ef(new na,new sa,{jl:!1}),this.lf},t.prototype.Af=function(){return new rt(this.__,this.ff,this.wf.host,this.wf.ssl,this.wf.experimentalForceLongPolling,this.wf.experimentalAutoDetectLongPolling)},t.prototype.Ef=function(t,e,i){var n=this.Af();return this.lf=new Xa(this.df,this.uf),this.lf.start(n,t,e,i)},t._f=function(t){if(e=t.options,!Object.prototype.hasOwnProperty.call(e,"projectId"))throw new l(c.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var e,i=t.options.projectId;if(!i||"string"!=typeof i)throw new l(c.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new st(i)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.cf)throw new l(c.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.cf},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){return P("Firestore.collection",arguments,1),N("Firestore.collection","non-empty string",1,t),this.hf(),new rh(A.g(t),this,null)},t.prototype.doc=function(t){return P("Firestore.doc",arguments,1),N("Firestore.doc","non-empty string",1,t),this.hf(),qa.Rf(A.g(t),this,null)},t.prototype.collectionGroup=function(t){if(P("Firestore.collectionGroup",arguments,1),N("Firestore.collectionGroup","non-empty string",1,t),t.indexOf("/")>=0)throw new l(c.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.hf(),new ih(function(t){return new Oi(A.P(),t)}(t),this,null)},t.prototype.runTransaction=function(t){var e=this;return P("Firestore.runTransaction",arguments,1),N("Firestore.runTransaction","function",1,t),this.hf().transaction(function(i){return t(new Wa(e,i))})},t.prototype.batch=function(){return this.hf(),new Ha(this)},Object.defineProperty(t,"logLevel",{get:function(){switch(d()){case s.LogLevel.DEBUG:return"debug";case s.LogLevel.ERROR:return"error";case s.LogLevel.SILENT:return"silent";case s.LogLevel.WARN:return"warn";case s.LogLevel.INFO:return"info";case s.LogLevel.VERBOSE:return"verbose";default:return"error"}},enumerable:!1,configurable:!0}),t.setLogLevel=function(t){var e;P("Firestore.setLogLevel",arguments,1),B("setLogLevel",["debug","error","silent","warn","info","verbose"],1,t),e=t,f.setLogLevel(e)},t.prototype.gf=function(){return this.wf.timestampsInSnapshots},t.prototype.Pf=function(){return this.wf},t}(),Wa=function(){function t(t,e){this.yf=t,this.Vf=e}return t.prototype.get=function(t){var e=this;P("Transaction.get",arguments,1);var i=hh("Transaction.get",t,this.yf);return this.Vf.v_([i.f_]).then(function(t){if(!t||1!==t.length)return m();var n=t[0];if(n instanceof Pi)return new Ja(e.yf,i.f_,null,!1,!1,i.d_);if(n instanceof Mi)return new Ja(e.yf,i.f_,n,!1,!1,i.d_);throw m()})},t.prototype.set=function(t,e,i){O("Transaction.set",arguments,2,3);var n=hh("Transaction.set",t,this.yf);i=sh("Transaction.set",i);var r=ch(n.d_,e,i),s=Ea(this.yf.mf,"Transaction.set",n.f_,r,null!==n.d_,i);return this.Vf.set(n.f_,s),this},t.prototype.update=function(t,e,i){for(var n,r,s=[],o=3;o<arguments.length;o++)s[o-3]=arguments[o];return"string"==typeof e||e instanceof ha?(k("Transaction.update",arguments,3),n=hh("Transaction.update",t,this.yf),r=Ca(this.yf.mf,"Transaction.update",n.f_,e,i,s)):(P("Transaction.update",arguments,2),n=hh("Transaction.update",t,this.yf),r=Ia(this.yf.mf,"Transaction.update",n.f_,e)),this.Vf.update(n.f_,r),this},t.prototype.delete=function(t){P("Transaction.delete",arguments,1);var e=hh("Transaction.delete",t,this.yf);return this.Vf.delete(e.f_),this},t}(),Ha=function(){function t(t){this.yf=t,this.pf=[],this.bf=!1}return t.prototype.set=function(t,e,i){O("WriteBatch.set",arguments,2,3),this.vf();var n=hh("WriteBatch.set",t,this.yf);i=sh("WriteBatch.set",i);var r=ch(n.d_,e,i),s=Ea(this.yf.mf,"WriteBatch.set",n.f_,r,null!==n.d_,i);return this.pf=this.pf.concat(s.w_(n.f_,ui.ze())),this},t.prototype.update=function(t,e,i){for(var n,r,s=[],o=3;o<arguments.length;o++)s[o-3]=arguments[o];return this.vf(),"string"==typeof e||e instanceof ha?(k("WriteBatch.update",arguments,3),n=hh("WriteBatch.update",t,this.yf),r=Ca(this.yf.mf,"WriteBatch.update",n.f_,e,i,s)):(P("WriteBatch.update",arguments,2),n=hh("WriteBatch.update",t,this.yf),r=Ia(this.yf.mf,"WriteBatch.update",n.f_,e)),this.pf=this.pf.concat(r.w_(n.f_,ui.exists(!0))),this},t.prototype.delete=function(t){P("WriteBatch.delete",arguments,1),this.vf();var e=hh("WriteBatch.delete",t,this.yf);return this.pf=this.pf.concat(new Si(e.f_,ui.ze())),this},t.prototype.commit=function(){return this.vf(),this.bf=!0,this.pf.length>0?this.yf.hf().write(this.pf):Promise.resolve()},t.prototype.vf=function(){if(this.bf)throw new l(c.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),qa=function(t){function e(e,i,n){var r=this;return(r=t.call(this,i.__,e,n)||this).f_=e,r.firestore=i,r.d_=n,r.lf=r.firestore.hf(),r}return n.__extends(e,t),e.Rf=function(t,i,n){if(t.length%2!=0)throw new l(c.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.R()+" has "+t.length);return new e(new C(t),i,n)},Object.defineProperty(e.prototype,"id",{get:function(){return this.f_.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new rh(this.f_.path.h(),this.firestore,this.d_)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.f_.path.R()},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){if(P("DocumentReference.collection",arguments,1),N("DocumentReference.collection","non-empty string",1,t),!t)throw new l(c.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=A.g(t);return new rh(this.f_.path.child(e),this.firestore,null)},e.prototype.isEqual=function(t){if(!(t instanceof e))throw j("isEqual","DocumentReference",1,t);return this.firestore===t.firestore&&this.f_.isEqual(t.f_)&&this.d_===t.d_},e.prototype.set=function(t,e){O("DocumentReference.set",arguments,1,2),e=sh("DocumentReference.set",e);var i=ch(this.d_,t,e),n=Ea(this.firestore.mf,"DocumentReference.set",this.f_,i,null!==this.d_,e);return this.lf.write(n.w_(this.f_,ui.ze()))},e.prototype.update=function(t,e){for(var i,n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return"string"==typeof t||t instanceof ha?(k("DocumentReference.update",arguments,2),i=Ca(this.firestore.mf,"DocumentReference.update",this.f_,t,e,n)):(P("DocumentReference.update",arguments,1),i=Ia(this.firestore.mf,"DocumentReference.update",this.f_,t)),this.lf.write(i.w_(this.f_,ui.exists(!0)))},e.prototype.delete=function(){return P("DocumentReference.delete",arguments,0),this.lf.write([new Si(this.f_,ui.ze())])},e.prototype.onSnapshot=function(){for(var t,e,i,n=this,r=[],s=0;s<arguments.length;s++)r[s]=arguments[s];O("DocumentReference.onSnapshot",arguments,1,4);var o={includeMetadataChanges:!1},a=0;"object"!=typeof r[a]||Va(r[a])||(Y("DocumentReference.onSnapshot",o=r[a],["includeMetadataChanges"]),L("DocumentReference.onSnapshot","boolean","includeMetadataChanges",o.includeMetadataChanges),a++);var h={includeMetadataChanges:o.includeMetadataChanges};if(Va(r[a])){var u=r[a];r[a]=null===(t=u.next)||void 0===t?void 0:t.bind(u),r[a+1]=null===(e=u.error)||void 0===e?void 0:e.bind(u),r[a+2]=null===(i=u.complete)||void 0===i?void 0:i.bind(u)}else N("DocumentReference.onSnapshot","function",a,r[a]),F("DocumentReference.onSnapshot","function",a+1,r[a+1]),F("DocumentReference.onSnapshot","function",a+2,r[a+2]);var c={next:function(t){r[a]&&r[a](n.Sf(t))},error:r[a+1],complete:r[a+2]};return this.lf.listen(Fi(this.f_.path),h,c)},e.prototype.get=function(t){var e=this;O("DocumentReference.get",arguments,0,1),ah("DocumentReference.get",t);var i=this.firestore.hf();return t&&"cache"===t.source?i.Q_(this.f_).then(function(t){return new Ja(e.firestore,e.f_,t,!0,t instanceof Mi&&t.Je,e.d_)}):i.W_(this.f_,t).then(function(t){return e.Sf(t)})},e.prototype.withConverter=function(t){return new e(this.f_,this.firestore,t)},e.prototype.Sf=function(t){var e=t.docs.get(this.f_);return new Ja(this.firestore,this.f_,e,t.fromCache,t.hasPendingWrites,this.d_)},e}(ba),Ka=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Ja=function(){function t(t,e,i,n,r,s){this.yf=t,this.f_=e,this.Df=i,this.Cf=n,this.Nf=r,this.d_=s}return t.prototype.data=function(t){var e=this;if(O("DocumentSnapshot.data",arguments,0,1),t=oh("DocumentSnapshot.data",t),this.Df){if(this.d_){var i=new Qa(this.yf,this.f_,this.Df,this.Cf,this.Nf,null);return this.d_.fromFirestore(i,t)}return new za(this.yf.__,this.yf.gf(),t.serverTimestamps||"none",function(t){return new qa(t,e.yf,null)},function(t){return new nt(t)}).X_(this.Df.rn())}},t.prototype.get=function(t,e){var i=this;if(O("DocumentSnapshot.get",arguments,1,2),e=oh("DocumentSnapshot.get",e),this.Df){var n=this.Df.data().field(Fa("DocumentSnapshot.get",t,this.f_));if(null!==n)return new za(this.yf.__,this.yf.gf(),e.serverTimestamps||"none",function(t){return new qa(t,i.yf,i.d_)},function(t){return new nt(t)}).X_(n)}},Object.defineProperty(t.prototype,"id",{get:function(){return this.f_.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new qa(this.f_,this.yf,this.d_)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return null!==this.Df},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return new Ka(this.Nf,this.Cf)},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(!(e instanceof t))throw j("isEqual","DocumentSnapshot",1,e);return this.yf===e.yf&&this.Cf===e.Cf&&this.f_.isEqual(e.f_)&&(null===this.Df?null===e.Df:this.Df.isEqual(e.Df))&&this.d_===e.d_},t}(),Qa=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.data=function(e){return t.prototype.data.call(this,e)},e}(Ja);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Za(t,e,i){if("string"==typeof i){if(""===i)throw new l(c.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ui(e)&&-1!==i.indexOf("/"))throw new l(c.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+i+"' contains a '/' character.");var n=e.path.child(A.g(i));if(!C.F(n))throw new l(c.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+n+"' is not because it has an odd number of segments ("+n.length+").");return he(t,new C(n))}if(i instanceof ba)return he(t,i.f_);throw new l(c.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+V(i)+".")}function $a(t,e){if(!Array.isArray(t)||0===t.length)throw new l(c.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new l(c.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.");if("in"===e||"array-contains-any"===e){if(t.indexOf(null)>=0)throw new l(c.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'null' in the value array.");if(t.filter(function(t){return Number.isNaN(t)}).length>0)throw new l(c.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'NaN' in the value array.")}}function th(t,e,i){if(!i.isEqual(e))throw new l(c.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first orderBy(), but your first orderBy() is on field '"+i.toString()+"' instead.")}function eh(t){if(Li(t)&&0===t.on.length)throw new l(c.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var ih=function(){function t(t,e,i){this.Ff=t,this.firestore=e,this.d_=i}return t.prototype.where=function(e,i,n){P("Query.where",arguments,3),z("Query.where",3,n);var r=B("Query.where",["<","<=","==","!=",">=",">","array-contains","in","array-contains-any","not-in"],2,i),s=Fa("Query.where",e),o=function(t,e,i,n,r,s,o){var a;if(r.p()){if("array-contains"===s||"array-contains-any"===s)throw new l(c.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+s+"' queries on FieldPath.documentId().");if("in"===s||"not-in"===s){$a(o,s);for(var h=[],u=0,f=o;u<f.length;u++){var d=f[u];h.push(Za(n,t,d))}a={arrayValue:{values:h}}}else a=Za(n,t,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||$a(o,s),a=Ma(i,e,o,"in"===s||"not-in"===s);var p=Ji.create(r,s,a);return function(t,e){if(e.hn()){var i=Bi(t);if(null!==i&&!i.isEqual(e.field))throw new l(c.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+i.toString()+"' and '"+e.field.toString()+"'");var n=Di(t);null!==n&&th(0,e.field,n)}var r=function(t,e){for(var i=0,n=t.filters;i<n.length;i++){var r=n[i];if(e.indexOf(r.op)>=0)return r.op}return null}(t,function(t){switch(e.op){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}());if(null!==r)throw r===e.op?new l(c.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter."):new l(c.INVALID_ARGUMENT,"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+r.toString()+"' filters.")}(t,p),p}(this.Ff,"Query.where",this.firestore.mf,this.firestore.__,s,r,n);return new t(function(t,e){var i=t.filters.concat([e]);return new Oi(t.path,t.collectionGroup,t.on.slice(),i,t.limit,t.an,t.startAt,t.endAt)}(this.Ff,o),this.firestore,this.d_)},t.prototype.orderBy=function(e,i){var n;if(O("Query.orderBy",arguments,1,2),F("Query.orderBy","non-empty string",2,i),void 0===i||"asc"===i)n="asc";else{if("desc"!==i)throw new l(c.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+i+"', expected 'asc' or 'desc'.");n="desc"}var r=Fa("Query.orderBy",e),s=function(t,e,i){if(null!==t.startAt)throw new l(c.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new l(c.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var n=new cn(e,i);return function(t,e){if(null===Di(t)){var i=Bi(t);null!==i&&th(0,i,e.field)}}(t,n),n}(this.Ff,r,n);return new t(function(t,e){var i=t.on.concat([e]);return new Oi(t.path,t.collectionGroup,i,t.filters.slice(),t.limit,t.an,t.startAt,t.endAt)}(this.Ff,s),this.firestore,this.d_)},t.prototype.limit=function(e){return P("Query.limit",arguments,1),N("Query.limit","number",1,e),G("Query.limit",1,e),new t(zi(this.Ff,e,"F"),this.firestore,this.d_)},t.prototype.limitToLast=function(e){return P("Query.limitToLast",arguments,1),N("Query.limitToLast","number",1,e),G("Query.limitToLast",1,e),new t(zi(this.Ff,e,"L"),this.firestore,this.d_)},t.prototype.startAt=function(e){for(var i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];k("Query.startAt",arguments,1);var r=this.xf("Query.startAt",e,i,!0);return new t(Yi(this.Ff,r),this.firestore,this.d_)},t.prototype.startAfter=function(e){for(var i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];k("Query.startAfter",arguments,1);var r=this.xf("Query.startAfter",e,i,!1);return new t(Yi(this.Ff,r),this.firestore,this.d_)},t.prototype.endBefore=function(e){for(var i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];k("Query.endBefore",arguments,1);var r=this.xf("Query.endBefore",e,i,!0);return new t(ji(this.Ff,r),this.firestore,this.d_)},t.prototype.endAt=function(e){for(var i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];k("Query.endAt",arguments,1);var r=this.xf("Query.endAt",e,i,!1);return new t(ji(this.Ff,r),this.firestore,this.d_)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw j("isEqual","Query",1,e);return this.firestore===e.firestore&&Gi(this.Ff,e.Ff)&&this.d_===e.d_},t.prototype.withConverter=function(e){return new t(this.Ff,this.firestore,e)},t.prototype.xf=function(t,e,i,r){if(z(t,1,e),e instanceof Ja)return P(t,n.__spreadArrays([e],i),1),function(t,e,i,n,r){if(!n)throw new l(c.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+i+"().");for(var s=[],o=0,a=Xi(t);o<a.length;o++){var h=a[o];if(h.field.p())s.push(he(e,n.key));else{var u=n.field(h.field);if(Jt(u))throw new l(c.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+h.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===u){var f=h.field.R();throw new l(c.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+f+"' (used as the orderBy) does not exist.")}s.push(u)}}return new on(s,r)}(this.Ff,this.firestore.__,t,e.Df,r);var s=[e].concat(i);return function(t,e,i,n,r,s){var o=t.on;if(r.length>o.length)throw new l(c.INVALID_ARGUMENT,"Too many arguments provided to "+n+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],h=0;h<r.length;h++){var u=r[h];if(o[h].field.p()){if("string"!=typeof u)throw new l(c.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+n+"(), but got a "+typeof u);if(!Ui(t)&&-1!==u.indexOf("/"))throw new l(c.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+n+"() must be a plain document ID, but '"+u+"' contains a slash.");var f=t.path.child(A.g(u));if(!C.F(f))throw new l(c.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+n+"() must result in a valid document path, but '"+f+"' is not because it contains an odd number of segments.");var d=new C(f);a.push(he(e,d))}else{var p=Ma(i,n,u);a.push(p)}}return new on(a,s)}(this.Ff,this.firestore.__,this.firestore.mf,t,s,r)},t.prototype.onSnapshot=function(){for(var t,e,i,n=this,r=[],s=0;s<arguments.length;s++)r[s]=arguments[s];O("Query.onSnapshot",arguments,1,4);var o={},a=0;if("object"!=typeof r[a]||Va(r[a])||(Y("Query.onSnapshot",o=r[a],["includeMetadataChanges"]),L("Query.onSnapshot","boolean","includeMetadataChanges",o.includeMetadataChanges),a++),Va(r[a])){var h=r[a];r[a]=null===(t=h.next)||void 0===t?void 0:t.bind(h),r[a+1]=null===(e=h.error)||void 0===e?void 0:e.bind(h),r[a+2]=null===(i=h.complete)||void 0===i?void 0:i.bind(h)}else N("Query.onSnapshot","function",a,r[a]),F("Query.onSnapshot","function",a+1,r[a+1]),F("Query.onSnapshot","function",a+2,r[a+2]);var u={next:function(t){r[a]&&r[a](new nh(n.firestore,n.Ff,t,n.d_))},error:r[a+1],complete:r[a+2]};return eh(this.Ff),this.firestore.hf().listen(this.Ff,o,u)},t.prototype.get=function(t){var e=this;O("Query.get",arguments,0,1),ah("Query.get",t),eh(this.Ff);var i=this.firestore.hf();return(t&&"cache"===t.source?i.j_(this.Ff):i.K_(this.Ff,t)).then(function(t){return new nh(e.firestore,e.Ff,t,e.d_)})},t}(),nh=function(){function t(t,e,i,n){this.yf=t,this.$f=e,this.kf=i,this.d_=n,this.Mf=null,this.Of=null,this.metadata=new Ka(i.hasPendingWrites,i.fromCache)}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this.kf.docs.m()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.kf.docs.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var i=this;O("QuerySnapshot.forEach",arguments,1,2),N("QuerySnapshot.forEach","function",1,t),this.kf.docs.forEach(function(n){t.call(e,i.Lf(n,i.metadata.fromCache,i.kf.Wt.has(n.key)))})},Object.defineProperty(t.prototype,"query",{get:function(){return new ih(this.$f,this.yf,this.d_)},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){t&&(Y("QuerySnapshot.docChanges",t,["includeMetadataChanges"]),L("QuerySnapshot.docChanges","boolean","includeMetadataChanges",t.includeMetadataChanges));var e=!(!t||!t.includeMetadataChanges);if(e&&this.kf.Kt)throw new l(c.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.Mf&&this.Of===e||(this.Mf=function(t,e,i){if(t.Qt.m()){var n=0;return t.docChanges.map(function(e){var r=i(e.doc,t.fromCache,t.Wt.has(e.doc.key));return e.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}})}var r=t.Qt;return t.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=i(e.doc,t.fromCache,t.Wt.has(e.doc.key)),s=-1,o=-1;return 0!==e.type&&(s=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:uh(e.type),doc:n,oldIndex:s,newIndex:o}})}(this.kf,e,this.Lf.bind(this)),this.Of=e),this.Mf},t.prototype.isEqual=function(e){if(!(e instanceof t))throw j("isEqual","QuerySnapshot",1,e);return this.yf===e.yf&&Gi(this.$f,e.$f)&&this.kf.isEqual(e.kf)&&this.d_===e.d_},t.prototype.Lf=function(t,e,i){return new Qa(this.yf,t.key,t,e,i,this.d_)},t}(),rh=function(t){function e(e,i,n){var r=this;if((r=t.call(this,Fi(e),i,n)||this).Bf=e,e.length%2!=1)throw new l(c.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.R()+" has "+e.length);return r}return n.__extends(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.Ff.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.Ff.path.h();return t.m()?null:new qa(new C(t),this.firestore,null)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.Ff.path.R()},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){O("CollectionReference.doc",arguments,0,1),0===arguments.length&&(t=K.k()),N("CollectionReference.doc","non-empty string",1,t);var e=A.g(t);return qa.Rf(this.Ff.path.child(e),this.firestore,this.d_)},e.prototype.add=function(t){P("CollectionReference.add",arguments,1);var e=this.d_?this.d_.toFirestore(t):t;N("CollectionReference.add","object",1,e);var i=this.doc();return new qa(i.f_,this.firestore,null).set(e).then(function(){return i})},e.prototype.withConverter=function(t){return new e(this.Bf,this.firestore,t)},e}(ih);function sh(t,e){if(void 0===e)return{merge:!1};if(Y(t,e,["merge","mergeFields"]),L(t,"boolean","merge",e.merge),function(t,e,i,n,r){void 0!==n&&function(t,e,i,n,r){if(!(n instanceof Array))throw new l(c.INVALID_ARGUMENT,"Function "+t+"() requires its "+e+" option to be an array, but it was: "+V(n));for(var s=0;s<n.length;++s)if(!r(n[s]))throw new l(c.INVALID_ARGUMENT,"Function "+t+"() requires all "+e+" elements to be a string or a FieldPath, but the value at index "+s+" was: "+V(n[s]))}(t,"mergeFields",0,n,function(t){return"string"==typeof t||t instanceof ha})}(t,0,0,e.mergeFields),void 0!==e.mergeFields&&void 0!==e.merge)throw new l(c.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function oh(t,e){return void 0===e?{}:(Y(t,e,["serverTimestamps"]),D(t,0,"serverTimestamps",e.serverTimestamps,["estimate","previous","none"]),e)}function ah(t,e){F(t,"object",1,e),e&&(Y(t,e,["source"]),D(t,0,"source",e.source,["default","server","cache"]))}function hh(t,e,i){if(e instanceof ba){if(e.firestore!==i)throw new l(c.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}throw j(t,"DocumentReference",1,e)}function uh(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return m()}}function ch(t,e,i){return t?i&&(i.merge||i.mergeFields)?t.toFirestore(e,i):t.toFirestore(e):e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.serverTimestamp=function(){M("FieldValue.serverTimestamp",arguments);var t=new da("serverTimestamp");return t.e_="FieldValue.serverTimestamp",new e(t)},e.delete=function(){M("FieldValue.delete",arguments);var t=new la("deleteField");return t.e_="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];k("FieldValue.arrayUnion",arguments,1);var n=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return k("arrayUnion()",arguments,1),new pa("arrayUnion",t)}.apply(void 0,t);return n.e_="FieldValue.arrayUnion",new e(n)},e.arrayRemove=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];k("FieldValue.arrayRemove",arguments,1);var n=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return k("arrayRemove()",arguments,1),new ga("arrayRemove",t)}.apply(void 0,t);return n.e_="FieldValue.arrayRemove",new e(n)},e.increment=function(t){N("FieldValue.increment","number",1,t),P("FieldValue.increment",arguments,1);var i=function(t){return new va("increment",t)}(t);return i.e_="FieldValue.increment",new e(i)},e.prototype.isEqual=function(t){return this.l_.isEqual(t.l_)},e}(ma),fh={Firestore:Ga,GeoPoint:ya,Timestamp:at,Blob:nt,Transaction:Wa,WriteBatch:Ha,DocumentReference:qa,DocumentSnapshot:Ja,Query:ih,QueryDocumentSnapshot:Qa,QuerySnapshot:nh,CollectionReference:rh,FieldPath:ha,FieldValue:lh,setLogLevel:Ga.setLogLevel,CACHE_SIZE_UNLIMITED:Ya};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dh(t){!function(t,e){t.INTERNAL.registerComponent(new h.Component("firestore",function(t){return function(t,e){var i=new sa,n=new ra(i);return new Ga(t,e,n,i)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},fh)))}(t),t.registerVersion("@firebase/firestore","1.18.0")}dh(u.default),e.__PRIVATE_registerFirestore=dh}).call(this,i(293))},function(t,e,i){"use strict";i.r(e),function(t){i.d(e,"ErrorCode",function(){return $i}),i.d(e,"EventType",function(){return tn}),i.d(e,"WebChannel",function(){return en}),i.d(e,"XhrIo",function(){return nn}),i.d(e,"createWebChannelTransport",function(){return Zi});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)};function r(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],n=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var s,o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},a=a||{},h=o||self;function u(){}function c(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function l(t){var e=c(t);return"array"==e||"object"==e&&"number"==typeof t.length}function f(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var d="closure_uid_"+(1e9*Math.random()>>>0),p=0;function g(t,e,i){return t.call.apply(t.bind,arguments)}function v(t,e,i){if(!t)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,n),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function y(t,e,i){return(y=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?g:v).apply(null,arguments)}function m(t,e){var i=Array.prototype.slice.call(arguments,1);return function(){var e=i.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var x=Date.now;function b(t,e){function i(){}i.prototype=e.prototype,t.S=e.prototype,t.prototype=new i,t.prototype.constructor=t}function w(){this.j=this.j,this.i=this.i}w.prototype.j=!1,w.prototype.ja=function(){if(!this.j&&(this.j=!0,this.G(),0))(function(t){Object.prototype.hasOwnProperty.call(t,d)&&t[d]||(t[d]=++p)})(this)},w.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var T=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var i=0;i<t.length;i++)if(i in t&&t[i]===e)return i;return-1},S=Array.prototype.forEach?function(t,e,i){Array.prototype.forEach.call(t,e,i)}:function(t,e,i){for(var n=t.length,r="string"==typeof t?t.split(""):t,s=0;s<n;s++)s in r&&e.call(i,r[s],s,t)};function _(t){return Array.prototype.concat.apply([],arguments)}function A(t){var e=t.length;if(0<e){for(var i=Array(e),n=0;n<e;n++)i[n]=t[n];return i}return[]}function E(t){return/^[\s\xa0]*$/.test(t)}var I,C=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function M(t,e){return-1!=t.indexOf(e)}function P(t,e){return t<e?-1:t>e?1:0}t:{var k=h.navigator;if(k){var O=k.userAgent;if(O){I=O;break t}}I=""}function N(t,e,i){for(var n in t)e.call(i,t[n],n,t)}function F(t){var e={};for(var i in t)e[i]=t[i];return e}var R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(t,e){for(var i,n,r=1;r<arguments.length;r++){for(i in n=arguments[r])t[i]=n[i];for(var s=0;s<R.length;s++)i=R[s],Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}}function D(t){return D[" "](t),t}D[" "]=u;var B,U,X=M(I,"Opera"),V=M(I,"Trident")||M(I,"MSIE"),z=M(I,"Edge"),Y=z||V,j=M(I,"Gecko")&&!(M(I.toLowerCase(),"webkit")&&!M(I,"Edge"))&&!(M(I,"Trident")||M(I,"MSIE"))&&!M(I,"Edge"),G=M(I.toLowerCase(),"webkit")&&!M(I,"Edge");function W(){var t=h.document;return t?t.documentMode:void 0}t:{var H="",q=(U=I,j?/rv:([^\);]+)(\)|;)/.exec(U):z?/Edge\/([\d\.]+)/.exec(U):V?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(U):G?/WebKit\/(\S+)/.exec(U):X?/(?:Version)[ \/]?(\S+)/.exec(U):void 0);if(q&&(H=q?q[1]:""),V){var K=W();if(null!=K&&K>parseFloat(H)){B=String(K);break t}}B=H}var J,Q={};function Z(t){return function(t,e){var i=Q;return Object.prototype.hasOwnProperty.call(i,t)?i[t]:i[t]=e(t)}(t,function(){for(var e=0,i=C(String(B)).split("."),n=C(String(t)).split("."),r=Math.max(i.length,n.length),s=0;0==e&&s<r;s++){var o=i[s]||"",a=n[s]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=P(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||P(0==o[2].length,0==a[2].length)||P(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e})}if(h.document&&V){var $=W();J=$||(parseInt(B,10)||void 0)}else J=void 0;var tt=J,et=!V||9<=Number(tt),it=V&&!Z("9"),nt=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{h.addEventListener("test",u,e),h.removeEventListener("test",u,e)}catch(t){}return t}();function rt(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function st(t,e){if(rt.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var i=this.type=t.type,n=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(j){t:{try{D(e.nodeName);var r=!0;break t}catch(t){}r=!1}r||(e=null)}}else"mouseover"==i?e=t.fromElement:"mouseout"==i&&(e=t.toElement);this.relatedTarget=e,n?(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:ot[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}rt.prototype.b=function(){this.defaultPrevented=!0},b(st,rt);var ot={2:"touch",3:"pen",4:"mouse"};st.prototype.b=function(){st.S.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,it)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}};var at="closure_listenable_"+(1e6*Math.random()|0),ht=0;function ut(t,e,i,n,r){this.listener=t,this.proxy=null,this.src=e,this.type=i,this.capture=!!n,this.ca=r,this.key=++ht,this.Y=this.Z=!1}function ct(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function lt(t){this.src=t,this.a={},this.b=0}function ft(t,e){var i=e.type;if(i in t.a){var n,r=t.a[i],s=T(r,e);(n=0<=s)&&Array.prototype.splice.call(r,s,1),n&&(ct(e),0==t.a[i].length&&(delete t.a[i],t.b--))}}function dt(t,e,i,n){for(var r=0;r<t.length;++r){var s=t[r];if(!s.Y&&s.listener==e&&s.capture==!!i&&s.ca==n)return r}return-1}lt.prototype.add=function(t,e,i,n,r){var s=t.toString();(t=this.a[s])||(t=this.a[s]=[],this.b++);var o=dt(t,e,n,r);return-1<o?(e=t[o],i||(e.Z=!1)):((e=new ut(e,this.src,s,!!n,r)).Z=i,t.push(e)),e};var pt="closure_lm_"+(1e6*Math.random()|0),gt={};function vt(t,e,i,n,r){if(n&&n.once)return function t(e,i,n,r,s){if(Array.isArray(i)){for(var o=0;o<i.length;o++)t(e,i[o],n,r,s);return null}n=_t(n);return e&&e[at]?e.wa(i,n,f(r)?!!r.capture:!!r,s):yt(e,i,n,!0,r,s)}(t,e,i,n,r);if(Array.isArray(e)){for(var s=0;s<e.length;s++)vt(t,e[s],i,n,r);return null}return i=_t(i),t&&t[at]?t.va(e,i,f(n)?!!n.capture:!!n,r):yt(t,e,i,!1,n,r)}function yt(t,e,i,n,r,s){if(!e)throw Error("Invalid event type");var o=f(r)?!!r.capture:!!r;if(o&&!et)return null;var a=Tt(t);if(a||(t[pt]=a=new lt(t)),(i=a.add(e,i,n,o,s)).proxy)return i;if(n=function(){var t=wt,e=et?function(i){return t.call(e.src,e.listener,i)}:function(i){if(!(i=t.call(e.src,e.listener,i)))return i};return e}(),i.proxy=n,n.src=t,n.listener=i,t.addEventListener)nt||(r=o),void 0===r&&(r=!1),t.addEventListener(e.toString(),n,r);else if(t.attachEvent)t.attachEvent(xt(e.toString()),n);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(n)}return i}function mt(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[at])ft(e.c,t);else{var i=t.type,n=t.proxy;e.removeEventListener?e.removeEventListener(i,n,t.capture):e.detachEvent?e.detachEvent(xt(i),n):e.addListener&&e.removeListener&&e.removeListener(n),(i=Tt(e))?(ft(i,t),0==i.b&&(i.src=null,e[pt]=null)):ct(t)}}}function xt(t){return t in gt?gt[t]:gt[t]="on"+t}function bt(t,e){var i=t.listener,n=t.ca||t.src;return t.Z&&mt(t),i.call(n,e)}function wt(t,e){if(t.Y)return!0;if(!et){if(!e)t:{e=["window","event"];for(var i=h,n=0;n<e.length;n++)if(null==(i=i[e[n]])){e=null;break t}e=i}return bt(t,e=new st(e,this))}return bt(t,new st(e,this))}function Tt(t){return(t=t[pt])instanceof lt?t:null}var St="__closure_events_fn_"+(1e9*Math.random()>>>0);function _t(t){return"function"==c(t)?t:(t[St]||(t[St]=function(e){return t.handleEvent(e)}),t[St])}function At(){w.call(this),this.c=new lt(this),this.J=this,this.C=null}function Et(t,e,i,n){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var r=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.Y&&o.capture==i){var a=o.listener,h=o.ca||o.src;o.Z&&ft(t.c,o),r=!1!==a.call(h,n)&&r}}return r&&!n.defaultPrevented}b(At,w),At.prototype[at]=!0,(s=At.prototype).addEventListener=function(t,e,i,n){vt(this,t,e,i,n)},s.removeEventListener=function(t,e,i,n){!function t(e,i,n,r,s){if(Array.isArray(i))for(var o=0;o<i.length;o++)t(e,i[o],n,r,s);else r=f(r)?!!r.capture:!!r,n=_t(n),e&&e[at]?(e=e.c,(i=String(i).toString())in e.a&&-1<(n=dt(o=e.a[i],n,r,s))&&(ct(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.a[i],e.b--))):e&&(e=Tt(e))&&(i=e.a[i.toString()],e=-1,i&&(e=dt(i,n,r,s)),(n=-1<e?i[e]:null)&&mt(n))}(this,t,e,i,n)},s.dispatchEvent=function(t){var e,i=this.C;if(i)for(e=[];i;i=i.C)e.push(i);i=this.J;var n=t.type||t;if("string"==typeof t)t=new rt(t,i);else if(t instanceof rt)t.target=t.target||i;else{var r=t;L(t=new rt(n,i),r)}if(r=!0,e)for(var s=e.length-1;0<=s;s--){var o=t.a=e[s];r=Et(o,n,!0,t)&&r}if(r=Et(o=t.a=i,n,!0,t)&&r,r=Et(o,n,!1,t)&&r,e)for(s=0;s<e.length;s++)r=Et(o=t.a=e[s],n,!1,t)&&r;return r},s.G=function(){if(At.S.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var i=e.a[t],n=0;n<i.length;n++)ct(i[n]);delete e.a[t],e.b--}}this.C=null},s.va=function(t,e,i,n){return this.c.add(String(t),e,!1,i,n)},s.wa=function(t,e,i,n){return this.c.add(String(t),e,!0,i,n)};var It=h.JSON.stringify;function Ct(){this.b=this.a=null}var Mt,Pt=new(function(){function t(t,e,i){this.f=i,this.c=t,this.g=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t},t}())(function(){return new Ot},function(t){t.reset()},100);function kt(){var t=Lt,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Ot(){this.next=this.b=this.a=null}function Nt(t){h.setTimeout(function(){throw t},0)}function Ft(t,e){Mt||function(){var t=h.Promise.resolve(void 0);Mt=function(){t.then(Dt)}}(),Rt||(Mt(),Rt=!0),Lt.add(t,e)}Ct.prototype.add=function(t,e){var i=Pt.get();i.set(t,e),this.b?this.b.next=i:this.a=i,this.b=i},Ot.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Ot.prototype.reset=function(){this.next=this.b=this.a=null};var Rt=!1,Lt=new Ct;function Dt(){for(var t;t=kt();){try{t.a.call(t.b)}catch(t){Nt(t)}var e=Pt;e.g(t),e.b<e.f&&(e.b++,t.next=e.a,e.a=t)}Rt=!1}function Bt(t,e){At.call(this),this.b=t||1,this.a=e||h,this.f=y(this.Ya,this),this.g=x()}function Ut(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Xt(t,e,i){if("function"==c(t))i&&(t=y(t,i));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=y(t.handleEvent,t)}return 2147483647<Number(e)?-1:h.setTimeout(t,e||0)}b(Bt,At),(s=Bt.prototype).aa=!1,s.M=null,s.Ya=function(){if(this.aa){var t=x()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),this.dispatchEvent("tick"),this.aa&&(Ut(this),this.start()))}},s.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=x())},s.G=function(){Bt.S.G.call(this),Ut(this),delete this.a};var Vt=function(t){function e(e,i,n){var r=t.call(this)||this;return r.g=null!=n?e.bind(n):e,r.h=i,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:function t(e){e.a=Xt(function(){e.a=null,e.c&&(e.c=!1,t(e))},e.h);var i=e.b;e.b=null,e.g.apply(null,i)}(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(h.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(w);function zt(t){w.call(this),this.b=t,this.a={}}b(zt,w);var Yt=[];function jt(t,e,i,n){Array.isArray(i)||(i&&(Yt[0]=i.toString()),i=Yt);for(var r=0;r<i.length;r++){var s=vt(e,i[r],n||t.handleEvent,!1,t.b||t);if(!s)break;t.a[s.key]=s}}function Gt(t){N(t.a,function(t,e){this.a.hasOwnProperty(e)&&mt(t)},t),t.a={}}function Wt(){this.a=!0}function Ht(t,e,i,n){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var i=JSON.parse(e);if(i)for(t=0;t<i.length;t++)if(Array.isArray(i[t])){var n=i[t];if(!(2>n.length)){var r=n[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<r.length;o++)r[o]=""}}}return It(i)}catch(t){return e}}(t,i)+(n?" "+n:"")})}zt.prototype.G=function(){zt.S.G.call(this),Gt(this)},zt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Wt.prototype.info=function(){};var qt=null;function Kt(){return qt=qt||new At}function Jt(t){rt.call(this,"serverreachability",t)}function Qt(t){var e=Kt();e.dispatchEvent(new Jt(e,t))}function Zt(t){rt.call(this,"statevent",t)}function $t(t){var e=Kt();e.dispatchEvent(new Zt(e,t))}function te(t){rt.call(this,"timingevent",t)}function ee(t,e){if("function"!=c(t))throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){t()},e)}b(Jt,rt),b(Zt,rt),b(te,rt);var ie={NO_ERROR:0,Za:1,gb:2,fb:3,bb:4,eb:5,hb:6,Da:7,TIMEOUT:8,kb:9},ne={ab:"complete",ob:"success",Ea:"error",Da:"abort",mb:"ready",nb:"readystatechange",TIMEOUT:"timeout",ib:"incrementaldata",lb:"progress",cb:"downloadprogress",pb:"uploadprogress"};function re(){}function se(t){var e;return(e=t.a)||(e=t.a={}),e}function oe(){}re.prototype.a=null;var ae,he={OPEN:"a",$a:"b",Ea:"c",jb:"d"};function ue(){rt.call(this,"d")}function ce(){rt.call(this,"c")}function le(){}function fe(t,e,i,n){this.g=t,this.c=e,this.f=i,this.T=n||1,this.J=new zt(this),this.P=de,t=Y?125:void 0,this.R=new Bt(t),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.U=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.W=this.C=this.V=this.I=!1}b(ue,rt),b(ce,rt),b(le,re),ae=new le;var de=45e3,pe={},ge={};function ve(t,e,i){t.H=1,t.i=Be(Oe(e)),t.j=i,t.I=!0,ye(t,null)}function ye(t,e){t.u=x(),be(t),t.l=Oe(t.i);var i=t.l,n=t.T;Array.isArray(n)||(n=[String(n)]),Qe(i.b,"t",n),t.D=0,t.a=Gi(t.g,t.g.C?e:null),0<t.O&&(t.F=new Vt(y(t.Ca,t,t.a),t.O)),jt(t.J,t.a,"readystatechange",t.Wa),e=t.B?F(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Qt(1),function(t,e,i,n,r,s){t.info(function(){if(t.a)if(s)for(var o="",a=s.split("&"),h=0;h<a.length;h++){var u=a[h].split("=");if(1<u.length){var c=u[0];u=u[1];var l=c.split("_");o=2<=l.length&&"type"==l[1]?o+(c+"=")+u+"&":o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+n+") [attempt "+r+"]: "+e+"\n"+i+"\n"+o})}(t.c,t.m,t.l,t.f,t.T,t.j)}function me(t,e,i){for(var n=!0;!t.A&&t.D<i.length;){var r=xe(t,i);if(r==ge){4==e&&(t.h=4,$t(14),n=!1),Ht(t.c,t.f,null,"[Incomplete Response]");break}if(r==pe){t.h=4,$t(15),Ht(t.c,t.f,i,"[Invalid Chunk]"),n=!1;break}Ht(t.c,t.f,r,null),Ae(t,r)}4==e&&0==i.length&&(t.h=1,$t(16),n=!1),t.b=t.b&&n,n?0<i.length&&!t.W&&(t.W=!0,(e=t.g).a==t&&e.V&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+i.length),Di(e),e.F=!0)):(Ht(t.c,t.f,i,"[Invalid Chunked Response]"),_e(t),Se(t))}function xe(t,e){var i=t.D,n=e.indexOf("\n",i);return-1==n?ge:(i=Number(e.substring(i,n)),isNaN(i)?pe:(n+=1)+i>e.length?ge:(e=e.substr(n,i),t.D=n+i,e))}function be(t){t.U=x()+t.P,we(t,t.P)}function we(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=ee(y(t.Ua,t),e)}function Te(t){t.o&&(h.clearTimeout(t.o),t.o=null)}function Se(t){0==t.g.v||t.A||Xi(t.g,t)}function _e(t){Te(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Ut(t.R),Gt(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Ae(t,e){try{var i=t.g;if(0!=i.v&&(i.a==t||ri(i.b,t)))if(i.I=t.N,!t.C&&ri(i.b,t)&&3==i.v){try{var n=i.ka.a.parse(e)}catch(t){n=null}if(Array.isArray(n)&&3==n.length){var r=n;if(0==r[0]){t:if(!i.j){if(i.a){if(!(i.a.u+3e3<t.u))break t;Ui(i),Ci(i)}Li(i),$t(18)}}else i.oa=r[1],0<i.oa-i.P&&37500>r[2]&&i.H&&0==i.o&&!i.m&&(i.m=ee(y(i.Ra,i),6e3));if(1>=ni(i.b)&&i.ea){try{i.ea()}catch(t){}i.ea=void 0}}else zi(i,11)}else if((t.C||i.a==t)&&Ui(i),!E(e))for(e=n=i.ka.a.parse(e),n=0;n<e.length;n++)if(r=e[n],i.P=r[0],r=r[1],2==i.v)if("c"==r[0]){i.J=r[1],i.ga=r[2];var s=r[3];null!=s&&(i.ha=s,i.c.info("VER="+i.ha));var o=r[4];null!=o&&(i.pa=o,i.c.info("SVER="+i.pa));var a=r[5];if(null!=a&&"number"==typeof a&&0<a){var h=1.5*a;i.D=h,i.c.info("backChannelRequestTimeoutMs_="+h)}h=i;var u=t.a;if(u){var c=u.a?u.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var l=h.b;!l.a&&(M(c,"spdy")||M(c,"quic")||M(c,"h2"))&&(l.f=l.g,l.a=new Set,l.b&&(si(l,l.b),l.b=null))}if(h.A){var f=u.a?u.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(h.na=f,De(h.B,h.A,f))}}i.v=3,i.f&&i.f.ta(),i.V&&(i.N=x()-t.u,i.c.info("Handshake RTT: "+i.N+"ms"));var d=t;if((h=i).la=ji(h,h.C?h.ga:null,h.fa),d.C){oi(h.b,d);var p=d,g=h.D;g&&p.setTimeout(g),p.o&&(Te(p),be(p)),h.a=d}else Ri(h);0<i.g.length&&ki(i)}else"stop"!=r[0]&&"close"!=r[0]||zi(i,7);else 3==i.v&&("stop"==r[0]||"close"==r[0]?"stop"==r[0]?zi(i,7):Ii(i):"noop"!=r[0]&&i.f&&i.f.sa(r),i.o=0);Qt(4)}catch(t){}}function Ee(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(l(t)||"string"==typeof t)S(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var i=t.L();else if(t.K&&"function"==typeof t.K)i=void 0;else if(l(t)||"string"==typeof t){i=[];for(var n=t.length,r=0;r<n;r++)i.push(r)}else for(r in i=[],n=0,t)i[n++]=r;r=(n=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(l(t)){for(var e=[],i=t.length,n=0;n<i;n++)e.push(t[n]);return e}for(n in e=[],i=0,t)e[i++]=t[n];return e}(t)).length;for(var s=0;s<r;s++)e.call(void 0,n[s],i&&i[s],t)}}function Ie(t,e){this.b={},this.a=[],this.c=0;var i=arguments.length;if(1<i){if(i%2)throw Error("Uneven number of arguments");for(var n=0;n<i;n+=2)this.set(arguments[n],arguments[n+1])}else if(t)if(t instanceof Ie)for(i=t.L(),n=0;n<i.length;n++)this.set(i[n],t.get(i[n]));else for(n in t)this.set(n,t[n])}function Ce(t){if(t.c!=t.a.length){for(var e=0,i=0;e<t.a.length;){var n=t.a[e];Me(t.b,n)&&(t.a[i++]=n),e++}t.a.length=i}if(t.c!=t.a.length){var r={};for(i=e=0;e<t.a.length;)Me(r,n=t.a[e])||(t.a[i++]=n,r[n]=1),e++;t.a.length=i}}function Me(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(s=fe.prototype).setTimeout=function(t){this.P=t},s.Wa=function(t){t=t.target;var e=this.F;e&&3==Si(t)?e.f():this.Ca(t)},s.Ca=function(t){try{if(t==this.a)t:{var e=Si(this.a),i=this.a.ua(),n=this.a.X();if(!(3>e||3==e&&!Y&&!this.a.$())){this.A||4!=e||7==i||Qt(8==i||0>=n?3:2),Te(this);var r=this.a.X();this.N=r;var s=this.a.$();if(this.b=200==r,function(t,e,i,n,r,s,o){t.info(function(){return"XMLHTTP RESP ("+n+") [ attempt "+r+"]: "+e+"\n"+i+"\n"+s+" "+o})}(this.c,this.m,this.l,this.f,this.T,e,r),this.b){if(this.V&&!this.C){e:{if(this.a){var o,a=this.a;if((o=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(o)){var h=o;break e}}h=null}if(!h){this.b=!1,this.h=3,$t(12),_e(this),Se(this);break t}Ht(this.c,this.f,h,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Ae(this,h)}this.I?(me(this,e,s),Y&&this.b&&3==e&&(jt(this.J,this.R,"tick",this.Va),this.R.start())):(Ht(this.c,this.f,s,null),Ae(this,s)),4==e&&_e(this),this.b&&!this.A&&(4==e?Xi(this.g,this):(this.b=!1,be(this)))}else 400==r&&0<s.indexOf("Unknown SID")?(this.h=3,$t(12)):(this.h=0,$t(13)),_e(this),Se(this)}}}catch(t){}},s.Va=function(){if(this.a){var t=Si(this.a),e=this.a.$();this.D<e.length&&(Te(this),me(this,t,e),this.b&&4!=t&&be(this))}},s.cancel=function(){this.A=!0,_e(this)},s.Ua=function(){this.o=null;var t=x();0<=t-this.U?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&(Qt(3),$t(17)),_e(this),this.h=2,Se(this)):we(this,this.U-t)},(s=Ie.prototype).K=function(){Ce(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},s.L=function(){return Ce(this),this.a.concat()},s.get=function(t,e){return Me(this.b,t)?this.b[t]:e},s.set=function(t,e){Me(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},s.forEach=function(t,e){for(var i=this.L(),n=0;n<i.length;n++){var r=i[n],s=this.get(r);t.call(e,s,r,this)}};var Pe=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ke(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof ke){this.a=void 0!==e?e:t.a,Ne(this,t.f),this.j=t.j,Fe(this,t.c),Re(this,t.h),this.g=t.g,e=t.b;var i=new He;i.c=e.c,e.a&&(i.a=new Ie(e.a),i.b=e.b),Le(this,i),this.i=t.i}else t&&(i=String(t).match(Pe))?(this.a=!!e,Ne(this,i[1]||"",!0),this.j=Ue(i[2]||""),Fe(this,i[3]||"",!0),Re(this,i[4]),this.g=Ue(i[5]||"",!0),Le(this,i[6]||"",!0),this.i=Ue(i[7]||"")):(this.a=!!e,this.b=new He(null,this.a))}function Oe(t){return new ke(t)}function Ne(t,e,i){t.f=i?Ue(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Fe(t,e,i){t.c=i?Ue(e,!0):e}function Re(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Le(t,e,i){e instanceof He?(t.b=e,function(t,e){e&&!t.f&&(qe(t),t.c=null,t.a.forEach(function(t,e){var i=e.toLowerCase();e!=i&&(Ke(this,e),Qe(this,i,t))},t)),t.f=e}(t.b,t.a)):(i||(e=Xe(e,Ge)),t.b=new He(e,t.a))}function De(t,e,i){t.b.set(e,i)}function Be(t){return De(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^x()).toString(36)),t}function Ue(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Xe(t,e,i){return"string"==typeof t?(t=encodeURI(t).replace(e,Ve),i&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Ve(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}ke.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Xe(e,ze,!0),":");var i=this.c;return(i||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Xe(e,ze,!0),"@"),t.push(encodeURIComponent(String(i)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(i=this.h)&&t.push(":",String(i))),(i=this.g)&&(this.c&&"/"!=i.charAt(0)&&t.push("/"),t.push(Xe(i,"/"==i.charAt(0)?je:Ye,!0))),(i=this.b.toString())&&t.push("?",i),(i=this.i)&&t.push("#",Xe(i,We)),t.join("")};var ze=/[#\/\?@]/g,Ye=/[#\?:]/g,je=/[#\?]/g,Ge=/[#\?@]/g,We=/#/g;function He(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function qe(t){t.a||(t.a=new Ie,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var i=0;i<t.length;i++){var n=t[i].indexOf("="),r=null;if(0<=n){var s=t[i].substring(0,n);r=t[i].substring(n+1)}else s=t[i];e(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(t.c,function(e,i){t.add(decodeURIComponent(e.replace(/\+/g," ")),i)}))}function Ke(t,e){qe(t),e=Ze(t,e),Me(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Me((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Ce(t)))}function Je(t,e){return qe(t),e=Ze(t,e),Me(t.a.b,e)}function Qe(t,e,i){Ke(t,e),0<i.length&&(t.c=null,t.a.set(Ze(t,e),A(i)),t.b+=i.length)}function Ze(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function $e(t,e){this.b=t,this.a=e}function ti(t){this.g=t||ei,h.PerformanceNavigationTiming?t=0<(t=h.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):t=!!(h.ia&&h.ia.ya&&h.ia.ya()&&h.ia.ya().qb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}(s=He.prototype).add=function(t,e){qe(this),this.c=null,t=Ze(this,t);var i=this.a.get(t);return i||this.a.set(t,i=[]),i.push(e),this.b+=1,this},s.forEach=function(t,e){qe(this),this.a.forEach(function(i,n){S(i,function(i){t.call(e,i,n,this)},this)},this)},s.L=function(){qe(this);for(var t=this.a.K(),e=this.a.L(),i=[],n=0;n<e.length;n++)for(var r=t[n],s=0;s<r.length;s++)i.push(e[n]);return i},s.K=function(t){qe(this);var e=[];if("string"==typeof t)Je(this,t)&&(e=_(e,this.a.get(Ze(this,t))));else{t=this.a.K();for(var i=0;i<t.length;i++)e=_(e,t[i])}return e},s.set=function(t,e){return qe(this),this.c=null,Je(this,t=Ze(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},s.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},s.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),i=0;i<e.length;i++){var n=e[i],r=encodeURIComponent(String(n));n=this.K(n);for(var s=0;s<n.length;s++){var o=r;""!==n[s]&&(o+="="+encodeURIComponent(String(n[s]))),t.push(o)}}return this.c=t.join("&")};var ei=10;function ii(t){return!!t.b||!!t.a&&t.a.size>=t.f}function ni(t){return t.b?1:t.a?t.a.size:0}function ri(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function si(t,e){t.a?t.a.add(e):t.b=e}function oi(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function ai(t){var e,i;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var n=t.c;try{for(var s=r(t.a.values()),o=s.next();!o.done;o=s.next()){var a=o.value;n=n.concat(a.s)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(i=s.return)&&i.call(s)}finally{if(e)throw e.error}}return n}return A(t.c)}function hi(){}function ui(){this.a=new hi}function ci(t,e,i){var n=i||"";try{Ee(t,function(t,i){var r=t;f(t)&&(r=It(t)),e.push(n+i+"="+encodeURIComponent(r))})}catch(t){throw e.push(n+"type="+encodeURIComponent("_badmap")),t}}function li(t,e,i,n,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(n)}catch(t){}}ti.prototype.cancel=function(){var t,e;if(this.c=ai(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var i=r(this.a.values()),n=i.next();!n.done;n=i.next()){n.value.cancel()}}catch(e){t={error:e}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}this.a.clear()}},hi.prototype.stringify=function(t){return h.JSON.stringify(t,void 0)},hi.prototype.parse=function(t){return h.JSON.parse(t,void 0)};var fi=h.JSON.parse;function di(t){At.call(this),this.headers=new Ie,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=pi,this.D=this.F=!1}b(di,At);var pi="",gi=/^https?$/i,vi=["POST","PUT"];function yi(t){return"content-type"==t.toLowerCase()}function mi(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,xi(t),wi(t)}function xi(t){t.u||(t.u=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function bi(t){if(t.b&&void 0!==a&&(!t.s[1]||4!=Si(t)||2!=t.X()))if(t.l&&4==Si(t))Xt(t.za,0,t);else if(t.dispatchEvent("readystatechange"),4==Si(t)){t.b=!1;try{var e,i=t.X();t:switch(i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break t;default:n=!1}if(!(e=n)){var r;if(r=0===i){var s=String(t.B).match(Pe)[1]||null;if(!s&&h.self&&h.self.location){var o=h.self.location.protocol;s=o.substr(0,o.length-1)}r=!gi.test(s?s.toLowerCase():"")}e=r}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{t.h=6;try{var u=2<Si(t)?t.a.statusText:""}catch(t){u=""}t.f=u+" ["+t.X()+"]",xi(t)}}finally{wi(t)}}}function wi(t,e){if(t.a){Ti(t);var i=t.a,n=t.s[0]?u:null;t.a=null,t.s=null,e||t.dispatchEvent("ready");try{i.onreadystatechange=n}catch(t){}}}function Ti(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(h.clearTimeout(t.m),t.m=null)}function Si(t){return t.a?t.a.readyState:0}function _i(t,e,i){t:{for(n in i){var n=!1;break t}n=!0}n||(i=function(t){var e="";return N(t,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}(i),"string"==typeof t?null!=i&&encodeURIComponent(String(i)):De(t,e,i))}function Ai(t,e,i){return i&&i.internalChannelParams&&i.internalChannelParams[t]||e}function Ei(t){this.pa=0,this.g=[],this.c=new Wt,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.W=this.i=this.O=this.l=null,this.La=this.R=0,this.Ia=Ai("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.T=!0,this.I=this.oa=this.P=-1,this.U=this.o=this.u=0,this.Fa=Ai("baseRetryDelayMs",5e3,t),this.Ma=Ai("retryDelaySeedMs",1e4,t),this.Ja=Ai("forwardChannelMaxRetries",2,t),this.ma=Ai("forwardChannelRequestTimeoutMs",2e4,t),this.Ka=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new ti(t&&t.concurrentRequestLimit),this.ka=new ui,this.da=t&&t.fastHandshake||!1,this.Ga=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.T=!1),this.V=!this.da&&this.T&&t&&t.c||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null}function Ii(t){if(Mi(t),3==t.v){var e=t.R++,i=Oe(t.B);De(i,"SID",t.J),De(i,"RID",e),De(i,"TYPE","terminate"),Ni(t,i),(e=new fe(t,t.c,e,void 0)).H=2,e.i=Be(Oe(i)),i=!1,h.navigator&&h.navigator.sendBeacon&&(i=h.navigator.sendBeacon(e.i.toString(),"")),!i&&h.Image&&((new Image).src=e.i,i=!0),i||(e.a=Gi(e.g,null),e.a.ba(e.i)),e.u=x(),be(e)}Yi(t)}function Ci(t){t.a&&(Di(t),t.a.cancel(),t.a=null)}function Mi(t){Ci(t),t.j&&(h.clearTimeout(t.j),t.j=null),Ui(t),t.b.cancel(),t.h&&("number"==typeof t.h&&h.clearTimeout(t.h),t.h=null)}function Pi(t,e){t.g.push(new $e(t.La++,e)),3==t.v&&ki(t)}function ki(t){ii(t.b)||t.h||(t.h=!0,Ft(t.Ba,t),t.u=0)}function Oi(t,e){var i;i=e?e.f:t.R++;var n=Oe(t.B);De(n,"SID",t.J),De(n,"RID",i),De(n,"AID",t.P),Ni(t,n),t.i&&t.l&&_i(n,t.i,t.l),i=new fe(t,t.c,i,t.u+1),null===t.i&&(i.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Fi(t,i,1e3),i.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),si(t.b,i),ve(i,n,e)}function Ni(t,e){t.f&&Ee({},function(t,i){De(e,i,t)})}function Fi(t,e,i){i=Math.min(t.g.length,i);var n=t.f?y(t.f.Ha,t.f,t):null;t:for(var r=t.g,s=-1;;){var o=["count="+i];-1==s?0<i?(s=r[0].b,o.push("ofs="+s)):s=0:o.push("ofs="+s);for(var a=!0,h=0;h<i;h++){var u=r[h].b,c=r[h].a;if(0>(u-=s))s=Math.max(0,r[h].b-100),a=!1;else try{ci(c,o,"req"+u+"_")}catch(t){n&&n(c)}}if(a){n=o.join("&");break t}}return t=t.g.splice(0,i),e.s=t,n}function Ri(t){t.a||t.j||(t.U=1,Ft(t.Aa,t),t.o=0)}function Li(t){return!(t.a||t.j||3<=t.o)&&(t.U++,t.j=ee(y(t.Aa,t),Vi(t,t.o)),t.o++,!0)}function Di(t){null!=t.s&&(h.clearTimeout(t.s),t.s=null)}function Bi(t){t.a=new fe(t,t.c,"rpc",t.U),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Oe(t.la);De(e,"RID","rpc"),De(e,"SID",t.J),De(e,"CI",t.H?"0":"1"),De(e,"AID",t.P),Ni(t,e),De(e,"TYPE","xmlhttp"),t.i&&t.l&&_i(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var i=t.a;t=t.ga,i.H=1,i.i=Be(Oe(e)),i.j=null,i.I=!0,ye(i,t)}function Ui(t){null!=t.m&&(h.clearTimeout(t.m),t.m=null)}function Xi(t,e){var i=null;if(t.a==e){Ui(t),Di(t),t.a=null;var n=2}else{if(!ri(t.b,e))return;i=e.s,oi(t.b,e),n=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==n){i=e.j?e.j.length:0,e=x()-e.u;var r=t.u;(n=Kt()).dispatchEvent(new te(n,i,e,r)),ki(t)}else Ri(t);else if(3==(r=e.h)||0==r&&0<t.I||!(1==n&&function(t,e){return!(ni(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.Ia?0:t.Ja)||(t.h=ee(y(t.Ba,t,e),Vi(t,t.u)),t.u++,0)))}(t,e)||2==n&&Li(t)))switch(i&&0<i.length&&(e=t.b,e.c=e.c.concat(i)),r){case 1:zi(t,5);break;case 4:zi(t,10);break;case 3:zi(t,6);break;default:zi(t,2)}}function Vi(t,e){var i=t.Fa+Math.floor(Math.random()*t.Ma);return t.f||(i*=2),i*e}function zi(t,e){if(t.c.info("Error code "+e),2==e){var i=null;t.f&&(i=null);var n=y(t.Xa,t);i||(i=new ke("//www.google.com/images/cleardot.gif"),h.location&&"http"==h.location.protocol||Ne(i,"https"),Be(i)),function(t,e){var i=new Wt;if(h.Image){var n=new Image;n.onload=m(li,i,n,"TestLoadImage: loaded",!0,e),n.onerror=m(li,i,n,"TestLoadImage: error",!1,e),n.onabort=m(li,i,n,"TestLoadImage: abort",!1,e),n.ontimeout=m(li,i,n,"TestLoadImage: timeout",!1,e),h.setTimeout(function(){n.ontimeout&&n.ontimeout()},1e4),n.src=t}else e(!1)}(i.toString(),n)}else $t(2);t.v=0,t.f&&t.f.ra(e),Yi(t),Mi(t)}function Yi(t){t.v=0,t.I=-1,t.f&&(0==ai(t.b).length&&0==t.g.length||(t.b.c.length=0,A(t.g),t.g.length=0),t.f.qa())}function ji(t,e,i){var n=function(t){return t instanceof ke?Oe(t):new ke(t,void 0)}(i);if(""!=n.c)e&&Fe(n,e+"."+n.c),Re(n,n.h);else{var r=h.location;n=function(t,e,i,n){var r=new ke(null,void 0);return t&&Ne(r,t),e&&Fe(r,e),i&&Re(r,i),n&&(r.g=n),r}(r.protocol,e?e+"."+r.hostname:r.hostname,+r.port,i)}return t.W&&N(t.W,function(t,e){De(n,e,t)}),e=t.A,i=t.na,e&&i&&De(n,e,i),De(n,"VER",t.ha),Ni(t,n),n}function Gi(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new di(t.Ka)).F=t.C,e}function Wi(){}function Hi(){if(V&&!(10<=Number(tt)))throw Error("Environmental error: no available transport.")}function qi(t,e){At.call(this),this.a=new Ei(e),this.l=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!E(t)&&(this.a.i=t),this.h=e&&e.supportsCrossDomainXhr||!1,this.g=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!E(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&(e in(t=this.b)&&delete t[e])),this.f=new Qi(this)}function Ki(t){ue.call(this);var e=t.__sm__;if(e){t:{for(var i in e){t=i;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Ji(){ce.call(this),this.status=1}function Qi(t){this.a=t}(s=di.prototype).ba=function(t,e,i,n){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?se(this.H):se(ae),this.a.onreadystatechange=y(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(t){return void mi(this,t)}t=i||"";var r=new Ie(this.headers);n&&Ee(n,function(t,e){r.set(e,t)}),n=function(t){t:{for(var e=yi,i=t.length,n="string"==typeof t?t.split(""):t,r=0;r<i;r++)if(r in n&&e.call(void 0,n[r],r,t)){e=r;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(r.L()),i=h.FormData&&t instanceof h.FormData,!(0<=T(vi,e))||n||i||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Ti(this),0<this.o&&((this.D=function(t){return V&&Z(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=y(this.xa,this)):this.m=Xt(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(t){mi(this,t)}},s.xa=function(){void 0!==a&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},s.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),wi(this))},s.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),wi(this,!0)),di.S.G.call(this)},s.za=function(){this.j||(this.A||this.l||this.g?bi(this):this.Ta())},s.Ta=function(){bi(this)},s.X=function(){try{return 2<Si(this)?this.a.status:-1}catch(t){return-1}},s.$=function(){try{return this.a?this.a.responseText:""}catch(t){return""}},s.Na=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),fi(e)}},s.ua=function(){return this.h},s.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(s=Ei.prototype).ha=8,s.v=1,s.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,i=new fe(this,this.c,t,void 0),n=this.l;if(this.O&&(n?L(n=F(n),this.O):n=this.O),null===this.i&&(i.B=n),this.da)t:{for(var r=e=0;r<this.g.length;r++){var s=this.g[r];if(void 0===(s="__data__"in s.a&&"string"==typeof(s=s.a.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=r;break t}if(4096===e||r===this.g.length-1){e=r+1;break t}}e=1e3}else e=1e3;e=Fi(this,i,e),De(r=Oe(this.B),"RID",t),De(r,"CVER",22),this.A&&De(r,"X-HTTP-Session-Id",this.A),Ni(this,r),this.i&&n&&_i(r,this.i,n),si(this.b,i),this.Ga&&De(r,"TYPE","init"),this.da?(De(r,"$req",e),De(r,"SID","null"),i.V=!0,ve(i,r,null)):ve(i,r,e),this.v=2}}else 3==this.v&&(t?Oi(this,t):0==this.g.length||ii(this.b)||Oi(this))},s.Aa=function(){if(this.j=null,Bi(this),this.V&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=ee(y(this.Sa,this),t)}},s.Sa=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Ci(this),Bi(this))},s.Ra=function(){null!=this.m&&(this.m=null,Ci(this),Li(this),$t(19))},s.Xa=function(t){t?(this.c.info("Successfully pinged google.com"),$t(2)):(this.c.info("Failed to ping google.com"),$t(1))},(s=Wi.prototype).ta=function(){},s.sa=function(){},s.ra=function(){},s.qa=function(){},s.Ha=function(){},Hi.prototype.a=function(t,e){return new qi(t,e)},b(qi,At),(s=qi.prototype).addEventListener=function(t,e,i,n){qi.S.addEventListener.call(this,t,e,i,n)},s.removeEventListener=function(t,e,i,n){qi.S.removeEventListener.call(this,t,e,i,n)},s.Oa=function(){this.a.f=this.f,this.h&&(this.a.C=!0);var t=this.a,e=this.l,i=this.b||void 0;$t(0),t.fa=e,t.W=i||{},t.H=t.T,t.B=ji(t,null,t.fa),ki(t)},s.close=function(){Ii(this.a)},s.Pa=function(t){if("string"==typeof t){var e={};e.__data__=t,Pi(this.a,e)}else this.g?((e={}).__data__=It(t),Pi(this.a,e)):Pi(this.a,t)},s.G=function(){this.a.f=null,delete this.f,Ii(this.a),delete this.a,qi.S.G.call(this)},b(Ki,ue),b(Ji,ce),b(Qi,Wi),Qi.prototype.ta=function(){this.a.dispatchEvent("a")},Qi.prototype.sa=function(t){this.a.dispatchEvent(new Ki(t))},Qi.prototype.ra=function(t){this.a.dispatchEvent(new Ji(t))},Qi.prototype.qa=function(){this.a.dispatchEvent("b")},Hi.prototype.createWebChannel=Hi.prototype.a,qi.prototype.send=qi.prototype.Pa,qi.prototype.open=qi.prototype.Oa,qi.prototype.close=qi.prototype.close,ie.NO_ERROR=0,ie.TIMEOUT=8,ie.HTTP_ERROR=6,ne.COMPLETE="complete",oe.EventType=he,he.OPEN="a",he.CLOSE="b",he.ERROR="c",he.MESSAGE="d",At.prototype.listen=At.prototype.va,di.prototype.listenOnce=di.prototype.wa,di.prototype.getLastError=di.prototype.Qa,di.prototype.getLastErrorCode=di.prototype.ua,di.prototype.getStatus=di.prototype.X,di.prototype.getResponseJson=di.prototype.Na,di.prototype.getResponseText=di.prototype.$,di.prototype.send=di.prototype.ba;var Zi=function(){return new Hi},$i=ie,tn=ne,en=oe,nn=di,rn={createWebChannelTransport:Zi,ErrorCode:$i,EventType:tn,WebChannel:en,XhrIo:nn};e.default=rn}.call(this,i(66))},function(t,e,i){"use strict";i.r(e);var n=i(136),r=i.n(n);var s=class extends Phaser.Scene{constructor(t){super({key:"BootScene"})}preload(){this.EXPANSION=2,this.make.text({x:this.sys.game.config.width/2,y:50*this.EXPANSION,text:"LOADING...",origin:{x:.5,y:.5},style:{fontSize:6*this.EXPANSION,fontFamily:"Arial",fill:"white",align:"center"}});let t=this.make.text({x:this.sys.game.config.width/2,y:60*this.EXPANSION,text:"",origin:{x:.5,y:.5},style:{fontSize:8*this.EXPANSION,fontFamily:"Arial",fill:"white",align:"center"}});this.progress=this.add.graphics(),this.load.on("progress",e=>{this.progress.clear(),this.progress.fillStyle(16777215,1),t.text=Math.round(100*e)+"%"}),this.load.on("complete",()=>{let t=this.cache.json.get("gameText");this.registry.set("gameText",t),"ja"==(window.navigator.languages&&window.navigator.languages[0]||window.navigator.language||window.navigator.userLanguage||window.navigator.browserLanguage)?(this.registry.set("lang","ja"),this.registry.set("gameTextLang",this.registry.list.gameText.ja)):(this.registry.set("lang","en"),this.registry.set("gameTextLang",this.registry.list.gameText.en)),this.progress.destroy(),this.scene.start("TitleScene")}),this.load.json("gameText","assets/gameText.json"),this.load.pack("Preload","assets/pack.json","Preload"),this.load.image("tiles","assets/tilemaps/tile.png"),this.load.atlas("monster_spritesheet","assets/images/monster_spritesheet.png","assets/monster_sprites.json"),this.load.atlas("ui_spritesheet","assets/images/ui_spritesheet.png","assets/ui_sprites.json"),this.load.atlas("magic_animation","assets/images/magic_animation.png","assets/magic_animation.json"),this.registry.set("monster_map",[[1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1]])}},o=i(24),a=i.n(o);i(1092),i(1093);class h{constructor(t){this.scene=t.scene,this.create()}create(){let t=this.scene.registry.list.gameTextLang.Common;this.titleTranslation=this.scene.add.text(this.scene.game.config.width/2,16*this.scene.EXPANSION,this.scene.registry.list.gameTextLang.Common.ui.titleTranslation,{fontFamily:"font1",color:"#FFFFFF",fontSize:10*this.scene.EXPANSION}),this.titleTranslation.setAlign("center"),this.titleTranslation.setOrigin(.5),this.titleTranslation.depth=100,this.buttonTranslation=this.scene.add.text(this.scene.game.config.width-10*this.scene.EXPANSION,10*this.scene.EXPANSION,this.scene.registry.list.gameTextLang.Common.ui.buttonTranslation,{fontFamily:"font1",color:"#FFFFFF",fontSize:5*this.scene.EXPANSION}),this.buttonTranslation.setAlign("right"),this.buttonTranslation.setOrigin(1,.5),this.buttonTranslation.depth=100,this.buttonTranslation.setInteractive(),this.buttonTranslation.on("pointerdown",()=>{this.OpenModalLanguageSelect()},this),this.buttonTranslationJa=this.scene.add.text(this.scene.game.config.width/2,70*this.scene.EXPANSION,"日本語",{fontFamily:"font1",color:"#FFFFFF",fontSize:10*this.scene.EXPANSION}),this.buttonTranslationJa.setAlign("center"),this.buttonTranslationJa.setOrigin(.5),this.buttonTranslationJa.depth=100,this.buttonTranslationJa.setInteractive(),this.buttonTranslationJa.on("pointerdown",()=>{this.SelectLanguage("ja")},this),this.buttonTranslationEn=this.scene.add.text(this.scene.game.config.width/2,100*this.scene.EXPANSION,"English",{fontFamily:"font1",color:"#FFFFFF",fontSize:10*this.scene.EXPANSION}),this.buttonTranslationEn.setAlign("center"),this.buttonTranslationEn.setOrigin(.5),this.buttonTranslationEn.depth=100,this.buttonTranslationEn.setInteractive(),this.buttonTranslationEn.on("pointerdown",()=>{this.SelectLanguage("En")},this),this.buttonCloseTranslation=this.scene.add.text(this.scene.game.config.width/2,140*this.scene.EXPANSION,t.ui.buttonClose,{fontFamily:"font1",color:"#FFFFFF",fontSize:10*this.scene.EXPANSION}),this.buttonCloseTranslation.setAlign("center"),this.buttonCloseTranslation.setOrigin(.5),this.buttonCloseTranslation.depth=100,this.buttonCloseTranslation.setInteractive(),this.buttonCloseTranslation.on("pointerdown",()=>{this.CloseModalLanguageSelect()},this),this.languageOverlapArea=this.scene.add.graphics({fillStyle:{color:0}}),this.rectLang=new Phaser.Geom.Rectangle(0,0,this.scene.game.config.width,this.scene.game.config.height),this.languageOverlapArea.fillRectShape(this.rectLang),this.languageOverlapArea.alpha=.85,this.languageOverlapArea.setScrollFactor(0),this.languageOverlapArea.depth=1010,this.UILanguageContainer=this.scene.add.container(),this.UILanguageContainer.setVisible(!1),this.UILanguageContainer.add([this.languageOverlapArea,this.titleTranslation,this.buttonTranslationJa,this.buttonTranslationEn,this.buttonCloseTranslation]),this.UILanguageContainer.x=0,this.UILanguageContainer.y=0,this.UILanguageContainer.depth=1e3}OpenModalLanguageSelect(){this.UILanguageContainer.setVisible(!0)}CloseModalLanguageSelect(){this.UILanguageContainer.setVisible(!1)}SelectLanguage(t){this.scene.registry.list.lang=t,this.scene.registry.list.gameTextLang="ja"==t?this.scene.registry.list.gameText.ja:this.scene.registry.list.gameText.en,this.scene.scene.restart()}}var u=class extends Phaser.Scene{constructor(t){super({key:"TitleScene"})}create(){this.DebugMode=!1,this.EXPANSION=2,this.LOGIN=!1;let t="";t="ja"===this.registry.list.lang?"title":"title_en",this.title=this.add.sprite(this.sys.game.config.width/2,10*this.EXPANSION,"ui_spritesheet",t),this.title.setOrigin(.5,0),this.ModalLanguageSelect=new h({scene:this}),this.btnMakeMonster=this.add.text(12*this.EXPANSION,80*this.EXPANSION,this.registry.list.gameTextLang.TitleScene.menu.menu1,{fontFamily:"font1",color:"#FFFFFF",fontSize:10*this.EXPANSION}),this.btnMakeMonster.setInteractive(),this.btnMakeMonster.on("pointerdown",()=>{this.scene.start("MakeMonsterScene")},this),this.btnMonsterCheck=this.add.text(12*this.EXPANSION,105*this.EXPANSION,this.registry.list.gameTextLang.TitleScene.menu.menu2,{fontFamily:"font1",color:"#FFFFFF",fontSize:10*this.EXPANSION}),this.btnMonsterCheck.setInteractive(),this.btnMonsterCheck.on("pointerdown",()=>{if(!this.registry.list.monster1)return!1;this.scene.start("MonsterCheckScene")},this),this.btnBattleMonster=this.add.text(12*this.EXPANSION,130*this.EXPANSION,this.registry.list.gameTextLang.TitleScene.menu.menu3,{fontFamily:"font1",color:"#FFFFFF",fontSize:10*this.EXPANSION}),this.btnBattleMonster.setInteractive(),this.btnBattleMonster.on("pointerdown",()=>{if(!this.DebugMode&&!this.registry.list.monster1)return!1;this.scene.start("BattleMonsterScene")},this),this.btnBattleChanpion=this.add.text(12*this.EXPANSION,155*this.EXPANSION,this.registry.list.gameTextLang.TitleScene.menu.menu4,{fontFamily:"font1",color:"#FFFFFF",fontSize:10*this.EXPANSION}),this.btnBattleChanpion.setInteractive(),this.btnBattleChanpion.on("pointerdown",()=>{if(!this.DebugMode&&!this.registry.list.monster1)return!1;this.scene.start("ChanpionBattleScene")},this),this.registry.list.monster1||(this.btnMonsterCheck.setColor("#666666"),this.btnBattleMonster.setColor("#666666"),this.btnBattleChanpion.setColor("#666666")),this.btnMonsterZukan=this.add.text(12*this.EXPANSION,180*this.EXPANSION,this.registry.list.gameTextLang.TitleScene.menu.menu5,{fontFamily:"font1",color:"#666666",fontSize:10*this.EXPANSION}),this.btnMonsterZukan.setInteractive(),this.btnMonsterZukan.on("pointerdown",()=>!!this.LOGIN&&!!this.registry.list.zukan&&void this.scene.start("MonsterZukanScene"),this),this.btnTwitterLogin=this.add.text(12*this.EXPANSION,210*this.EXPANSION,this.registry.list.gameTextLang.TitleScene.twitterLogin,{fontFamily:"font1",color:"#1DA1F2",fontSize:10*this.EXPANSION}),this.btnTwitterLogin.setInteractive(),this.btnTwitterLogin.on("pointerdown",()=>{const t=new a.a.auth.TwitterAuthProvider;a.a.auth().signInWithRedirect(t).then(t=>{console.log("ログイン成功"),this.LOGIN=!0,this.OpenLoginContent()}).catch(t=>{console.log(t)})},this),this.btnTwitterLogout=this.add.text(12*this.EXPANSION,210*this.EXPANSION,this.registry.list.gameTextLang.TitleScene.twitterLogout,{fontFamily:"font1",color:"#FFFFFF",fontSize:10*this.EXPANSION}),this.btnTwitterLogout.setInteractive(),this.btnTwitterLogout.on("pointerdown",()=>{a.a.auth().signOut().then(()=>{console.log("ログアウトしました"),this.LOGIN=!1,this.OpenLoginContent()}).catch(t=>{})},this),this.btnTwitterLogin.setVisible(!1),this.btnTwitterLogout.setVisible(!1),this.textCreatedBy=this.add.text(this.game.config.width/2,235*this.EXPANSION,"CREATERD BY SAITOTSUSHIN",{fontFamily:"font1",color:"#666666",fontSize:5*this.EXPANSION}),this.textCreatedBy.setAlign("center"),this.textCreatedBy.setOrigin(.5),this.db=a.a.firestore(),a.a.auth().getRedirectResult().then(t=>{}).catch(t=>{});let e=this;a.a.auth().onAuthStateChanged(function(t){if(t){console.log("ログイン中"),e.LOGIN=!0,e.btnTwitterLogout.setVisible(!0),e.btnTwitterLogin.setVisible(!1);let i=t.photoURL.replace("normal","bigger"),n=t.displayName;e.registry.set("user_icon",i),e.registry.set("user_name",n),e.db.collection("users").doc(t.uid).get().then(i=>{i.exists?(i.data().zukan&&e.registry.set("zukan",i.data().zukan),i.data().monster1?e.registry.set("monster1",i.data().monster1):e.registry.set("monster1",{}),e.OpenLoginContent()):(e.registry.set("zukan",[]),e.db.collection("users").doc(t.uid).set({zukan:[]},{merge:!0}))})}else e.LOGIN=!1,e.btnTwitterLogin.setVisible(!0),e.btnTwitterLogout.setVisible(!1),e.OpenLoginContent()})}OpenLoginContent(){this.LOGIN?this.btnMonsterZukan.setColor("#FFFFFF"):this.btnMonsterZukan.setColor("#666666"),this.registry.list.monster1&&(0!==Object.keys(this.registry.list.monster1).length?(this.btnMonsterCheck.setColor("#FFFFFF"),this.btnBattleMonster.setColor("#FFFFFF"),this.btnBattleChanpion.setColor("#FFFFFF")):(this.btnMonsterCheck.setColor("#666666"),this.btnBattleMonster.setColor("#666666"),this.btnBattleChanpion.setColor("#666666")))}};var c=class extends Phaser.Scene{constructor(t){super({key:"GameScene"})}create(){this.cameras.main.setBackgroundColor("#000000"),this.btnPlayCPU=this.add.text(12,20,"現在:"+this.registry.list.floorNumber+"F",{fontFamily:"font1",color:"#FFFFFF",fontSize:10}),this.btnPlayCPU=this.add.text(12,34,"ダンジョンに進む",{fontFamily:"font1",color:"#FFFFFF",fontSize:10}),this.btnPlayCPU.setInteractive(),this.btnPlayCPU.on("pointerdown",()=>{this.scene.start("BattleScene")},this),this.btnRoom=this.add.text(12,54,"ROOM",{fontFamily:"font1",color:"#FFFFFF",fontSize:10}),this.btnRoom.setInteractive(),this.btnRoom.on("pointerdown",()=>{this.scene.start("RoomScene")},this),this.playerID=this.add.text(12,74,"私のID"+this.registry.list.playerID,{fontFamily:"font1",color:"#FFFFFF",fontSize:10}),this.enemyID=this.add.text(12,84,"相手のID"+this.registry.list.enemyID,{fontFamily:"font1",color:"#FFFFFF",fontSize:10})}};class l{constructor(t){this.scene=t.scene,this.index=t.index,this.name=t.name,this.texture=t.texture,this.type=t.type,this.rank=t.rank,this.owner=t.owner,this.create()}create(){let t=this.scene.registry.list.gameTextLang.ChanpionBattleScene,e=Math.floor(this.index/3),i=Math.floor(this.index%3);this.ChanpionsMonsterContainer=this.scene.add.container(),this.ChanpionsMonsterContainer.x=50*i*this.scene.EXPANSION+30*this.scene.EXPANSION,this.ChanpionsMonsterContainer.y=80*e*this.scene.EXPANSION+45*this.scene.EXPANSION,this.ChanpionsMonsterContainer.depth=200,this.MonsterSprite=this.scene.add.sprite(0,10*this.scene.EXPANSION,"monster_spritesheet",this.texture);let n="dummy",r=Number(this.index)+1;this.index<3&&(n="icon_rank_"+r),this.MonsterRankSprite=this.scene.add.sprite(0,-15*this.scene.EXPANSION,"ui_spritesheet",n),this.TextMonsterRank=this.scene.add.text(0,30*this.scene.EXPANSION,[t.rankNumber1+(Number(this.index)+1)+t.rankNumber2],{fontFamily:"font1",color:"#FFFFFF",fontSize:10*this.scene.EXPANSION,lineSpacing:3*this.scene.EXPANSION}),this.TextMonsterRank.setAlign("center"),this.TextMonsterRank.setOrigin(.5),this.TextMonsterRank.setStroke("#000000",4*this.scene.EXPANSION),this.TextMonsterIconOwner=this.scene.add.text(0,38*this.scene.EXPANSION,t.owner,{fontFamily:"font1",color:"#FFFFFF",fontSize:5*this.scene.EXPANSION,lineSpacing:3*this.scene.EXPANSION}),this.TextMonsterIconOwner.setAlign("center"),this.TextMonsterIconOwner.setOrigin(.5),this.TextMonsterIconOwner.setStroke("#000000",1*this.scene.EXPANSION),this.TextMonsterOwnerName=this.scene.add.text(0,45*this.scene.EXPANSION,[this.owner],{fontFamily:"font1",color:"#FFFFFF",fontSize:10,lineSpacing:3,wordWrap:{width:50*this.scene.EXPANSION,useAdvancedWrap:!0}}),this.TextMonsterOwnerName.setAlign("center"),this.TextMonsterOwnerName.setOrigin(.5),this.TextMonsterName=this.scene.add.text(0,48*this.scene.EXPANSION,[this.name],{fontFamily:"font1",color:"#FFFFFF",fontSize:10*this.scene.EXPANSION,lineSpacing:0,wordWrap:{width:50*this.scene.EXPANSION,useAdvancedWrap:!0}}),this.TextMonsterName.setAlign("center"),this.TextMonsterName.setOrigin(.5,0),this.ChanpionsMonsterContainer.add([this.TextMonsterName,this.MonsterSprite,this.MonsterRankSprite,this.TextMonsterRank,this.TextMonsterOwnerName,this.TextMonsterIconOwner])}Hide(){this.ChanpionsMonsterContainer.setVisible(!1)}}class f{constructor(t){this.scene=t.scene,this.monsters=t.monsters,this.chanpionMonstersArr=[],this.ModalchanpionMonstersObjects=[],this.create()}create(){let t=this.scene.registry.list.gameTextLang.ChanpionBattleScene;this.ChanpionsMonsterContainer=this.scene.add.container(),this.ChanpionsMonsterContainer.x=0,this.ChanpionsMonsterContainer.y=0,this.ChanpionsMonsterContainer.depth=200;let e=0;this.monsters.forEach(t=>{let i=t.data();this.ModalChanpionsMonster=new l({scene:this.scene,index:e,name:i.name,texture:i.texture,type:i.type,status:i.status,rank:i.rank,owner:i.owner}),this.ModalchanpionMonstersObjects.push(this.ModalChanpionsMonster);let n={monsterId:t.id,name:i.name,texture:i.texture,type:i.type,status:i.status,rank:i.rank,owner:i.owner};this.chanpionMonstersArr.push(n),e++});let i=this.scene.registry.list.monster1.texture,n=this.scene.registry.list.monster1.type,r=this.scene.registry.list.monster1.name;this.MyMonsterSprite=this.scene.add.sprite(130*this.scene.EXPANSION,140*this.scene.EXPANSION,"monster_spritesheet",i),this.MyMonsterTypeIcon=this.scene.add.sprite(110*this.scene.EXPANSION,160*this.scene.EXPANSION,"ui_spritesheet","type_"+n),this.MyMonsterName=this.scene.add.text(130*this.scene.EXPANSION,170*this.scene.EXPANSION,r,{fontFamily:"font1",color:"#FFFFFF",fontSize:10*this.scene.EXPANSION,wordWrap:{width:50*this.scene.EXPANSION,useAdvancedWrap:!0}}),this.MyMonsterName.setAlign("center"),this.MyMonsterName.setOrigin(.5),this.MyMonsterName.setStroke("#000000",4*this.scene.EXPANSION),this.ModalTitle=this.scene.add.text(this.scene.game.config.width/2,10*this.scene.EXPANSION,t.goToChampion,{fontFamily:"font1",color:"#ffcc66",fontSize:10*this.scene.EXPANSION,wordWrap:{width:160*this.scene.EXPANSION,useAdvancedWrap:!0}}),this.ModalTitle.setAlign("center"),this.ModalTitle.setOrigin(.5),this.ModalTitle.setStroke("#330000",4*this.scene.EXPANSION),this.MyMonsterWindow=this.scene.add.sprite(105*this.scene.EXPANSION,108*this.scene.EXPANSION,"ui_spritesheet","MyMonsterChallengeWindow"),this.MyMonsterWindow.setOrigin(0,0),this.TextMyMonsterIconOwner=this.scene.add.text(130*this.scene.EXPANSION,114*this.scene.EXPANSION,t.myMonsterWindow,{fontFamily:"font1",color:"#FFFFFF",fontSize:5*this.scene.EXPANSION,lineSpacing:3*this.scene.EXPANSION}),this.TextMyMonsterIconOwner.setAlign("center"),this.TextMyMonsterIconOwner.setOrigin(.5),this.TextMyMonsterIconOwner.setStroke("#000000",2*this.scene.EXPANSION),this.btnChallenge=this.scene.add.text(this.scene.game.config.width/2,205*this.scene.EXPANSION,t.challenge,{fontFamily:"font1",color:"#FFFFFF",fontSize:10*this.scene.EXPANSION}),this.btnChallenge.setAlign("center"),this.btnChallenge.setOrigin(.5),this.btnChallenge.setInteractive(),this.btnChallenge.on("pointerdown",()=>{if(this.scene.settingOK){this.ChanpionsMonsterContainer.setVisible(!1);for(var t=0;t<this.ModalchanpionMonstersObjects.length;t++)this.ModalchanpionMonstersObjects[t].Hide();this.scene.GotoBattle()}},this),this.ChallegeWindow=this.scene.add.sprite(this.scene.game.config.width/2,206*this.scene.EXPANSION,"ui_spritesheet","window_s"),this.btnReset=this.scene.add.text(this.scene.game.config.width/2,230*this.scene.EXPANSION,t.goToTitle,{fontFamily:"font1",color:"#FFFFFF",fontSize:10*this.scene.EXPANSION}),this.btnReset.setAlign("center"),this.btnReset.setOrigin(.5),this.btnReset.setInteractive(),this.btnReset.on("pointerdown",()=>{this.scene.GotoTitle()},this),this.overlapArea=this.scene.add.graphics({fillStyle:{color:0}}),this.rect=new Phaser.Geom.Rectangle(0,0,this.scene.game.config.width,this.scene.game.config.height),this.overlapArea.fillRectShape(this.rect),this.overlapArea.alpha=.75,this.overlapArea.setScrollFactor(0),this.ChanpionsMonsterContainer.add([this.overlapArea,this.ChallegeWindow,this.ModalTitle,this.btnReset,this.btnChallenge,this.MyMonsterWindow,this.MyMonsterSprite,this.MyMonsterTypeIcon,this.MyMonsterName,this.TextMyMonsterIconOwner])}GetChanpionMonsterStatusArr(t){return this.chanpionMonstersArr[t]}}class d{constructor(t){this.scene=t.scene,this.player=t.player,this.name=t.name,this.status=t.status,this.status.maxHp=this.status.hp,this.texture=t.texture,this.type=t.type,this.rank=0,this.create(),"player2"==this.player&&this.SetMonsterEnemy(),this.attackTween,this.defensiveTween,this.damageTween,this.HpTween,this.monsterId=""}create(){this.MonsterContainer=this.scene.add.container(),this.MonsterContainer.x=0,this.MonsterContainer.y=0,this.Monster=this.scene.add.sprite(40*this.scene.EXPANSION,80*this.scene.EXPANSION,"monster_spritesheet",this.texture),this.MonsterTypeIcon=this.scene.add.sprite(16*this.scene.EXPANSION,112*this.scene.EXPANSION,"ui_spritesheet","type_"+this.type),this.MonsterName=this.scene.add.text(24*this.scene.EXPANSION,105*this.scene.EXPANSION,this.name,{fontFamily:"font1",color:"#FFFFFF",fontSize:10*this.scene.EXPANSION}),this.MonsterName.setAlign("left"),this.MonsterHp=this.scene.add.text(10*this.scene.EXPANSION,120*this.scene.EXPANSION,"HP",{fontFamily:"font1",color:"#FFFFFF",fontSize:10*this.scene.EXPANSION}),this.MonsterHp.setAlign("left"),this.MonsterHpBar=this.scene.add.sprite(25*this.scene.EXPANSION,124*this.scene.EXPANSION,"ui_spritesheet","hp_bar"),this.MonsterHpWidth=this.scene.game.config.width-40*this.scene.EXPANSION,this.MonsterHpBar.displayWidth=this.MonsterHpWidth,this.MonsterHpBar.displayHeight=6*this.scene.EXPANSION,this.MonsterHpBar.setOrigin(0,0),this.MonsterHpBar.depth=20,this.MonsterHpBarBg=this.scene.add.sprite(25*this.scene.EXPANSION,124*this.scene.EXPANSION,"ui_spritesheet","hp_bar_bg"),this.MonsterHpBarBg.displayWidth=this.scene.game.config.width-40*this.scene.EXPANSION,this.MonsterHpBarBg.displayHeight=6*this.scene.EXPANSION,this.MonsterHpBarBg.setOrigin(0,0),this.MonsterHpBarBg.alpha=.2,this.MonsterHpBarBg.depth=10,this.MonsterHpNumber=this.scene.add.text(10*this.scene.EXPANSION,135*this.scene.EXPANSION,this.status.hp+" / "+this.status.maxHp,{fontFamily:"font1",color:"#FFFFFF",fontSize:10*this.scene.EXPANSION}),this.MonsterHpNumber.setAlign("left"),this.TextStatusTitle1=this.scene.add.text(10*this.scene.EXPANSION,150*this.scene.EXPANSION,[this.scene.registry.list.gameTextLang.Common.status.attack,this.scene.registry.list.gameTextLang.Common.status.defense,this.scene.registry.list.gameTextLang.Common.status.wise],{fontFamily:"font1",color:"#FFFFFF",fontSize:10*this.scene.EXPANSION,lineSpacing:3*this.scene.EXPANSION}),this.TextStatusTitle2=this.scene.add.text(this.scene.game.config.width/2,150*this.scene.EXPANSION,[this.scene.registry.list.gameTextLang.Common.status.speed,this.scene.registry.list.gameTextLang.Common.status.luck],{fontFamily:"font1",color:"#FFFFFF",fontSize:10*this.scene.EXPANSION,lineSpacing:3*this.scene.EXPANSION}),this.TextStatusNumber1=this.scene.add.text(this.scene.game.config.width/4*2-10*this.scene.EXPANSION,150*this.scene.EXPANSION,[this.status.attack,this.status.defense,this.status.wise],{fontFamily:"font1",color:"#FFFFFF",fontSize:10*this.scene.EXPANSION,lineSpacing:3*this.scene.EXPANSION}),this.TextStatusNumber1.setAlign("right"),this.TextStatusNumber1.setOrigin(1,0),this.TextStatusNumber2=this.scene.add.text(this.scene.game.config.width/4*4-10*this.scene.EXPANSION,150*this.scene.EXPANSION,[this.status.speed,this.status.lucky],{fontFamily:"font1",color:"#FFFFFF",fontSize:10*this.scene.EXPANSION,lineSpacing:3*this.scene.EXPANSION}),this.TextStatusNumber2.setAlign("right"),this.TextStatusNumber2.setOrigin(1,0),this.MonsterContainer.add([this.Monster,this.MonsterTypeIcon,this.MonsterName,this.TextStatusTitle1,this.TextStatusTitle2,this.TextStatusNumber1,this.TextStatusNumber2,this.MonsterHpNumber]),this.DamageText=this.scene.add.text(20*this.scene.EXPANSION,20*this.scene.EXPANSION,"00",{fontFamily:"font1",color:"#FFFFFF",fontSize:10*this.scene.EXPANSION}),this.DamageText.setAlign("center"),this.DamageText.setOrigin(.5,1),this.DamageText.setVisible(!1),this.DamageText.setStroke("#000000",2*this.scene.EXPANSION),this.DamageText.depth=20,"player1"==this.player?console.log("%c Monster1","color: blue; font- weight:bold"):console.log("%c Monster2","color: red; font- weight:bold");let t={player:this.player,name:this.name,texture:this.texture,type:this.type,hp:this.status.hp,attack:this.status.attack,defense:this.status.defense,wise:this.status.wise,speed:this.status.speed,lucky:this.status.lucky};console.table(t)}SetMonsterEnemy(){this.MonsterName.x=this.scene.game.config.width-24*this.scene.EXPANSION,this.MonsterName.y=10*this.scene.EXPANSION,this.MonsterName.setAlign("right"),this.MonsterName.setOrigin(1,.5),this.Monster.x=this.scene.game.config.width/4*3,this.Monster.y=60*this.scene.EXPANSION,this.MonsterTypeIcon.x=this.scene.game.config.width-16*this.scene.EXPANSION,this.MonsterTypeIcon.y=10*this.scene.EXPANSION,this.MonsterHp.x=this.scene.game.config.width-20*this.scene.EXPANSION,this.MonsterHp.y=20*this.scene.EXPANSION,this.MonsterHpBar.x=this.scene.game.config.width-30*this.scene.EXPANSION,this.MonsterHpBar.y=26*this.scene.EXPANSION,this.MonsterHpBar.setOrigin(1,.5),this.MonsterHpBarBg.x=10*this.scene.EXPANSION,this.MonsterHpBarBg.y=23*this.scene.EXPANSION,this.MonsterHpNumber.y=200*this.scene.EXPANSION,this.MonsterHpNumber.setVisible(!1),this.TextStatusTitle1.setVisible(!1),this.TextStatusTitle2.setVisible(!1),this.TextStatusNumber1.setVisible(!1),this.TextStatusNumber2.setVisible(!1)}Attack(t){let e=this,i=Math.ceil(1.1*this.status.attack),n=Math.ceil(.8*t.status.defense),r=!1,s=this.status.lucky+t.status.lucky,o=this.status.lucky/s*.5;Math.random()<=o&&(r=!0,i*=o+1);let a=!1,h=this.type,u=t.type,c=Math.random();(0==h&&1==u)|(1==h&&2==u)|(2==h&&0==u)&&c>.4&&(a=!0,i*=1.5);let l=!1,f=this.status.speed+t.status.speed,d=this.status.speed/f*.2;Math.random()<=d&&(l=!0,i=0);let p=!1,g=this.scene.Magic,v="",y=Math.random(),m=0,x="",b=this.scene.registry.list.gameTextLang.BattleMonsterScene;if(y<=.3){switch(p=!0,m=600,g.MagicSprite.x=t.Monster.x,g.MagicSprite.y=t.Monster.y,Number(this.type)){case 0:v="fire",x=b.fire;break;case 1:v="thunder",x=b.thunder;break;case 2:v="water",x=b.water;break;default:v="fire",x=b.fire}g.MagicSprite.setVisible(!0),g.MagicSprite.play(v),i=this.status.wise-t.status.wise,n=Math.ceil(.1*t.status.wise),i<=0&&(i=Math.ceil(.1*this.status.wise))}let w=0;l?w=0:(w=i-n)<=0&&(w=r?i*(o+1):1),w=Math.ceil(w),t.status.hp-=w;let T=!1;t.status.hp<=0&&(t.status.hp=0,T=!0);let S=0,_=0;"player1"==this.player?(S=this.Monster.x+20*this.scene.EXPANSION,_=this.Monster.y-10*this.scene.EXPANSION):(S=this.Monster.x-20*this.scene.EXPANSION,_=this.Monster.y+10*this.scene.EXPANSION),p&&(S=this.Monster.x,_=this.Monster.y-5*this.scene.EXPANSION),this.attackTween=this.scene.tweens.timeline({targets:e.Monster,tweens:[{x:S,y:_,duration:60},{x:e.Monster.x,y:e.Monster.y,duration:60}],ease:"liner",duration:120,repeat:0,completeDelay:400}),l||(this.defensiveTween=this.scene.tweens.timeline({targets:t.Monster,tweens:[{alpha:.5,duration:20},{alpha:1,duration:20}],ease:"liner",loop:5,duration:120,delay:50,completeDelay:400})),t.MonsterHpNumber.setText(t.status.hp+" / "+t.status.maxHp),this.DamageText.x=t.Monster.x,this.DamageText.y=t.Monster.y+.4*t.Monster.displayHeight,l?this.DamageText.setText(b.miss2):this.DamageText.setText(w),this.DamageText.setVisible(!0),this.DamageText.alpha=0,this.damageTween=this.scene.tweens.add({targets:e.DamageText,y:t.Monster.y+t.Monster.displayHeight/2,ease:"liner",duration:60,repeat:0,alpha:1,delay:300+m,completeDelay:500,onComplete:function(){e.DamageText.setVisible(!1)}});let A=t.status.hp/t.status.maxHp;A<=0&&(A=0);let E=t.MonsterHpWidth*A;this.HpTween=this.scene.tweens.add({targets:t.MonsterHpBar,ease:"liner",duration:100,repeat:0,displayWidth:E,delay:400+m,completeDelay:1e3,onComplete:function(){}}),this.scene.time.addEvent({delay:1200+m,callback:function(){this.scene.NextTurn(t)},callbackScope:this}),this.scene.SetBattleWindow({player:this.player,attack_monster_name:this.name,defense_monster_name:t.name,damage:w,critical:r,miss:l,weekpoint:a,magic:p,magicName:x,kill:T,end:!1})}recoveryHp(){this.status.hp=this.status.maxHp,this.MonsterHpBar.displayWidth=this.MonsterHpWidth,this.MonsterHpNumber.setText(this.status.hp+" / "+this.status.maxHp)}ChangeMonster(t){this.status=t.status,this.monsterId=t.monsterId,this.TextStatusNumber1.setText([t.status.attack,t.status.defense,t.status.wise]),this.TextStatusNumber2.setText([t.status.speed,t.status.lucky]),this.status.maxHp=t.status.hp,this.MonsterHpNumber.setText(this.status.hp+" / "+this.status.maxHp),this.name=t.name,this.MonsterName.setText(this.name),this.type=t.type,this.Monster.setTexture("monster_spritesheet",t.texture),this.MonsterTypeIcon.setTexture("ui_spritesheet","type_"+t.type),this.Monster.setVisible(!0),this.rank=t.rank}}class p{constructor(t){this.scene=t.scene,this.animesFire=this.scene.anims.create({key:"fire",frames:this.scene.anims.generateFrameNames("magic_animation",{prefix:"fire_",end:4,zeroPad:4}),repeat:0,frameRate:10}),this.animsThunder=this.scene.anims.create({key:"thunder",frames:this.scene.anims.generateFrameNames("magic_animation",{prefix:"thunder_",end:5,zeroPad:4}),repeat:0,frameRate:10}),this.animesWater=this.scene.anims.create({key:"water",frames:this.scene.anims.generateFrameNames("magic_animation",{prefix:"water_",end:8,zeroPad:4}),repeat:0,frameRate:10}),this.animesShokan=this.scene.anims.create({key:"shokan",frames:this.scene.anims.generateFrameNames("magic_animation",{prefix:"shokan_",end:21,zeroPad:4}),repeat:0,frameRate:10}),this.MagicSprite=this.scene.add.sprite(10*this.scene.EXPANSION,10*this.scene.EXPANSION,"magic_animation"),this.MagicSprite.setVisible(!1),this.MagicSprite.depth=200,this.MagicSprite.on("animationcomplete",function(){this.MagicSprite.setVisible(!1)},this),this.create()}create(){}}class g{constructor(t){this.scene=t.scene,this.monster_name="",this.monster_texture="",this.monster_type="",this.monster_number=0,this.status={hp:0,attack:0,defense:0,wise:0,speed:0,lucky:0}}CreateMonster(t){this.monster_name=t;let e=t.split(""),i=this.scene.registry.list.monster_map,n=e.length-1;n>i.length-1&&(n%=i.length);let r="";for(var s=0;s<e.length;s++)r+=e[s].charCodeAt(0);let o=r.split(""),a=0;for(s=0;s<o.length;s++)a+=Number(o[s]);let h=0;for(s=0;s<i[n].length;s++)if(0===i[n][s]){h=s;break}0===h&&(h=i[n].length-1);let u=a%(h+1);this.monster_number=n*i[0].length+(u+1),this.monster_texture=this.monster_number;let c="";switch(Number(n)%3){case 0:c="0";break;case 1:c="1";break;case 2:c="2"}this.monster_type=c,this.createMonsterStatus()}createMonsterStatus(){this.status={hp:this.SetStatusHP(),attack:this.SetStatusAttack(),defense:this.SetStatusDefense(),wise:this.SetStatusWise(),speed:this.SetStatusSpeed(),lucky:this.SetStatusLucky()}}SetStatusHP(){let t=0,e=this.monster_name.split(""),i=1;0==e.length%2&&(i=2),t=80*i;let n="";for(var r=0;r<e.length;r++)n+=e[r].charCodeAt(0);let s=n.split(""),o=0;for(r=0;r<s.length;r++)o+=Number(s[r]);t=t+(o=Math.ceil(o*s[0]))+s[0]*s[0];let a=(t=String(t)).substr(-3,3);return t=Number(a)}SetStatusAttack(){let t=0,e=this.monster_name.split(""),i="";for(var n=0;n<e.length;n++)i+=e[n].charCodeAt(0);let r=i.split(""),s=r[0],o=r[r.length-1],a=String(s)+String(o),h=Number(s)+Number(o);t=20+Number(a)*h;let u=(t=String(Math.ceil(t))).substr(-3,3);return t=Number(u)}SetStatusDefense(){let t=0,e=this.monster_name.split(""),i="";for(var n=0;n<e.length;n++)i+=e[n].charCodeAt(0);let r=i.split(""),s=r[0],o=r[r.length-1],a=String(o)+String(s);t=10+1.5*Number(a);let h=(t=String(Math.ceil(t))).substr(-3,3);return t=Number(h)}SetStatusWise(){let t=0,e=this.monster_name,i=e.split(""),n="";for(var r=0;r<i.length;r++)n+=i[r].charCodeAt(0);let s=e.match(/[a-zA-Z]/g),o=0,a=1;if(null!==s){for(r=0;r<s.length;r++)o+=s[r].charCodeAt(0);a=.5*s.length}t=10+a*o*.5+5*i.length;let h=(t=String(Math.ceil(t))).substr(-3,3);return t=Number(h)}SetStatusSpeed(){let t=0,e=this.monster_name.split(""),i="";for(var n=0;n<e.length;n++)i+=e[n].charCodeAt(0);let r=i.split(""),s=0;for(n=0;n<r.length;n++)s+=r[n];let o=String(s).length,a=Math.ceil(.1*o);t=10+(20-e.length)*a;let h=(t=String(Math.ceil(t))).substr(-3,3);return t=Number(h)}SetStatusLucky(){let t=0,e=(new Date).getMinutes(),i=String(e),n=i.substr(0,1),r=i.substr(1,1),s=1;n==r&&(s=n*n),t=10+e+s+r*r;let o=(t=String(Math.ceil(t))).substr(-3,3);return t=Number(o)}GetEnemyName(){let t="",e=["リューウ","ケーーン","チュンリィー","ブランカン","エドモンド本屋さん","ガイルー","ダルシンム","ザンギエン","バルロング","バイソング","バルログゥ","ベンガ","ゴウキン"],i=e[Math.floor(Math.random()*e.length)];return t=Math.random()>.4?i:this.GetRandomName()}GetRandomName(){for(var t=Math.floor(11*Math.random()+1),e="abcdefghijklmnopqrstuvwxyz0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZあいうえかきくけこさしすせそたちつてとはひふへほまみむめもやゆよらりるれろわおんゑゐぁぃぅぇぉっゃゅょがぎぐげござじずぜぞだぢづでどばびぶべぼゔぱぴぷぺぽアイウエオカキクケコサシスセソタチツテトハヒフヘホマミムメモヤユヨラリウレロワオンァィゥェォッャュョガギグゲゴザジズゼゾダヂヅデドバビブベボヴパピプペポｱｲｳｴｵｶｷｸｹｺｻｼｽｾｿﾀﾁﾂﾃﾄﾅﾆﾇﾈﾉﾊﾋﾌﾍﾎﾏﾐﾑﾒﾓﾔﾕﾖﾗﾘﾙﾚﾛﾜﾝ",i=e.length,n="",r=0;r<t;r++)n+=e[Math.floor(Math.random()*i)];return n}GetMonsterObject(){return{status:this.status,type:this.monster_type,texture:this.monster_texture,name:this.monster_name}}}class v{constructor(t){this.scene=t.scene,this.create()}create(){this.UIWindowContainer=this.scene.add.container(),this.UIWindowContainer.x=0,this.UIWindowContainer.y=150*this.scene.EXPANSION,this.UIWindowContainer.depth=10,this.UIWindowContainer.setVisible(!1),this.UIWindow=this.scene.add.sprite(2*this.scene.EXPANSION,0,"ui_spritesheet","window"),this.UIWindow.setOrigin(0,0),this.UIWindowText=this.scene.add.text(10*this.scene.EXPANSION,7*this.scene.EXPANSION,this.scene.registry.list.gameTextLang.BattleMonsterScene.start,{fontFamily:"font1",color:"#FFFFFF",fontSize:10*this.scene.EXPANSION,wordWrap:{width:140*this.scene.EXPANSION,useAdvancedWrap:!0}}),this.UIWindowText.setAlign("left"),this.UIWindowText.setOrigin(0,0),this.UIWindowContainer.add([this.UIWindow,this.UIWindowText]),this.Hide(),this.UIRenshoWindowContainer=this.scene.add.container(),this.UIRenshoWindowContainer.x=0,this.UIRenshoWindowContainer.y=140*this.scene.EXPANSION,this.UIRenshoWindowContainer.depth=700,this.UIRenshoWindowContainer.setVisible(!1),this.UIRenshoWindow=this.scene.add.sprite(2,0,"ui_spritesheet","window_stone"),this.UIRenshoWindow.setOrigin(0,0),this.UIRenshoWindowText=this.scene.add.text(10*this.scene.EXPANSION,15*this.scene.EXPANSION,[this.scene.registry.list.gameTextLang.BattleMonsterScene.congratulations,this.scene.registry.list.gameTextLang.BattleMonsterScene.defaultResultWin],{fontFamily:"font1",color:"#000000",fontSize:10*this.scene.EXPANSION,wordWrap:{width:140*this.scene.EXPANSION,useAdvancedWrap:!0}}),this.UIRenshoWindowText.setAlign("left"),this.UIRenshoWindowText.setOrigin(0,0),this.UIRenshoStar1=this.scene.add.sprite(20*this.scene.EXPANSION,5*this.scene.EXPANSION,"ui_spritesheet","icon_star"),this.UIRenshoStar2=this.scene.add.sprite(30*this.scene.EXPANSION,5*this.scene.EXPANSION,"ui_spritesheet","icon_star"),this.UIRenshoStar3=this.scene.add.sprite(40*this.scene.EXPANSION,5*this.scene.EXPANSION,"ui_spritesheet","icon_star"),this.UIRenshoStar4=this.scene.add.sprite(50*this.scene.EXPANSION,5*this.scene.EXPANSION,"ui_spritesheet","icon_star"),this.UIRenshoStar5=this.scene.add.sprite(60*this.scene.EXPANSION,5*this.scene.EXPANSION,"ui_spritesheet","icon_star"),this.UIRenshoStar6=this.scene.add.sprite(70*this.scene.EXPANSION,5*this.scene.EXPANSION,"ui_spritesheet","icon_star"),this.UIRenshoStar7=this.scene.add.sprite(80*this.scene.EXPANSION,5*this.scene.EXPANSION,"ui_spritesheet","icon_star"),this.UIRenshoStar8=this.scene.add.sprite(90*this.scene.EXPANSION,5*this.scene.EXPANSION,"ui_spritesheet","icon_star"),this.UIRenshoStar9=this.scene.add.sprite(100*this.scene.EXPANSION,5*this.scene.EXPANSION,"ui_spritesheet","icon_star"),this.UIRenshoStar10=this.scene.add.sprite(110*this.scene.EXPANSION,5*this.scene.EXPANSION,"ui_spritesheet","icon_star"),this.UIRenshoWindowCommond=this.scene.add.sprite(2*this.scene.EXPANSION,42*this.scene.EXPANSION,"ui_spritesheet","window_stone_s"),this.UIRenshoWindowCommond.setOrigin(0,0),this.BattleRenshoButtonYes=this.scene.add.text(this.scene.game.config.width/4*1,54*this.scene.EXPANSION,this.scene.registry.list.gameTextLang.BattleMonsterScene.continue,{fontFamily:"font1",color:"#000000",fontSize:10*this.scene.EXPANSION}),this.BattleRenshoButtonYes.setAlign("center"),this.BattleRenshoButtonYes.setOrigin(.5),this.BattleRenshoButtonYes.setInteractive(),this.BattleRenshoButtonYes.on("pointerdown",()=>{this.HideRenshoWindow(),this.scene.RenshoCountCheck=!1,this.scene.NextBattle()},this),this.BattleRenshoButtonNo=this.scene.add.text(this.scene.game.config.width/4*3,54*this.scene.EXPANSION,this.scene.registry.list.gameTextLang.BattleMonsterScene.quit,{fontFamily:"font1",color:"#000000",fontSize:10*this.scene.EXPANSION}),this.BattleRenshoButtonNo.setAlign("center"),this.BattleRenshoButtonNo.setOrigin(.5),this.BattleRenshoButtonNo.setInteractive(),this.BattleRenshoButtonNo.on("pointerdown",()=>{this.scene.GotoTitle()},this),this.UIRenshoWindowContainer.add([this.UIRenshoWindow,this.UIRenshoStar10,this.UIRenshoStar9,this.UIRenshoStar8,this.UIRenshoStar7,this.UIRenshoStar6,this.UIRenshoStar5,this.UIRenshoStar4,this.UIRenshoStar3,this.UIRenshoStar2,this.UIRenshoStar1,this.UIRenshoWindowText,this.UIRenshoWindowCommond,this.BattleRenshoButtonYes,this.BattleRenshoButtonNo]),this.UIRenshoStarArr=[this.UIRenshoStar1,this.UIRenshoStar2,this.UIRenshoStar3,this.UIRenshoStar4,this.UIRenshoStar5,this.UIRenshoStar6,this.UIRenshoStar7,this.UIRenshoStar8,this.UIRenshoStar9,this.UIRenshoStar10]}SetWindowText(t){let e=t,i=[],n=e.critical,r=e.miss,s=e.damage,o=e.attack_monster_name,a=e.defense_monster_name,h=t.kill,u=t.player,c=t.end,l=t.weekpoint,f=t.magic,d=t.magicName,p=this.scene.registry.list.gameTextLang.BattleMonsterScene,g=p.attack;f&&(g=p.recite0+p.recite1+d+p.recite2),h&&c?(i="player1"==u?[p.defeated1+a+p.defeated2]:[p.lost1+a+p.lost2],this.UIWindowText.setColor("#FFFFFF")):r?(i=[o+g,p.miss],this.UIWindowText.setColor("#ffcc66")):n?l?(i=[o+g,p.critical_effect,p.damage1+s+p.damage2],this.UIWindowText.setColor("#ff33cc")):(i=[o+g,p.critical,p.damage1+s+p.damage2],this.UIWindowText.setColor("#3399ff")):l?(i=[o+g,p.effect,p.damage1+s+p.damage2],this.UIWindowText.setColor("#33cc33")):(i=[o+g,p.damage1+s+p.damage2],this.UIWindowText.setColor("#FFF")),this.UIWindowText.setText(i)}SetWindowTextDefault(t){this.UIWindowText.setText(t)}Show(){this.UIWindowContainer.setVisible(!0)}Hide(){this.UIWindowContainer.setVisible(!1)}ShowRenshoWindow(t,e){this.UIRenshoWindowText.setText([langText.congratulations,langText.ResultWin1+t+langText.ResultWin2]);let i=Math.floor(t/e);for(var n=0;n<this.UIRenshoStarArr.length;n++)this.UIRenshoStarArr[n].setVisible(!1);for(n=0;n<this.UIRenshoStarArr.length;n++)i>n&&this.UIRenshoStarArr[n].setVisible(!0);this.UIRenshoWindowContainer.setVisible(!0)}HideRenshoWindow(){this.UIRenshoWindowContainer.setVisible(!1)}}class y{constructor(t){this.scene=t.scene,this.create()}create(){this.UIBattleTextsContainer=this.scene.add.container(),this.UIBattleTextsContainer.x=0,this.UIBattleTextsContainer.y=0,this.UIBattleTextsContainer.depth=10,this.WinText=this.scene.add.text(this.scene.game.config.width/2,50*this.scene.EXPANSION,"00",{fontFamily:"font1",color:"#FFFFFF",fontSize:20*this.scene.EXPANSION}),this.WinText.setAlign("center"),this.WinText.setVisible(!1),this.WinText.setOrigin(.5),this.WinText.setStroke("#000000",4*this.scene.EXPANSION),this.WinText.depth=100,this.RenshoCount=0,this.RenshoText=this.scene.add.text(this.scene.game.config.width-10*this.scene.EXPANSION,140*this.scene.EXPANSION,this.scene.registry.list.gameTextLang.BattleMonsterScene.firstWin,{fontFamily:"font1",color:"#FFFFFF",fontSize:10*this.scene.EXPANSION}),this.RenshoText.setAlign("right"),this.RenshoText.setOrigin(1,.5),this.RenshoText.depth=100,this.TurnDisplayCount=0,this.TurnDisplayCount=this.scene.add.text(10*this.scene.EXPANSION,37*this.scene.EXPANSION,this.scene.registry.list.gameTextLang.BattleMonsterScene.turn+"[0]",{fontFamily:"font1",color:"#FFFFFF",fontSize:10*this.scene.EXPANSION}),this.TurnDisplayCount.setAlign("left"),this.TurnDisplayCount.setOrigin(0,.5),this.TurnDisplayCount.depth=100,this.UIBattleTextsContainer.add([this.WinText,this.RenshoText,this.TurnDisplayCount]),this.UIBattleContinueContainer=this.scene.add.container(),this.UIBattleContinueWindow=this.scene.add.sprite(this.scene.game.config.width/2,0,"ui_spritesheet","window_s"),this.UIBattleContinueWindow.setOrigin(.5,0),this.UIBattleContinueWindow.depth=200,this.ContinueText=this.scene.add.text(this.scene.game.config.width/4*1,12*this.scene.EXPANSION,this.scene.registry.list.gameTextLang.BattleMonsterScene.onceAgain,{fontFamily:"font1",color:"#FFFFFF",fontSize:10*this.scene.EXPANSION}),this.ContinueText.setAlign("center"),this.ContinueText.setOrigin(.5),this.ContinueText.setInteractive(),this.ContinueText.on("pointerdown",()=>{this.scene.ContinueBattle()},this),this.TitleText=this.scene.add.text(this.scene.game.config.width/4*3,12*this.scene.EXPANSION,this.scene.registry.list.gameTextLang.BattleMonsterScene.goToTitle,{fontFamily:"font1",color:"#FFFFFF",fontSize:10*this.scene.EXPANSION}),this.TitleText.setAlign("center"),this.TitleText.setOrigin(.5),this.TitleText.setInteractive(),this.TitleText.on("pointerdown",()=>{this.scene.GotoTitle()},this),this.UIBattleContinueContainer.add([this.UIBattleContinueWindow,this.ContinueText,this.TitleText]),this.UIBattleContinueContainer.x=0,this.UIBattleContinueContainer.y=190*this.scene.EXPANSION,this.UIBattleContinueContainer.depth=300,this.UIBattleContinueContainer.setVisible(!1),this.UIBattleCancelContainer=this.scene.add.container(),this.UIBattleCancelWindow=this.scene.add.sprite(this.scene.game.config.width/2,0,"ui_spritesheet","window_m"),this.UIBattleCancelWindow.setOrigin(.5,0),this.UIBattleCancelWindow.depth=300,this.BattleCancelButton=this.scene.add.text(10*this.scene.EXPANSION,225*this.scene.EXPANSION,this.scene.registry.list.gameTextLang.BattleMonsterScene.quitBattle,{fontFamily:"font1",color:"#FFFFFF",fontSize:10*this.scene.EXPANSION}),this.BattleCancelButton.setAlign("center"),this.BattleCancelButton.setInteractive(),this.BattleCancelButton.on("pointerdown",()=>{this.ShowCancelWindow()},this),this.BattleCancelWindowText=this.scene.add.text(this.scene.game.config.width/2,15*this.scene.EXPANSION,this.scene.registry.list.gameTextLang.BattleMonsterScene.quitQuestion,{fontFamily:"font1",color:"#FFFFFF",fontSize:10*this.scene.EXPANSION}),this.BattleCancelWindowText.setAlign("center"),this.BattleCancelWindowText.setOrigin(.5),this.BattleCancelButtonYes=this.scene.add.text(this.scene.game.config.width/4*1,32*this.scene.EXPANSION,this.scene.registry.list.gameTextLang.BattleMonsterScene.quit,{fontFamily:"font1",color:"#FFFFFF",fontSize:10*this.scene.EXPANSION}),this.BattleCancelButtonYes.setAlign("center"),this.BattleCancelButtonYes.setOrigin(.5),this.BattleCancelButtonYes.setInteractive(),this.BattleCancelButtonYes.on("pointerdown",()=>{this.scene.GotoTitle()},this),this.BattleCancelButtonNo=this.scene.add.text(this.scene.game.config.width/4*3,32*this.scene.EXPANSION,this.scene.registry.list.gameTextLang.BattleMonsterScene.continue,{fontFamily:"font1",color:"#FFFFFF",fontSize:10*this.scene.EXPANSION}),this.BattleCancelButtonNo.setAlign("center"),this.BattleCancelButtonNo.setOrigin(.5),this.BattleCancelButtonNo.setInteractive(),this.BattleCancelButtonNo.on("pointerdown",()=>{this.HideCancelWindow()},this),this.overlapArea=this.scene.add.graphics({fillStyle:{color:0}}),this.rect=new Phaser.Geom.Rectangle(0,0,this.scene.game.config.width,this.scene.game.config.height),this.overlapArea.fillRectShape(this.rect),this.overlapArea.alpha=.65,this.overlapArea.setScrollFactor(0),this.overlapArea.setVisible(!1),this.overlapArea.depth=1e3,this.UIBattleCancelContainer.add([this.UIBattleCancelWindow,this.BattleCancelButtonYes,this.BattleCancelButtonNo,this.BattleCancelWindowText]),this.UIBattleCancelContainer.x=0,this.UIBattleCancelContainer.y=190*this.scene.EXPANSION,this.UIBattleCancelContainer.depth=1100,this.HideCancelWindow()}SetRenshoText(t){this.RenshoText.setText(t+this.scene.registry.list.gameTextLang.BattleMonsterScene.winCount)}SetTrunText(t){this.TurnDisplayCount.setText(this.scene.registry.list.gameTextLang.BattleMonsterScene.turn+"["+t+"]")}SetEndText(t){"win"===t?(this.WinText.setText("YOU WIN!"),this.WinText.y=52*this.scene.EXPANSION):(this.WinText.setText("YOU LOSE"),this.WinText.y=90*this.scene.EXPANSION)}Show(){this.UIBattleTextsContainer.setVisible(!0)}Hide(){this.UIBattleTextsContainer.setVisible(!1)}ShowWinText(){this.WinText.setVisible(!0)}HideWinText(){this.WinText.setVisible(!1)}ShowContinueWindow(){this.UIBattleContinueContainer.setVisible(!0)}HideContinueWindow(){this.UIBattleContinueContainer.setVisible(!1)}ShowCancelWindow(){this.UIBattleCancelContainer.setVisible(!0),this.overlapArea.setVisible(!0)}HideCancelWindow(){this.UIBattleCancelContainer.setVisible(!1),this.overlapArea.setVisible(!1)}}class m{constructor(t){this.scene=t.scene,this.create()}create(){let t=this.scene.registry.list.gameTextLang.ChanpionBattleScene;if(this.UIRenshoWindowContainer=this.scene.add.container(),this.UIRenshoWindowContainer.x=0,this.UIRenshoWindowContainer.y=120*this.scene.EXPANSION,this.UIRenshoWindowContainer.depth=1100,this.UIRenshoWindow=this.scene.add.sprite(2*this.scene.EXPANSION,0,"ui_spritesheet","window_stone_l"),this.UIRenshoWindow.setOrigin(0,0),this.UIRenshoWindowText=this.scene.add.text(10*this.scene.EXPANSION,15*this.scene.EXPANSION,[t.EnterRank0,t.EnterTheOwnersName],{fontFamily:"font1",color:"#000000",fontSize:10*this.scene.EXPANSION,wordWrap:{width:140*this.scene.EXPANSION,useAdvancedWrap:!0}}),this.UIRenshoWindowText.setAlign("left"),this.UIRenshoWindowText.setOrigin(0,0),this.domFieldRank,null==document.getElementById("inputRank")){let t=document.createElement("input");t.setAttribute("id","inputRank"),document.getElementById("content").appendChild(t),this.domFieldRank=document.getElementById("inputRank"),this.domFieldRank.setAttribute("maxlength",5),this.domFieldRank.type="text",this.domFieldRank.style.position="absolute",this.domFieldRank.style.top="350px",this.domFieldRank.style.left="20px",this.domFieldRank.style.fontFamily="font1",this.domFieldRank.style.backgroundColor="#cc9933",this.domFieldRank.style.borderColor="#996600",this.domFieldRank.style.borderSize="1px",this.domFieldRank.style.borderStyle="solid",this.domFieldRank.style.padding="10px",this.domFieldRank.style.fontSize="20px",this.domFieldRank.style.color="#000",this.domFieldRank.style.width="300px",this.domFieldRank.setAttribute("placeholder","オーナー名"),this.domFieldRank.zIndex=-1}else this.domFieldRank=document.getElementById("inputRank");this.UIRenshoStar1=this.scene.add.sprite(20*this.scene.EXPANSION,5*this.scene.EXPANSION,"ui_spritesheet","icon_star"),this.UIRenshoStar2=this.scene.add.sprite(30*this.scene.EXPANSION,5*this.scene.EXPANSION,"ui_spritesheet","icon_star"),this.UIRenshoStar3=this.scene.add.sprite(40*this.scene.EXPANSION,5*this.scene.EXPANSION,"ui_spritesheet","icon_star"),this.UIRenshoStar4=this.scene.add.sprite(50*this.scene.EXPANSION,5*this.scene.EXPANSION,"ui_spritesheet","icon_star"),this.UIRenshoStar5=this.scene.add.sprite(60*this.scene.EXPANSION,5*this.scene.EXPANSION,"ui_spritesheet","icon_star"),this.UIRenshoWindowCommond=this.scene.add.sprite(2*this.scene.EXPANSION,84*this.scene.EXPANSION,"ui_spritesheet","window_stone_s"),this.UIRenshoWindowCommond.setOrigin(0,0),this.BattleRenshoButtonYes=this.scene.add.text(this.scene.game.config.width/4*1,96*this.scene.EXPANSION,t.buttonRegistration,{fontFamily:"font1",color:"#000000",fontSize:10*this.scene.EXPANSION}),this.BattleRenshoButtonYes.setAlign("center"),this.BattleRenshoButtonYes.setOrigin(.5),this.BattleRenshoButtonYes.setInteractive(),this.BattleRenshoButtonYes.on("pointerdown",()=>{this.domFieldRank.value&&this.scene.AddRanking()},this),this.BattleRenshoButtonNo=this.scene.add.text(this.scene.game.config.width/4*3,96*this.scene.EXPANSION,t.buttonQuit,{fontFamily:"font1",color:"#000000",fontSize:10*this.scene.EXPANSION}),this.BattleRenshoButtonNo.setAlign("center"),this.BattleRenshoButtonNo.setOrigin(.5),this.BattleRenshoButtonNo.setInteractive(),this.BattleRenshoButtonNo.on("pointerdown",()=>{this.Hide(),this.scene.GotoTitle()},this),this.ButtonBackTitle=this.scene.add.text(this.scene.game.config.width/2,96*this.scene.EXPANSION,t.buttonBackTitle,{fontFamily:"font1",color:"#000000",fontSize:10*this.scene.EXPANSION}),this.ButtonBackTitle.setAlign("center"),this.ButtonBackTitle.setOrigin(.5),this.ButtonBackTitle.setInteractive(),this.ButtonBackTitle.on("pointerdown",()=>{this.scene.GotoTitle()},this),this.UIRenshoWindowContainer.add([this.UIRenshoWindow,this.UIRenshoStar5,this.UIRenshoStar4,this.UIRenshoStar3,this.UIRenshoStar2,this.UIRenshoStar1,this.UIRenshoWindowText,this.UIRenshoWindowCommond,this.BattleRenshoButtonYes,this.BattleRenshoButtonNo,this.ButtonBackTitle]),this.UIRenshoStarArr=[this.UIRenshoStar1,this.UIRenshoStar2,this.UIRenshoStar3,this.UIRenshoStar4,this.UIRenshoStar5],this.Hide()}Show(t){let e=this.scene.registry.list.gameTextLang.ChanpionBattleScene;this.domFieldRank.style.display="block";let i=e.EnterRank1+t+e.EnterRank2;this.UIRenshoWindowText.setText([i,e.EnterTheOwnersName]);let n=Math.floor(6-t);for(var r=0;r<this.UIRenshoStarArr.length;r++)this.UIRenshoStarArr[r].setVisible(!1);for(r=0;r<this.UIRenshoStarArr.length;r++)n>r&&this.UIRenshoStarArr[r].setVisible(!0);this.UIRenshoWindowContainer.setVisible(!0),this.ButtonBackTitle.setVisible(!1)}Hide(){this.domFieldRank.style.display="none",this.domFieldRank.value="",this.UIRenshoWindowContainer.setVisible(!1),this.ButtonBackTitle.setVisible(!1)}GetOwnerName(){let t=this.domFieldRank.value;if(t)return t}SuccessSendData(){let t=this.scene.registry.list.gameTextLang.ChanpionBattleScene;this.domFieldRank.style.display="none",this.UIRenshoWindowText.setText(["",t.RegistrationFin]),this.BattleRenshoButtonYes.setVisible(!1),this.BattleRenshoButtonNo.setVisible(!1),this.ButtonBackTitle.setVisible(!0)}}var x=class extends Phaser.Scene{constructor(t){super({key:"ChanpionBattleScene"})}create(){this.EXPANSION=2,this.DebugMode=!1,this.cameras.main.setBackgroundColor("#000000"),this.overlapArea=this.add.graphics({fillStyle:{color:0}}),this.rect=new Phaser.Geom.Rectangle(0,0,this.sys.game.config.width,this.sys.game.config.height),this.overlapArea.fillRectShape(this.rect),this.overlapArea.alpha=1,this.overlapArea.setScrollFactor(0),this.overlapArea.depth=100,this.LoadingText=this.add.text(this.sys.game.config.width/2,50*this.EXPANSION,[this.registry.list.gameTextLang.Common.ui.loading],{fontFamily:"font1",color:"#FFFFFF",fontSize:10*this.EXPANSION,wordWrap:{width:140*this.EXPANSION,useAdvancedWrap:!0}}),this.LoadingText.setAlign("center"),this.LoadingText.setOrigin(.5),this.LoadingText.depth=1001;var t=this;if(this.BattleStartCount=5,this.BattleStartCountAll=5,this.winMonsterIdArr=[],this.db=a.a.firestore(),this.settingOK=!1,this.WinMonsterRank=0,this.ModalChanpions,this.querySnapshot,this.db.collection("chanpions").limit(5).orderBy("rank","asc").orderBy("timestamp","desc").get().then(e=>{this.querySnapshot=e,t.LoadingText.setVisible(!1),t.ModalChanpions=new f({scene:t,monsters:e}),t.settingOK=!0}).catch(t=>{}),this.nowTurn="player1",this.RenshoCount=0,this.RenshoKugiri=10,this.RenshoCountCheck=!1,this.TurnCount=0,this.startBattleFlg=!1,this.DebugMode){this.CreateMonsterObjectDebug=new g({scene:this});let t=this.CreateMonsterObjectDebug.GetEnemyName();this.CreateMonsterObjectDebug.CreateMonster(t),this.Monster1=new d({scene:this,player:"player1",name:this.CreateMonsterObjectDebug.monster_name,texture:this.CreateMonsterObjectDebug.monster_texture,status:this.CreateMonsterObjectDebug.status,type:this.CreateMonsterObjectDebug.monster_type})}else this.Monster1=new d({scene:this,player:"player1",name:this.registry.list.monster1.name,texture:this.registry.list.monster1.texture,status:this.registry.list.monster1.status,type:this.registry.list.monster1.type});this.Magic=new p({scene:this}),this.ModalChanpionAddRankWindow=new m({scene:this}),this.CreateMonsterObject=new g({scene:this}),this.Monster2=new d({scene:this,player:"player2",name:"dummy",texture:"1",status:{hp:0,attack:0,defense:0,wise:0,speed:0,lucky:0},type:0}),this.BattleWindow=new v({scene:this}),this.BattleTexts=new y({scene:this}),this.SceneSettingDisplay()}GotoBattle(){let t=this.ModalChanpions.GetChanpionMonsterStatusArr(this.BattleStartCount-1),e={monsterId:t.monsterId,name:t.name,texture:t.texture,status:t.status,type:t.type,rank:t.rank};this.Monster2.ChangeMonster(e),this.overlapArea.setVisible(!1),this.time.addEvent({delay:1500,callback:function(){this.StartBattle()},callbackScope:this}),this.time.addEvent({delay:500,callback:function(){this.BattleWindow.Show()},callbackScope:this}),this.time.addEvent({delay:500,callback:function(){this.BattleWindow.Show()},callbackScope:this})}GotoTitle(){this.scene.start("TitleScene")}StartBattle(){this.TurnCount++,this.BattleTexts.SetTrunText(this.TurnCount),0==this.startBattleFlg&&(this.Monster1.status.speed>=this.Monster2.status.speed?this.nowTurn="player1":this.nowTurn="player2",this.startBattleFlg=!0),"player1"==this.nowTurn?(this.Monster1.Attack(this.Monster2),this.nowTurn="player2"):(this.Monster2.Attack(this.Monster1),this.nowTurn="player1")}NextTurn(t){if(t.status.hp<=0)if(t.Monster.setVisible(!1),this.BattleTexts.ShowWinText(),"player1"===t.player){if(this.BattleTexts.SetEndText("end"),this.RenshoCount>0){let t=6-this.RenshoCount;this.ModalChanpionAddRankWindow.Show(t)}this.time.addEvent({delay:1e3,callback:function(){this.BattleTexts.ShowContinueWindow()},callbackScope:this})}else{this.BattleTexts.SetEndText("win");let t={id:this.Monster2.monsterId,rank:this.Monster2.rank};if(this.winMonsterIdArr.push(t),this.WinMonsterRank=this.Monster2.rank,this.RenshoCount++,this.RenshoCount>=this.BattleStartCountAll){let t=6-this.RenshoCount;this.ModalChanpionAddRankWindow.Show(t)}else this.BattleTexts.SetRenshoText(this.RenshoCount),this.time.addEvent({delay:1500,callback:function(){this.NextBattle()},callbackScope:this})}else this.StartBattle()}SetBattleWindow(t){this.BattleWindow.SetWindowText(t),t.kill&&(t.end=!0,this.time.addEvent({delay:1500,callback:function(){this.BattleWindow.SetWindowText(t)},callbackScope:this}))}NextBattle(){this.EndBattle(),this.BattleStartCount--;let t=this.ModalChanpions.GetChanpionMonsterStatusArr(this.BattleStartCount-1),e={monsterId:t.monsterId,name:t.name,texture:t.texture,status:t.status,type:t.type,rank:t.rank};this.Monster2.ChangeMonster(e);let i=t.name,n=this.RenshoCount+1,r=this.registry.list.gameTextLang.BattleMonsterScene;this.BattleWindow.SetWindowTextDefault([r.batttleCount1+n+r.batttleCount2,r.batttleCount3+i+r.batttleCount4]),this.BattleTexts.HideWinText(),this.nowTurn="player1",this.time.addEvent({delay:1e3,callback:function(){this.StartBattle()},callbackScope:this})}ContinueBattle(){if(this.nowTurn="player1",this.BattleTexts.HideWinText(),this.DebugMode){let t=this.CreateMonsterObjectDebug.Monster,e=this.CreateMonsterObjectDebug.GetEnemyName();this.CreateMonsterObjectDebug.CreateMonster(e,t);let i={name:this.CreateMonsterObjectDebug.monster_name,texture:this.CreateMonsterObjectDebug.monster_texture,status:this.CreateMonsterObjectDebug.status,type:this.CreateMonsterObjectDebug.monster_type};this.Monster1.ChangeMonster(i)}else this.Monster1.Monster.setVisible(!0);this.RenshoCount=0,this.BattleTexts.SetRenshoText(this.RenshoCount),this.EndBattle(),this.BattleTexts.HideContinueWindow(),this.time.addEvent({delay:1e3,callback:function(){this.StartBattle()},callbackScope:this})}GotoTitle(){this.EndBattle(),this.scene.start("TitleScene")}EndBattle(){this.startBattleFlg=!1,this.Monster1.recoveryHp(),this.Monster2.recoveryHp(),this.TurnCount=0,this.BattleTexts.SetTrunText(this.TurnCount)}CheckRenshoWindow(){this.RenshoCount%this.RenshoKugiri==0&&0!==this.RenshoCount&&(this.BattleWindow.ShowRenshoWindow(this.RenshoCount,this.RenshoKugiri),this.RenshoCountCheck=!0)}AddRanking(){for(var t,e=this.db.batch(),i=0;i<this.winMonsterIdArr.length;i++){let n=this.winMonsterIdArr[i].id,r=this.winMonsterIdArr[i].rank;t=this.db.collection("chanpions").doc(n),e.update(t,{rank:r+1})}e.commit().then(function(){console.log("成功")}),this.db.collection("chanpions").add({name:this.Monster1.name,texture:this.Monster1.texture,type:this.Monster1.type,status:{hp:this.Monster1.status.maxHp,attack:this.Monster1.status.attack,defense:this.Monster1.status.defense,wise:this.Monster1.status.wise,speed:this.Monster1.status.speed,lucky:this.Monster1.status.lucky},rank:this.WinMonsterRank,timestamp:a.a.firestore.FieldValue.serverTimestamp(),owner:this.ModalChanpionAddRankWindow.GetOwnerName()}).then(t=>{console.log(`追加に成功しました (${t.id})`),this.ModalChanpionAddRankWindow.SuccessSendData()}).catch(t=>{console.log(`追加に失敗しました (${t})`)})}SceneSettingDisplay(){this.BattleTexts.BattleCancelButton.setVisible(!1),this.BattleTexts.ContinueText.setVisible(!1),this.BattleTexts.TitleText.x=this.sys.game.config.width/2}};class b{constructor(t){this.scene=t.scene,this.create()}create(){this.TextStatusTitle,this.TextStatusNumber,this.TextMonsterName,this.monster_name="",this.status_hp=0,this.status_attack=0,this.status_defense=0,this.status_wise=0,this.status_speed=0,this.monster_texture="",this.monster_type="",this.CreateMonsterContainer=this.scene.add.container(),this.CreateMonsterContainer.x=0,this.CreateMonsterContainer.y=0,this.CreateMonsterContainer.depth=200,this.CreateMonsterContainer.setVisible(!1),this.Magic=new p({scene:this.scene}),this.MagicSprite=this.scene.add.sprite(this.scene.game.config.width/2,45*this.scene.EXPANSION,"magic_animation","shokan_0000"),this.MagicSprite.setVisible(!1),this.MagicSprite.depth=350,this.MonsterSprite=this.scene.add.sprite(this.scene.game.config.width/2,40*this.scene.EXPANSION,"monster_spritesheet","1"),this.MonsterSprite.depth=300,this.MonsterSprite.setTintFill(3355443),this.MonsterSprite.setVisible(!1),this.btnSave=this.scene.add.text(this.scene.game.config.width/4,200*this.scene.EXPANSION,this.scene.registry.list.gameTextLang.MakeMonsterScene.saveButton,{fontFamily:"font1",color:"#FFFFFF",fontSize:10*this.scene.EXPANSION}),this.btnSave.setAlign("center"),this.btnSave.setOrigin(.5),this.btnSave.setInteractive(),this.btnSave.on("pointerdown",()=>{this.CreateMonsterContainer.setVisible(!1),this.scene.ShowSaveMonster()},this),this.btnReset=this.scene.add.text(this.scene.game.config.width/4*3,200*this.scene.EXPANSION,this.scene.registry.list.gameTextLang.MakeMonsterScene.resetButton,{fontFamily:"font1",color:"#FFFFFF",fontSize:10*this.scene.EXPANSION}),this.btnReset.setAlign("center"),this.btnReset.setOrigin(.5),this.btnReset.setInteractive(),this.btnReset.on("pointerdown",()=>{this.resetMonster()},this),this.overlapArea=this.scene.add.graphics({fillStyle:{color:0}}),this.rect=new Phaser.Geom.Rectangle(0,0,this.scene.game.config.width,this.scene.game.config.height),this.overlapArea.fillRectShape(this.rect),this.overlapArea.alpha=.75,this.overlapArea.setScrollFactor(0),this.overlapArea.setInteractive(new Phaser.Geom.Rectangle(0,0,this.scene.game.config.width,this.scene.game.config.height),Phaser.Geom.Rectangle.Contains),this.overlapArea.on("pointerdown",()=>!1,this),this.TextMonsterName=this.scene.add.text(this.scene.game.config.width/2,85*this.scene.EXPANSION,["dummy"],{fontFamily:"font1",color:"#FFFFFF",fontSize:10*this.scene.EXPANSION,lineSpacing:3*this.scene.EXPANSION}),this.TextMonsterName.setAlign("center"),this.TextMonsterName.setOrigin(.5),this.TextStatusTitle=this.scene.add.text(40*this.scene.EXPANSION,95*this.scene.EXPANSION,[this.scene.registry.list.gameTextLang.Common.status.hp,this.scene.registry.list.gameTextLang.Common.status.attack,this.scene.registry.list.gameTextLang.Common.status.defense,this.scene.registry.list.gameTextLang.Common.status.wise,this.scene.registry.list.gameTextLang.Common.status.speed,this.scene.registry.list.gameTextLang.Common.status.luck],{fontFamily:"font1",color:"#FFFFFF",fontSize:10*this.scene.EXPANSION,lineSpacing:3*this.scene.EXPANSION}),this.TextStatusNumber=this.scene.add.text(this.scene.game.config.width-40*this.scene.EXPANSION,95*this.scene.EXPANSION,["10000000","120","120","130","10","20"],{fontFamily:"font1",color:"#FFFFFF",fontSize:10*this.scene.EXPANSION,lineSpacing:3*this.scene.EXPANSION}),this.TextStatusNumber.setAlign("right"),this.TextStatusNumber.setOrigin(1,0),this.MonsterTypeIcon=this.scene.add.sprite(this.scene.game.config.width/2,72*this.scene.EXPANSION,"ui_spritesheet","type_0"),this.UIWindow=this.scene.add.sprite(this.scene.game.config.width/2,188*this.scene.EXPANSION,"ui_spritesheet","window_s"),this.UIWindow.setOrigin(.5,0),this.UIWindow.depth=200,this.CreateMonsterContainer.add([this.overlapArea,this.UIWindow,this.TextMonsterName,this.TextStatusTitle,this.TextStatusNumber,this.btnReset,this.btnSave,this.MonsterTypeIcon])}setCreateMonsterWindow(){this.scene.DomField.Hide(),this.scene.time.addEvent({delay:3800,callback:function(){this.CreateMonsterContainer.setVisible(!0)},callbackScope:this}),this.scene.time.addEvent({delay:3e3,callback:function(){this.MagicSprite.setVisible(!1)},callbackScope:this}),this.scene.time.addEvent({delay:1e3,callback:function(){this.MonsterSprite.setVisible(!0)},callbackScope:this}),this.scene.time.addEvent({delay:2e3,callback:function(){this.MonsterSprite.clearTint()},callbackScope:this}),this.MagicSprite.setVisible(!0),this.scene.time.addEvent({delay:500,callback:function(){this.MagicSprite.play("shokan")},callbackScope:this})}ShowMonster(){this.MonsterSprite.clearTint(),this.MonsterSprite.setVisible(!0),this.overlapArea.setVisible(!1),this.UIWindow.setVisible(!1),this.btnReset.setVisible(!1),this.btnSave.setVisible(!1),this.CreateMonsterContainer.setVisible(!0)}setCreateMonsterStatus(t){this.MonsterSprite.setTexture("monster_spritesheet",t.texture),this.MonsterTypeIcon.setTexture("ui_spritesheet","type_"+t.type),this.TextMonsterName.setText(t.name),this.monster_name=t.name,this.TextStatusNumber.setText([t.status.hp,t.status.attack,t.status.defense,t.status.wise,t.status.speed,t.status.lucky])}resetMonster(){this.scene.DomField.Show(),this.MagicSprite.setTexture("magic_animation","shokan_0000"),this.MagicSprite.setVisible(!1),this.MonsterSprite.setTintFill(3355443),this.MonsterSprite.setVisible(!1),this.CreateMonsterContainer.setVisible(!1)}}class w{constructor(t){this.scene=t.scene,this.CreateDomField()}CreateDomField(){if(this.pageText1=this.scene.add.text(12*this.scene.EXPANSION,10*this.scene.EXPANSION,this.scene.registry.list.gameTextLang.MakeMonsterScene.title,{fontFamily:"font1",color:"#FFFFFF",fontSize:10*this.scene.EXPANSION}),this.pageText2=this.scene.add.text(12*this.scene.EXPANSION,24*this.scene.EXPANSION,this.scene.registry.list.gameTextLang.MakeMonsterScene.attention,{fontFamily:"font1",color:"#FFFFFF",fontSize:10*this.scene.EXPANSION}),this.btnSubmit=this.scene.add.text(12*this.scene.EXPANSION,70*this.scene.EXPANSION,this.scene.registry.list.gameTextLang.MakeMonsterScene.enterButton,{fontFamily:"font1",color:"#FFFFFF",fontSize:10*this.scene.EXPANSION}),this.btnSubmit.setInteractive(),this.btnSubmit.on("pointerdown",()=>{this.scene.CreateMonster()},this),this.domField,null==document.getElementById("inputName")){let t=document.createElement("input");t.setAttribute("id","inputName"),document.getElementById("content").appendChild(t),this.domField=document.getElementById("inputName"),this.domField.setAttribute("maxlength",12),this.domField.type="text",this.domField.style.position="absolute",this.domField.style.top="84px",this.domField.style.left="20px",this.domField.style.fontFamily="font1",this.domField.style.backgroundColor="#000",this.domField.style.borderColor="#FFF",this.domField.style.borderSize="1px",this.domField.style.borderStyle="solid",this.domField.style.padding="10px",this.domField.style.fontSize="20px",this.domField.style.color="#FFF",this.domField.style.width="300px",this.domField.zIndex=-1}else this.domField=document.getElementById("inputName");this.domField.style.display="block"}Show(){this.domField.style.display="block",this.pageText1.setVisible(!0),this.pageText2.setVisible(!0),this.btnSubmit.setVisible(!0)}Hide(){this.domField.style.display="none",this.pageText1.setVisible(!1),this.pageText2.setVisible(!1),this.btnSubmit.setVisible(!1)}GetValue(){return this.domField.value}ValueReset(){this.domField.value=""}}class T{constructor(t){this.scene=t.scene,this.create()}create(){this.CreatedMonsterContainer=this.scene.add.container(),this.CreatedMonsterContainer.x=0,this.CreatedMonsterContainer.y=0,this.CreatedMonsterContainer.depth=10,this.CreatedMonsterContainer.setVisible(!1),this.overlapArea=this.scene.add.graphics({fillStyle:{color:0}}),this.rect=new Phaser.Geom.Rectangle(0,0,this.scene.game.config.width,this.scene.game.config.height),this.overlapArea.fillRectShape(this.rect),this.overlapArea.alpha=1,this.overlapArea.setScrollFactor(0),this.CreatedMonster=this.scene.add.sprite(this.scene.game.config.width/2,40*this.scene.EXPANSION,"monster_spritesheet","1"),this.CreatedMonsterTypeIcon=this.scene.add.sprite(this.scene.game.config.width/2,72*this.scene.EXPANSION,"ui_spritesheet","type_0"),this.CreatedMonsterName=this.scene.add.text(this.scene.game.config.width/2,85*this.scene.EXPANSION,"",{fontFamily:"font1",color:"#FFFFFF",fontSize:10*this.scene.EXPANSION,lineSpacing:3*this.scene.EXPANSION}),this.CreatedMonsterName.setAlign("center"),this.CreatedMonsterName.setOrigin(.5),this.btnWindow=this.scene.add.sprite(this.scene.game.config.width/2,135*this.scene.EXPANSION,"ui_spritesheet","window"),this.btnBattle=this.scene.add.text(this.scene.game.config.width/2,120*this.scene.EXPANSION,this.scene.registry.list.gameTextLang.MakeMonsterScene.goToBattleArena,{fontFamily:"font1",color:"#FFFFFF",fontSize:10*this.scene.EXPANSION}),this.btnBattle.setAlign("center"),this.btnBattle.setOrigin(.5),this.btnBattle.setInteractive(),this.btnBattle.on("pointerdown",()=>{this.scene.Battle()},this),this.btnRankBattle=this.scene.add.text(this.scene.game.config.width/2,150*this.scene.EXPANSION,this.scene.registry.list.gameTextLang.MakeMonsterScene.goToChampion,{fontFamily:"font1",color:"#FFFFFF",fontSize:10*this.scene.EXPANSION}),this.btnRankBattle.setAlign("center"),this.btnRankBattle.setOrigin(.5),this.btnRankBattle.setInteractive(),this.btnRankBattle.on("pointerdown",()=>{this.scene.ChanpionBattle()},this),this.btnBackTitle=this.scene.add.text(12*this.scene.EXPANSION,190*this.scene.EXPANSION,this.scene.registry.list.gameTextLang.Common.ui.titleBack,{fontFamily:"font1",color:"#FFFFFF",fontSize:10*this.scene.EXPANSION}),this.btnBackTitle.setInteractive(),this.btnBackTitle.on("pointerdown",()=>{this.scene.GoToTitle()},this),this.CreatedMonsterContainer.add([this.overlapArea,this.CreatedMonster,this.CreatedMonsterTypeIcon,this.CreatedMonsterName,this.btnWindow,this.btnBattle,this.btnRankBattle,this.btnBackTitle])}loadMonster(t){let e=t.texture,i=t.type,n=t.name;this.CreatedMonster.setTexture("monster_spritesheet",e),this.CreatedMonsterTypeIcon.setTexture("ui_spritesheet","type_"+i),this.CreatedMonsterName.setText(n),this.CreatedMonsterContainer.setVisible(!0)}}var S=class extends Phaser.Scene{constructor(t){super({key:"MakeMonsterScene"})}create(){this.db=a.a.firestore(),this.EXPANSION=2,this.cameras.main.setBackgroundColor("#000000"),this.ModalCreateMonster=new b({scene:this}),this.DomField=new w({scene:this}),this.CreateMonsterObject=new g({scene:this}),this.CreatedMonster=new T({scene:this}),this.btnBackTitle=this.add.text(12*this.EXPANSION,210*this.EXPANSION,this.registry.list.gameTextLang.Common.ui.titleBack,{fontFamily:"font1",color:"#FFFFFF",fontSize:10*this.EXPANSION}),this.btnBackTitle.setInteractive(),this.btnBackTitle.on("pointerdown",()=>{this.GoToTitle()},this)}CreateMonster(){let t=this.DomField.GetValue();this.CreateMonsterObject.CreateMonster(t);let e={name:t,status:this.CreateMonsterObject.status,texture:this.CreateMonsterObject.monster_texture,type:this.CreateMonsterObject.monster_type};this.ModalCreateMonster.setCreateMonsterStatus(e),this.ModalCreateMonster.setCreateMonsterWindow()}ShowSaveMonster(){this.DomField.ValueReset(),this.DomField.Hide();let t=this.CreateMonsterObject.GetMonsterObject();this.CreatedMonster.loadMonster(t),this.registry.list.monster1={name:t.name,texture:t.texture,type:t.type,status:{hp:t.status.hp,attack:t.status.attack,defense:t.status.defense,wise:t.status.wise,speed:t.status.speed,lucky:t.status.lucky}};let e=this;a.a.auth().onAuthStateChanged(function(i){if(i){e.db.collection("users").doc(i.uid).set({monster1:e.registry.list.monster1},{merge:!0});let n=t.texture;e.registry.list.zukan&&-1==e.registry.list.zukan.indexOf(n)&&(e.registry.list.zukan.push(n),e.db.collection("users").doc(i.uid).set({zukan:e.registry.list.zukan},{merge:!0}))}})}Battle(){this.DomField.Hide(),this.scene.start("BattleMonsterScene")}ChanpionBattle(){this.DomField.Hide(),this.scene.start("ChanpionBattleScene")}GoToTitle(){this.DomField.Hide(),this.scene.start("TitleScene")}};var _=class extends Phaser.Scene{constructor(t){super({key:"BattleMonsterScene"})}create(){if(this.EXPANSION=2,this.DebugMode=!1,this.cameras.main.setBackgroundColor("#000000"),this.nowTurn="player1",this.RenshoCount=0,this.RenshoKugiri=10,this.RenshoCountCheck=!1,this.TurnCount=0,this.startBattleFlg=!1,this.DebugMode){this.CreateMonsterObjectDebug=new g({scene:this});let t=this.CreateMonsterObjectDebug.GetEnemyName();this.CreateMonsterObjectDebug.CreateMonster(t),this.Monster1=new d({scene:this,player:"player1",name:this.CreateMonsterObjectDebug.monster_name,texture:this.CreateMonsterObjectDebug.monster_texture,status:this.CreateMonsterObjectDebug.status,type:this.CreateMonsterObjectDebug.monster_type})}else this.Monster1=new d({scene:this,player:"player1",name:this.registry.list.monster1.name,texture:this.registry.list.monster1.texture,status:this.registry.list.monster1.status,type:this.registry.list.monster1.type});this.Magic=new p({scene:this}),this.CreateMonsterObject=new g({scene:this});let t=this.CreateMonsterObject.GetEnemyName();this.CreateMonsterObject.CreateMonster(t),this.Monster2=new d({scene:this,player:"player2",name:this.CreateMonsterObject.monster_name,texture:this.CreateMonsterObject.monster_texture,status:this.CreateMonsterObject.status,type:this.CreateMonsterObject.monster_type}),this.BattleWindow=new v({scene:this}),this.BattleTexts=new y({scene:this}),this.time.addEvent({delay:1500,callback:function(){this.StartBattle()},callbackScope:this}),this.time.addEvent({delay:500,callback:function(){this.BattleWindow.Show()},callbackScope:this})}StartBattle(){this.TurnCount++,this.BattleTexts.SetTrunText(this.TurnCount),0==this.startBattleFlg&&(this.Monster1.status.speed>=this.Monster2.status.speed?this.nowTurn="player1":this.nowTurn="player2",this.startBattleFlg=!0),"player1"==this.nowTurn?(this.Monster1.Attack(this.Monster2),this.nowTurn="player2"):(this.Monster2.Attack(this.Monster1),this.nowTurn="player1")}NextTurn(t){t.status.hp<=0?(t.Monster.setVisible(!1),this.BattleTexts.ShowWinText(),"player1"===t.player?(this.BattleTexts.SetEndText("end"),this.time.addEvent({delay:1e3,callback:function(){this.BattleTexts.ShowContinueWindow()},callbackScope:this})):(this.BattleTexts.SetEndText("win"),this.RenshoCount++,this.BattleTexts.SetRenshoText(this.RenshoCount),this.time.addEvent({delay:1500,callback:function(){this.CheckRenshoWindow(),this.RenshoCountCheck||this.NextBattle()},callbackScope:this}))):this.StartBattle()}SetBattleWindow(t){this.BattleWindow.SetWindowText(t),t.kill&&(t.end=!0,this.time.addEvent({delay:1500,callback:function(){this.BattleWindow.SetWindowText(t)},callbackScope:this}))}NextBattle(){this.EndBattle();let t=this.CreateMonsterObject.Monster,e=this.CreateMonsterObject.GetEnemyName();this.CreateMonsterObject.CreateMonster(e,t);let i={name:this.CreateMonsterObject.monster_name,texture:this.CreateMonsterObject.monster_texture,status:this.CreateMonsterObject.status,type:this.CreateMonsterObject.monster_type};this.Monster2.ChangeMonster(i);let n=this.registry.list.gameTextLang.BattleMonsterScene,r=this.CreateMonsterObject.monster_name,s=this.RenshoCount+1;this.BattleWindow.SetWindowTextDefault([n.batttleCount1+s+n.batttleCount2,n.batttleCount3+r+n.batttleCount4]),this.BattleTexts.HideWinText(),this.nowTurn="player1",this.time.addEvent({delay:1e3,callback:function(){this.StartBattle()},callbackScope:this})}ContinueBattle(){if(this.nowTurn="player1",this.BattleTexts.HideWinText(),this.DebugMode){let t=this.CreateMonsterObjectDebug.Monster,e=this.CreateMonsterObjectDebug.GetEnemyName();this.CreateMonsterObjectDebug.CreateMonster(e,t);let i={name:this.CreateMonsterObjectDebug.monster_name,texture:this.CreateMonsterObjectDebug.monster_texture,status:this.CreateMonsterObjectDebug.status,type:this.CreateMonsterObjectDebug.monster_type};this.Monster1.ChangeMonster(i)}else this.Monster1.Monster.setVisible(!0);this.RenshoCount=0,this.BattleTexts.SetRenshoText(this.RenshoCount),this.EndBattle(),this.BattleTexts.HideContinueWindow(),this.time.addEvent({delay:1e3,callback:function(){this.StartBattle()},callbackScope:this})}GotoTitle(){this.EndBattle(),this.scene.start("TitleScene")}EndBattle(){this.startBattleFlg=!1,this.Monster1.recoveryHp(),this.Monster2.recoveryHp(),this.TurnCount=0,this.BattleTexts.SetTrunText(this.TurnCount)}CheckRenshoWindow(){this.RenshoCount%this.RenshoKugiri==0&&0!==this.RenshoCount&&(this.BattleWindow.ShowRenshoWindow(this.RenshoCount,this.RenshoKugiri),this.RenshoCountCheck=!0)}};var A=class extends Phaser.Scene{constructor(t){super({key:"MonsterZukanScene"})}create(){let t=this.registry.list.gameTextLang.MonsterZukanScene;this.DebugMode=!1,this.EXPANSION=2,this.cameras.main.setBackgroundColor("#000000"),this.overlapArea=this.add.graphics({fillStyle:{color:0}}),this.rect=new Phaser.Geom.Rectangle(0,20*this.EXPANSION,this.game.config.width,210*this.EXPANSION),this.overlapArea.fillRectShape(this.rect),this.overlapArea.alpha=.85,this.overlapArea.setScrollFactor(0),this.overlapArea.setVisible(!1),this.overlapArea.depth=1e3,this.overlapArea.setInteractive(new Phaser.Geom.Rectangle(0,20*this.EXPANSION,this.game.config.width,200*this.EXPANSION),Phaser.Geom.Rectangle.Contains),this.overlapArea.on("pointerdown",()=>!1,this),this.ModalBeforePos={x:0,y:0},this.ModalMonster="",this.userIconDomImage,null==document.getElementById("userIcon")?(this.userIconDomImage=new Image,this.userIconDomImage.src=this.registry.list.user_icon,this.userIconDomImage.setAttribute("id","userIcon"),this.userIconDomImage.style.position="absolute",this.userIconDomImage.style.top="8px",this.userIconDomImage.style.left="10px",this.userIconDomImage.style.width="10%",this.userIconDomImage.style.borderRadius="40px",document.getElementById("content").appendChild(this.userIconDomImage)):this.userIconDomImage=document.getElementById("userIcon"),this.userIconDomImage.style.display="block",this.userName=this.add.text(25*this.EXPANSION,5*this.EXPANSION,this.registry.list.user_name+t.title,{fontFamily:"font1",color:"#FFFFFF",fontSize:10*this.EXPANSION}),this.btnBackTitle=this.add.text(12*this.EXPANSION,230*this.EXPANSION,this.registry.list.gameTextLang.Common.ui.titleBack,{fontFamily:"font1",color:"#FFFFFF",fontSize:10*this.EXPANSION}),this.btnBackTitle.setInteractive(),this.btnBackTitle.on("pointerdown",()=>{this.userIconDomImage.style.display="none",this.scene.start("TitleScene")},this),this.monsterNumberText=this.add.text(this.sys.game.config.width/2,140*this.EXPANSION,"",{fontFamily:"font1",color:"#FFFFFF",align:"center",fontSize:10*this.EXPANSION}),this.monsterNumberText.setAlign("center"),this.monsterNumberText.setOrigin(.5),this.monsterNumberText.depth=1002,this.monsterNumberText.setVisible(!1),this.monsterGetNumberBaseText=this.add.text(this.sys.game.config.width-10*this.EXPANSION,220*this.EXPANSION,"",{fontFamily:"font1",color:"#FFFFFF",align:"center",fontSize:10*this.EXPANSION}),this.monsterGetNumberBaseText.setAlign("right"),this.monsterGetNumberBaseText.setOrigin(1,.5),this.monsterGetNumberText=this.add.text(this.sys.game.config.width-35*this.EXPANSION,220*this.EXPANSION,"",{fontFamily:"font1",color:"#FFFFFF",align:"center",fontSize:10*this.EXPANSION}),this.monsterGetNumberText.setAlign("right"),this.monsterGetNumberText.setOrigin(1,.5),this.btnCloseModal=this.add.text(this.sys.game.config.width/2,160*this.EXPANSION,t.buttonClose,{fontFamily:"font1",color:"#FFFFFF",align:"center",fontSize:10*this.EXPANSION}),this.btnCloseModal.setAlign("center"),this.btnCloseModal.setOrigin(.5),this.btnCloseModal.depth=1002,this.btnCloseModal.setVisible(!1),this.btnCloseModal.setInteractive(),this.btnCloseModal.on("pointerdown",()=>{this.ModalClose()},this);let e=this.registry.list.monster_map,i=0,n=0,r=0,s=0;for(var o=0;o<e.length;o++)for(var a=0;a<e[o].length;a++)if(0!==e[o][a]){r%6==0&&(n=0,i++);let t=this.add.sprite(25*n*this.EXPANSION+30,23*i*this.EXPANSION+15,"monster_spritesheet",r+1);t.count=r+1,-1==this.registry.list.zukan.indexOf(r+1)?t.setTintFill(3355443):(t.on("pointerdown",()=>{this.ModalMonsterInfo(t)},this),s++),t.setScale(.5),t.setInteractive(),n++,r++}this.monsterGetNumberText.setText(s),this.monsterGetNumberBaseText.setText("/ "+r)}ModalMonsterInfo(t){this.ModalBeforePos={x:t.x,y:t.y},this.ModalMonster=t,this.monsterNumberText.setText("No."+t.count),t.setScale(1.5),t.depth=1001,t.x=this.sys.game.config.width/2,t.y=80*this.EXPANSION,this.monsterNumberText.setVisible(!0),this.overlapArea.setVisible(!0),this.btnCloseModal.setVisible(!0)}ModalClose(){this.ModalMonster.x=this.ModalBeforePos.x,this.ModalMonster.y=this.ModalBeforePos.y,this.ModalMonster.setScale(.5),this.ModalMonster.depth=1,this.monsterNumberText.setVisible(!1),this.overlapArea.setVisible(!1),this.btnCloseModal.setVisible(!1),this.ModalMonster=""}};var E=class extends Phaser.Scene{constructor(t){super({key:"MonsterCheckScene"})}create(){this.EXPANSION=2,this.cameras.main.setBackgroundColor("#000000"),this.ModalCreateMonster=new b({scene:this});let t={name:this.registry.list.monster1.name,status:this.registry.list.monster1.status,texture:this.registry.list.monster1.texture,type:this.registry.list.monster1.type};this.ModalCreateMonster.setCreateMonsterStatus(t),this.ModalCreateMonster.ShowMonster(),this.btnBackTitle=this.add.text(12*this.EXPANSION,210*this.EXPANSION,this.registry.list.gameTextLang.Common.ui.titleBack,{fontFamily:"font1",color:"#FFFFFF",fontSize:10*this.EXPANSION}),this.btnBackTitle.setInteractive(),this.btnBackTitle.on("pointerdown",()=>{this.scene.start("TitleScene")},this)}},I={apiKey:"AIzaSyCPlcaZYj4jOq8txiOZPCdCXN-kQB7NeY4",authDomain:"monster-battle-54e78.firebaseapp.com",projectId:"monster-battle-54e78",storageBucket:"monster-battle-54e78.appspot.com",messagingSenderId:"567211440627",appId:"1:567211440627:web:2ee241560bfb0d2f0d7a86",measurementId:"G-RWSRX1P33B"};a.a.initializeApp(I);const C={type:r.a.AUTO,pixelArt:!0,antialias:!1,parent:"content",fps:{forceSetTimeOut:!0,target:30},render:{pixelArt:!0},multiTexture:!0,width:320,height:520,scene:[s,u,c,S,_,x,A,E]};new r.a.Game(C)}]);
